<div class="container">

<table style="width: 100%;"><tr>
<td>matrix_form,VTableTree-method</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Transform an <code>rtable</code> to a list of matrices which can be used for outputting</h2>

<h3>Description</h3>

<p>Although <code>rtables</code> are represented as a tree data structure when outputting the table to ASCII or HTML
it is useful to map the <code>rtable</code> to an in-between state with the formatted cells in a matrix form.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'VTableTree'
matrix_form(
  obj,
  indent_rownames = FALSE,
  expand_newlines = TRUE,
  indent_size = 2,
  fontspec = NULL,
  col_gap = 3L
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>(<code>ANY</code>)<br> the object for the accessor to access or modify.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indent_rownames</code></td>
<td>
<p>(<code>flag</code>)<br> if <code>TRUE</code>, the column with the row names in the <code>strings</code> matrix of the output
has indented row names (strings pre-fixed).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expand_newlines</code></td>
<td>
<p>(<code>flag</code>)<br> whether the matrix form generated should expand rows whose values contain
newlines into multiple 'physical' rows (as they will appear when rendered into ASCII). Defaults to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indent_size</code></td>
<td>
<p>(<code>numeric(1)</code>)<br> number of spaces to use per indent level. Defaults to 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br> The font that should be used by default when
rendering this <code>MatrixPrintForm</code> object, or NULL (the default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_gap</code></td>
<td>
<p>(<code>numeric(1)</code>)]<br> The number of spaces (in the font specified
by <code>fontspec</code>) that should be placed between columns when the table
is rendered directly to text (e.g., by <code>toString</code> or <code>export_as_txt</code>). Defaults
to <code>3</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The strings in the return object are defined as follows: row labels are those determined by <code>make_row_df</code> and cell
values are determined using <code>get_formatted_cells</code>. (Column labels are calculated using a non-exported internal
function.
</p>


<h3>Value</h3>

<p>A list with the following elements:
</p>

<dl>
<dt><code>strings</code></dt>
<dd>
<p>The content, as it should be printed, of the top-left material, column headers, row labels,
and cell values of <code>tt</code>.</p>
</dd>
<dt><code>spans</code></dt>
<dd>
<p>The column-span information for each print-string in the <code>strings</code> matrix.</p>
</dd>
<dt><code>aligns</code></dt>
<dd>
<p>The text alignment for each print-string in the <code>strings</code> matrix.</p>
</dd>
<dt><code>display</code></dt>
<dd>
<p>Whether each print-string in the strings matrix should be printed.</p>
</dd>
<dt><code>row_info</code></dt>
<dd>
<p>The <code>data.frame</code> generated by <code>make_row_df</code>.</p>
</dd>
</dl>
<p>With an additional <code>nrow_header</code> attribute indicating the number of pseudo "rows" that the column structure defines.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(dplyr)

iris2 &lt;- iris %&gt;%
  group_by(Species) %&gt;%
  mutate(group = as.factor(rep_len(c("a", "b"), length.out = n()))) %&gt;%
  ungroup()

lyt &lt;- basic_table() %&gt;%
  split_cols_by("Species") %&gt;%
  split_cols_by("group") %&gt;%
  analyze(c("Sepal.Length", "Petal.Width"),
    afun = list_wrap_x(summary), format = "xx.xx"
  )

lyt

tbl &lt;- build_table(lyt, iris2)

matrix_form(tbl)

</code></pre>


</div>