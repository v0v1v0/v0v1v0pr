<div class="container">

<table style="width: 100%;"><tr>
<td>o_beta_boot_viz</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Visualization of bootstrapped beta*s</h2>

<h3>Description</h3>

<p>Estimates and visualizes bootstrapped beta*s, i.e., the bias-adjusted treatment effects (or correlations) (following Oster 2019).
</p>


<h3>Usage</h3>

<pre><code class="language-R">o_beta_boot_viz(y, x, con, m = "none", w = NULL, id = "none", time = "none",
delta = 1, R2max, sim, obs, rep, CI, type, norm = TRUE, bin,
col = c("#08306b","#4292c6","#c6dbef"), nL = TRUE, mL = TRUE, useed = NA, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Name of the dependent variable (as string).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Name of the independent treatment variable (i.e., variable of interest; as string).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>con</code></td>
<td>
<p>Name of related control variables. Provided as string in the format: "w + z +...".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>Name of unrelated control variables (m; see Oster 2019; as string; default is m = "none").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>weights (only for weighted estimations). Warning: For weighted panel models R can report different R-square than Stata, leading deviation between R and Stata results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>Name of the individual id variable (e.g. firm or farm; as string). Only applicable for fixed effect panel models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>Name of the time id variable (e.g. year or month; as string). Only applicable for fixed effect panel models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta</code></td>
<td>
<p>delta for which beta*s should be estimated (default is delta = 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R2max</code></td>
<td>
<p>Maximum R-square for which beta*s should be estimated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sim</code></td>
<td>
<p>Number of simulations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs</code></td>
<td>
<p>Number of draws per simulation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rep</code></td>
<td>
<p>Bootstrapping either with (= TRUE) or without (= FALSE) replacement</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CI</code></td>
<td>
<p>Confidence intervals, indicated as vector. Can be and/or 90, 95, 99.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Model type (either <em>lm</em> or <em>plm</em>; as string).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>norm</code></td>
<td>
<p>Option to include a normal distribution in the plot (default is norm = TURE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bin</code></td>
<td>
<p>Number of bins used in the histogram.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Colors used to indicate different confidence interval levels (indicated as vector). Needs to be the same length as the variable CI. The default is a blue color range.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nL</code></td>
<td>
<p>Option to include a red vertical line at 0 (default is nL = TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mL</code></td>
<td>
<p>Option to include a vertical line at mean of all beta*s (default is mL = TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useed</code></td>
<td>
<p>User defined seed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Dataset.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Estimates and visualizes bootstrapped beta*s, i.e., the bias-adjusted treatment effects (or correlations) (following Oster 2019). Bootstrapping can either be done with or without replacement. The function supports linear cross-sectional (see <em>lm</em> objects in R) and fixed effect panel (see <em>plm</em> objects in R) models.
</p>


<h3>Value</h3>

<p>Returns ggplot2 object, which depicts the bootstrapped beta*s.
</p>


<h3>References</h3>

<p>Oster, E. (2019). Unobservable Selection and Coefficient Stability: Theory and Evidence. Journal of Business &amp; Economic Statistics, 37, 187-204.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load data, e.g. the in-build mtcars dataset
data("mtcars")
data_oster &lt;- mtcars

# preview of data
head(data_oster)

# load robomit
require(robomit)

# estimate and visualize bootstrapped beta*s
o_beta_boot_viz(y = "mpg",            # dependent variable
                x = "wt",             # independent treatment variable
                con = "hp + qsec",    # related control variables
                delta = 1,            # delta
                R2max = 0.9,          # maximum R-square
                sim = 100,            # number of simulations
                obs = 30,             # draws per simulation
                rep = FALSE,          # bootstrapping with or without replacement
                CI = c(90,95,99),     # confidence intervals
                type = "lm",          # model type
                norm = TRUE,          # normal distribution
                bin = 200,            # number of bins
                useed = 123,          # seed
                data = data_oster)    # dataset
</code></pre>


</div>