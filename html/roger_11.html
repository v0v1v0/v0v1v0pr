<div class="container">

<table style="width: 100%;"><tr>
<td>curly_braces_style</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Validation of the Positioning of Braces</h2>

<h3>Description</h3>

<p>Check that the opening and closing braces are positioned according to
standard bracing styles rules.
</p>


<h3>Usage</h3>

<pre><code class="language-R">close_brace_style(srcData)
open_brace_style(srcData, style = c("R", "1TBS"))
open_brace_unique_style(srcData)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>srcData</code></td>
<td>
<p>a list as returned by <code>getSourceData</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>style</code></td>
<td>
<p>character string of a supported bracing style.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Good coding practices dictate to use one bracing style uniformly in a
script.
</p>
<p>The "R" bracing style has both opening and closing braces on their own
lines, left aligned with their corresponding statement:
</p>
<pre>
    if (x &gt; 0)
    {
        ...
    }
  </pre>
<p>The "1TBS" bracing style, also known at "K&amp;R" style, has the opening
brace immediately follow its corresponding statement, separated by a
space. The closing brace lies on its own line, left aligned with the
statement:
</p>
<pre>
    if (x &gt; 0) {
        ...
    }
  </pre>
<p><code>open_brace_style</code> validates that the coding style in argument
is used for opening braces in a script file.
<code>open_brace_unique_style</code> validates that only one style is used
throughout the script.
</p>
<p>These functions use <code>getParseText</code> and, therefore, require
that the <code>"keep.source"</code> option is <code>TRUE</code>.
</p>


<h3>Value</h3>

<p>Boolean. When <code>FALSE</code>, a message indicates the nature of
the error and the faulty lines, and the returned value has the
following attributes:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>lines</code></td>
<td>
<p>faulty line numbers;</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>message</code></td>
<td>
<p>text of the error message.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

## Correct positioning of braces in R bracing style
fil &lt;- tempfile(fileext = ".R")
cat("x &lt;- 2",
    "if (x &lt;= 2)",
    "{",
    "    y &lt;- 3",
    "    x + y",
    "}",
    file = fil, sep = "\n")
srcData &lt;- getSourceData(fil)
open_brace_style(srcData, style = "R")
close_brace_style(srcData)

## Above code in invalid in 1TBS bracing style
open_brace_style(srcData, style = "1TBS")

## Incorrect positioning of the opening brace and
## misalignment of the closing brace
fil &lt;- tempfile(fileext = ".R")
cat("f &lt;- function(x) {",
    "    x^2",
    "  }",
    file = fil, sep = "\n")
srcData &lt;- getSourceData(fil)
open_brace_style(srcData, style = "R")
close_brace_style(srcData)

## Incorrect simultaneous use of two bracing styles
fil &lt;- tempfile(fileext = ".R")
cat("x &lt;- 2",
    "if (x &lt;= 2)",
    "{",
    "    y &lt;- 3",
    "    x + y",
    "}",
    "for (i in 1:5) {",
    "    x + i",
    "}",
    file = fil, sep = "\n")
open_brace_unique_style(getSourceData(fil))
</code></pre>


</div>