<div class="container">

<table style="width: 100%;"><tr>
<td>.wrap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Deal with class for saving to and loading from Cache or Disk</h2>

<h3>Description</h3>

<p>This generic and some methods will do whatever is required to prepare an object for
saving to disk (or RAM) via e.g., <code>saveRDS</code>. Some objects (e.g., <code>terra</code>'s <code style="white-space: pre;">⁠Spat*⁠</code>)
cannot be saved without first wrapping them. Also, file-backed objects are similar.
</p>


<h3>Usage</h3>

<pre><code class="language-R">.wrap(
  obj,
  cachePath,
  preDigest,
  drv = getDrv(getOption("reproducible.drv", NULL)),
  conn = getOption("reproducible.conn", NULL),
  verbose = getOption("reproducible.verbose"),
  outputObjects = NULL,
  ...
)

## S3 method for class 'list'
.wrap(
  obj,
  cachePath,
  preDigest,
  drv = getDrv(getOption("reproducible.drv", NULL)),
  conn = getOption("reproducible.conn", NULL),
  verbose = getOption("reproducible.verbose"),
  outputObjects = NULL,
  ...
)

## S3 method for class 'environment'
.wrap(
  obj,
  cachePath,
  preDigest,
  drv = getDrv(getOption("reproducible.drv", NULL)),
  conn = getOption("reproducible.conn", NULL),
  verbose = getOption("reproducible.verbose"),
  outputObjects = NULL,
  ...
)

## Default S3 method:
.wrap(
  obj,
  cachePath,
  preDigest,
  drv = getDrv(getOption("reproducible.drv", NULL)),
  conn = getOption("reproducible.conn", NULL),
  verbose = getOption("reproducible.verbose"),
  ...
)

## Default S3 method:
.unwrap(
  obj,
  cachePath,
  cacheId,
  drv = getDrv(getOption("reproducible.drv", NULL)),
  conn = getOption("reproducible.conn", NULL),
  ...
)

.unwrap(
  obj,
  cachePath,
  cacheId,
  drv = getDrv(getOption("reproducible.drv", NULL)),
  conn = getOption("reproducible.conn", NULL),
  ...
)

## S3 method for class 'environment'
.unwrap(
  obj,
  cachePath,
  cacheId,
  drv = getDrv(getOption("reproducible.drv", NULL)),
  conn = getOption("reproducible.conn", NULL),
  ...
)

## S3 method for class 'list'
.unwrap(
  obj,
  cachePath,
  cacheId,
  drv = getDrv(getOption("reproducible.drv", NULL)),
  conn = getOption("reproducible.conn", NULL),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>Any arbitrary R object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cachePath</code></td>
<td>
<p>A repository used for storing cached objects.
This is optional if <code>Cache</code> is used inside a SpaDES module.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preDigest</code></td>
<td>
<p>The list of <code>preDigest</code> that comes from <code>CacheDigest</code> of an object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drv</code></td>
<td>
<p>if using a database backend, drv must be an object that
inherits from DBIDriver e.g., from package RSQLite, e.g., SQLite</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conn</code></td>
<td>
<p>an optional DBIConnection object, as returned by dbConnect().</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Numeric, -1 silent (where possible), 0 being very quiet,
1 showing more messaging, 2 being more messaging, etc.
Default is 1. Above 3 will output much more information about the internals of
Caching, which may help diagnose Caching challenges. Can set globally with an
option, e.g., <code style="white-space: pre;">⁠options('reproducible.verbose' = 0) to reduce to minimal⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputObjects</code></td>
<td>
<p>Optional character vector indicating which objects to
return. This is only relevant for list, environment (or similar) objects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to methods; default does not use anything in <code>...</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cacheId</code></td>
<td>
<p>Used strictly for messaging. This should be the cacheId of the object being recovered.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns an object that can be saved to disk e.g., via <code>saveRDS</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># For SpatExtent
if (requireNamespace("terra")) {
  ex &lt;- terra::ext(c(0, 2, 0, 3))
  exWrapped &lt;- .wrap(ex)
  ex1 &lt;- .unwrap(exWrapped)
}

</code></pre>


</div>