<div class="container">

<table style="width: 100%;"><tr>
<td>BackupQueue</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>An R6 Class for managing backups (abstract base class)</h2>

<h3>Description</h3>

<p><code>BackupQueue</code>is an abstract class not intended for direct usage, please refer to
BackupQueueIndex, BackupQueueDateTime, BackupQueueDate instead.
</p>


<h3>Details</h3>

<p>This class is part of the R6 API of <strong>rotor</strong> which is
intended for developers that want to extend this package. For normal usage,
the simpler functional API is recommended (see <code>rotate()</code>).
</p>


<h3>Super class</h3>

<p><code>rotor::DirectoryQueue</code> -&gt; <code>BackupQueue</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>dir</code></dt>
<dd>
<p><code>character</code> scalar. Directory in which to place the backups.</p>
</dd>
<dt><code>n</code></dt>
<dd>
<p><code>integer</code> scalar. The number of backups that exist for <code>BackupQueue$origin</code></p>
</dd>
</dl>
</div>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>dir</code></dt>
<dd>
<p><code>character</code> scalar. Directory in which to place the backups.</p>
</dd>
<dt><code>n</code></dt>
<dd>
<p><code>integer</code> scalar. The number of backups that exist for <code>BackupQueue$origin</code></p>
</dd>
<dt><code>file</code></dt>
<dd>
<p><code>character</code> scalar. The file to backup/rotate.</p>
</dd>
<dt><code>compression</code></dt>
<dd>
<p>(Optional) compression to use <code>compression</code> argument of <code>rotate()</code>.</p>
</dd>
<dt><code>max_backups</code></dt>
<dd>
<p>Maximum number/size/age of backups. See <code>max_backups</code>
argument of <code>rotate()</code></p>
</dd>
<dt><code>has_backups</code></dt>
<dd>
<p>Returns <code>TRUE</code> if at least one backup of <code>BackupQueue$origin</code>
exists
All backups of self$origin</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-BackupQueue-new"><code>BackupQueue$new()</code></a>
</p>
</li>
<li> <p><a href="#method-BackupQueue-prune"><code>BackupQueue$prune()</code></a>
</p>
</li>
<li> <p><a href="#method-BackupQueue-prune_identical"><code>BackupQueue$prune_identical()</code></a>
</p>
</li>
<li> <p><a href="#method-BackupQueue-print"><code>BackupQueue$print()</code></a>
</p>
</li>
<li> <p><a href="#method-BackupQueue-push_backup"><code>BackupQueue$push_backup()</code></a>
</p>
</li>
<li> <p><a href="#method-BackupQueue-set_origin"><code>BackupQueue$set_origin()</code></a>
</p>
</li>
<li> <p><a href="#method-BackupQueue-set_compression"><code>BackupQueue$set_compression()</code></a>
</p>
</li>
<li> <p><a href="#method-BackupQueue-set_max_backups"><code>BackupQueue$set_max_backups()</code></a>
</p>
</li>
<li> <p><a href="#method-BackupQueue-set_file"><code>BackupQueue$set_file()</code></a>
</p>
</li>
<li> <p><a href="#method-BackupQueue-set_backup_dir"><code>BackupQueue$set_backup_dir()</code></a>
</p>
</li>
</ul>
<details open><summary>Inherited methods</summary><ul>
<li><span class="pkg-link" data-pkg="rotor" data-topic="DirectoryQueue" data-id="push"><a href="../../rotor/html/DirectoryQueue.html#method-DirectoryQueue-push"><code>rotor::DirectoryQueue$push()</code></a></span></li>
<li><span class="pkg-link" data-pkg="rotor" data-topic="DirectoryQueue" data-id="set_dir"><a href="../../rotor/html/DirectoryQueue.html#method-DirectoryQueue-set_dir"><code>rotor::DirectoryQueue$set_dir()</code></a></span></li>
</ul></details><hr>
<a id="method-BackupQueue-new"></a>



<h4>Method <code>new()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>BackupQueue$new(
  origin,
  dir = dirname(origin),
  max_backups = Inf,
  compression = FALSE,
  backup_dir = NULL
)</pre></div>


<hr>
<a id="method-BackupQueue-prune"></a>



<h4>Method <code>prune()</code>
</h4>

<p>Delete all backups except <code>max_backups</code>. See <code>prune_backups()</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>BackupQueue$prune(max_backups = self$max_backups)</pre></div>


<hr>
<a id="method-BackupQueue-prune_identical"></a>



<h4>Method <code>prune_identical()</code>
</h4>

<p>Delete all identical backups. Uses <code>tools::md5sum()</code> to
compare the files.
Set the file to be backed up
</p>


<h5>Usage</h5>

<div class="r"><pre>BackupQueue$prune_identical()</pre></div>


<hr>
<a id="method-BackupQueue-print"></a>



<h4>Method <code>print()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>BackupQueue$print()</pre></div>


<hr>
<a id="method-BackupQueue-push_backup"></a>



<h4>Method <code>push_backup()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>BackupQueue$push_backup(...)</pre></div>


<hr>
<a id="method-BackupQueue-set_origin"></a>



<h4>Method <code>set_origin()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>BackupQueue$set_origin(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt>
<dd>
<p>a <code>character</code> scalar. Path to a file
Set the file to be backed up</p>
</dd>
</dl>
</div>


<hr>
<a id="method-BackupQueue-set_compression"></a>



<h4>Method <code>set_compression()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>BackupQueue$set_compression(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt>
<dd>
<p>a <code>character</code> scalar. Path to a file</p>
</dd>
</dl>
</div>


<hr>
<a id="method-BackupQueue-set_max_backups"></a>



<h4>Method <code>set_max_backups()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>BackupQueue$set_max_backups(x)</pre></div>


<hr>
<a id="method-BackupQueue-set_file"></a>



<h4>Method <code>set_file()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>BackupQueue$set_file(x)</pre></div>


<hr>
<a id="method-BackupQueue-set_backup_dir"></a>



<h4>Method <code>set_backup_dir()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>BackupQueue$set_backup_dir(x)</pre></div>




<h3>See Also</h3>

<p>Other R6 Classes: 
<code>BackupQueueDateTime</code>,
<code>BackupQueueDate</code>,
<code>BackupQueueIndex</code>,
<code>Cache</code>,
<code>DirectoryQueue</code>
</p>


</div>