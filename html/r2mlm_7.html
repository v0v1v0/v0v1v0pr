<div class="container">

<table style="width: 100%;"><tr>
<td>r2mlm_manual</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute R-squared values for multilevel models, manually inputting parameter
estimates.</h2>

<h3>Description</h3>

<p><code>r2mlm_manual</code> takes as input raw data and parameter estimates from a
multilevel model, and outputs all relevant R-squared measures from the Rights
and Sterba (2019) framework of R-squared measures for multilevel models,
which can be visualized together as a set using the outputted bar chart
decompositions of outcome variance. That is, when predictors are
cluster-mean-centered, all R-squared measures from Rights &amp; Sterba (2019)
Table 1 and decompositions from Rights &amp; Sterba (2019) Figure 1 are
outputted. When predictors are not cluster-mean-centered, the total
R-squareds from Rights &amp; Sterba (2019) Table 5, as well as bar chart
decompositions are outputted. Any number of level-1 and/or level-2 predictors
is supported. Any of the level-1 predictors can have random slopes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">r2mlm_manual(
  data,
  within_covs,
  between_covs,
  random_covs,
  gamma_w,
  gamma_b,
  Tau,
  sigma2,
  has_intercept = TRUE,
  clustermeancentered = TRUE,
  bargraph = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Dataset with rows denoting observations and columns denoting
variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>within_covs</code></td>
<td>
<p>List of numbers corresponding to the columns in the
dataset of the level-1 predictors used in the MLM (if none used, set to
NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>between_covs</code></td>
<td>
<p>List of numbers corresponding to the columns in the
dataset of the level-2 predictors used in the MLM (if none used, set to
NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random_covs</code></td>
<td>
<p>List of numbers corresponding to the columns in the
dataset of the level-1 predictors that have random slopes in the MLM (if no
random slopes, set to NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma_w</code></td>
<td>
<p>Vector of fixed slope estimates for all level-1 predictors, to
be entered in the order of the predictors listed by within_covs (if none,
set to NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma_b</code></td>
<td>
<p>Vector of fixed intercept estimate (if applicable; see
has_intercept below) and fixed slope estimates for all level-2 predictors,
to be entered intercept first (if applicable) followed by level-2 slopes in
the order listed by between_covs (if none, set to NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tau</code></td>
<td>
<p>Random effect covariance matrix; note that the first row/column
denotes the intercept variance and covariances (if intercept is fixed, set
all to 0) and each subsequent row/column denotes a given random slope’s
variance and covariances (to be entered in the order listed by
random_covs).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma2</code></td>
<td>
<p>Level-1 residual variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>has_intercept</code></td>
<td>
<p>If set to TRUE, the first element of gamma_b is assumed
to be the fixed intercept estimate; if set to FALSE, the first element of
gamma_b is assumed to be the first fixed level- 2 predictor slope; set to
TRUE by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clustermeancentered</code></td>
<td>
<p>If set to TRUE, all level-1 predictors (indicated
by the within_covs list) are assumed to be cluster-mean-centered and
function will output all decompositions; if set to FALSE, function will
output only total decompositions (see Description above); set to TRUE by
default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bargraph</code></td>
<td>
<p>Optional bar graph output, default is TRUE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If the input is valid, then the output will be a list and associated
graphical representation of R-squared decompositions. If the input is not
valid, it will return an error.
</p>


<h3>See Also</h3>

<p>Rights, J. D., &amp; Sterba, S. K. (2019). Quantifying explained
variance in multilevel models: An integrative framework for defining
R-squared measures. Psychological Methods, 24(3), 309–338.
&lt;doi:10.1080/00273171.2019.1660605&gt;
</p>
<p>Other r2mlm single model functions: 
<code>r2mlm3_manual()</code>,
<code>r2mlm_ci()</code>,
<code>r2mlm_long_manual()</code>,
<code>r2mlm()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# The bobyqa optimizer is required for this model to converge in lme4

model &lt;- lmer(satisfaction ~ 1 + salary_c + control_c + salary_m + control_m
+ s_t_ratio + (1 + salary_c + control_c | schoolID), data = teachsat, REML =
TRUE, control = lmerControl(optimizer = "bobyqa"))

r2mlm_manual(data = teachsat,
             within_covs = c(5, 4),
             between_covs = c(7, 6, 8),
             random_covs =  c(5, 4),
             gamma_w = c(0.074485, 0.310800),
             gamma_b = c(4.352652, 0.036759, 0.027532, -0.035250),
             Tau = matrix(c(0.387, 0.0000646,0.00625,
                            0.0000646, 0.00277, -0.000333,
                            0.00625, -0.000333, 0.0285), 3, 3),
             sigma2 = 0.55031,
             has_intercept = TRUE,
             clustermeancentered = TRUE)

</code></pre>


</div>