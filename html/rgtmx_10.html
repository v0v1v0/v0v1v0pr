<div class="container">

<table style="width: 100%;"><tr>
<td>start_test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Start a GTmetrix test (and get the result)</h2>

<h3>Description</h3>

<p><code>start_test</code> starts a GTmetrix test and returns either
the test itself (incl. meta data) or the associated report.
</p>


<h3>Usage</h3>

<pre><code class="language-R">start_test(
  url,
  api_key,
  wait_for_completion = TRUE,
  location = 1,
  browser = 3,
  report = "lighthouse",
  retention = 1,
  httpauth_username = NULL,
  httpauth_password = NULL,
  adblock = 0,
  cookies = NULL,
  video = 0,
  stop_onload = 0,
  throttle = NULL,
  allow_url = NULL,
  block_url = NULL,
  dns = NULL,
  simulate_device = NULL,
  user_agent = NULL,
  browser_width = NULL,
  browser_height = NULL,
  browser_dppx = NULL,
  browser_rotate = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>url</code></td>
<td>
<p>The URL of the page to test. (string)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_key</code></td>
<td>
<p>An active GTmetrix API key (string)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wait_for_completion</code></td>
<td>
<p>Whether the function should wait for the
completion of the test. If TRUE (default), the report associated with
the test ID will be requested in roughly 3 second intervals and returned,
when successful. If FALSE, the meta data of the test
will be returned. (TRUE, FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>location</code></td>
<td>
<p>Location ID. Default = "1"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>browser</code></td>
<td>
<p>Location ID. Default = "3"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>report</code></td>
<td>
<p>A string for the type of report. "lighthouse" (default)
for 'Lighthouse', "legacy" for 'PageSpeed'/'YSlow', "lighthouse,legacy" for both,
"none" for a metrics-only report.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>retention</code></td>
<td>
<p>Choose how long (in months) the report will be retained
and accessible. Valid values: 1 (default), 6, 12, 24.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>httpauth_username</code></td>
<td>
<p>Username for the test page HTTP access
authentication. (string)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>httpauth_password</code></td>
<td>
<p>Password for the test page HTTP access
authentication. (string)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adblock</code></td>
<td>
<p>Enable AdBlock. 0 (default) = no, 1 = yes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cookies</code></td>
<td>
<p>Specify cookies to supply with test page requests.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>video</code></td>
<td>
<p>Enable generation of video. 0 (default) = no, 1 = yes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stop_onload</code></td>
<td>
<p>Stop the test at 'window.onload' instead of after the page
has fully loaded (i.e. 2 seconds of network inactivity).
0 (default) = no, 1 = yes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>throttle</code></td>
<td>
<p>Throttle the connection. Speed measured in Kbps, latency
in ms. Format: "up/down/latency"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_url</code></td>
<td>
<p>Only load resources that match one of the URLs on this
list. This uses the same syntax as the web front end.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>block_url</code></td>
<td>
<p>Prevent loading of resources that match one of the URLs
on this list. This occurs after the Only Allow URLs are applied. This uses
the same syntax as the web front end.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dns</code></td>
<td>
<p>Use a custom DNS host and IP to run the test with.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simulate_device</code></td>
<td>
<p>Simulate the display of your site on a variety of
devices using a pre-selected combination of Screen Resolutions, User
Agents, and Device Pixel Ratios. (Expected: Device ID)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>user_agent</code></td>
<td>
<p>Use a custom User Agent string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>browser_width</code></td>
<td>
<p>Set the width of the viewport for the analysis.
Also requires browser_height to be set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>browser_height</code></td>
<td>
<p>Set the height of the viewport for the analysis.
Also requires browser_width to be set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>browser_dppx</code></td>
<td>
<p>Set the device pixel ratio for the analysis. Decimals
are allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>browser_rotate</code></td>
<td>
<p>Swaps the width and height of the viewport for the
analysis. <code>simulate_device</code> overrides this parameter with preset values.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data.frame object that contains either the test meta data or the
GTmetrix report (if it's already completed).
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: output_table &lt;- start_test(
                           url = "google.com",
                           api_key = "API_KEY",
                           wait_for_completion = TRUE
                         )
## End(Not run)
</code></pre>


</div>