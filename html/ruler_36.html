<div class="container">

<table style="width: 100%;"><tr>
<td>rules</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a list of rules</h2>

<h3>Description</h3>

<p><code>rules()</code> is a function designed to create input for <code>.funs</code> argument of
scoped <code>dplyr</code> "mutating" verbs (such as
summarise_all() and
transmute_all()). It converts bare expressions
with <code>.</code> as input into formulas and repairs names of the output.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rules(..., .prefix = "._.")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Bare expression(s) with <code>.</code> as input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.prefix</code></td>
<td>
<p>Prefix to be added to function names.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>rules()</code> repairs names by the following algorithm:
</p>

<ul>
<li>
<p> Absent names are replaced with the 'rule__\ind\' where \ind\ is the
index of function position in the <code>...</code> .
</p>
</li>
<li> <p><code>.prefix</code> is added at the beginning of all names. The default is <code>._.</code> . It
is picked for its symbolism (it is the Morse code of letter 'R') and rare
occurrence in names. In those rare cases it can be manually changed but
this will not be tracked further. <strong>Note</strong> that it is a good idea for
<code>.prefix</code> to be syntactic, as <code>dplyr</code> will force tibble
names to be syntactic. To check if string is "good", use it as input to
<code>make.names()</code>: if output equals that string than it is a "good" choice.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R"># `rules()` accepts bare expression calls with `.` as input, which is not
# possible with advised `list()` approach of `dplyr`
dplyr::summarise_all(mtcars[, 1:2], rules(sd, "sd", sd(.), ~ sd(.)))

dplyr::summarise_all(mtcars[, 1:2], rules(sd, .prefix = "a_a_"))

# Use `...` in `summarise_all()` to supply extra arguments
dplyr::summarise_all(data.frame(x = c(1:2, NA)), rules(sd), na.rm = TRUE)
</code></pre>


</div>