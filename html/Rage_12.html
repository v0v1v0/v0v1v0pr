<div class="container">

<table style="width: 100%;"><tr>
<td>life_expect_mean</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate mean and variance of life expectancy from a matrix population model</h2>

<h3>Description</h3>

<p>Applies Markov chain approaches to obtain mean and variance of life
expectancy from a matrix population model (MPM).
</p>


<h3>Usage</h3>

<pre><code class="language-R">life_expect_mean(matU, mixdist = NULL, start = 1L)

life_expect_var(matU, mixdist = NULL, start = 1L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>matU</code></td>
<td>
<p>The survival component of a MPM (i.e., a square projection matrix
reflecting survival-related transitions; e.g., progression, stasis, and
retrogression). Optionally with named rows and columns indicating the
corresponding life stage names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mixdist</code></td>
<td>
<p>A vector with a length equal to the dimension of the MPM
defining how the function should average the output over the. possible
starting states. See section <em>Starting from multiple stages</em>. If this
argument is used, 'start' must be set to 'NULL'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>The index (or stage name) of the first stage of the life cycle
which the user considers to be the beginning of life. Defaults to <code>1</code>.
If set to 'NULL' the function returns mean life expectancy from each of the
stages of the MPM.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns life expectancy in the units of the projection interval
('ProjectionInterval') of the MPM. If <code>matU</code> is singular (often
indicating infinite life expectancy), returns <code>NA</code>.
</p>


<h3>Starting from multiple stages</h3>

<p>Sometimes, it is necessary to calculate life expectancy considering multiple
starting stage classes instead of just a single stage from which all
individuals begin their lives. This scenario arises when there are several
possible stages at which an individual can start a particular life event,
such as reproductive maturity.
To handle such cases, the function provides support for multiple starting
stage classes. When calculating life expectancy in this context, the outputs
should be averaged using weights determined by the distribution of
individuals across these stages. To achieve this, the 'start' argument should
be set to 'NULL', indicating that the starting stage is not specified, and
the 'mixdist' argument should be utilized.
In the context described, The 'mixdist' argument expects a vector that
represents the proportion of individuals with their first reproduction in
each stage of the MPM. By providing this distribution, the function
calculates the mean lifespan by appropriately weighting the life expectancies
corresponding to each starting stage.
For a practical example that demonstrates this usage, please refer to the
code example below.
</p>


<h3>Author(s)</h3>

<p>Christine M. Hern√°ndez &lt;cmh352@cornell.edu&gt;
</p>
<p>Owen R. Jones &lt;jones@biology.sdu.dk&gt;
</p>


<h3>References</h3>

<p>Caswell, H. 2001. Matrix Population Models: Construction,
Analysis, and Interpretation. Sinauer Associates; 2nd edition. ISBN:
978-0878930968
</p>


<h3>See Also</h3>

<p>Other life history traits: 
<code>entropy_d()</code>,
<code>entropy_k()</code>,
<code>gen_time()</code>,
<code>longevity()</code>,
<code>net_repro_rate()</code>,
<code>repro_maturity</code>,
<code>shape_rep()</code>,
<code>shape_surv()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(mpm1)

# mean life expectancy starting from stage class 2
life_expect_mean(mpm1$matU, start = 2)

# equivalent using named life stages
life_expect_mean(mpm1$matU, start = "small")

# mean life expectancies starting from each of the stages
life_expect_mean(mpm1$matU, start = NULL)

# mean life expectancy starting from first reproduction, where this varies
# across individuals
rep_stages &lt;- repro_stages(mpm1$matF)
(n1 &lt;- mature_distrib(mpm1$matU, start = 2, repro_stages = rep_stages))
life_expect_mean(mpm1$matU, mixdist = n1, start = NULL)

# variance of life expectancy from stage class 1
life_expect_var(mpm1$matU, start = 1)

# variance of life expectancy from stage class 1
life_expect_var(mpm1$matU, start = "seed")

# variance of life expectancy from each stage class
life_expect_var(mpm1$matU, start = NULL)

# variance of life expectancies with a set mixing distribution
life_expect_var(mpm1$matU, mixdist = c(0.0, 0.1, 0.3, 0.1, 0.5), start = NULL)

# setting mixdist to ignore all but one stage should produce the same result
# as setting the start argument to that stage
life_expect_mean(mpm1$matU, start = 3)
life_expect_mean(mpm1$matU, mixdist = c(0, 0, 1, 0, 0), start = NULL)

</code></pre>


</div>