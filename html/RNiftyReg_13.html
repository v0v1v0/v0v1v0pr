<div class="container">

<table style="width: 100%;"><tr>
<td>decomposeAffine</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Decompose an affine matrix into its constituent transformations</h2>

<h3>Description</h3>

<p>An affine matrix is composed of translation, scale, skew and rotation
transformations. This function extracts these components, after first
inverting the matrix so that it transforms from source to target space.
</p>


<h3>Usage</h3>

<pre><code class="language-R">decomposeAffine(affine)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>affine</code></td>
<td>
<p>A 4x4 matrix representing an affine transformation matrix.</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A list with components:
</p>

<dl>
<dt>scaleMatrix</dt>
<dd>
<p>A 3x3 matrix representing only the scale operation
embodied in the full affine transformation.</p>
</dd>
<dt>skewMatrix</dt>
<dd>
<p>A 3x3 matrix representing only the skew operation
embodied in the full affine transformation.</p>
</dd>
<dt>rotationMatrix</dt>
<dd>
<p>A 3x3 matrix representing only the rotation
operation embodied in the full affine transformation.</p>
</dd>
<dt>translation</dt>
<dd>
<p>A length-3 named numeric vector representing the
translations (in <code>pixunits</code> units) in each of the X, Y and
Z directions.</p>
</dd>
<dt>scales</dt>
<dd>
<p>A length-3 named numeric vector representing the scale
factors in each of the X, Y and Z directions. Scale factors of 1
represent no effect.</p>
</dd>
<dt>skews</dt>
<dd>
<p>A length-3 named numeric vector representing the skews in
each of the XY, XZ and YZ planes.</p>
</dd>
<dt>angles</dt>
<dd>
<p>A length-3 named numeric vector representing the rotation
angles (in radians) about each of the X, Y and Z directions, i.e.,
roll, pitch and yaw.</p>
</dd>
</dl>
<h3>Note</h3>

<p>The decomposition is not perfect, and there is one particular
degenerate case when the pitch angle is very close to <code>pi/2</code> radians,
known as “Gimbal lock”. In this case the yaw angle is arbitrarily set to
zero.
</p>
<p>Affine matrices embodying rigid-body transformations include only 6
degrees of freedom, rather than the full 12, so skews will always be zero
and scales will always be unity (to within rounding error). Likewise,
affine matrices derived from 2D registration will not include components
relating to the Z direction.
</p>


<h3>Author(s)</h3>

<p>Jon Clayden &lt;code@clayden.org&gt;
</p>


<h3>See Also</h3>

<p><code>buildAffine</code>, <code>isAffine</code>
</p>


</div>