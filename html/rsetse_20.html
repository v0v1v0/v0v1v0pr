<div class="container">

<table style="width: 100%;"><tr>
<td>prepare_continuous_force</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare continuous features for embedding</h2>

<h3>Description</h3>

<p>This function prepares a continuous network for SETSe projection. The function works for networks with a single feature or
high-dimensional features.
The network takes in an igraph object and produces an undirected igraph object that can be used with the embedding functions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prepare_continuous_force(
  g,
  node_names,
  k = NULL,
  force_var,
  sum_to_one = TRUE,
  distance = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>g</code></td>
<td>
<p>an igraph object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>node_names</code></td>
<td>
<p>a character string. A vertex attribute which contains the node names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>The spring constant. This value is either a numeric value giving the spring constant for all edges or NULL. If NULL is used 
the k value will not be added to the network. This is useful k is made through some other process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force_var</code></td>
<td>
<p>A character vector. This is the vector of node attributes to be used as the force variables.
All the attributes must be a numeric or integer value, and cannot have NA's. On a single variable embedding this is usually "force"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sum_to_one</code></td>
<td>
<p>Logical. whether the total positive force sums to 1, if FALSE the total is the sum of the positive cases</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance</code></td>
<td>
<p>a positive numeric value. The default is 1</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function subtracts the mean from all the values so that the system is balanced. If sum_to_one is true then everything is divided by
the absolute sum over two 
</p>
<p>The function adds the node attribute 'force' and the edge attribute 'k' unless k=NULL. The purpose of the function is to easily be able to 
project continuous networks using SETSe. 
</p>
<p>The function creates several variables
</p>

<ul>
<li>
<p> force: a vertex attribute representing the force produced by each node. The sum of this variable will be 0
</p>
</li>
<li>
<p> k: The spring constant representing the stiffness of the spring. 
</p>
</li>
<li>
<p> edge_name: the name of the edges. it takes the form "from_to" where "from" is the origin node and "to" is the destination node using the 
as_data_frame function from igraph
</p>
</li>
</ul>
<h3>Value</h3>

<p>A network with the correct edge and node attributes for the embeddings process.
</p>


<h3>See Also</h3>

<p>setse_auto_hd
</p>
<p>Other prepare_setse: 
<code>prepare_categorical_force()</code>,
<code>prepare_edges()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">embeddings &lt;- biconnected_network %&gt;%
#prepare the network for a binary embedding
#k is already present in the data so is left null in the preparation function
prepare_edges(k = NULL, distance = 1) %&gt;%
prepare_continuous_force(., node_names = "name", force_var = "force") %&gt;%
#embed the network using auto_setse
#in the biconnected_network dataset the edge weights are used directly as k values
setse_auto(k = "weight")
</code></pre>


</div>