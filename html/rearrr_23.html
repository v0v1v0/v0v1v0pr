<div class="container">

<table style="width: 100%;"><tr>
<td>furthest_from</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Orders values by longest distance to an origin</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>
<p>Values are ordered by how far they are from the origin.
</p>
<p>In 1d (when
<code>`cols`</code> has length <code>1</code>), the origin can be thought of as a target value.
In <em>n</em> dimensions, the origin can be thought of as coordinates.
</p>
<p>The origin can be supplied as coordinates or as a function that returns coordinates. The
latter can be useful when supplying a grouped <code>data.frame</code> and ordering the rows by
their distance to the centroid of each group.
</p>
<p>The <code>*_vec()</code> version takes and returns a <code>vector</code>.
</p>
<p><strong>Example</strong>:
</p>
<p>The column values:
</p>
<p><code>c(1, 2, 3, 4, 5)</code>
</p>
<p>and <code>origin = 2</code>
</p>
<p>are <strong>ordered as</strong>:
</p>
<p><code>c(5, 4, 1, 3,</code> <strong><code>2</code></strong><code>)</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">furthest_from(
  data,
  cols = NULL,
  origin = NULL,
  origin_fn = NULL,
  shuffle_ties = FALSE,
  origin_col_name = ".origin",
  distance_col_name = ".distance",
  overwrite = FALSE
)

furthest_from_vec(data, origin = NULL, origin_fn = NULL, shuffle_ties = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>data.frame</code> or <code>vector</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>Column(s) to create sorting factor by.
When <code>`NULL`</code> and <code>`data`</code> is a <code>data.frame</code>,
the row numbers are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>origin</code></td>
<td>
<p>Coordinates of the origin to calculate distances to.
A scalar to use in all dimensions
or a <code>vector</code> with one scalar per dimension.
</p>
<p><strong>N.B.</strong> Ignored when <code>`origin_fn`</code> is not <code>`NULL`</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>origin_fn</code></td>
<td>
<p>Function for finding the origin coordinates.
</p>
<p><strong>Input</strong>: Each column will be passed as a <code>vector</code> in the order of <code>`cols`</code>.
</p>
<p><strong>Output</strong>: A <code>vector</code> with one scalar per dimension.
</p>
<p>Can be created with <code>create_origin_fn()</code> if you want to apply
the same function to each dimension.
</p>
<p>E.g. <code>`create_origin_fn(median)`</code> would find the median of each column.
</p>
<p><strong>Built-in functions</strong> are <code>centroid()</code>,
<code>most_centered()</code>,
and <code>midrange()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shuffle_ties</code></td>
<td>
<p>Whether to shuffle elements with the same distance to the origin. (Logical)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>origin_col_name</code></td>
<td>
<p>Name of new column with the origin coordinates. If <code>`NULL`</code>, no column is added.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance_col_name</code></td>
<td>
<p>Name of new column with the distances to the origin. If <code>`NULL`</code>, no column is added.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Whether to allow overwriting of existing columns. (Logical)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The sorted <code>data.frame</code> (<code>tibble</code>) / <code>vector</code>.
</p>


<h3>Author(s)</h3>

<p>Ludvig Renbo Olsen, <a href="mailto:r-pkgs@ludvigolsen.dk">r-pkgs@ludvigolsen.dk</a>
</p>


<h3>See Also</h3>

<p>Other rearrange functions: 
<code>center_max()</code>,
<code>center_min()</code>,
<code>closest_to()</code>,
<code>pair_extremes()</code>,
<code>position_max()</code>,
<code>position_min()</code>,
<code>rev_windows()</code>,
<code>roll_elements()</code>,
<code>shuffle_hierarchy()</code>,
<code>triplet_extremes()</code>
</p>
<p>Other distance functions: 
<code>closest_to()</code>,
<code>dim_values()</code>,
<code>distance()</code>,
<code>expand_distances()</code>,
<code>expand_distances_each()</code>,
<code>swirl_2d()</code>,
<code>swirl_3d()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Attach packages
library(rearrr)
library(dplyr)

# Set seed
set.seed(1)

# Create a data frame
df &lt;- data.frame(
  "index" = 1:10,
  "A" = sample(1:10),
  "B" = runif(10),
  "G" = c(
    1, 1, 1, 2, 2,
    2, 3, 3, 3, 3
  ),
  stringsAsFactors = FALSE
)

# Furthest from 3 in a vector
furthest_from_vec(1:10, origin = 3)

# Furthest from the third row (index of data.frame)
furthest_from(df, origin = 3)$index

# By each of the columns
furthest_from(df, cols = "A", origin = 3)$A
furthest_from(df, cols = "A", origin_fn = most_centered)$A
furthest_from(df, cols = "B", origin = 0.5)$B
furthest_from(df, cols = "B", origin_fn = centroid)$B

# Shuffle the elements with the same distance to the origin
furthest_from(df,
  cols = "A",
  origin_fn = create_origin_fn(median),
  shuffle_ties = TRUE
)$A

# Grouped by G
df %&gt;%
  dplyr::select(G, A) %&gt;% # For clarity
  dplyr::group_by(G) %&gt;%
  furthest_from(
    cols = "A",
    origin_fn = create_origin_fn(median)
  )

# Plot the rearranged values
plot(
  x = 1:10,
  y = furthest_from(df,
    cols = "B",
    origin_fn = create_origin_fn(median)
  )$B,
  xlab = "Position", ylab = "B"
)
plot(
  x = 1:10,
  y = furthest_from(df,
    cols = "A",
    origin_fn = create_origin_fn(median),
    shuffle_ties = TRUE
  )$A,
  xlab = "Position", ylab = "A"
)

# In multiple dimensions
df %&gt;%
  furthest_from(cols = c("A", "B"), origin_fn = most_centered)

</code></pre>


</div>