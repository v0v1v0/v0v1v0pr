<div class="container">

<table style="width: 100%;"><tr>
<td>sysInstallAndDownload</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>download.files or install.packages in a separate process</h2>

<h3>Description</h3>

<p>This uses <code>sys</code> package so that messaging can be controlled. This also provides
the option to parallelize by spawning multiple <code>background</code> process to allow
parallel e.g., downloads. Noting that if <code>libcurl</code> is installed (and detected
using <code>capabilities("libcurl")</code>), then no explicit parallelism will be allowed,
instead <code>method = "libcurl"</code> will be passed enabling parallel downloads.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sysInstallAndDownload(
  args,
  splitOn = "pkgs",
  doLine = "outfiles &lt;- do.call(download.packages, args)",
  returnOutfile = FALSE,
  doLineVectorized = TRUE,
  tmpdir,
  libPaths,
  verbose
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>args</code></td>
<td>
<p>A list with all arguments for a do.call to either <code style="white-space: pre;">⁠download.file, ⁠</code>install.packages<code style="white-space: pre;">⁠or a custom other function e.g.,⁠</code>downloadAndBuildToLocalFile'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>splitOn</code></td>
<td>
<p>A character vector of the names in <code>args</code> to parallelize over.
Defaults to <code>pkgs</code>. All other named elements in <code>args</code> will be assumed to
be length 1 and used for every parallel process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doLine</code></td>
<td>
<p>A character string with the <code>"outfiles &lt;- do.call(..., args)"</code> line.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnOutfile</code></td>
<td>
<p>A logical. If <code>TRUE</code>, then the names of the <code>outfiles</code> will
be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doLineVectorized</code></td>
<td>
<p>A logical. If <code>TRUE</code>, and parallism is being used, this
indicates that the <code>doLine</code> is a function that allows for multiple elements
in <code style="white-space: pre;">⁠args[[splitOn[[1]]]⁠</code>. If <code>FALSE</code>, the function will make multiple
sequential calls within each parallel process to the <code>doLine</code> call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tmpdir</code></td>
<td>
<p>A single path where all downloads will be put</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>libPaths</code></td>
<td>
<p>The library path (or libraries) where all packages should be
installed, and looked for to load (i.e., call <code>library</code>). This can be used
to create isolated, stand alone package installations, if used with
<code>standAlone = TRUE</code>. Currently, the path supplied here will be prepended to
<code>.libPaths()</code> (temporarily during this call) to <code>Require</code> if
<code>standAlone = FALSE</code> or will set (temporarily) <code>.libPaths()</code> to
<code style="white-space: pre;">⁠c(libPaths, tail(libPaths(), 1)⁠</code> to keep base packages.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Numeric or logical indicating how verbose should the function
be. If -1 or -2, then as little verbosity as possible. If 0 or FALSE,
then minimal outputs; if <code>1</code> or TRUE, more outputs; <code>2</code> even more. NOTE: in
<code>Require</code> function, when <code>verbose &gt;= 2</code>, also returns details as if
<code>returnDetails = TRUE</code> (for backwards compatibility).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Mostly for side effects, namely installed packages or downloaded packages or
files. However, in the case of <code>returnOutfile = TRUE</code>, then a list of
filenames will be returned with any outputs from the <code>doLine</code>.
</p>


</div>