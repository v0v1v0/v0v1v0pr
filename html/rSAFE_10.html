<div class="container">

<table style="width: 100%;"><tr>
<td>safely_select_variables</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Performing Feature Selection on the Dataset with Transformed Variables</h2>

<h3>Description</h3>

<p>The safely_select_variables() function selects variables from dataset returned
by safely_transform_data() function. For each original variable exactly one variable is chosen
</p>

<ul><li>
<p> either original one or transformed one. The choice is based on the AIC value
for linear model (regression) or logistic regression (classification).
</p>
</li></ul>
<h3>Usage</h3>

<pre><code class="language-R">safely_select_variables(
  safe_extractor,
  data,
  y = NULL,
  which_y = NULL,
  class_pred = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>safe_extractor</code></td>
<td>
<p>object containing information about variables transformations created with safe_extraction() function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data, original dataset or the one returned by safely_transform_data() function.
If data do not contain transformed variables then transformation is done inside this function using 'safe_extractor' argument.
Data may contain response variable or not - if it does then 'which_y' argument must be given,
otherwise 'y' argument should be provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>vector of responses, must be given if data does not contain it</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which_y</code></td>
<td>
<p>numeric or character (optional), must be given if data contains response values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class_pred</code></td>
<td>
<p>numeric or character, used only in multi-classification problems.
If response vector has more than two levels, then 'class_pred' should indicate the class of interest
which will denote failure - all other classes will stand for success.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical, if progress bar is to be printed</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>vector of variables names, selected based on AIC values
</p>


<h3>See Also</h3>

<p><code>safely_transform_data</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(DALEX)
library(randomForest)
library(rSAFE)

data &lt;- apartments[1:500,]
set.seed(111)
model_rf &lt;- randomForest(m2.price ~ construction.year + surface + floor +
                           no.rooms + district, data = data)
explainer_rf &lt;- explain(model_rf, data = data[,2:6], y = data[,1])
safe_extractor &lt;- safe_extraction(explainer_rf, verbose = FALSE)
safely_select_variables(safe_extractor, data, which_y = "m2.price", verbose = FALSE)

</code></pre>


</div>