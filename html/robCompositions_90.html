<div class="container">

<table style="width: 100%;"><tr>
<td>pivotCoord</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Pivot coordinates and their inverse</h2>

<h3>Description</h3>

<p>Pivot coordinates as a special case of isometric logratio coordinates and their inverse mapping.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pivotCoord(
  x,
  pivotvar = 1,
  fast = FALSE,
  method = "pivot",
  base = exp(1),
  norm = "orthonormal"
)

isomLR(x, fast = FALSE, base = exp(1), norm = "sqrt((D-i)/(D-i+1))")

isomLRinv(x)

pivotCoordInv(x, norm = "orthonormal")

isomLRp(x, fast = FALSE, base = exp(1), norm = "sqrt((D-i)/(D-i+1))")

isomLRinvp(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>object of class data.frame or matrix. Positive values only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pivotvar</code></td>
<td>
<p>pivotal variable. If any other number than 1, the data are resorted in 
that sense that the pivotvar is shifted to the first part.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fast</code></td>
<td>
<p>if TRUE, it is approx. 10 times faster but numerical problems in case of 
high-dimensional data may occur. Only available for method “pivot”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>pivot takes the method described in the description. Method "symm" 
uses symmetric pivot coordinates (parameters pivotvar and norm have then no effect)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>a positive or complex number: 
the base with respect to which logarithms are computed. Defaults to <code>exp(1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>norm</code></td>
<td>
<p>if FALSE then the normalizing constant is not used, if TRUE <code>sqrt((D-i)/(D-i+1))</code> is 
used (default). The user can also specify a self-defined constant.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Pivot coordinates map D-part compositional data from the simplex
into a (D-1)-dimensional real space isometrically. From our choice of pivot
coordinates, all the relative information about one of parts (or about two parts) is aggregated in the first coordinate
(or in the first two coordinates in case of symmetric pivot coordinates, respectively).
</p>


<h3>Value</h3>

<p>The data represented in pivot coordinates
</p>


<h3>Author(s)</h3>

<p>Matthias Templ, Karel Hron, Peter Filzmoser
</p>


<h3>References</h3>

<p>Egozcue J.J., Pawlowsky-Glahn, V., Mateu-Figueras, G.,
Barcel'o-Vidal, C. (2003) Isometric logratio transformations for compositional
data analysis. <em>Mathematical Geology</em>, <b>35</b>(3) 279-300. 
</p>
<p>Filzmoser, P., Hron, K., Templ, M. (2018) <em>Applied Compositional Data Analysis</em>.
Springer, Cham.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
require(MASS)
Sigma &lt;- matrix(c(5.05,4.95,4.95,5.05), ncol=2, byrow=TRUE)
z &lt;- pivotCoordInv(mvrnorm(100, mu=c(0,2), Sigma=Sigma))

data(expenditures)
## first variable as pivot variable
pivotCoord(expenditures)
## third variable as pivot variable
pivotCoord(expenditures, 3) 

x &lt;- exp(mvrnorm(2000, mu=rep(1,10), diag(10)))
system.time(pivotCoord(x))
system.time(pivotCoord(x, fast=TRUE))

## without normalizing constant
pivotCoord(expenditures, norm = "orthogonal") # or:
pivotCoord(expenditures, norm = "1")
## other normalization
pivotCoord(expenditures, norm = "-sqrt((D-i)/(D-i+1))")

# symmetric balances (results in 2-dim symmetric pivot coordinates)
pivotCoord(expenditures, method = "symm")
</code></pre>


</div>