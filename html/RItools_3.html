<div class="container">

<table style="width: 100%;"><tr>
<td>balanceplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a plot of the balance on variables across different stratifications.</h2>

<h3>Description</h3>

<p>This plotting function summarizes variable by stratification matrices. For
each variable (a row in the <code>x</code> argument), the values are under each
stratification (the columns of <code>x</code>) plotted on the same line.
</p>


<h3>Usage</h3>

<pre><code class="language-R">balanceplot(
  x,
  ordered = FALSE,
  segments = TRUE,
  colors = "black",
  shapes = c(15, 16, 17, 18, 0, 1, 10, 12, 13, 14),
  segments.args = list(col = "grey"),
  points.args = list(cex = 1),
  xlab = "Balance",
  xrange = NULL,
  groups = NULL,
  tiptext = NULL,
  include.legend = TRUE,
  legend.title = NULL,
  plotfun = .balanceplot,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A matrix of variables (rows) by strata (columns).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ordered</code></td>
<td>
<p>Should the variables be ordered from
most to least imbalance on the first statistic?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>segments</code></td>
<td>
<p>Should lines be drawn between points for each
variable?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colors</code></td>
<td>
<p>Either a vector or a matrix of shape indicators
suitable to use as a <code>col</code> argument to the
<code>points</code> function. If the argument is a vector, the
length should be the same as the number of columns in <code>x</code>. If
the argument is a matrix, it should have the same dims as <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shapes</code></td>
<td>
<p>Either a vector or a matrix of shape indicators
suitable to use as a <code>pch</code> argument to the
<code>points</code> function. If the argument is a vector, the
length should be the same as the number of columns in <code>x</code>. If
the argument is a matrix, it should have the same dims as
<code>x</code>.
&lt;!– The suggested vector has been selected to work with
RSVGTipsDevice tool tips.–&gt;</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>segments.args</code></td>
<td>
<p>A list of arguments to pass to the
<code>segments</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>points.args</code></td>
<td>
<p>A list of arguments to pass to the <code>points</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>The label of the x-axis of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xrange</code></td>
<td>
<p>The range of x-axis. By default, it is 1.25 times the range of <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>
<p>A factor that indicates the group of each row in
<code>x</code>. Groups are printed under a common header.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tiptext</code></td>
<td>
<p>ignored (legacy argument retained for internal reasons)
&lt;!– If you are using the <code>RSVGTipsDevice</code> library for
rendering, you can include an array of the dimensions of x
with another dimension of length 2. For example, if there are 4
observations and 2 strata, the array should be 4 by 2 by 2. The
<code>tiptext[i, j, 1]</code> entry will be the first line of the tool
tip for the data in <code>x[i, j]</code>. Likewise for the second row of
the tool tip. –&gt;</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include.legend</code></td>
<td>
<p>Should a legend be included?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.title</code></td>
<td>
<p>An optional title to attach to the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotfun</code></td>
<td>
<p>Function to do the plotting; defaults to [RItools:::.balanceplot]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to pass to <code>plot.default</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It is conventional to standardize the differences to common scale
(e.g.  z-scores), but this is not required. When <code>ordered</code> is
set to true, plotting will automatically order the data from
largest imbalance to smallest based on the first column of
<code>x</code>.
</p>
<p>You can fine tune the colors and shapes with the like named
arguments. Any other arguments to the <code>points</code> function
can be passed in a list as <code>points.args</code>. Likewise, you can
fine tune the segments between points with <code>segments.args</code>.
</p>


<h3>Value</h3>

<p>Returns NULL, displays plot
</p>


<h3>See Also</h3>

<p><code>plot.xbal</code>, <code>xBalance</code>,
<code>segments</code>, <code>points</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(20121204)

# generate some balance data
nvars &lt;- 10
varnames &lt;- paste("V", letters[1:nvars])

balance_data &lt;- matrix(c(rnorm(n = nvars, mean = 1, sd = 0.5), 
                         rnorm(n = nvars, mean = 0, sd = 0.5)),
                       ncol = 2)

colnames(balance_data) &lt;- c("Before Adjustment", "After Matching")

rownames(balance_data) &lt;- varnames

balanceplot(balance_data,
                      colors = c("red", "green"),
                      xlab = "Balance Before/After Matching")

# base R graphics are allowed

abline(v = colMeans(balance_data), lty = 3, col = "grey")

</code></pre>


</div>