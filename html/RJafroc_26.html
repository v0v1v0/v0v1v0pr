<div class="container">

<table style="width: 100%;"><tr>
<td>Df2RJafrocDataset</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert ratings arrays to an RJafroc dataset</h2>

<h3>Description</h3>

<p>Converts ratings arrays, ROC or FROC, <em>but not LROC</em>, to an <span class="pkg">RJafroc</span> dataset, thereby allowing the 
user to leverage the file I/O, plotting and analyses capabilities of <span class="pkg">RJafroc</span>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Df2RJafrocDataset(NL, LL, InputIsCountsTable = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>NL</code></td>
<td>
<p>Non-lesion localizations array (or FP array for ROC data).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LL</code></td>
<td>
<p>Lesion localizations array (or TP array for ROC data).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>InputIsCountsTable</code></td>
<td>
<p>If <code>TRUE</code>, the <code>NL</code> and <code>LL</code> 
arrays are rating-counts tables, with common lengths equal to the 
number of ratings <code>R</code>, if <code>FALSE</code>, the default, these are arrays 
of lengths <code>K1</code>, the number of non-diseased cases, and <code>K2</code>, 
the number of diseased cases, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other elements of <span class="pkg">RJafroc</span> dataset that may, depending on the 
context, need to be specified. <code>perCase</code> <strong>must</strong> be specified 
if an FROC dataset is to be returned. It is a <code>K2</code>-length array 
specifying the numbers of lesions in each diseased case in the dataset.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function "senses" the data type (ROC or FROC) from the the absence 
or presence of <code>perCase</code>.
</p>

<ul>
<li>
<p>ROC data can be <code>NL[1:K1]</code> and <code>LL[1:K2]</code> or <code>NL[1:I,1:J,1:K1]</code> 
and <code>LL[1:I,1:J,1:K2]</code>.
</p>
</li>
<li>
<p>FROC data can be <code>NL[1:K1,1:maxNL]</code> and <code>LL[1:K2, 1:maxLL]</code> or 
<code>NL[1:I,1:J,1:K1,1:maxNL]</code> and  <code>LL[1:I,1:J,1:K2,1:maxLL]</code>.
</p>
</li>
</ul>
<p>Here <code>maxNL/maxLL</code> = maximum numbers of NLs/LLs, per case, over entire dataset.  
Equal weights are assigned to every lesion (FROC data). 
Consecutive characters/integers starting with "1" are assigned to <code>IDs</code>, <code>modalityID</code> and <code>readerID</code>.
</p>


<h3>Value</h3>

<p>A dataset with the structure described in <code>RJafroc-package</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Input as ratings arrays
set.seed(1);NL &lt;- rnorm(5);LL &lt;- rnorm(7)*1.5 + 2
dataset &lt;- Df2RJafrocDataset(NL, LL)

## Input as counts tables
K1t &lt;- c(30, 19, 8, 2, 1)
K2t &lt;- c(5,  6, 5, 12, 22)
dataset &lt;- Df2RJafrocDataset(K1t, K2t, InputIsCountsTable = TRUE)


</code></pre>


</div>