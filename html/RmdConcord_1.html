<div class="container">

<table style="width: 100%;"><tr>
<td>commonmark_document</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
R Markdown drivers to add concordance
</h2>

<h3>Description</h3>

<p>These drivers replace the like-named <span class="pkg">rmarkdown</span>
or <span class="pkg">markdown</span>
drivers with ones that output Commonmark rather than Pandoc Markdown.
Commonmark is a dialect of Markdown.  The Pandoc driver
for Commonmark supports output of source position information.
By using this function as your output driver, you can get that
in your own documents.
</p>
<p>A replacement for <code>markdown::latex_format</code> is not planned; see the note below.
</p>


<h3>Usage</h3>

<pre><code class="language-R">html_documentC(sourcepos = TRUE, ...)
html_vignetteC(sourcepos = TRUE, ...)
pdf_documentC0(latex_engine = "pdflatex",
           sourcepos = TRUE,
           defineSconcordance = TRUE,
           ...)
html_formatC(options = list(sourcepos = TRUE), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>latex_engine</code></td>
<td>

<p>Command to convert ‘<span class="file">.tex</span>’ file to ‘<span class="file">.pdf</span>’.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>defineSconcordance</code></td>
<td>

<p>If <code>TRUE</code>, insert a definition of the <code style="white-space: pre;">⁠\Sconcordance⁠</code>
macro just before <code style="white-space: pre;">⁠\begin{document}⁠</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sourcepos</code></td>
<td>
<p>Whether to include source position information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>

<p>The options argument to pass to the base driver.  If
<code>options$sourcepos</code> is not specified, it will default to
<code>TRUE</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Other arguments to pass to the base driver.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Each driver modifies the standard driver from <span class="pkg">rmarkdown</span> or
<span class="pkg">markdown</span>, e.g.
<code>html_documentC</code> is similar to
<code>html_document</code>, but uses Commonmark
and adds concordances.
</p>


<h3>Value</h3>

<p>An R Markdown output format object which will add concordance
information.
</p>


<h3>Note</h3>

<p>The <code>pdf_documentC0</code> function adds the concordances,
but they won't be interpreted by LaTeX or PDF previewers.
To get that to happen, use <code>patchDVI::pdf_documentC</code>.
</p>
<p>The <code>html_formatC</code> function requires <span class="pkg">markdown</span>
version 1.12.1 or higher.  If a lower version of that
package is installed
<code>html_formatC</code> will still run, but will issue a
warning and not add any concordances.
</p>
<p>The concordances produced by <code>html_formatC</code> tend to
be off by a few lines as the underlying Commonmark
processor only issues source position records once per
paragraph.
</p>
<p>A <code>latex_formatC</code> driver appears as if it would be
quite messy and is not currently planned.  The issues are:
</p>

<ul>
<li>
<p><span class="pkg">commonmark</span> doesn't support
source position attributes in LaTeX output
</p>
</li>
<li>
<p>It doesn't allow edits between the parsing and rendering steps.  This is what <code>pdf_documentC</code> does.
</p>
</li>
<li>
<p> A possible strategy would be to render first to XML
(which does keep source position attributes), then convert
the XML to LaTeX with macros inserted to record source
positions.  However, <code>markdown::latex_format</code> produces
the final LaTeX document in several steps, and would have to
support this two-stage rendering on some but not all of
the steps.</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Duncan Murdoch
</p>


</div>