<div class="container">

<table style="width: 100%;"><tr>
<td>moveTrappedPoints</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Move trapped points</h2>

<h3>Description</h3>

<p>Sometimes points in a map optimization run get trapped in local optima, this
function tries to combat this by doing a grid search for each point
individually moving points if a better optima is found. Note that this only
performs grid searches individually so won't find cases where a group of
points are trapped together in a local optima.
</p>


<h3>Usage</h3>

<pre><code class="language-R">moveTrappedPoints(
  map,
  optimization_number = 1,
  grid_spacing = 0.25,
  max_iterations = 10,
  options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>The acmap data object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimization_number</code></td>
<td>
<p>The map optimization number to apply it to</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid_spacing</code></td>
<td>
<p>Grid spacing in antigenic units of the search grid to use
when searching for more optimal positions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_iterations</code></td>
<td>
<p>The maximum number of iterations of searching for
trapped points then relaxing the map to be performed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>List of named optimizer options, see <code>RacOptimizer.options()</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The search is iterative, searching for and moving points that are found to be
trapped before relaxing the map and searching again, stopping either when no
more trapped points are found or <code>max_iterations</code> is reached.
</p>


<h3>Value</h3>

<p>Returns the acmap object with updated coordinates (if any trapped
points found)
</p>


<h3>See Also</h3>

<p>Other map optimization functions: 
<code>RacOptimizer.options()</code>,
<code>make.acmap()</code>,
<code>optimizeMap()</code>,
<code>randomizeCoords()</code>,
<code>relaxMapOneStep()</code>,
<code>relaxMap()</code>
</p>


</div>