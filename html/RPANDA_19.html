<div class="container">

<table style="width: 100%;"><tr>
<td>CreateClassObject</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Create class object
</h2>

<h3>Description</h3>

<p>This function returns names of internode intervals, named descendants of each node,
and a class object formatted in a way that can be
passed to <code>CreateGeobyClassObject</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">
CreateClassObject(map,rnd=5,return.mat=FALSE)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>

<p>stochastic map from <code>make.simmap</code> in <code>phytools</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rnd</code></td>
<td>
 
<p>integer indicating the number of decimal places to which times should be rounded (default value is 5) (see <code>round</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return.mat</code></td>
<td>
 
<p>logical indicating whether to return simmap in a format to be passed to other internal functions (usually FALSE)
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function formats the class object so that it can be correctly
passed to the numerical integration performed in <code>fit_t_comp_subgroup</code>. 
</p>


<h3>Value</h3>

<p>a list with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>class.object</code></td>
<td>
<p>a list of matrices specifying the state of each branch during each internode interval (see Details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>a vector containing the time since the root of the tree at which nodes or changes in biogeography occur (used internally in other functions)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spans</code></td>
<td>
<p>a vector specifying the distances between times (used internally in other functions)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Jonathan Drury <a href="mailto:jonathan.p.drury@gmail.com">jonathan.p.drury@gmail.com</a></p>


<h3>References</h3>

<p>Drury, J., Tobias, J., Burns, K., Mason, N., Shultz, A., and Morlon, H. in review. Contrasting impacts of competition on ecological and social trait evolution in songbirds. <em>PLOS Biology</em>.
</p>
<p>Drury, J., Clavel, J., Manceau, M., and Morlon, H. 2016. Estimating the effect of competition on trait evolution using maximum likelihood inference. <em>Systematic Biology</em> doi 10.1093/sysbio/syw020
</p>


<h3>See Also</h3>

<p><code>fit_t_comp_subgroup</code>,<code>CreateGeobyClassObject</code> 
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(Anolis.data)

#Create a make.simmap object
require(phytools)
geo&lt;-c(rep("cuba",7),rep("hispaniola",9),"puerto_rico")
names(geo)&lt;-Anolis.data$phylo$tip.label
stochastic.map&lt;-phytools::make.simmap(Anolis.data$phylo, 
									geo, model="ER", nsim=1)
CreateClassObject(stochastic.map)

</code></pre>


</div>