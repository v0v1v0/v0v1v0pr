<div class="container">

<table style="width: 100%;"><tr>
<td>auc_diff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>auc_diff function</h2>

<h3>Description</h3>

<p>This function estimates var(AUC(y~x[,v1]) - AUC(y~x[,v2]))
where AUC is the Area Under ROC curve of the model,
y is N by 1 matrix having the dependent variable, and
x is N by M matrix having M explanatory variables.
v1 or v2 indicates the ith column in the x matrix
(v1 or v2 can be multiple values between 1 - M, see Arguments below)
</p>


<h3>Usage</h3>

<pre><code class="language-R">auc_diff(dat, v1, v2, nv, kv)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>N by (M+1) matrix having variables in the order of cbind(y,x)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v1</code></td>
<td>
<p>This can be set as v1=c(1) or v1=c(1,2)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v2</code></td>
<td>
<p>This can be set as v2=c(2), v2=c(3), v2=c(1,3) or v2=c(3,4)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nv</code></td>
<td>
<p>Sample size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kv</code></td>
<td>
<p>Population prevalence</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>This function will estimate significant difference between two PRS (either dependent or independent and joint or single). To get the test statistics for the difference between AUC(y~x[,v1]) and AUC(y~x[,v2]) (here we define AUC1=AUC(y~x[,v1])) and AUC2=AUC(y~x[,v2]))). The outputs are listed as follows.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>mean_diff</code></td>
<td>
<p>AUC differences between AUC1 and AUC2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>Variances of AUC differences</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper_diff</code></td>
<td>
<p>Upper value of the differences</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower_diff</code></td>
<td>
<p>Upper value of the differences</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>Two tailed P-value for significant difference between AUC1 and AUC2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_one_tail</code></td>
<td>
<p>One tailed P-value for significant difference</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heller_p</code></td>
<td>
<p>P-value based on Heller's test for significant difference</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heller_upper_diff</code></td>
<td>
<p>Upper limit of 95% CI for the difference basedon Heller's test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heller_lower_diff</code></td>
<td>
<p>Lower limit of 95% CI for the difference basedon Heller's test</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">#To get the test statistics for the difference between AUC(y=x[,1]) 
#and AUC(y=x[,2])
dat=dat1 #(this example embedded within the package)
nv=length(dat$V1)
kv=sum(dat$V1)/length(dat$V1)# pop. prevalence estimated from data
#R2ROC also allows users to estimate AUC using pre-adjusted phenotype
#In that case, users need to specify kv
#eg. kv=0.10 for dat2 (dat2 embedded within the package) 
v1=c(1)
v2=c(2)
output=auc_diff(dat,v1,v2,nv,kv)

#R2ROC output
#output$mean_diff (mean difference of AUC1 and AUC2)
#0.1756046

#output$var (variance of AUC difference)
#9.274356e-05

#output$upper_diff (upper limit of 95% CI for difference)
#0.1944801

#output$lower_diff (lower limit of 95% CI for difference)
#0.1567292

#output$p (two-tailed P-value for the differences is
#significantly different from zero)
#2.747031e-74

#output$p_one_tail (one-tailed P-value for the differences
#is significantly different from zero)
#1.373515e-74


#To get the test statistics for the difference between
#AUC(y=x[,1]+x[,2]) and AUC(y=x[,2])
dat=dat1 #(this example embedded within the package)
nv=length(dat$V1)
kv=sum(dat$V1)/length(dat$V1)# pop. prevalence estimated from data
#R2ROC also allows users to estimate AUC using pre-adjusted phenotype
#In that case, users need to specify kv
#eg. kv=0.10 for dat2 (dat2 embedded within the package) 
v1=c(1,2)
v2=c(2)
output=auc_diff(dat,v1,v2,nv,kv)

#R2ROC output
#output$mean_diff (mean difference of AUC1 and AUC2)
#0.1793682

#output$var (variance of AUC difference)
#0.0001190366

#output$upper_diff (upper limit of 95% CI for difference)
#0.2007526

#output$lower_diff (lower limit of 95% CI for difference)
#0.1579839

#output$p (two-tailed P-value for the differences is
#significantly different from zero)
#9.87014e-61

#output$p_one_tail (one-tailed P-value for the differences
#is significantly different from zero)
#4.93507e-61

#output$heller_p (two-tailed P-value based on Hellers test
#for the differences is significantly different from zero)
#4.2085e-237

#output$heller_upper_diff (upper limit of 95% CI for
#difference based on Hellers test)
#0.2013899

#output$heller_lower_diff (lower limit of 95% CI for
#difference based on Hellers test)
#0.1586212
</code></pre>


</div>