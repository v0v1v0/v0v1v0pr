<div class="container">

<table style="width: 100%;"><tr>
<td>includeInteraction</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Function to create user-specified interactions for a Siena model.
</h2>

<h3>Description</h3>

<p>This function allows the user to include or exclude   
an interaction effect in a Siena effects object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">includeInteraction(myeff, ..., include = TRUE, name = myeff$name[1],
    type = "eval", interaction1 = rep("", 3), interaction2 = rep("", 3),
    fix=FALSE, test=FALSE, random=FALSE,
    initialValue=0,
    character = FALSE, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>myeff</code></td>
<td>
<p>a Siena effects object as created by <code>getEffects</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>2 or 3 short names to identify the effects
which should be interacted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include</code></td>
<td>
<p>Boolean. default TRUE, but can be switched to FALSE to
turn off an interaction.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>Name of dependent variable (network or behavior)
for which interactions are being defined.
Defaults to the first in the effects object.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>

<p>Type of effects to be interacted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interaction1</code></td>
<td>

<p>Vector of Siena objects where needed to completely identify the
effect e.g. covariate name or behavior variable name.
Trailing blanks may be omitted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interaction2</code></td>
<td>

<p>Vector of siena objects where needed to completely identify the
effect e.g. covariate name or behavior variable name.
Trailing blanks may be omitted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fix</code></td>
<td>

<p>Boolean. Are the effects to be fixed at the value stored in
<code>myeff$initialValue</code> or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>

<p>Boolean. Are the effects to be tested or not (requires <code>fix</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random</code></td>
<td>
<p>For specifying that the interaction effect will vary randomly;
not relevant for <code>RSiena</code> at this moment.
Boolean required. Default FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initialValue</code></td>
<td>
<p>Initial value for estimation. Default 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>character</code></td>
<td>
<p>Boolean: are the effect names character strings or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Boolean: should the print of altered effects be produced.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The details provided should uniquely identify up to three
effects. If so, an interaction effect will be created and included or
not in the model. <br>
Whether interactions between two or three given effects
can be created depends on their <code>interactionType</code> (which can be, for
dependent network variables, empty, ego, or dyadic; and for dependent
behavioral variables, empty or OK). Consult the section on Interaction
Effects in the manual for this. The <code>interactionType</code> is shown
in the list of effects obtained from the function
<code>effectsDocumentation</code>.<br>
The short names must not be set between quotes,
unless you use <code>character=TRUE</code>.<br>
From the point of view of model building it is usually advisable, when
including an interaction effect in a model, also to include the
corresponding main effects. This is however not enforced
by <code>includeInteraction()</code>.<br></p>
<p>As from version 1.3.24, effects object have a "version" attribute.
Effects objects including interaction effects are not necessarily compatible
between versions of <code>RSiena</code>. Therefore it is recommended to create
such effects objects again when changing to a new version of <code>RSiena</code>.
If an effects object including any interaction effects is used from an
old version of <code>RSiena</code>, this will lead to a warning when running
<code>siena07</code>. <br></p>
<p>An interaction effect does not have its own internal effect parameter.
The internal effect parameters of the interacting main effects are used,
whether or not these are included in the model. This implies that if an
interaction effect is included but not the corresponding main effects,
or not all of them, then nevertheless the internal effect parameters as
specified in the effects object are used for the interaction.
These can be set using function <code>setEffect</code> with the desired value
of <code>parameter</code> and (in this case) <code>include=FALSE</code>. <br>
The values of the internal effect parameters can be checked for a
<code>sienaFit</code> object <code>ans</code> produced by <code>siena07</code>
by looking at <code>ans$effects</code>, which is the requested effects object
to which the main effects of the user-defined interactions were added,
if they were not yet included.
</p>
<p>Interaction effects are constructed from effects with shortName
<code>unspInt</code> (for networks) and <code>behUnspInt</code> (for behavior)
by specifying their elements <code>effect1</code> and <code>effect2</code>,
and possibly <code>effect3</code>. The shortName is not altered by this function.
</p>
<p>The number of possible user-specified interaction effects is limited
by the parameters <code>nintn</code> (for dependent network variables)
and <code>behNintn</code> (for dependent behavior variables)
in the call of <code>getEffects</code>, which determine the numbers of
effects with shortNames <code>unspInt</code> and <code>behUnspInt</code>.
</p>
<p>The input names <code>interaction1</code> and <code>interaction2</code> do not themselves
refer to created interactions, but to dependence of the base effects on
other variables in the data set.
They are used to completely identify the effects.
</p>
<p>Further information about Siena effects objects is given
in the help page for <code>getEffects</code>.
</p>
<p>A list of all effects in a given effects object (e.g., <code>myeff</code>),
including their names of dependent variables, effect names, short names,
and values of interaction1 and interaction2 (if any),
is obtained by executing <code>effectsDocumentation(myeff)</code>.
</p>


<h3>Value</h3>

<p>An updated version of the input effects object; if <code>include</code>,
containing the interaction effect between "effect1" and "effect2" and
possibly "effect3"; if not, without this interaction effect.
The shortName of the interaction effect is "unspInt" for network effects
and "behUnspInt" for behavior effects. <br>
If <code>verbose=TRUE</code>, details of the fields altered will be printed.
</p>


<h3>Author(s)</h3>

<p>Ruth Ripley, Tom Snijders</p>


<h3>References</h3>

<p>See <a href="https://www.stats.ox.ac.uk/~snijders/siena/">https://www.stats.ox.ac.uk/~snijders/siena/</a></p>


<h3>See Also</h3>

<p><code>getEffects</code>, <code>setEffect</code>,
<code>includeEffects</code>, <code>effectsDocumentation
</code></p>


<h3>Examples</h3>

<pre><code class="language-R">mynet &lt;- sienaDependent(array(c(s501, s502, s503), dim=c(50, 50, 3)))
alc &lt;- varCovar(s50a)
mydata &lt;- sienaDataCreate(mynet, alc)
myeff &lt;- getEffects(mydata)
myeff &lt;- includeEffects(myeff, transTrip)
myeff &lt;- includeInteraction(myeff, recip, inPop)
myeff &lt;- includeEffects(myeff, egoX, altX, simX, interaction1="alc")
myeff &lt;- includeInteraction(myeff, recip, simX, interaction1=c("", "alc"))
myeff
</code></pre>


</div>