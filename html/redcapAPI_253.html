<div class="container">

<table style="width: 100%;"><tr>
<td>validateImport</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Validate Data Frames for Import</h2>

<h3>Description</h3>

<p>Validates the variables in a data frame prior to attempting
an import to REDCap
</p>


<h3>Usage</h3>

<pre><code class="language-R">validateImport(data, meta_data, logfile = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>data.frame</code> being prepared for import to REDCap.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meta_data</code></td>
<td>
<p>REDCap database meta data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logfile</code></td>
<td>
<p>A character string giving the filepath to which the
results of the validation are printed.  If <code>""</code>, the results
are printed in the console.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>validateImport</code> is called internally by <code>importRecords</code> and is
not available to the user.
</p>
<p>Each variable is validated by matching they type of variable with the type
listed in the REDCap database.
</p>
<p>Although the log messages will indicate a preference for dates to be in
mm/dd/yyyy format, the function will accept mm/dd/yy, yyyy-mm-dd,
yyyy/mm/dd, and yyyymmdd formats as well.  When possible, pass dates as
Date objects or POSIXct objects to avoid confusion.  Dates are also compared
to minimum and maximum values listed in the data dictionary.  Records where
a date is found out of range are allowed to import and a message
is printed in the log.
</p>
<p>For continuous/numeric variables, the values are checked against the
minimum and maximum allowed in the data dictionary. Records where a value
is found out of range are allowed to import and a message is printed
in the log.
</p>
<p>ZIP codes are tested to see if they fit either the five digit or
five digit + four format.  When these conditions are not met, the data point is
deleted and a message printed in the log.
</p>
<p>YesNo fields permit any of the values 'yes', 'no', '0', '1' to be imported
to REDCap with 0=No, and 1=Yes.  The values are converted to lower case
for validation, so any combination of lower and upper case values
will pass (ie, the data frame is not case-sensitive).
</p>
<p>TrueFalse fields will accept 'TRUE', 'FALSE', 0, 1, and logical values
and are also not case-sensitive.
</p>
<p>Radio and dropdown fields may have either the coding in the data
dictionary or the labels in the data dictionary. The validation will use
the meta data to convert any matching values to the appropriate coding
before importing to REDCap.  Values that cannot be reconciled are
deleted with a message printed in the log.  These variables
are not case-sensitive.
</p>
<p>Checkbox fields require a value of "Checked", "Unchecked", "0", or "1".
These are currently case-sensitive.  Values that do not match these are
deleted with a warning printed in the log.
</p>
<p>Phone numbers are required to be ten digit numbers.  The phone number is
broken into three parts: 1) a three digit area code, 2) a three digit exchange code,
and 3) a four digit station code.  The exchange code must start with a number
from 2-9, followed by 0-8, and then any third digit.
The exchange code starts with a number from 2-9, followed by any two
digits. The station code is four digits with no restrictions.
</p>
<p>E-mail addresses are considered valid when they have three parts. The first
part comes before the @ symbol, and may be number of characters from
a-z, A-Z, a period, underscore, percent, plus, or minus.  The second part
comes after the @, but before the period, and may consist of any
number of letters, numbers, periods, or dashes.  Finally, the string ends
with a period then anywhere from two to six letters.
</p>


</div>