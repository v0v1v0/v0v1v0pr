<div class="container">

<table style="width: 100%;"><tr>
<td>rocker-README</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>README</h2>

<h3>Description</h3>

<p>How-to and examples
</p>


<h3>Details</h3>

<p>Please read me.
</p>


<h3>Installation</h3>

<p>Installation of current released version from CRAN
</p>
<div class="sourceCode r"><pre>install.packages("rocker")
</pre></div>
<p>Installation of current development version from GitHub
</p>
<div class="sourceCode r"><pre>install.packages("devtools")
devtools::install_github("nikolaus77/rocker")
</pre></div>


<h3>New <em>rocker</em> class object</h3>

<p>Create new <em>rocker</em> database handling object
</p>
<p>Option 1
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB() # New database handling object
</pre></div>
<div class="sourceCode"><pre>## dctr | New object
</pre></div>
<p>Option 2
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::rocker$new() # New database handling object
</pre></div>
<div class="sourceCode"><pre>## dctr | New object
</pre></div>
<p><strong>Terminal output</strong>
</p>
<p>Controlling terminal output
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB(verbose = TRUE) # New database handling object
</pre></div>
<div class="sourceCode"><pre>## dctr | New object
</pre></div>
<div class="sourceCode r"><pre>db$setupPostgreSQL()
</pre></div>
<div class="sourceCode"><pre>## Dctr | Driver load RPostgres
</pre></div>
<div class="sourceCode r"><pre>db$unloadDriver()
</pre></div>
<div class="sourceCode"><pre>## dctr | Driver unload RPostgres
</pre></div>
<div class="sourceCode r"><pre>db$verbose &lt;- FALSE # Terminal output off
db$setupPostgreSQL()
db$unloadDriver()
</pre></div>
<div class="sourceCode r"><pre>db$verbose &lt;- TRUE # Terminal output on (default)
db$setupPostgreSQL()
</pre></div>
<div class="sourceCode"><pre>## Dctr | Driver load RPostgres
</pre></div>
<div class="sourceCode r"><pre>db$unloadDriver()
</pre></div>
<div class="sourceCode"><pre>## dctr | Driver unload RPostgres
</pre></div>
<p>Structure of terminal output
</p>
<div class="sourceCode"><pre>Dctr | Driver load RSQLite
D                          = Driver     (D = loaded,    d = not set)
 c                         = Connection (C = opened,    c = closed)
  t                        = Transation (T = active,    t = no tranastion)
   r                       = Result     (R = available, r = no result)
       Driver load RSQLite = Message text
</pre></div>
<p><strong>Optional object ID</strong>
</p>
<p>Optionally, rocker object can be labeled with an ID. This can be helpful
in case terminal output of multiple rocker objects need to be
distinguished.
</p>
<div class="sourceCode r"><pre>db1 &lt;- rocker::newDB(id = "myDB 1") # New database handling object with ID
</pre></div>
<div class="sourceCode"><pre>## myDB 1 | dctr | New object id myDB 1
</pre></div>
<div class="sourceCode r"><pre>db2 &lt;- rocker::newDB(id = "myDB 2") # New database handling object with ID
</pre></div>
<div class="sourceCode"><pre>## myDB 2 | dctr | New object id myDB 2
</pre></div>
<div class="sourceCode r"><pre>db1$setupPostgreSQL()
</pre></div>
<div class="sourceCode"><pre>## myDB 1 | Dctr | Driver load RPostgres
</pre></div>
<div class="sourceCode r"><pre>db2$setupMariaDB()
</pre></div>
<div class="sourceCode"><pre>## myDB 2 | Dctr | Driver load RMariaDB
</pre></div>
<div class="sourceCode r"><pre>db1$unloadDriver()
</pre></div>
<div class="sourceCode"><pre>## myDB 1 | dctr | Driver unload RPostgres
</pre></div>
<div class="sourceCode r"><pre>db2$unloadDriver()
</pre></div>
<div class="sourceCode"><pre>## myDB 2 | dctr | Driver unload RMariaDB
</pre></div>
<div class="sourceCode r"><pre>db1$id &lt;- NULL # Remove ID
db1$setupSQLite()
</pre></div>
<div class="sourceCode"><pre>## Dctr | Driver load RSQLite
</pre></div>
<div class="sourceCode r"><pre>db1$unloadDriver()
</pre></div>
<div class="sourceCode"><pre>## dctr | Driver unload RSQLite
</pre></div>
<div class="sourceCode r"><pre>db1$id &lt;- "newID 1" # Add new ID
db1$setupSQLite()
</pre></div>
<div class="sourceCode"><pre>## newID 1 | Dctr | Driver load RSQLite
</pre></div>
<div class="sourceCode r"><pre>db1$unloadDriver()
</pre></div>
<div class="sourceCode"><pre>## newID 1 | dctr | Driver unload RSQLite
</pre></div>
<p><strong>Object properties</strong>
</p>
<p>Object properties are stored in the info field and can be displayed by
print function.
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB() # New database handling object
</pre></div>
<div class="sourceCode"><pre>## dctr | New object
</pre></div>
<div class="sourceCode r"><pre>db$setupPostgreSQL()
</pre></div>
<div class="sourceCode"><pre>## Dctr | Driver load RPostgres
</pre></div>
<div class="sourceCode r"><pre>db$info
</pre></div>
<div class="sourceCode"><pre>## $package
## [1] "RPostgres"
## 
## $host
## [1] "127.0.0.1"
## 
## $port
## [1] "5432"
## 
## $dbname
## [1] "mydb"
</pre></div>
<div class="sourceCode r"><pre>db
</pre></div>
<div class="sourceCode"><pre>## object          
##   id            null
##   verbose       true
##   validateQuery null
## database        
##   package       RPostgres
##   host          127.0.0.1
##   port          5432
##   dbname        mydb
## status          
##   driver        true
##   connection    false
##   transaction   false
##   result        false
</pre></div>
<div class="sourceCode r"><pre>db$print()
</pre></div>
<div class="sourceCode"><pre>## object          
##   id            null
##   verbose       true
##   validateQuery null
## database        
##   package       RPostgres
##   host          127.0.0.1
##   port          5432
##   dbname        mydb
## status          
##   driver        true
##   connection    false
##   transaction   false
##   result        false
</pre></div>
<div class="sourceCode r"><pre>print(db)
</pre></div>
<div class="sourceCode"><pre>## object          
##   id            null
##   verbose       true
##   validateQuery null
## database        
##   package       RPostgres
##   host          127.0.0.1
##   port          5432
##   dbname        mydb
## status          
##   driver        true
##   connection    false
##   transaction   false
##   result        false
</pre></div>
<div class="sourceCode r"><pre>db$unloadDriver()
</pre></div>
<div class="sourceCode"><pre>## dctr | Driver unload RPostgres
</pre></div>
<p><strong>Connection validation â€“ Is the earlier opened database connection
still open?</strong>
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB() # New database handling object
</pre></div>
<div class="sourceCode"><pre>## dctr | New object
</pre></div>
<div class="sourceCode r"><pre>db$setupSQLite()
</pre></div>
<div class="sourceCode"><pre>## Dctr | Driver load RSQLite
</pre></div>
<div class="sourceCode r"><pre>db$print()
</pre></div>
<div class="sourceCode"><pre>## object          
##   id            null
##   verbose       true
##   validateQuery null
## database        
##   package       RSQLite
##   dbname        :memory:
## status          
##   driver        true
##   connection    false
##   transaction   false
##   result        false
</pre></div>
<p>During connection setup, a validateQuery is looked up automatically.
</p>
<div class="sourceCode r"><pre>db$connect()
</pre></div>
<div class="sourceCode"><pre>## DCtr | Database connected
</pre></div>
<div class="sourceCode r"><pre>db$print()
</pre></div>
<div class="sourceCode"><pre>## object          
##   id            null
##   verbose       true
##   validateQuery SELECT 1
## database        
##   package       RSQLite
##   dbname        :memory:
## status          
##   driver        true
##   connection    true
##   transaction   false
##   result        false
</pre></div>
<p>Discovered validateQuery
</p>
<div class="sourceCode r"><pre>db$validateQuery
</pre></div>
<div class="sourceCode"><pre>## [1] "SELECT 1"
</pre></div>
<p>Validate connection
</p>
<div class="sourceCode r"><pre>db$validateCon()
</pre></div>
<div class="sourceCode"><pre>## DCtr | Connection valid true

## [1] TRUE
</pre></div>
<p>If required, validateQuery can be defined manually.
</p>
<div class="sourceCode r"><pre>db$validateQuery &lt;- "SELECT 2"
db$validateCon()
</pre></div>
<div class="sourceCode"><pre>## DCtr | Connection valid true

## [1] TRUE
</pre></div>
<div class="sourceCode r"><pre>db$print()
</pre></div>
<div class="sourceCode"><pre>## object          
##   id            null
##   verbose       true
##   validateQuery SELECT 2
## database        
##   package       RSQLite
##   dbname        :memory:
## status          
##   driver        true
##   connection    true
##   transaction   false
##   result        false
</pre></div>
<p>Clean up
</p>
<div class="sourceCode r"><pre>db$disconnect()
</pre></div>
<div class="sourceCode"><pre>## Dctr | Database disconnected
</pre></div>
<div class="sourceCode r"><pre>db$validateCon()
</pre></div>
<div class="sourceCode"><pre>## Dctr | Connection valid false

## [1] FALSE
</pre></div>
<div class="sourceCode r"><pre>db$unloadDriver()
</pre></div>
<div class="sourceCode"><pre>## dctr | Driver unload RSQLite
</pre></div>


<h3>Additional packages and database types</h3>

<p>The listed packages are required for some functions of <em>rocker</em>.
</p>


<h4>
<em>RSQLite</em> package</h4>

<p><a href="https://github.com/r-dbi/RSQLite"><em>RSQLite</em></a> package for handling of
SQLite database connections. It is required for the setupSQLite()
function of <em>rocker</em> class.
</p>
<div class="sourceCode r"><pre>install.packages("RSQLite")
</pre></div>
<p><strong>Setup database</strong>
</p>
<p>Option 1
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB() # New database handling object
</pre></div>
<div class="sourceCode"><pre>## dctr | New object
</pre></div>
<div class="sourceCode r"><pre>db$setupSQLite( # Setup SQLite database
  dbname = ":memory:"
)
</pre></div>
<div class="sourceCode"><pre>## Dctr | Driver load RSQLite
</pre></div>
<div class="sourceCode r"><pre>db$unloadDriver() # Reset database handling object
</pre></div>
<div class="sourceCode"><pre>## dctr | Driver unload RSQLite
</pre></div>
<p>Option 2
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB() # New database handling object
</pre></div>
<div class="sourceCode"><pre>## dctr | New object
</pre></div>
<div class="sourceCode r"><pre>db$setupDriver( # Setup SQLite database
  drv = RSQLite::SQLite(),
  dbname = ":memory:"
)
</pre></div>
<div class="sourceCode"><pre>## Dctr | Driver load RSQLite
</pre></div>
<div class="sourceCode r"><pre>db$unloadDriver() # Reset database handling object
</pre></div>
<div class="sourceCode"><pre>## dctr | Driver unload RSQLite
</pre></div>



<h4>
<em>RPostgres</em> package</h4>

<p><a href="https://github.com/r-dbi/RPostgres"><em>RPostgres</em></a> package for handling
of PostgreSQL database connections. It is required for the
setupPostgreSQL() function of <em>rocker</em> class.
</p>
<div class="sourceCode r"><pre>install.packages("RPostgres")
</pre></div>
<p><strong>Setup database</strong>
</p>
<p>Option 1
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB() # New database handling object
#&gt; dctr | New object
db$setupPostgreSQL( # Setup PostgreSQL database
  host = "127.0.0.1", port = "5432", dbname = "mydb",
  user = "postgres", password = "password"
)
#&gt; Dctr | Driver load RPostgres
db$unloadDriver() # Reset database handling object
#&gt; dctr | Driver unload RPostgres
</pre></div>
<p>Option 2
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB() # New database handling object
#&gt; dctr | New object
db$setupDriver( # Setup PostgreSQL database
  drv = RPostgres::Postgres(),
  host = "127.0.0.1", port = "5432", dbname = "mydb",
  user = "postgres", password = "password"
)
#&gt; Dctr | Driver load RPostgres
db$unloadDriver() # Reset database handling object
#&gt; dctr | Driver unload RPostgres
</pre></div>



<h4>
<em>RMariaDB</em> package</h4>

<p><a href="https://github.com/r-dbi/RMariaDB"><em>RMariaDB</em></a> package for handling of
MariaDB and MySQL database connections. It is required for the
setupMariaDB() function of <em>rocker</em> class.
</p>
<div class="sourceCode r"><pre>install.packages("RMariaDB")
</pre></div>
<p><strong>Setup database</strong>
</p>
<p>Option 1
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB() # New database handling object
#&gt; dctr | New object
db$setupMariaDB( # Setup MariaDB database
  host = "127.0.0.1", port = "3306", dbname = "mydb",
  user = "root", password = "password"
)
#&gt; Dctr | Driver load RMariaDB
db$unloadDriver() # Reset database handling object
#&gt; dctr | Driver unload RMariaDB
</pre></div>
<p>Option 2
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB() # New database handling object
#&gt; dctr | New object
db$setupDriver( # Setup MariaDB database
  drv = RMariaDB::MariaDB(),
  host = "127.0.0.1", port = "3306", dbname = "mydb",
  user = "root", password = "password"
)
#&gt; Dctr | Driver load RMariaDB
db$unloadDriver() # Reset database handling object
#&gt; dctr | Driver unload RMariaDB
</pre></div>



<h4>
<em>crayon</em> package</h4>

<p>The <a href="https://github.com/r-lib/crayon"><em>crayon</em></a> package is required for
colored terminal output. If missing terminal output is monochrome.
</p>
<div class="sourceCode r"><pre>install.packages("crayon")
</pre></div>



<h3>Database connection</h3>

<p>There are different ways to open a connection and to get data.
</p>
<p>Prepare database with a table
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB() # New database handling object
</pre></div>
<div class="sourceCode"><pre>## dctr | New object
</pre></div>
<div class="sourceCode r"><pre>db$setupSQLite(dbname = tempfile()) # Setup SQLite database
</pre></div>
<div class="sourceCode"><pre>## Dctr | Driver load RSQLite
</pre></div>
<div class="sourceCode r"><pre>db$connect() # Open connection
</pre></div>
<div class="sourceCode"><pre>## DCtr | Database connected
</pre></div>
<div class="sourceCode r"><pre>db$writeTable("mtcars", mtcars) # Create table for testing
</pre></div>
<div class="sourceCode"><pre>## DCtr | Write table mtcars columns mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb rows 32
</pre></div>
<div class="sourceCode r"><pre>db$disconnect() # Close connection
</pre></div>
<div class="sourceCode"><pre>## Dctr | Database disconnected
</pre></div>
<p><strong>Example 1</strong>
</p>
<p>Get query with automatic connection / disconnection
</p>
<div class="sourceCode r"><pre>output &lt;- db$getQuery("SELECT * FROM mtcars;") # Get query
</pre></div>
<div class="sourceCode"><pre>## DCtr | Database connected 
## DCtR | Send query 21 characters 
## DCtR | Fetch rows all -&gt; Received 32 rows, 11 columns, 4824 bytes 
## DCtR | Rows fetched 32 
## DCtR | Has completed yes 
## DCtr | Clear result 
## Dctr | Database disconnected
</pre></div>
<p><strong>Example 2</strong>
</p>
<p>Get query with manual connection / disconnection
</p>
<div class="sourceCode r"><pre>db$connect() # Open connection
</pre></div>
<div class="sourceCode"><pre>## DCtr | Database connected
</pre></div>
<div class="sourceCode r"><pre>output1 &lt;- db$getQuery("SELECT * FROM mtcars;") # Get query 1
</pre></div>
<div class="sourceCode"><pre>## DCtR | Send query 21 characters 
## DCtR | Fetch rows all -&gt; Received 32 rows, 11 columns, 4824 bytes 
## DCtR | Rows fetched 32 
## DCtR | Has completed yes 
## DCtr | Clear result
</pre></div>
<div class="sourceCode r"><pre>output2 &lt;- db$getQuery("SELECT * FROM mtcars;", 15) # Get query 2
</pre></div>
<div class="sourceCode"><pre>## DCtR | Send query 21 characters 
## DCtR | Fetch rows 15 -&gt; Received 15 rows, 11 columns, 3416 bytes 
## DCtR | Rows fetched 15 
## DCtR | Has completed no 
## DCtR | Fetch rows 15 -&gt; Received 15 rows, 11 columns, 3416 bytes 
## DCtR | Rows fetched 30 
## DCtR | Has completed no 
## DCtR | Fetch rows 15 -&gt; Received 2 rows, 11 columns, 2184 bytes 
## DCtR | Rows fetched 32 
## DCtR | Has completed yes 
## DCtr | Clear result
</pre></div>
<div class="sourceCode r"><pre>db$disconnect() # Close connection
</pre></div>
<div class="sourceCode"><pre>## Dctr | Database disconnected
</pre></div>
<p><strong>Example 3</strong>
</p>
<p>Function getQuery() is a combination of functions sendQuery(), fetch()
and clearResult().
</p>
<div class="sourceCode r"><pre>db$connect() # Open connection
</pre></div>
<div class="sourceCode"><pre>## DCtr | Database connected
</pre></div>
<div class="sourceCode r"><pre>db$sendQuery("SELECT * FROM mtcars;") # Send query
</pre></div>
<div class="sourceCode"><pre>## DCtR | Send query 21 characters
</pre></div>
<div class="sourceCode r"><pre>output &lt;- db$fetch() # Fetch result
</pre></div>
<div class="sourceCode"><pre>## DCtR | Fetch rows all -&gt; Received 32 rows, 11 columns, 4824 bytes
</pre></div>
<div class="sourceCode r"><pre>db$clearResult() # Clean up result
</pre></div>
<div class="sourceCode"><pre>## DCtr | Clear result
</pre></div>
<div class="sourceCode r"><pre>db$disconnect() # Close connection
</pre></div>
<div class="sourceCode"><pre>## Dctr | Database disconnected
</pre></div>
<p>Clean up
</p>
<div class="sourceCode r"><pre>db$unloadDriver() # Reset database handling object
</pre></div>
<div class="sourceCode"><pre>## dctr | Driver unload RSQLite
</pre></div>


<h3>Password storage</h3>

<p>Some efforts were undertaken to encrypt and to protect the password in
the private area of the class. The class stores the password hidden and
inaccessible. <strong>Please let me know, in case you discover a way how to
access the password!</strong>
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB() # New database handling object
#&gt; dctr | New object
db$setupDriver( # Setup PostgreSQL database with stored password (password and user are hidden - default behavior)
  RPostgres::Postgres(),
  host = "127.0.0.1", port = "5432", dbname = "mydb",
  user = "postgres", password = "password",
  protect = c("password", "user")
)
#&gt; Dctr | Driver load RPostgres
</pre></div>
<div class="sourceCode r"><pre>db$connect() # Open connection 1; Password is stored in the class and does not need to be provided.
#&gt; DCtr | Database connected
output1 &lt;- db$getQuery("SELECT * FROM mtcars;") # Get query 1
#&gt; DCtR | Send query 21 characters 
#&gt; DCtR | Fetch rows all -&gt; Received 32 rows, 11 columns, 4824 bytes 
#&gt; DCtR | Rows fetched 32 
#&gt; DCtR | Has completed yes 
#&gt; DCtr | Clear result
db$disconnect() # Close connection 1
#&gt; Dctr | Database disconnected
</pre></div>
<div class="sourceCode r"><pre>db$connect() # Open connection 2; Password is stored in the class and does not need to be provided.
#&gt; DCtr | Database connected
output2 &lt;- db$getQuery("SELECT * FROM mtcars;") # Get query 2
#&gt; DCtR | Send query 21 characters 
#&gt; DCtR | Fetch rows all -&gt; Received 32 rows, 11 columns, 4824 bytes 
#&gt; DCtR | Rows fetched 32 
#&gt; DCtR | Has completed yes 
#&gt; DCtr | Clear result
db$disconnect() # Close connection 2
#&gt; Dctr | Database disconnected
</pre></div>
<div class="sourceCode r"><pre>db$unloadDriver() # Reset database handling object
#&gt; dctr | Driver unload RPostgres
</pre></div>
<p>In case you do not want to store the password in the class, you will
need to provide it each time a connection is opened.
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB() # New database handling object
#&gt; dctr | New object
db$setupDriver( # Setup PostgreSQL database without stored password
  RPostgres::Postgres(),
  host = "127.0.0.1", port = "5432", dbname = "mydb",
  user = "postgres"
)
#&gt; Dctr | Driver load RPostgres
</pre></div>
<div class="sourceCode r"><pre>db$connect(password = "password") # Open connection 1; Password needs to be provided.
#&gt; DCtr | Database connected
output1 &lt;- db$getQuery("SELECT * FROM mtcars;") # Get query 1
#&gt; DCtR | Send query 21 characters 
#&gt; DCtR | Fetch rows all -&gt; Received 32 rows, 11 columns, 4824 bytes 
#&gt; DCtR | Rows fetched 32 
#&gt; DCtR | Has completed yes 
#&gt; DCtr | Clear result
db$disconnect() # Close connection 1
#&gt; Dctr | Database disconnected
</pre></div>
<div class="sourceCode r"><pre>db$connect(password = "password") # Open connection 2; Password needs to be provided.
#&gt; DCtr | Database connected
output2 &lt;- db$getQuery("SELECT * FROM mtcars;") # Get query 2
#&gt; DCtR | Send query 21 characters 
#&gt; DCtR | Fetch rows all -&gt; Received 32 rows, 11 columns, 4824 bytes 
#&gt; DCtR | Rows fetched 32 
#&gt; DCtR | Has completed yes 
#&gt; DCtr | Clear result
db$disconnect() # Close connection 2
#&gt; Dctr | Database disconnected
</pre></div>
<div class="sourceCode r"><pre>db$unloadDriver() # Reset database handling object
#&gt; dctr | Driver unload RPostgres
</pre></div>


<h3>
<em>DBI</em> objects</h3>

<p><em>rocker</em> class encapsulates the <em>DBI</em> objects driver, connection and
result. If required, these objects can be directly used with <em>DBI</em>
functions. <strong>However, it is recommended to use this option with care!</strong>
Direct usage of <em>DBI</em> functions, may disrupt proper function of <em>rocker</em>
class. Many <em>DBI</em> functions are implemented in <em>rocker</em> class. Whenever
possible, use the <em>rocker</em> class functions.
</p>
<p>Prepare object
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB() # New database handling object
</pre></div>
<div class="sourceCode"><pre>## dctr | New object
</pre></div>
<div class="sourceCode r"><pre>db$.drv # Empty driver
</pre></div>
<div class="sourceCode"><pre>## NULL
</pre></div>
<div class="sourceCode r"><pre>db$.con # Empty connection
</pre></div>
<div class="sourceCode"><pre>## NULL
</pre></div>
<div class="sourceCode r"><pre>db$.res # Empty result
</pre></div>
<div class="sourceCode"><pre>## NULL
</pre></div>


<h4>DBIDriver-class</h4>

<div class="sourceCode r"><pre>db$setupSQLite() # Setup SQLite database
</pre></div>
<div class="sourceCode"><pre>## Dctr | Driver load RSQLite
</pre></div>
<div class="sourceCode r"><pre>db$.drv # 'DBI' DBIDriver-class
</pre></div>
<div class="sourceCode"><pre>## &lt;SQLiteDriver&gt;
</pre></div>
<div class="sourceCode r"><pre>db$getInfoDrv() # 'rocker' class function
</pre></div>
<div class="sourceCode"><pre>## Dctr | Driver info 2.2.16 (driver.version), 3.39.2 (client.version)

## $driver.version
## [1] '2.2.16'
## 
## $client.version
## [1] '3.39.2'
</pre></div>
<div class="sourceCode r"><pre>DBI::dbGetInfo(db$.drv) # Direct usage of 'DBI' function on 'rocker' class
</pre></div>
<div class="sourceCode"><pre>## $driver.version
## [1] '2.2.16'
## 
## $client.version
## [1] '3.39.2'
</pre></div>
<div class="sourceCode r"><pre>RSQLite::dbGetInfo(db$.drv) # Direct usage of driver package, 'RSQLite', function on 'rocker' class
</pre></div>
<div class="sourceCode"><pre>## $driver.version
## [1] '2.2.16'
## 
## $client.version
## [1] '3.39.2'
</pre></div>



<h4>DBIConnection-class</h4>

<div class="sourceCode r"><pre>db$connect() # Open connection
</pre></div>
<div class="sourceCode"><pre>## DCtr | Database connected
</pre></div>
<div class="sourceCode r"><pre>db$.con # 'DBI' DBIConnection-class
</pre></div>
<div class="sourceCode"><pre>## &lt;SQLiteConnection&gt;
##   Path: :memory:
##   Extensions: TRUE
</pre></div>
<div class="sourceCode r"><pre>db$getInfoCon() # 'rocker' class function
</pre></div>
<div class="sourceCode"><pre>## DCtr | Connection info 3.39.2 (db.version), :memory: (dbname), NA (username), NA (host), NA (port)

## $db.version
## [1] "3.39.2"
## 
## $dbname
## [1] ":memory:"
## 
## $username
## [1] NA
## 
## $host
## [1] NA
## 
## $port
## [1] NA
</pre></div>
<div class="sourceCode r"><pre>DBI::dbGetInfo(db$.con) # Direct usage of 'DBI' function on 'rocker' class
</pre></div>
<div class="sourceCode"><pre>## $db.version
## [1] "3.39.2"
## 
## $dbname
## [1] ":memory:"
## 
## $username
## [1] NA
## 
## $host
## [1] NA
## 
## $port
## [1] NA
</pre></div>
<div class="sourceCode r"><pre>RSQLite::dbGetInfo(db$.con) # Direct usage of driver package, 'RSQLite', function on 'rocker' class
</pre></div>
<div class="sourceCode"><pre>## $db.version
## [1] "3.39.2"
## 
## $dbname
## [1] ":memory:"
## 
## $username
## [1] NA
## 
## $host
## [1] NA
## 
## $port
## [1] NA
</pre></div>
<p>Prepare table
</p>
<div class="sourceCode r"><pre>db$writeTable("mtcars", mtcars) # Create table for testing
</pre></div>
<div class="sourceCode"><pre>## DCtr | Write table mtcars columns mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb rows 32
</pre></div>



<h4>DBIResult-class</h4>

<div class="sourceCode r"><pre>db$sendQuery("SELECT * FROM mtcars;") # Send query
</pre></div>
<div class="sourceCode"><pre>## DCtR | Send query 21 characters
</pre></div>
<div class="sourceCode r"><pre>db$.res # 'DBI' DBIResult-class
</pre></div>
<div class="sourceCode"><pre>## &lt;SQLiteResult&gt;
##   SQL  SELECT * FROM mtcars;
##   ROWS Fetched: 0 [incomplete]
##        Changed: 0
</pre></div>
<div class="sourceCode r"><pre>db$getInfoRes() # 'rocker' class function
</pre></div>
<div class="sourceCode"><pre>## DCtR | Result info SELECT * FROM mtcars; (statement), 0 (row.count), 0 (rows.affected), FALSE (has.completed)

## $statement
## [1] "SELECT * FROM mtcars;"
## 
## $row.count
## [1] 0
## 
## $rows.affected
## [1] 0
## 
## $has.completed
## [1] FALSE
</pre></div>
<div class="sourceCode r"><pre>DBI::dbGetInfo(db$.res) # Direct usage of 'DBI' function on 'rocker' class
</pre></div>
<div class="sourceCode"><pre>## $statement
## [1] "SELECT * FROM mtcars;"
## 
## $row.count
## [1] 0
## 
## $rows.affected
## [1] 0
## 
## $has.completed
## [1] FALSE
</pre></div>
<div class="sourceCode r"><pre>RSQLite::dbGetInfo(db$.res) # Direct usage of driver package, 'RSQLite', function on 'rocker' class
</pre></div>
<div class="sourceCode"><pre>## $statement
## [1] "SELECT * FROM mtcars;"
## 
## $row.count
## [1] 0
## 
## $rows.affected
## [1] 0
## 
## $has.completed
## [1] FALSE
</pre></div>
<p>Clean up
</p>
<div class="sourceCode r"><pre>db$clearResult() # Clean up result
</pre></div>
<div class="sourceCode"><pre>## DCtr | Clear result
</pre></div>
<div class="sourceCode r"><pre>db$.res # Empty result
</pre></div>
<div class="sourceCode"><pre>## NULL
</pre></div>
<div class="sourceCode r"><pre>db$disconnect() # Close connection
</pre></div>
<div class="sourceCode"><pre>## Dctr | Database disconnected
</pre></div>
<div class="sourceCode r"><pre>db$.con # Empty connection
</pre></div>
<div class="sourceCode"><pre>## NULL
</pre></div>
<div class="sourceCode r"><pre>db$unloadDriver() # Reset database handling object
</pre></div>
<div class="sourceCode"><pre>## dctr | Driver unload RSQLite
</pre></div>
<div class="sourceCode r"><pre>db$.drv # Empty driver
</pre></div>
<div class="sourceCode"><pre>## NULL
</pre></div>



<h3>
<em>DBI</em> functions in <em>rocker</em>
</h3>

<p>Generally, <em>rocker</em> function names are related to <em>DBI</em> function names.
In <em>rocker</em> functions, the leading <strong>db</strong> is removed.
</p>
<p>In <em>DBI</em> most functions need to be supplied with a driver
<sup>(drv)</sup>, connection <sup>(conn)</sup> or result
<sup>(res)</sup> object. In <em>rocker</em>, functions automatically access the
corresponding objects <sup>(.drv,</sup><sup>.con</sup><sup>and</sup><sup>.res)</sup> stored in the class.
</p>
<p><strong><em>DBI</em> example</strong>
</p>
<div class="sourceCode r"><pre>drv &lt;- RSQLite::SQLite() # SQLite driver
DBI::dbCanConnect( # Test parameter
  drv = drv,
  dbname = ":memory:"
)
</pre></div>
<div class="sourceCode"><pre>## [1] TRUE
</pre></div>
<div class="sourceCode r"><pre>con &lt;- DBI::dbConnect( # Open connection
  drv = drv,
  dbname = ":memory:"
)
DBI::dbWriteTable(con, "mtcars", mtcars) # Create table for testing
res &lt;- DBI::dbSendQuery(con, "SELECT * FROM mtcars;") # Send query
output &lt;- DBI::dbFetch(res) # Fetch result
DBI::dbClearResult(res) # Clean up result
DBI::dbDisconnect(con) # Close connection
DBI::dbUnloadDriver(drv) # Unload driver
</pre></div>
<p><strong><em>rocker</em> example</strong>
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB(verbose = FALSE) # New database handling object
db$setupDriver( # Setup SQLite database
  drv = RSQLite::SQLite(),
  dbname = ":memory:"
)
db$canConnect() # Test parameter
</pre></div>
<div class="sourceCode"><pre>## [1] TRUE
</pre></div>
<div class="sourceCode r"><pre>db$connect() # Open connection
db$writeTable("mtcars", mtcars) # Create table for testing
db$sendQuery("SELECT * FROM mtcars;") # Send query
output &lt;- db$fetch() # Fetch result
db$clearResult() # Clean up result
db$disconnect() # Close connection
db$unloadDriver() # Reset database handling object
</pre></div>


<h4>List of functions</h4>


<table>
<tr>
<td style="text-align: left;">
   <em>rocker</em> function </td>
<td style="text-align: left;"> Corresponding <em>DBI</em> function </td>
<td style="text-align: left;"> <em>DBI</em> object used </td>
<td style="text-align: left;"> Comment </td>
</tr>
<tr>
<td style="text-align: left;">
   initialize() </td>
<td style="text-align: left;"> <em>none</em> </td>
<td style="text-align: left;"> <em>none</em> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   print() </td>
<td style="text-align: left;"> <em>none</em> </td>
<td style="text-align: left;"> <em>none</em> </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   setupDriver() </td>
<td style="text-align: left;"> <em>none</em> </td>
<td style="text-align: left;"> <em>driver from appropriate package</em> </td>
<td style="text-align: left;"> Usually, parameters provided to dbConnect() in <em>DBI</em> are provided to setupDriver() in <em>rocker</em> </td>
</tr>
<tr>
<td style="text-align: left;">
   setupPostgreSQL() </td>
<td style="text-align: left;"> <em>none</em> </td>
<td style="text-align: left;"> <em>none</em> </td>
<td style="text-align: left;"> RPostgres::Postgres() is used with <em>rocker</em> function setupDriver() </td>
</tr>
<tr>
<td style="text-align: left;">
   setupMariaDB() </td>
<td style="text-align: left;"> <em>none</em> </td>
<td style="text-align: left;"> <em>none</em> </td>
<td style="text-align: left;"> RMariaDB::MariaDB() is used with <em>rocker</em> function setupDriver() </td>
</tr>
<tr>
<td style="text-align: left;">
   setupSQLite() </td>
<td style="text-align: left;"> <em>none</em> </td>
<td style="text-align: left;"> <em>none</em> </td>
<td style="text-align: left;"> RSQLite::SQLite() is used with <em>rocker</em> function setupDriver() </td>
</tr>
<tr>
<td style="text-align: left;">
   unloadDriver() </td>
<td style="text-align: left;"> dbUnloadDriver() </td>
<td style="text-align: left;"> driver </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   canConnect() </td>
<td style="text-align: left;"> dbCanConnect() </td>
<td style="text-align: left;"> driver </td>
<td style="text-align: left;"> Usually, parameters provided to dbCanConnect() in <em>DBI</em> are provided to setupDriver() in <em>rocker</em> </td>
</tr>
<tr>
<td style="text-align: left;">
   connect() </td>
<td style="text-align: left;"> dbConnect() </td>
<td style="text-align: left;"> driver </td>
<td style="text-align: left;"> Usually, parameters provided to dbConnect() in <em>DBI</em> are provided to setupDriver() in <em>rocker</em> </td>
</tr>
<tr>
<td style="text-align: left;">
   disconnect() </td>
<td style="text-align: left;"> dbDisconnect() </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   sendQuery() </td>
<td style="text-align: left;"> dbSendQuery() </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   getQuery() </td>
<td style="text-align: left;"> Is <strong>not</strong> using dbGetQuery(), but has the same function </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;"> Especially, combination of <em>rocker</em> functions sendQuery(), fetch() and clearResult() </td>
</tr>
<tr>
<td style="text-align: left;">
   sendStatement() </td>
<td style="text-align: left;"> dbSendStatement() </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   execute() </td>
<td style="text-align: left;"> Is <strong>not</strong> using dbExecute(), but has the same function </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;"> Especially, combination of <em>rocker</em> functions sendStatement() and clearResult() </td>
</tr>
<tr>
<td style="text-align: left;">
   fetch() </td>
<td style="text-align: left;"> dbFetch() </td>
<td style="text-align: left;"> result </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   hasCompleted() </td>
<td style="text-align: left;"> dbHasCompleted() </td>
<td style="text-align: left;"> result </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   getRowsAffected() </td>
<td style="text-align: left;"> dbGetRowsAffected() </td>
<td style="text-align: left;"> result </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   getRowCount() </td>
<td style="text-align: left;"> dbGetRowCount() </td>
<td style="text-align: left;"> result </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   columnInfo() </td>
<td style="text-align: left;"> dbColumnInfo() </td>
<td style="text-align: left;"> result </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   getStatement() </td>
<td style="text-align: left;"> dbGetStatement() </td>
<td style="text-align: left;"> result </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   clearResult() </td>
<td style="text-align: left;"> dbClearResult() </td>
<td style="text-align: left;"> result </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   begin() </td>
<td style="text-align: left;"> dbBegin() </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   commit() </td>
<td style="text-align: left;"> dbCommit() </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   rollback() </td>
<td style="text-align: left;"> dbRollback() </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   getInfoDrv() </td>
<td style="text-align: left;"> dbGetInfo() </td>
<td style="text-align: left;"> driver </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   getInfoCon() </td>
<td style="text-align: left;"> dbGetInfo() </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   getInfoRes() </td>
<td style="text-align: left;"> dbGetInfo() </td>
<td style="text-align: left;"> result </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   isValidDrv() </td>
<td style="text-align: left;"> dbIsValid() </td>
<td style="text-align: left;"> driver </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   isValidCon() </td>
<td style="text-align: left;"> dbIsValid() </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   isValidRes() </td>
<td style="text-align: left;"> dbIsValid() </td>
<td style="text-align: left;"> result </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   createTable() </td>
<td style="text-align: left;"> dbCreateTable() </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   appendTable() </td>
<td style="text-align: left;"> dbAppendTable() </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   writeTable() </td>
<td style="text-align: left;"> dbWriteTable </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   readTable() </td>
<td style="text-align: left;"> dbReadTable </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   removeTable() </td>
<td style="text-align: left;"> dbRemoveTable() </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   existsTable() </td>
<td style="text-align: left;"> dbExistsTable() </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   listFields() </td>
<td style="text-align: left;"> dbListFields() </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   listObjects() </td>
<td style="text-align: left;"> dbListObjects() </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   listTables() </td>
<td style="text-align: left;"> dbListTables() </td>
<td style="text-align: left;"> connection </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>Transaction</h3>

<p>Setup database and a table with 32 rows.
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB() # New database handling object
</pre></div>
<div class="sourceCode"><pre>## dctr | New object
</pre></div>
<div class="sourceCode r"><pre>db$setupSQLite() # Setup SQLite database
</pre></div>
<div class="sourceCode"><pre>## Dctr | Driver load RSQLite
</pre></div>
<div class="sourceCode r"><pre>db$connect() # Open connection
</pre></div>
<div class="sourceCode"><pre>## DCtr | Database connected
</pre></div>
<div class="sourceCode r"><pre>db$writeTable("mtcars", mtcars) # Create table for testing
</pre></div>
<div class="sourceCode"><pre>## DCtr | Write table mtcars columns mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb rows 32
</pre></div>
<div class="sourceCode r"><pre>output &lt;- db$getQuery("SELECT * FROM mtcars;") # Get query -&gt; 32 rows
</pre></div>
<div class="sourceCode"><pre>## DCtR | Send query 21 characters 
## DCtR | Fetch rows all -&gt; Received 32 rows, 11 columns, 4824 bytes 
## DCtR | Rows fetched 32 
## DCtR | Has completed yes 
## DCtr | Clear result
</pre></div>
<div class="sourceCode r"><pre>db$transaction # Transaction indicator
</pre></div>
<div class="sourceCode"><pre>## [1] FALSE
</pre></div>
<p>Starting with a table with 32 rows, begin transaction 1. Delete 15 rows
and commit transaction. Operations results in a table with 17 rows.
</p>
<div class="sourceCode r"><pre>db$begin() # Start transaction 1
</pre></div>
<div class="sourceCode"><pre>## DCTr | Transaction begin
</pre></div>
<div class="sourceCode r"><pre>db$transaction # Transaction indicator
</pre></div>
<div class="sourceCode"><pre>## [1] TRUE
</pre></div>
<div class="sourceCode r"><pre>AFFECTED &lt;- db$execute("DELETE FROM mtcars WHERE gear = 3;") # Modify table -&gt; 15 rows
</pre></div>
<div class="sourceCode"><pre>## DCTR | Send statement 34 characters 
## DCTR | Rows affected 15 
## DCTr | Clear result
</pre></div>
<div class="sourceCode r"><pre>db$commit() # Commit transaction 1
</pre></div>
<div class="sourceCode"><pre>## DCtr | Transaction commit
</pre></div>
<div class="sourceCode r"><pre>db$transaction # Transaction indicator
</pre></div>
<div class="sourceCode"><pre>## [1] FALSE
</pre></div>
<div class="sourceCode r"><pre>output &lt;- db$getQuery("SELECT * FROM mtcars;") # Get query -&gt; 17 rows
</pre></div>
<div class="sourceCode"><pre>## DCtR | Send query 21 characters 
## DCtR | Fetch rows all -&gt; Received 17 rows, 11 columns, 3504 bytes 
## DCtR | Rows fetched 17 
## DCtR | Has completed yes 
## DCtr | Clear result
</pre></div>
<p>Starting with a table with 17 rows, begin transaction 2. Delete 5 rows
and rollback transaction. Operations results in a table with 17 rows.
</p>
<div class="sourceCode r"><pre>db$begin() # Start transaction 2
</pre></div>
<div class="sourceCode"><pre>## DCTr | Transaction begin
</pre></div>
<div class="sourceCode r"><pre>db$transaction # Transaction indicator
</pre></div>
<div class="sourceCode"><pre>## [1] TRUE
</pre></div>
<div class="sourceCode r"><pre>AFFECTED &lt;- db$execute("DELETE FROM mtcars WHERE gear = 5;") # Modify table -&gt; 5 rows
</pre></div>
<div class="sourceCode"><pre>## DCTR | Send statement 34 characters 
## DCTR | Rows affected 5 
## DCTr | Clear result
</pre></div>
<div class="sourceCode r"><pre>output &lt;- db$getQuery("SELECT * FROM mtcars;") # Get query -&gt; 12 rows
</pre></div>
<div class="sourceCode"><pre>## DCTR | Send query 21 characters 
## DCTR | Fetch rows all -&gt; Received 12 rows, 11 columns, 3416 bytes 
## DCTR | Rows fetched 12 
## DCTR | Has completed yes 
## DCTr | Clear result
</pre></div>
<div class="sourceCode r"><pre>db$rollback() # Rollback transaction 2
</pre></div>
<div class="sourceCode"><pre>## DCtr | Transaction rollback
</pre></div>
<div class="sourceCode r"><pre>db$transaction # Transaction indicator
</pre></div>
<div class="sourceCode"><pre>## [1] FALSE
</pre></div>
<div class="sourceCode r"><pre>output &lt;- db$getQuery("SELECT * FROM mtcars;") # Get query -&gt; 17 rows
</pre></div>
<div class="sourceCode"><pre>## DCtR | Send query 21 characters 
## DCtR | Fetch rows all -&gt; Received 17 rows, 11 columns, 3504 bytes 
## DCtR | Rows fetched 17 
## DCtR | Has completed yes 
## DCtr | Clear result
</pre></div>
<p>Clean up
</p>
<div class="sourceCode r"><pre>db$disconnect() # Close connection
</pre></div>
<div class="sourceCode"><pre>## Dctr | Database disconnected
</pre></div>
<div class="sourceCode r"><pre>db$unloadDriver() # Reset database handling object
</pre></div>
<div class="sourceCode"><pre>## dctr | Driver unload RSQLite
</pre></div>


<h3>Usage of S3 and R6 functions</h3>

<p>Although <em>rocker</em> is a <em>R6</em> class, functions can be also accesses in
classical S3 way.
</p>
<p><strong>S3 example</strong>
</p>
<div class="sourceCode r"><pre>library(rocker)
db &lt;- newDB()
</pre></div>
<div class="sourceCode"><pre>## dctr | New object
</pre></div>
<div class="sourceCode r"><pre>setupDriver(db, drv = RSQLite::SQLite(), dbname = ":memory:")
</pre></div>
<div class="sourceCode"><pre>## Dctr | Driver load RSQLite
</pre></div>
<div class="sourceCode r"><pre>connect(db)
</pre></div>
<div class="sourceCode"><pre>## DCtr | Database connected
</pre></div>
<div class="sourceCode r"><pre>writeTable(db, "mtcars", mtcars)
</pre></div>
<div class="sourceCode"><pre>## DCtr | Write table mtcars columns mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb rows 32
</pre></div>
<div class="sourceCode r"><pre>sendQuery(db, "SELECT * FROM mtcars;")
</pre></div>
<div class="sourceCode"><pre>## DCtR | Send query 21 characters
</pre></div>
<div class="sourceCode r"><pre>output &lt;- fetch(db)
</pre></div>
<div class="sourceCode"><pre>## DCtR | Fetch rows all -&gt; Received 32 rows, 11 columns, 4824 bytes
</pre></div>
<div class="sourceCode r"><pre>clearResult(db)
</pre></div>
<div class="sourceCode"><pre>## DCtr | Clear result
</pre></div>
<div class="sourceCode r"><pre>disconnect(db)
</pre></div>
<div class="sourceCode"><pre>## Dctr | Database disconnected
</pre></div>
<div class="sourceCode r"><pre>unloadDriver(db)
</pre></div>
<div class="sourceCode"><pre>## dctr | Driver unload RSQLite
</pre></div>
<p><strong>R6 example</strong>
</p>
<div class="sourceCode r"><pre>db &lt;- rocker::newDB()
</pre></div>
<div class="sourceCode"><pre>## dctr | New object
</pre></div>
<div class="sourceCode r"><pre>db$setupDriver(drv = RSQLite::SQLite(), dbname = ":memory:")
</pre></div>
<div class="sourceCode"><pre>## Dctr | Driver load RSQLite
</pre></div>
<div class="sourceCode r"><pre>db$connect()
</pre></div>
<div class="sourceCode"><pre>## DCtr | Database connected
</pre></div>
<div class="sourceCode r"><pre>db$writeTable("mtcars", mtcars)
</pre></div>
<div class="sourceCode"><pre>## DCtr | Write table mtcars columns mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb rows 32
</pre></div>
<div class="sourceCode r"><pre>db$sendQuery("SELECT * FROM mtcars;")
</pre></div>
<div class="sourceCode"><pre>## DCtR | Send query 21 characters
</pre></div>
<div class="sourceCode r"><pre>output &lt;- db$fetch()
</pre></div>
<div class="sourceCode"><pre>## DCtR | Fetch rows all -&gt; Received 32 rows, 11 columns, 4824 bytes
</pre></div>
<div class="sourceCode r"><pre>db$clearResult()
</pre></div>
<div class="sourceCode"><pre>## DCtr | Clear result
</pre></div>
<div class="sourceCode r"><pre>db$disconnect()
</pre></div>
<div class="sourceCode"><pre>## Dctr | Database disconnected
</pre></div>
<div class="sourceCode r"><pre>db$unloadDriver()
</pre></div>
<div class="sourceCode"><pre>## dctr | Driver unload RSQLite
</pre></div>


<h3>See Also</h3>

<p>Other rocker: 
<code>newDB()</code>,
<code>rocker-R6-class</code>,
<code>rocker-S3-functions</code>,
<code>rocker-package</code>
</p>
<p>Other rocker-S3-functions: 
<code>appendTable()</code>,
<code>begin()</code>,
<code>canConnect()</code>,
<code>clearResult()</code>,
<code>columnInfo()</code>,
<code>commit()</code>,
<code>connect()</code>,
<code>createTable()</code>,
<code>disconnect()</code>,
<code>execute()</code>,
<code>existsTable()</code>,
<code>fetch()</code>,
<code>getInfoCon()</code>,
<code>getInfoDrv()</code>,
<code>getInfoRes()</code>,
<code>getQuery()</code>,
<code>getRowCount()</code>,
<code>getRowsAffected()</code>,
<code>getStatement()</code>,
<code>hasCompleted()</code>,
<code>isValidCon()</code>,
<code>isValidDrv()</code>,
<code>isValidRes()</code>,
<code>listFields()</code>,
<code>listObjects()</code>,
<code>listTables()</code>,
<code>readTable()</code>,
<code>removeTable()</code>,
<code>rocker-S3-functions</code>,
<code>rocker-package</code>,
<code>rollback()</code>,
<code>sendQuery()</code>,
<code>sendStatement()</code>,
<code>setupDriver()</code>,
<code>setupMariaDB()</code>,
<code>setupPostgreSQL()</code>,
<code>setupSQLite()</code>,
<code>unloadDriver()</code>,
<code>validateCon()</code>,
<code>writeTable()</code>
</p>


</div>