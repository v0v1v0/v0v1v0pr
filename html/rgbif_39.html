<div class="container">

<table style="width: 100%;"><tr>
<td>elevation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get elevation for lat/long points from a data.frame or list of points.</h2>

<h3>Description</h3>

<p>Uses the GeoNames web service
</p>


<h3>Usage</h3>

<pre><code class="language-R">elevation(
  input = NULL,
  latitude = NULL,
  longitude = NULL,
  latlong = NULL,
  elevation_model = "srtm3",
  username = Sys.getenv("GEONAMES_USER"),
  key,
  curlopts,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p>A data.frame of lat/long data. There must be columns
decimalLatitude and decimalLongitude.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>latitude</code></td>
<td>
<p>A vector of latitude's. Must be the same length as the
longitude vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>longitude</code></td>
<td>
<p>A vector of longitude's. Must be the same length as
the latitude vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>latlong</code></td>
<td>
<p>A vector of lat/long pairs. See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>elevation_model</code></td>
<td>
<p>(character) one of srtm3 (default), srtm1, astergdem,
or gtopo30. See "Elevation models" below for more</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>username</code></td>
<td>
<p>(character) Required. An GeoNames user name. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key, curlopts</code></td>
<td>
<p>defunct. see docs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>curl options passed on to crul::verb-GET
see <code>curl::curl_options()</code> for curl options</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A new column named <code>elevation_geonames</code> in the supplied data.frame
or a vector with elevation of each location in meters. Note that data from
GBIF can already have a column named <code>elevation</code>, thus the column we
add is named differently.
</p>


<h3>GeoNames user name</h3>

<p>To get a GeoNames user name, register for an account at
http://www.geonames.org/login - then you can enable your account for the
GeoNames webservice on your account page
(http://www.geonames.org/manageaccount). Once you are enabled to use
the webservice, you can pass in your username to the <code>username</code>
parameter. Better yet, store your username in your <code>.Renviron</code> file, or
similar (e.g., .zshrc or .bash_profile files) and read it in via
<code>Sys.getenv()</code> as in the examples below. By default we do
<code>Sys.getenv("GEONAMES_USER")</code> for the <code>username</code> parameter.
</p>


<h3>Elevation models</h3>


<ul>
<li>
<p> srtm3:
</p>

<ul>
<li>
<p> sample area: ca 90m x 90m
</p>
</li>
<li>
<p> result: a single number giving the elevation in meters according to
srtm3, ocean areas have been masked as "no data" and have been assigned
a value of -32768
</p>
</li>
</ul>
</li>
<li>
<p> srtm1:
</p>

<ul>
<li>
<p> sample area: ca 30m x 30m
</p>
</li>
<li>
<p> result: a single number giving the elevation in meters according to
srtm1, ocean areas have been masked as "no data" and have been assigned
a value of -32768
</p>
</li>
</ul>
</li>
<li>
<p> astergdem (Aster Global Digital Elevation Model V2 2011):
</p>

<ul>
<li>
<p> sample area: ca 30m x 30m, between 83N and 65S latitude
</p>
</li>
<li>
<p> result: a single number giving the elevation in meters according to
aster gdem, ocean areas have been masked as "no data" and have been
assigned a value of -32768
</p>
</li>
</ul>
</li>
<li>
<p> gtopo30:
</p>

<ul>
<li>
<p> sample area: ca 1km x 1km
</p>
</li>
<li>
<p> result: a single number giving the elevation in meters according to
gtopo30, ocean areas have been masked as "no data" and have been
assigned a value of -9999
</p>
</li>
</ul>
</li>
</ul>
<h3>References</h3>

<p>GeoNames http://www.geonames.org/export/web-services.html
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
user &lt;- Sys.getenv("GEONAMES_USER")

occ_key &lt;- name_suggest('Puma concolor')$key[1]
dat &lt;- occ_search(taxonKey = occ_key, limit = 300, hasCoordinate = TRUE)
head( elevation(dat$data, username = user) )

# Pass in a vector of lat's and a vector of long's
elevation(latitude = dat$data$decimalLatitude[1:10],
  longitude = dat$data$decimalLongitude[1:10],
  username = user, verbose = TRUE)

# Pass in lat/long pairs in a single vector
pairs &lt;- list(c(31.8496,-110.576060), c(29.15503,-103.59828))
elevation(latlong=pairs, username = user)

# Pass on curl options
pairs &lt;- list(c(31.8496,-110.576060), c(29.15503,-103.59828))
elevation(latlong=pairs, username = user, verbose = TRUE)

# different elevation models
lats &lt;- dat$data$decimalLatitude[1:5]
lons &lt;- dat$data$decimalLongitude[1:5]
elevation(latitude = lats, longitude = lons, elevation_model = "srtm3")
elevation(latitude = lats, longitude = lons, elevation_model = "srtm1")
elevation(latitude = lats, longitude = lons, elevation_model = "astergdem")
elevation(latitude = lats, longitude = lons, elevation_model = "gtopo30")

## End(Not run)
</code></pre>


</div>