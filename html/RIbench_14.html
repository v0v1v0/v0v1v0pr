<div class="container">

<table style="width: 100%;"><tr>
<td>evaluateBiomarkerTestSets</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Wrapper function to evaluate all test sets or a specified subset for a specified algorithm.</h2>

<h3>Description</h3>

<p>Wrapper function to evaluate all test sets or a specified subset for a specified algorithm.
</p>


<h3>Usage</h3>

<pre><code class="language-R">evaluateBiomarkerTestSets(
  workingDir = "",
  algoName = "refineR",
  algoFunction = "findRI",
  libs = "refineR",
  sourceFiles = NULL,
  params = NULL,
  requireDecimals = FALSE,
  requirePercentiles = FALSE,
  subset = "all",
  timeLimit = 14400,
  verbose = TRUE,
  showWarnings = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>workingDir</code></td>
<td>
<p>(character) specifying the working directory: Results will be stored in 'workingDir/Results/algo/biomarker' and data will be used from 'workingDir/Data/biomarker'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>algoName</code></td>
<td>
<p>(character) specifying the name of the algorithm that is evaluated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>algoFunction</code></td>
<td>
<p>(character) specifying the name of the function needed for estimating RIs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>libs</code></td>
<td>
<p>(list) containing all libraries needed for executing the algorithm</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sourceFiles</code></td>
<td>
<p>(list) containing all source files needed for executing the algorithm</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>(list) with additional parameters needed for calling algoFunction</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>requireDecimals</code></td>
<td>
<p>(logical) indicating whether the algorithm needs the number of decimal places (TRUE) or not (FALSE, default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>requirePercentiles</code></td>
<td>
<p>(logical) indicating whether only percentiles and no model is estimated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>(character, numeric, or data.frame) to specify for which subset the algorithm should be executed. 
character options:    'all' (default) for all test sets;
a distribution type: 'normal', 'skewed', 'heavilySkewed', 'shifted';
a biomarker: 'Hb', 'Ca', 'FT4', 'AST', 'LACT', 'GGT', 'TSH', 'IgE', 'CRP', 'LDH'; 
'Runtime' for runtime analysis subset;                             
numeric option: number of test sets per biomarker, e.g. 10;
data.frame: customized subset of table with test set specifications</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeLimit</code></td>
<td>
<p>(integer) specifying the maximum amount of time in seconds allowed to execute one single estimation (default: 14400 sec (4h))</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>(logical) indictaing if the progress counter should be shown (default: TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showWarnings</code></td>
<td>
<p>(logical) indicating whether warnings from the call to the indirect method/algorithm should be shown (default: FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be passed to the method, e.g. specified in- and output directory ('inputDir', 'outputDir')</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>(data frame) containing information about the test sets where the algorithm terminated the R session or failed to report a result
</p>


<h3>Author(s)</h3>

<p>Tatjana Ammer <a href="mailto:tatjana.ammer@roche.com">tatjana.ammer@roche.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

## Not run: 
# The evaluation of all test sets can take several hours depending on 
#   the computation time of the algorithm.
# Wrapper function for indirect method required, see vignette("RIbench_package")
# Ensure that 'generateBiomarkerTestSets()' is called with the same workingDir 
#    before calling this function. 

# first generic example
evaluateBiomarkerTestSets(workingDir = tempdir(), algoName = 'myOwnAlgo', 
		algoFunction = 'estimateModel', libs = c('myOwnAlgo'), 
		sourceFiles = list("C:\\Temp\\MyAlgoWrapper.R"), 
	requireDecimals = FALSE, requirePercentiles = FALSE,
	subset ='all', timeLimit = 14400)


# second example, evaluation for only 'Calcium' test sets.
progress &lt;- evaluateBiomarkerTestSets(workingDir = tempdir(), algoName = 'myOwnAlgo', 
			algoFunction = 'estimateModel', libs = c('myOwnAlgo'), subset = "Ca")


# third example, evaluation for only a subset testsets that follow a skewed distribution.
progress &lt;- evaluateBiomarkerTestSets(workingDir = tempdir(), algoName = 'myOwnAlgo', 
		algoFunction = 'estimateModel', libs = c('myOwnAlgo'), subset = "skewed") 


# forth example, evaluation for a subset of 3 testsets per biomarker. 
progress &lt;- evaluateBiomarkerTestSets(workingDir = tempdir(), algoName = 'myOwnAlgo', 
		algoFunction = 'estimateModel', libs = c('myOwnAlgo'), subset = 3)


# fifth example, evaluation for a customized subset with all test sets that have 
# 	a pathological fraction &lt;= 30%. 
testsets &lt;- loadTestsetDefinition()
progress &lt;- evaluateBiomarkerTestSets(workingDir = tempdir(), algoName = 'myOwnAlgo', 
		algoFunction = 'estimateModel', libs = c('myOwnAlgo'), 
		subset = testsets[testsets$fractionPathol &lt;= 0.3,] )


# sixth example, evaluation forwarding additional parameters to the 'algoFunction'
progress &lt;- evaluateBiomarkerTestSets(workingDir = tempdir(), algoName = 'myOwnAlgo', 
		algoFunction = 'estimateModel', libs = c('myOwnAlgo'), 
		sourceFiles = list("Test_RIEst_2pBoxCox"), params = list("model='2pBoxCox'"))


# seventh example, evaluation for indirect method that requires the number of 
#	decimal points as input 
evaluateBiomarkerTestSets(workingDir = tempdir(), algoName = 'myOwnAlgo', 
		algoFunction = 'estimateModelDec', libs = c('myOwnAlgo'), 
		sourceFiles = "C:\\Temp\\Test_RIEst_dec.R", requireDecimals = TRUE)


# eigth example, evaluation for indirect method that directly estimates the percentiles
evaluateBiomarkerTestSets(workingDir = tempdir(), algoName="myOwnAlgo", 
		algoFunction="estimateRIs", libs="myOwnAlgo", 
		sourceFiles = "C:\\Temp\\Test_RIEst.R", requirePercentiles=TRUE) 

## End(Not run)


</code></pre>


</div>