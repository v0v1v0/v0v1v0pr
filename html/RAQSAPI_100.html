<div class="container">

<table style="width: 100%;"><tr>
<td>aqs_transactionsample_by_county</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>aqs_transactionsample_by_county</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
Returns transactionsample data - aggregated by county
in the AQS Submission Transaction Format (RD) sample (raw) data
for a parameter code aggregated by matching input parameter,
stateFIPS and countycode provided for bdate - edate time frame.
Includes data both in submitted and standard units
</p>


<h3>Usage</h3>

<pre><code class="language-R">aqs_transactionsample_by_county(
  parameter,
  bdate,
  edate,
  stateFIPS,
  countycode,
  return_header = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>parameter</code></td>
<td>
<p>a character list or a single character string
which represents the parameter code of the air
pollutant related to the data being requested.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bdate</code></td>
<td>
<p>a R date object which represents that begin date of the data
selection. Only data on or after this date will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edate</code></td>
<td>
<p>a R date object which represents that end date of the data
selection. Only data on or before this date will be
returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stateFIPS</code></td>
<td>
<p>a R character object which represents the 2 digit state
FIPS code (with leading zero) for the state being
requested. @seealso <code>aqs_states()</code> for the list of
available FIPS codes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>countycode</code></td>
<td>
<p>a R character object which represents the 3 digit state
FIPS code for the county being requested (with leading
zero(s)). @seealso <code>aqs_counties_by_state()</code> for the
list of available county codes for each state.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_header</code></td>
<td>
<p>If FALSE (default) only returns data requested.
If TRUE returns a AQSAPI_v2 object which is a two
item list that contains header information returned
from the API server mostly used for debugging
purposes in addition to the data requested.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a tibble or an AQS_Data Mart_APIv2 S3 object of transaction sample
(raw) data in the AQS submission transaction format (RD)
corresponding to the inputs provided.
</p>


<h3>Note</h3>

<p>The AQS API only allows for a single year of transaction data to be
retrieved at a time. This function conveniently extracts date
information from the bdate and edate parameters then makes repeated
calls to the AQSAPI retrieving a maximum of one calendar year of
data at a time. Each calendar year of data requires a separate API
call so multiple years of data will require multiple API calls.
As the number of years of data being requested increases so does the
length of time that it will take to retrieve results. There is also a
5 second wait time inserted between successive API calls to prevent
overloading the API server. This operation has a linear run time of
/(Big O notation: O/(n + 5 seconds/)/).
</p>


<h3>See Also</h3>

<p>Other Aggregate _by_county functions: 
<code>aqs_annualsummary_by_county()</code>,
<code>aqs_dailysummary_by_county()</code>,
<code>aqs_monitors_by_county()</code>,
<code>aqs_qa_annualperformanceeval_by_county()</code>,
<code>aqs_qa_blanks_by_county()</code>,
<code>aqs_qa_collocated_assessments_by_county()</code>,
<code>aqs_qa_flowrateaudit_by_county()</code>,
<code>aqs_qa_flowrateverification_by_county()</code>,
<code>aqs_qa_one_point_qc_by_county()</code>,
<code>aqs_qa_pep_audit_by_county()</code>,
<code>aqs_quarterlysummary_by_county()</code>,
<code>aqs_quarterlysummary_by_site()</code>,
<code>aqs_sampledata_by_county()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">         ## Not run:  #   Returns all FRM/FEM transaction data for
                   #   Wake County, NC between on Feb 28, 2016.
                   aqs_transactionsample_by_county(parameter = "88101",
                                                 bdate = as.Date("20160228",
                                                         format = "%Y%m%d"),
                                                 edate = as.Date("20160228",
                                                          format = "%Y%m%d"),
                                                 stateFIPS = "37",
                                                 countycode = "183"
                                                 )
                 
## End(Not run)
</code></pre>


</div>