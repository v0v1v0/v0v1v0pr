<div class="container">

<table style="width: 100%;"><tr>
<td>get_eurostat_toc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Download the Table of Contents of Eurostat datasets</h2>

<h3>Description</h3>

<p>Download Table of Contents (TOC) of Eurostat datasets if it is not cached previously.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_eurostat_toc(
  mode = "xml",
  cache = TRUE,
  update_cache = FALSE,
  cache_dir = NULL,
  compress_file = TRUE,
  lang = "en",
  verbose = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>a character string either <code>xml</code> or <code>txt</code> defining the download mode. Depending on the mode the 'xml' version or the 'text' version of the TOC is downloaded.
The deafult value is <code>xml</code> as it provides more information (e.g. number of values, short description and  download links in different formats (SDMX, TSV))</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache</code></td>
<td>
<p>a boolean whether to load/save the TOC from/in the cache or not. The default value is <code>TRUE</code>, so that the TOC is checked first in the cache and if does not exist then downloaded from Eurostat and cached.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>update_cache</code></td>
<td>
<p>a boolean to update cache or not. The default value is <code>FALSE</code>, so the cache is not updated. Can be set also with <code>options(restatapi_update=TRUE)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache_dir</code></td>
<td>
<p>a path to a cache directory. The default is <code>NULL</code>, in this case the TOC is cached in the memory (in the '.restatapi_env'). Otherwise if the <code>cache_dir</code> directory does not exist it creates the 'restatapi' directory in the temporary directory from <code>tempdir()</code> to save the RDS- file. Directory can also be set with <code>option(restatapi_cache_dir=...)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compress_file</code></td>
<td>
<p>a logical whether to compress the RDS-file in caching. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lang</code></td>
<td>
<p>a character string either <code>en</code>, <code>de</code> or <code>fr</code> to define the language version for the table of contents. The default is <code>en</code> - English.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>A boolean with default <code>FALSE</code>, so detailed messages (for debugging) will not printed.
Can be set also with <code>options(restatapi_verbose=TRUE)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>parameter to pass on the <code>load_cfg</code> function</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The TOC is downloaded from Eurostat websites through the REST API for the <code>xml</code> (default) version or from the bulk download facilities for <code>txt</code> version.
From the downloaded TOC the values in the 'code' column can be used as <code>id</code> in the <code>get_eurostat_dsd</code>, <code>get_eurostat_raw</code>, <code>get_eurostat_bulk</code>, and <code>get_eurostat_data</code> functions.
</p>


<h3>Value</h3>

<p>A data table with the following columns:
</p>

<table>
<tr>
<td style="text-align: left;">
 <code>title</code> </td>
<td style="text-align: left;"> The name of dataset/table in the language provided by the <code>lang</code> parameter</td>
</tr>
<tr>
<td style="text-align: left;">
 <code>code</code> </td>
<td style="text-align: left;"> The codename of dataset/table which can be used as <code>id</code> in other functions</td>
</tr>
<tr>
<td style="text-align: left;">
 <code>type</code> </td>
<td style="text-align: left;"> The type of information: 'dataset' or 'table'</td>
</tr>
<tr>
<td style="text-align: left;">
 <code>lastUpdate</code> </td>
<td style="text-align: left;"> The date when the data was last time updated for tables and datasets</td>
</tr>
<tr>
<td style="text-align: left;">
 <code>lastModified</code>
</td>
<td style="text-align: left;"> The date when the structure of the dataset/table was last time modified</td>
</tr>
<tr>
<td style="text-align: left;">
 <code>dataStart</code>
</td>
<td style="text-align: left;"> The start date of the data in the dataset/table</td>
</tr>
<tr>
<td style="text-align: left;">
 <code>dataEnd</code>
</td>
<td style="text-align: left;"> The end date of the data in the dataset/table</td>
</tr>
<tr>
<td style="text-align: left;">
 <code>values</code>
</td>
<td style="text-align: left;"> The number of values in the dataset/table, and it is filled only if the download
 <code>mode</code> is "xml"</td>
</tr>
<tr>
<td style="text-align: left;">
 <code>unit</code>
</td>
<td style="text-align: left;"> The unit name for tables in the language provided by the <code>lang</code> parameter, for
 dataset it is empty and this column exists only if the download <code>mode</code> is "xml"</td>
</tr>
<tr>
<td style="text-align: left;">
 <code>shortDescription</code>
</td>
<td style="text-align: left;"> The short description of the values for tables in the language provided by the
 <code>lang</code> parameter, for dataset it is empty and this column exists only if the download <code>mode</code> is "xml"</td>
</tr>
<tr>
<td style="text-align: left;">
 <code>metadata.html</code>
</td>
<td style="text-align: left;"> The link to the metadata in html format, and this column exists only if the
 download <code>mode</code> is "xml"</td>
</tr>
<tr>
<td style="text-align: left;">
 <code>metadata.sdmx</code>
</td>
<td style="text-align: left;"> The link to the metadata in SDMX format, and this column exists only if the
 download <code>mode</code> is "xml"</td>
</tr>
<tr>
<td style="text-align: left;">
 <code>downloadLink.tsv</code>
</td>
<td style="text-align: left;"> The link to the whole dataset/table in tab separated values format in the bulk
 download facility and this column exists only if the download <code>mode</code> is "xml"
 </td>
</tr>
</table>
<h3>References</h3>

<p>For more technical information see the detailed documentation of the <a href="https://ec.europa.eu/eurostat/data/web-services">API</a>.
</p>


<h3>See Also</h3>

<p><code>search_eurostat_toc</code>, <code>get_eurostat_dsd</code>, <code>get_eurostat_raw</code>, <code>get_eurostat_bulk</code>, <code>get_eurostat_data</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

if (!(grepl("amzn|-aws|-azure ",Sys.info()['release']))) options(timeout=2)
toc_xml&lt;-get_eurostat_toc(cache=FALSE,verbose=TRUE)
head(toc_xml)
toc_txt&lt;-get_eurostat_toc(mode="txt", lang="de")
head(toc_txt)
options(timeout=60)

</code></pre>


</div>