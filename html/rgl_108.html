<div class="container">

<table style="width: 100%;"><tr>
<td>light</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add light source</h2>

<h3>Description</h3>

<p>add a light source to the scene.
</p>


<h3>Usage</h3>

<pre><code class="language-R">light3d(theta=0, phi=15,
        x=NULL, y = NULL, z = NULL,
        viewpoint.rel = TRUE, 
        ambient = "#FFFFFF", 
        diffuse = "#FFFFFF", 
        specular = "#FFFFFF")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>theta, phi</code></td>
<td>
<p>direction to infinitely distant light</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x, y, z</code></td>
<td>
<p>position of finitely distant light</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>viewpoint.rel</code></td>
<td>
<p>logical, if TRUE light is a viewpoint light that is positioned relative to the current viewpoint</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ambient, diffuse, specular </code></td>
<td>
<p> light color values used for lighting calculation </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Up to 8 light sources are supported. They are positioned either in
world space or relative to the camera. By providing polar
coordinates to <code>theta</code> and <code>phi</code> a directional light source is used. If
numerical values are given to x, y and z, a point-like light source with
finite distance to the objects in the scene is set up.
</p>
<p>If <code>x</code> is non-null, <code>xyz.coords</code> will
be used to form the location values, so all three coordinates
can be specified in <code>x</code>.
</p>
<p>If no lights have been added to a subscene, lights from the parent
subscene will be used.
</p>
<p>See <code>material3d</code> for a discussion of how
the components of the light affect the display of objects.
</p>


<h3>Value</h3>

<p>This function is called for the side effect of adding a light.  A light ID is
returned to allow <code>pop3d</code> to remove it.
</p>


<h3>See Also</h3>

<p><code>clear3d</code>
<code>pop3d</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
#
# a lightsource moving through the scene
#
data(volcano)
z &lt;- 2 * volcano # Exaggerate the relief
x &lt;- 10 * (1:nrow(z)) # 10 meter spacing (S to N)
y &lt;- 10 * (1:ncol(z)) # 10 meter spacing (E to W)
zlim &lt;- range(z)
zlen &lt;- zlim[2] - zlim[1] + 1
colorlut &lt;- terrain.colors(zlen) # height color lookup table
col &lt;- colorlut[ z - zlim[1] + 1 ] # assign colors to heights for each point

open3d()
bg3d("gray50")
surface3d(x, y, z, color = col, back = "lines")
r &lt;- max(y) - mean(y)
lightid &lt;- spheres3d(1, 1, 1, alpha = 0)
frame &lt;- function(time) {
    a &lt;- pi*(time - 1)
    save &lt;- par3d(skipRedraw = TRUE)
    clear3d(type = "lights")
    pop3d(id = lightid)
    xyz &lt;- matrix(c(r*sin(a) + mean(x), r*cos(a) + mean(y), max(z)), ncol = 3)
    light3d(x = xyz, diffuse = "gray75", 
            specular = "gray75", viewpoint.rel = FALSE) 
    light3d(diffuse = "gray10", specular = "gray25")
    lightid &lt;&lt;- spheres3d(xyz, emission = "white", radius = 4)
    par3d(save)
    Sys.sleep(0.02)
    NULL
}
play3d(frame, duration = 2)
</code></pre>


</div>