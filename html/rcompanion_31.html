<div class="container">

<table style="width: 100%;"><tr>
<td>groupwiseHuber</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Groupwise Huber M-estimators and confidence intervals</h2>

<h3>Description</h3>

<p>Calculates Huber M-estimator and confidence intervals for
groups.
</p>


<h3>Usage</h3>

<pre><code class="language-R">groupwiseHuber(
  formula = NULL,
  data = NULL,
  var = NULL,
  group = NULL,
  conf.level = 0.95,
  ci.type = "wald",
  digits = 3,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A formula indicating the measurement variable and
the grouping variables. e.g. y ~ x1 + x2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The data frame to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>The measurement variable to use. The name is in double quotes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>The grouping variable to use. The name is in double quotes.
Multiple names are listed as a vector. (See example.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>The confidence interval to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.type</code></td>
<td>
<p>The type of confidence interval to use. Can be
<code>"wald"</code> or <code>"boot"</code>.
See <code>HuberM</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>The number of significant figures to use in output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed to the <code>HuberM</code> function.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A wrapper for the <code>DescTools::HuberM</code> function
to allow easy output for multiple groups.
</p>
<p>The input should include either <code>formula</code> and <code>data</code>;
or <code>data</code>, <code>var</code>, and <code>group</code>. (See examples).
</p>
<p>Results for ungrouped (one-sample) data can be obtained by either
setting the right side of the formula to 1, e.g.  y ~ 1, or by
setting <code>group=NULL</code>.
</p>


<h3>Value</h3>

<p>A data frame of requested statistics by group.
</p>


<h3>Note</h3>

<p>The parsing of the formula is simplistic. The first variable on the
left side is used as the measurement variable.  The variables on the
right side are used for the grouping variables.          
</p>
<p>It is recommended to remove <code>NA</code> values before using this
function.  At the time of writing, <code>NA</code> values will cause the
function to fail if confidence intervals are requested.
</p>
<p>At the time of writing, the <code>ci.type="boot"</code> option
produces <code>NA</code> results. This is a result from the
<code>DescTools::HuberM</code> function.
</p>


<h3>Author(s)</h3>

<p>Salvatore Mangiafico, <a href="mailto:mangiafico@njaes.rutgers.edu">mangiafico@njaes.rutgers.edu</a>
</p>


<h3>References</h3>

<p><a href="https://rcompanion.org/rcompanion/d_08a.html">https://rcompanion.org/rcompanion/d_08a.html</a>
</p>


<h3>See Also</h3>

<p><code>groupwiseMean</code>, 
<code>groupwiseMedian</code>,
<code>groupwiseGeometric</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">### Example with formula notation
data(Catbus)
groupwiseHuber(Steps ~ Teacher + Gender,
               data      = Catbus,
               ci.type   = "wald")
               
### Example with variable notation
data(Catbus)
groupwiseHuber(data      = Catbus,
               var       = "Steps",
               group     = c("Teacher", "Gender"),
               ci.type   = "wald")

### Example with NA value and without confidence intervals
data(Catbus)
Catbus1 = Catbus
Catbus1[1, 'Steps'] = NA
groupwiseHuber(Steps ~ Teacher + Gender,
               data      = Catbus1,
               conf.level   = NA)
                                      
</code></pre>


</div>