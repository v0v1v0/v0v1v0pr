<div class="container">

<table style="width: 100%;"><tr>
<td>periodhist</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>  Merge capture occasions </h2>

<h3>Description</h3>

<p>This function produces a reduced matrix of capture histories from a complete one by merging together some capture occasions.
</p>
<p>It can also be used to change the format of a capture-recapture data set with complete capture histories: it transforms a data 
set with one row per captured unit to a data set with one row per capture history followed by its frequency.
</p>


<h3>Usage</h3>

<pre><code class="language-R">periodhist(X, dfreq=FALSE, vt, drop=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p> The matrix of the observed capture histories (see <code>Rcapture-package</code> 
for a description of the accepted formats).  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dfreq</code></td>
<td>
<p> A logical. By default FALSE, which means that <code>X</code> has one row per unit. If TRUE, it 
indicates that the matrix <code>X</code> contains frequencies in its last column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vt</code></td>
<td>
<p> A vector containing the numbers of capture occasions for each pooled capture occasions. The length of 
this vector equals the number of capture occasions in the reduced matrix (noted <code class="reqn">I</code>). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p> A logical, by default TRUE, meaning that in the output matrix the unobserved 
capture histories (frequency of 0) are omitted. To keep them, 
<code>drop</code> must be set to FALSE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is useful when using an open population model to analyze a robust design data set. It can be used to 
reduce the data set to one observation per primary period. A one represents a unit caught at least once during the period 
and a zero a unit never caught.
</p>
<p>It is also useful for experiments with a large number of capture occasions but a limited number of catches,  
especially when there is no capture on some occasions. In such cases, one can pool together some capture occasions 
with the <code>periodhist</code> function.  
</p>
<p>If a data matrix produced by the <code>periodhist</code> function is given as an argument to a <span class="pkg">Rcapture</span> function, 
the <code>dfreq</code> argument must be set to <code>TRUE</code>.
</p>


<h3>Value</h3>

<p>A <code class="reqn">2^I-1</code> by <code class="reqn">I+1</code> matrix of all the pooled capture histories, 
with their observed frequencies. If <code>drop=TRUE</code> (the default), the number of rows
of this matrix is in fact <code class="reqn">2^I-1</code> minus the number of unobserved capture histories.
</p>


<h3>Author(s)</h3>

<p> Louis-Paul Rivest <a href="mailto:Louis-Paul.Rivest@mat.ulaval.ca">Louis-Paul.Rivest@mat.ulaval.ca</a> and Sophie Baillargeon </p>


<h3>References</h3>

<p>Baillargeon, S. and Rivest, L.P. (2007) Rcapture: Loglinear models for capture-recapture in R.  <em>Journal of Statistical Software</em>, <b>19</b>(5), <a href="https://doi.org/10.18637/jss.v019.i05">doi:10.18637/jss.v019.i05</a>.
</p>


<h3>See Also</h3>

 <p><code>openp</code> </p>


<h3>Examples</h3>

<pre><code class="language-R"># mvole data set aggregated per primary period
mvole.op &lt;- periodhist(mvole, vt = rep(5, 6))
openp(mvole.op, dfreq = TRUE)
</code></pre>


</div>