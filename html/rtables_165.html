<div class="container">

<table style="width: 100%;"><tr>
<td>compare_rtables</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compare two rtables</h2>

<h3>Description</h3>

<p>Prints a matrix where <code>.</code> means cell matches, <code>X</code> means cell does
not match, <code>+</code> cell (row) is missing, and <code>-</code> cell (row)
should not be there. If <code>structure</code> is set to <code>TRUE</code>, <code>C</code> indicates
column-structure mismatch, <code>R</code> indicates row-structure mismatch, and
<code>S</code> indicates mismatch in both row and column structure.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compare_rtables(
  object,
  expected,
  tol = 0.1,
  comp.attr = TRUE,
  structure = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>(<code>VTableTree</code>)<br><code>rtable</code> to test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expected</code></td>
<td>
<p>(<code>VTableTree</code>)<br> expected <code>rtable</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>(<code>numeric(1)</code>)<br> tolerance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comp.attr</code></td>
<td>
<p>(<code>flag</code>)<br> whether to compare cell formats. Other attributes are
silently ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>structure</code></td>
<td>
<p>(<code>flag</code>)<br> whether structures (in the form of column and row
paths to cells) should be compared. Currently defaults to <code>FALSE</code>, but this is
subject to change in future versions.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A matrix of class <code>rtables_diff</code> representing the differences
between <code>object</code> and <code>expected</code> as described above.
</p>


<h3>Note</h3>

<p>In its current form, <code>compare_rtables</code> does not take structure into
account, only row and cell position.
</p>


<h3>Examples</h3>

<pre><code class="language-R">t1 &lt;- rtable(header = c("A", "B"), format = "xx", rrow("row 1", 1, 2))
t2 &lt;- rtable(header = c("A", "B", "C"), format = "xx", rrow("row 1", 1, 2, 3))

compare_rtables(object = t1, expected = t2)

if (interactive()) {
  Viewer(t1, t2)
}

expected &lt;- rtable(
  header = c("ARM A\nN=100", "ARM B\nN=200"),
  format = "xx",
  rrow("row 1", 10, 15),
  rrow(),
  rrow("section title"),
  rrow("row colspan", rcell(c(.345543, .4432423), colspan = 2, format = "(xx.xx, xx.xx)"))
)

expected

object &lt;- rtable(
  header = c("ARM A\nN=100", "ARM B\nN=200"),
  format = "xx",
  rrow("row 1", 10, 15),
  rrow("section title"),
  rrow("row colspan", rcell(c(.345543, .4432423), colspan = 2, format = "(xx.xx, xx.xx)"))
)

compare_rtables(object, expected, comp.attr = FALSE)

object &lt;- rtable(
  header = c("ARM A\nN=100", "ARM B\nN=200"),
  format = "xx",
  rrow("row 1", 10, 15),
  rrow(),
  rrow("section title")
)

compare_rtables(object, expected)

object &lt;- rtable(
  header = c("ARM A\nN=100", "ARM B\nN=200"),
  format = "xx",
  rrow("row 1", 14, 15.03),
  rrow(),
  rrow("section title"),
  rrow("row colspan", rcell(c(.345543, .4432423), colspan = 2, format = "(xx.xx, xx.xx)"))
)

compare_rtables(object, expected)

object &lt;- rtable(
  header = c("ARM A\nN=100", "ARM B\nN=200"),
  format = "xx",
  rrow("row 1", 10, 15),
  rrow(),
  rrow("section title"),
  rrow("row colspan", rcell(c(.345543, .4432423), colspan = 2, format = "(xx.x, xx.x)"))
)

compare_rtables(object, expected)

</code></pre>


</div>