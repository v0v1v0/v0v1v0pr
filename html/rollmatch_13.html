<div class="container">

<table style="width: 100%;"><tr>
<td>score_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create propensity scores using a logistic or probit regression model</h2>

<h3>Description</h3>

<p>Create propensity scores using a logistic or probit regression model
</p>


<h3>Usage</h3>

<pre><code class="language-R">score_data(reduced_data, model_type, match_on, fm, treat, tm, entry, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>reduced_data</code></td>
<td>
<p>Dataframe of reduced treatment and comparison data.
See output of reduce_data().</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_type</code></td>
<td>
<p>Use logistic regression ("logistic") or "probit"
regression ("probit") to estimate the predicted probability of participating</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>match_on</code></td>
<td>
<p>Match on estimated propensity score ("pscore") or logit of
estimated propensity score ("logit").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fm</code></td>
<td>
<p>A <code>formula</code> in the form
<code>treat ~ x1 + x2 ...</code> where <code>treat</code> is a binary treatment
indicator (Treat = 1, Control = 0) and <code>x1</code> and <code>x2</code> are
pre-treatment covariates. Both the treatment indicator and
pre-treatment covariates must be contained in the input dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat</code></td>
<td>
<p>String for name of treatment variable in data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tm</code></td>
<td>
<p>String for time period indicator variable name in data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>entry</code></td>
<td>
<p>String for name of time period in which the participant
enrolled in the intervention (in the same units as the tm variable).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>String for individual id variable name in data.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A copy of reduced_data input with added propensity scores
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data(package="rollmatch", "rem_synthdata_small")
fm &lt;- as.formula(treat ~ qtr_pmt + age + is_male + is_white)
reduced_data &lt;- reduce_data(data = rem_synthdata_small, treat = "treat",
                            tm = "quarter", entry = "entry_q",
                            id = "indiv_id", lookback = 1)
scored_data &lt;- score_data(reduced_data = reduced_data,
                          model_type = "logistic", match_on = "logit",
                          fm = fm, treat = "treat", tm = "quarter",
                          entry = "entry_q", id = "indiv_id")
head(scored_data)

## End(Not run)

</code></pre>


</div>