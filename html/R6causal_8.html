<div class="container">

<table style="width: 100%;"><tr>
<td>fairness</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Checking fairness of a prediction via counterfactual simulation</h2>

<h3>Description</h3>

<p>Checking fairness of a prediction via counterfactual simulation
</p>


<h3>Usage</h3>

<pre><code class="language-R">fairness(
  modellist,
  scm,
  sensitive,
  condition,
  condition_type,
  parents,
  n,
  sens_values = NULL,
  modeltype = "predict",
  method,
  control = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>modellist</code></td>
<td>
<p>A list of model objects that have a predict method or a list of functions that return predictions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scm</code></td>
<td>
<p>An SCM object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sensitive</code></td>
<td>
<p>A character vector of the names of sensitive variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>condition</code></td>
<td>
<p>A data.table consisting of the valid rows ( e.g. data.table::data.table( x = 0, y = 0))</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>condition_type</code></td>
<td>
<p>(required only if method == "u_find") A character vector giving the type ("continuous" or "discrete") of every variable in <code>condition</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parents</code></td>
<td>
<p>A character vector of the names of variables that remain fixed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>The number of rows in the data to be simulated by <code>counterfactual</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sens_values</code></td>
<td>
<p>A data.table specifying the combinations of the values of sensitive variables to be considered (default NULL meaning the all possible combinations of the values of sensitive variables)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modeltype</code></td>
<td>
<p>"predict" (default) or "function" depending on the type <code>modellist</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The simulation method, "u_find", "rejection" or "analytic_linear_gaussian"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>List of parameters to be passed to the simulation method, see <code>counterfactual</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed to <code>predict</code> or to the prediction functions.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing a data table for element of <code>modellist</code>. Each data table contains the predicted values after counterfactual interventions on the sensitive variables.
</p>


<h3>Examples</h3>

<pre><code class="language-R">trainingd &lt;- backdoor$simulate(10000, return_simdata = TRUE)
newd &lt;- backdoor$simulate(100, return_simdata = TRUE)
vnames &lt;- backdoor$vnames
m1 &lt;- lm(y ~  x + z, data = trainingd)
m2 &lt;- lm(y ~  z, data = trainingd)
fairlist &lt;- fairness(modellist = list(m1,m2),
                     scm = backdoor,
                     sensitive = c("x"),
                     sens_values = data.table::data.table(x=c(0,1)),
                     condition = newd[1,c("x","y")],
                     condition_type = list(x = "cont",
                                           z = "cont",
                                           y = "cont"),
                     parents = NULL,
                     n = 20,
                     modeltype = "predict",
                     method = "u_find")
</code></pre>


</div>