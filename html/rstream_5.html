<div class="container">

<table style="width: 100%;"><tr>
<td>rstream-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class "rstream" â€“ Multiple streams of uniform random numbers</h2>

<h3>Description</h3>


<p>The virtual class "rstream" provides a unified interface to uniform
random number generators. Objects of its subclasses act as a source of
streams for random numbers that can be handled by a set of methods and
which can be used as arguments of functions that require sources of
randomness, e.g. discrete event models, Monte Carlo integration or
other stochastic simulations.
</p>
<p>The instances of objects of this class and its subclasses are
independent, i.e., sampling random numbers from one instance or
reseting and changing its state does not effect any other
instance. (However, different streams may not be <em>stochastically</em> 
independent if they are not carefully seeded!)
</p>
<p>Additionally there is a mechanismus interface to save and restore such
streams, e.g. for the next <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> session, for a reruning some stochastic
calculations with identical input, or for sending the stream object
to a slave node in parallel computing via MPI.
</p>
<p>The interface to these classes is inspired by Pierre L'Ecuyers
RngStreams package.
</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created from it.</p>


<h3>Methods</h3>

<p>The virtual class "rstream" prepares the following methods for
handling random stream objects. Some methods that return parameters of
the stream object have a variant that uses <code>&lt;-</code> to change the
respective parameters. See the man pages for the respective methods
for details.
</p>
<p><strong>Notice:</strong> Some subclasses only implement a subset of these
interfaces. The methods that do not work produce an error message.
</p>
<p>Methods to use the stream (available for all subclasses):
</p>

<dl>
<dt>rstream.sample</dt>
<dd>
<p><code>signature(object = "rstream")</code>: 
Get a random sample from the stream object.</p>
</dd>
<dt>r</dt>
<dd>
<p><code>signature(object = "rstream")</code>:
Same as <code>rstream.sample</code>.</p>
</dd>
<dt>rstream.reset</dt>
<dd>
<p><code>signature(object = "rstream")</code>:
Reset stream into initial state.</p>
</dd>
</dl>
<p>Some subclasses have implemented the concept of substreams. This is
especially usefull if two or more streams should be synchronized:
</p>

<dl>
<dt>rstream.nextsubstream</dt>
<dd>
<p><code>signature(object = "rstream")</code>:
Set state of stream to next substream.</p>
</dd>
<dt>rstream.resetsubstream</dt>
<dd>
<p><code>signature(object = "rstream")</code>:
Reset current substream into starting state.</p>
</dd>
</dl>
<p>Antithetic random streams return numbers which have smallest possible
correlation (i.e. <code class="reqn">-1</code>) to their respective counterparts:
</p>

<dl>
<dt>rstream.antithetic</dt>
<dd>
<p><code>signature(object = "rstream")</code>:
Whether or not the stream object returns antithetic random
numbers.</p>
</dd>
<dt>rstream.antithetic&lt;-</dt>
<dd>
<p><code>signature(object = "rstream")</code>:
Change antithetic flag (<code>TRUE</code> or <code>FALSE</code>).</p>
</dd>
</dl>
<p>Most sources of pseudo random numbers generate random numbers of
precision <code class="reqn">2^{-32}\approx 2\times 10^{-10}</code>.
For some streams this can be increased to machine epsilon (i.e.
<code class="reqn">\approx 10^{-16}</code>) by combining two random numbers of
lower precision:
</p>

<dl>
<dt>rstream.incprecision</dt>
<dd>
<p><code>signature(object = "rstream")</code>:
Whether or not the stream object returns random numbers with
increased precision.</p>
</dd>
<dt>rstream.incprecision&lt;-</dt>
<dd>
<p><code>signature(object = "rstream")</code>:
Change flag for increased precision (<code>TRUE</code> or <code>FALSE</code>).</p>
</dd>
</dl>
<p>Handling "rstream" objects:
</p>

<dl>
<dt>print</dt>
<dd>
<p><code>signature(x = "rstream")</code>:
Print state of the stream object.</p>
</dd>
<dt>show</dt>
<dd>
<p><code>signature(x = "rstream")</code>:
Same as <code>print</code>.</p>
</dd>
<dt>rstream.name</dt>
<dd>
<p><code>signature(object = "rstream")</code>:
The name of the stream object.</p>
</dd>
<dt>rstream.name&lt;-</dt>
<dd>
<p><code>signature(object = "rstream")</code>:
Change the name of the stream object.</p>
</dd>
<dt>rstream.clone</dt>
<dd>
<p><code>signature(object = "rstream")</code>:
Make a copy (clone) of stream object.</p>
</dd>
</dl>
<p>When a "rstream" object should be used in another <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> session or saved for
some kind of later reuse all information about the object must be
packed. Notice no method other than unpacking can be applied to a
packed object. It must be unpacked before.
</p>

<dl>
<dt>rstream.packed</dt>
<dd>
<p><code>signature(object = "rstream")</code>:
Whether or not the stream object is packed.</p>
</dd>
<dt>rstream.packed&lt;-</dt>
<dd>
<p><code>signature(object = "rstream")</code>:
Pack or unpack object: set packed to <code>TRUE</code> or <code>FALSE</code>.</p>
</dd>
</dl>
<h3>Warning </h3>

<p>When "rstream" objects should be used in later <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> sessions they must
be packed before the current <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> session is stopped and unpacked after
the new <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> session has been started and the workspace image has been
reloaded. 
</p>


<h3>Note</h3>


<p>"rstream" objects cannot simply be copied by <code>&lt;-</code>. The new
variable does not hold a copy of an "rstream" object but just points
to the old object which might not be the wanted result (similar to <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>
environments). Use <code>rstream.clone</code> instead.
</p>
<p>The actual interface is implemented in subclasses, one for each source
(package/library) of random numbers. The slots of this
class and of all its subclasses must not be accessed directly. Use
the above methods instead.
</p>
<p>One may miss a method for reseeding a random stream. However, there is
no need for such a method as there is a method for resetting the
stream to its initial state. I one needs a stream with a different
stream, then a new rstream object should be created at all.
</p>
<p>Packed objects must be unpacked before any other method can be applied.
</p>


<h3>Author(s)</h3>

<p>Josef Leydold <a href="mailto:josef.leydold@wu.ac.at">josef.leydold@wu.ac.at</a></p>


<h3>References</h3>

<p>L'Ecuyer, P.,  Simard, R., Chen, E. J., and Kelton, W. D. (2002)
<em>An object-oriented random-number package with many long streams
and substreams</em>. Operations Research 50(6), 1073-1075.
</p>


<h3>See Also</h3>

<p><code>rstream.mrg32k3a</code>,
<code>rstream.runif</code>.
<code>rstream.antithetic-methods</code>,
<code>rstream.clone-methods</code>,
<code>rstream.incprecision-methods</code>,
<code>rstream.name-methods</code>,
<code>rstream.packed-methods</code>,
<code>rstream.reset-methods</code>,
<code>rstream.sample-methods</code>,
<code>rstream.nextsubstream-methods</code>,
<code>rstream.RNG</code>.
</p>


</div>