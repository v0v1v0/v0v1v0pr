<div class="container">

<table style="width: 100%;"><tr>
<td>prob_calc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculates player probabilities given players' game statistics.</h2>

<h3>Description</h3>

<p>Uses player statistics to calculate the probability of six
possible at bat outcomes (walk, single, double, triple, homerun, or out).
Also estimates the probability of a player attempting a steal (SBA) and
succeeding in an attempted steal (SB).  Player game statistics are 
commonly available on team's public webpages.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prob_calc(playerData)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>playerData</code></td>
<td>
<p>data frame of the players statistics (details below)</p>
</td>
</tr></table>
<h3>Details</h3>

<p>The <code>playerData</code> data frame must contain the following columns 
of player statistics:
</p>

<ul>
<li>
<p> Name: player name
</p>
</li>
<li>
<p> Number: player number
</p>
</li>
<li>
<p> AB: at bats
</p>
</li>
<li>
<p> BB: walks
</p>
</li>
<li>
<p> HBP: hit by pitch
</p>
</li>
<li>
<p> H: hits
</p>
</li>
<li>
<p> 2B: doubles
</p>
</li>
<li>
<p> 3B: triples
</p>
</li>
<li>
<p> HR: homeruns
</p>
</li>
<li>
<p> ATT: attempted steals
</p>
</li>
<li>
<p> SB: successfully stolen bases
</p>
</li>
</ul>
<p>Plate appearances (PA) are calculated 
as AB + BB + HBP.  The player probabilities are calculated as:
</p>

<ul>
<li>
<p> Walk probability: W = (BB + HBP) / (PA) 
</p>
</li>
<li>
<p> Single probability: S = (H - (2B + 3B + HR)) / (PA) 
</p>
</li>
<li>
<p> Double probability: D = 2B / PA
</p>
</li>
<li>
<p> Triple probability: TR = 3B / PA
</p>
</li>
<li>
<p> Home Run probability: HR = HR / PA
</p>
</li>
<li>
<p> Out probability: O = (PA - (H + BB + HBP)) / PA
</p>
</li>
</ul>
<p>Probabilities calculated from limited at bats will not be very useful.  Note, 
this function does not assign TRUE/FALSE values for fast players.  These may
be manually assigned or will be assigned based on SBA probability when <code>chain</code> 
or <code>sim</code> functions are called.
</p>
<p>SBA (Stolen Base Attempt) is the probability a player will attempt to steal given they
are on first base and there is no runner on second. As a default, we estimate a player's
SBA probability using a rough thresholding rule based on the team's overall SB probability 
and the player's SB probability.  Essentially, we group the players into three categories: 
</p>

<ul>
<li>
<p> Almost Always Attempt to Steal Group: These players receive the SBA  probability of 
the team's overall SB probability which is calculated as (Team's total # of SB)/(Team's total # of SBA)
</p>
</li>
<li>
<p> 50/50 Attempt to Steal Group: These players receive SBA  probability of 0.50
</p>
</li>
<li>
<p> Never Attempt to Steal Group: These players receive SBA  probability of 0.0
</p>
</li>
</ul>
<p>We recommend reviewing these default probabilities before proceeding with run expectancy
calculations.
</p>


<h3>Value</h3>

<p>a dataframe of the players' probabilities for W, S, D, TR, HR, O, SBA, and SB
</p>


<h3>Examples</h3>

<pre><code class="language-R">probs &lt;- prob_calc(wku_stats)   # probs corresponds to wku_probs

</code></pre>


</div>