<div class="container">

<table style="width: 100%;"><tr>
<td>dataGen</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Generate sparse data with outliers
</h2>

<h3>Description</h3>

<p>Generate sparse data with outliers using simulation scheme detailed in Hubert et al. (2016).
</p>


<h3>Usage</h3>

<pre><code class="language-R">dataGen(m = 100, n = 100, p = 10, a = c(0.9,0.5,0), bLength = 4, SD = c(10,5,2), 
        eps = 0, seed = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>Number of datasets to generate, default is 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Number of observations, default is 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>Number of dimensions, default is 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>Numeric vector containing the inner group correlations for each block. The number of useful blocks is thus given by <code class="reqn">k=length(a)-1</code> which should be at least 2. By default, the correlations are equal to 0.9, 0.5 and 0, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bLength</code></td>
<td>
<p>Length of the blocks of useful variables, default is 4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SD</code></td>
<td>
<p>Numeric vector containing the standard deviations of the blocks of variables, default is <code>c(10,4,2)</code>. Note that <code>SD</code> and <code>a</code> should have the same length.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps</code></td>
<td>
<p>Proportion of contamination, should be between 0 and 0.5. Default is 0 (no contamination).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Logical indicating if a seed is used when generating the datasets, default is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Firstly, we generate a correlation matrix such that it has sparse eigenvectors.
We design the correlation matrix to have <code class="reqn">length(a)=k+1</code> groups of variables with no correlation between variables from different groups. The first <code class="reqn">k</code> groups consist of <code>bLength</code> variables each. The correlation between the different variables of the group is equal to <code>a[1]</code> for group 1, .... .  The (k+1)th group contains the remaining <code class="reqn">p-k \times bLength</code> variables, which we specify to have correlation <code>a[k+1]</code>.  <br>
Secondly, the correlation matrix <code>R</code> is transformed into the covariance matrix <code class="reqn">\Sigma= V^{0.5} \cdot R \cdot V^{0.5}</code>, where <code class="reqn">V=diag(SD^2)</code>.<br>
Thirdly, the <code>n</code> observations are generated from a <code class="reqn">p</code>-variate normal distribution with mean the <code class="reqn">p</code>-variate zero-vector and covariance matrix <code class="reqn">\Sigma</code>. Standard normally distributed noise terms are also added to each of the <code>p</code> variables to make the sparse structure of the data harder to detect.<br>
Finally, <code class="reqn">(100 \times eps)\%</code> of the data points are randomly replaced by outliers. 
These outliers are generated from a <code class="reqn">p</code>-variate normal distribution as in Croux et al. (2013). <br>
The <code class="reqn">i</code>th eigenvector of <code class="reqn">R</code>, for <code class="reqn">i=1,...,k</code>, is given by a (sparse) vector with the <code class="reqn">(bLength \times (i-1)+1)</code>th till the <code class="reqn">(bLength \times i)</code>th elements equal to <code class="reqn">1/\sqrt{bLength}</code> and all other elements equal to zero.<br>
See Hubert et al. (2016) for more details.
</p>


<h3>Value</h3>

<p>A list with components:<br></p>
<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>List of length <code class="reqn">m</code> containing all data matrices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ind</code></td>
<td>
<p>List of length <code class="reqn">m</code> containing the numeric vectors with the indices of the contaminated observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>Correlation matrix of the data, a numeric matrix of size <code class="reqn">p</code> by <code class="reqn">p</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sigma</code></td>
<td>
<p>Covariance matrix of the data (<code class="reqn">\Sigma</code>), a numeric matrix of size <code class="reqn">p</code> by <code class="reqn">p</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Tom Reynkens
</p>


<h3>References</h3>

<p>Hubert, M., Reynkens, T., Schmitt, E. and Verdonck, T. (2016). “Sparse PCA for High-Dimensional Data with Outliers,” <em>Technometrics</em>, 58, 424–434.
</p>
<p>Croux, C., Filzmoser, P., and Fritz, H. (2013), “Robust Sparse Principal Component Analysis,” <em>Technometrics</em>, 55, 202–214.
</p>


<h3>Examples</h3>

<pre><code class="language-R">X &lt;- dataGen(m=1, n=100, p=10, eps=0.2, bLength=4)$data[[1]]

resR &lt;- robpca(X, k=2, skew=FALSE)
diagPlot(resR)
</code></pre>


</div>