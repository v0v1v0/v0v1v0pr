<div class="container">

<table style="width: 100%;"><tr>
<td>dw.spell</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>It calculates dry/wet spell duration.</h2>

<h3>Description</h3>

<p>It calculates dry/wet spell duration.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dw.spell(
  data,
  valmin = 0.5,
  origin = "1961-1-1",
  extract = NULL,
  month = 1:12,
  melting.df = FALSE,
  from.start = FALSE,
  only.inner = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame R object containing daily precipitation time series for several gauges (one gauge time series per column).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valmin</code></td>
<td>
<p>threshold precipitation value [mm] for wet/dry day indicator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>origin</code></td>
<td>
<p>character string <code>"yyyy-mm-dd"</code> indicated the date of the first row of <code>"data"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extract</code></td>
<td>
<p>string character referred to the state to be extracted, eg. <code>"dry"</code> or <code>"wet"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>month</code></td>
<td>
<p>integer vectors containing the considered months. Default is <code>1:12</code> (all the year).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>melting.df</code></td>
<td>
<p>logical value. If it <code>TRUE</code> the output is melted into a data frame. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from.start</code></td>
<td>
<p>logical value. If is <code>TRUE</code> the spell is referenced to its first day, if it is <code>FALSE</code> (default) the spell is referenced to its last date.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>only.inner</code></td>
<td>
<p>logical value. It is used in case <code>extract</code> is not <code>NULL</code>, if the value is <code>TRUE</code>, it extracts dry/wet spells completely inside the selected <code>month</code> period. Default is <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Function returns a list of data frames containing the spell length expressed in days
</p>


<h3>Examples</h3>

<pre><code class="language-R"> 


data(trentino)

year_min &lt;- 1961
year_max &lt;- 1990

period &lt;- PRECIPITATION$year&gt;=year_min &amp; PRECIPITATION$year&lt;=year_max
station &lt;- names(PRECIPITATION)[!(names(PRECIPITATION) %in% c("day","month","year"))]
prec_mes &lt;- PRECIPITATION[period,station]  

## removing nonworking stations (e.g. time series with NA)
accepted &lt;- array(TRUE,length(names(prec_mes)))
names(accepted) &lt;- names(prec_mes)
for (it in names(prec_mes)) {
		 accepted[it]  &lt;- (length(which(!is.na(prec_mes[,it])))==length(prec_mes[,it]))
}

prec_mes &lt;- prec_mes[,accepted]
## the dateset is reduced!!! 
prec_mes &lt;- prec_mes[,1:3]

origin &lt;- paste(year_min,1,1,sep="-")
dw_spell &lt;- dw.spell(prec_mes,origin=origin)
dw_spell_dry &lt;- dw.spell(prec_mes,origin=origin,extract="dry")

hist(dw_spell_dry$T0001$spell_length)


## Single Gauging Station

prec_mes &lt;- prec_mes[,1]

origin &lt;- paste(year_min,1,1,sep="-")
dw_spell &lt;- dw.spell(prec_mes,origin=origin)
dw_spell_dry &lt;- dw.spell(prec_mes,origin=origin,extract="dry")
dw_spell_dry_start &lt;- dw.spell(prec_mes,origin=origin,extract="dry",
	month=5:8,from.start=TRUE) ## dry spell 
	dw_spell_dry_start_2 &lt;- dw.spell(prec_mes,origin=origin,extract="dry",
month=5:8,from.start=TRUE,only.inner=TRUE) ## dry spell 
## is referenced to the first day instead of the latest one as default. 

hist(dw_spell_dry[[1]]$spell_length)


</code></pre>


</div>