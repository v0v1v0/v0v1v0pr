<div class="container">

<table style="width: 100%;"><tr>
<td>ker.score.classifier.holdout</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
RANKS held-out procedure for a single class
</h2>

<h3>Description</h3>

<p>Functions to perform an held-out procedure for a single class with a kernel-based score method
</p>


<h3>Usage</h3>

<pre><code class="language-R">ker.score.classifier.holdout(K, ind.pos, ind.test, m = 5, p = 10, 
alpha = seq(from = 0.05, to = 0.6, by = 0.05), init.seed = 0, 
opt.fun = compute.F, fun = KNN.score, ...)
ker.score.holdout (K, ind.pos, ind.test, fun=KNN.score, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>matrix. Kernel matrix or any valid symmetric matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ind.pos</code></td>
<td>
<p>indices of the positive examples of the training set. They are the indices the row of RW corresponding to
positive examples of the training set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ind.test</code></td>
<td>
<p>indices of the examples of the test set. They are the indices the row of RW corresponding to
examples of the test set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>number of folds for the cross-validation on the training set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>number of repeated  cross-validations on the training set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>vector of the quantiles to be tested</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init.seed</code></td>
<td>
<p>nitial seed for the random generator (def: 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opt.fun</code></td>
<td>
<p>Function implementing the metric to select the optimal threshold.
The F-score (compute.F) is the default. Available functions:
</p>
<p>- compute.F: F-score (default) 
</p>
<p>- compute.acc:accuracy.  
</p>
<p>Any function having two arguments representing the vector of predicted and true labels can be in principle used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>function. It must be a kernel-based score method (default KNN.score)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional arguments for the function fun</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>ker.score.classifier.holdout</code> is a function to classify labels according to an hold-out procedure with a kernel-based score method.
The optimal threshold for a given class is obtained by (possibly multiple) internal cross-validation on the training set.
Scores of the held-out nodes are computed. Thresholds are computed on the training set
by cross-validation and then are used to classify the held-out nodes in the test set.
The optimal quantile and corresponding threshold  are selected by internal cross-validation using the F-score as metrics.
Note the test examples are given as indices of the rows of the input matrix.
</p>
<p><code>ker.score.holdout</code> provides a ranking according to an hold-out procedure with a kernel-based score method.
</p>


<h3>Value</h3>

<p><code>ker.score.classifier.holdout</code>
returns a list with four components:
A list with 4 components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>vector of the predicted labels for the test set(1 represent positive, 0 negative)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>av.scores </code></td>
<td>
<p>a vector with the  scores computed on the test set.
Elements of the vector av.scores correspond to ind.test rows of RW</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opt.alpha </code></td>
<td>
<p>the optimal quantile alpha</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opt.thresh </code></td>
<td>
<p>the optimal threshold</p>
</td>
</tr>
</table>
<p><code>ker.score.holdout</code>
returns a vector of the predicted scores for the test set
</p>


<h3>See Also</h3>

<p><code>rw.kernel-methods</code>, <code>Kernel functions</code>, <code>ker.score.classifier.cv</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Node label classification of the DrugBank category Penicillins
# on the Tanimoto chemical structure similarity network (1253 drugs)
# with eav-score with 1-step random walk kernel
# using held-out with 5-fold CV repeated 10 times on the training set 
# to set the "optimal" threshold for classifiaction
library(bionetdata);
data(DD.chem.data);
data(DrugBank.Cat);
labels &lt;- DrugBank.Cat[,"Penicillins"];
ind.test &lt;- 1:300;
ind.train &lt;- 301:length(labels);
ind.pos &lt;- which(labels==1);
ind.pos &lt;- ind.pos[ind.pos&gt;300];
K &lt;- rw.kernel(DD.chem.data);
res &lt;- ker.score.classifier.holdout(K, ind.pos, ind.test, m = 5, p = 10, fun = eav.score);
</code></pre>


</div>