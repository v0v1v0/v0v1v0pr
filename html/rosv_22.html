<div class="container">

<table style="width: 100%;"><tr>
<td>osv_download</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Download vulnerabilities from the OSV database</h2>

<h3>Description</h3>

<p>Use vulnerability IDs and/or an ecosystem name to download vulnerability files from OSV GCS buckets.
</p>


<h3>Usage</h3>

<pre><code class="language-R">osv_download(
  vuln_ids = NULL,
  ecosystem,
  parse = TRUE,
  cache = TRUE,
  download_only = FALSE
)

.osv_download(vuln_ids = NULL, ecosystem, parse = TRUE, download_only = FALSE)

.osv_download_cache(
  vuln_ids = NULL,
  ecosystem,
  parse = TRUE,
  download_only = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>vuln_ids</code></td>
<td>
<p>Vector of vulnerability IDs (optional).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ecosystem</code></td>
<td>
<p>Ecosystem package lives within (must be set).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parse</code></td>
<td>
<p>Boolean value to set if the content field should be parsed from JSON list format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache</code></td>
<td>
<p>Boolean value to determine if should use a cached version of the function and API results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>download_only</code></td>
<td>
<p>Boolean value to determine if only the JSON files should be downloaded to disk.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Although the end-result will be similar to the other API functions, this one specifically downloads .zip or
.json files from the OSV GCS buckets. As a result, it has two main benefits. First, it can download the entire set
of vulnerabilities listed for an ecosystem. Second, it has options to save the vulnerability files to disk. The
files are saved to the R session's temp space, as defined by the environment variable <code>ROSV_CACHE_GLOBAL</code>.
</p>
<p>Any ecosystems listed <a href="https://osv-vulnerabilities.storage.googleapis.com/ecosystems.txt">here</a> can be downloaded.
Only one ecosystem can be provided at a time.
</p>


<h3>Value</h3>

<p>An R6 object containing API query contents.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>.osv_download()</code>: Internal function to run <code>osv_download</code> without caching.
</p>
</li>
<li> <p><code>.osv_download_cache()</code>: Internal function to run a memoise and cached version of <code>osv_download</code>.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
vulns &lt;- osv_download("RSEC-2023-8", "CRAN")
get_content(vulns)

# Clean up
try(clear_osv_cache())

</code></pre>


</div>