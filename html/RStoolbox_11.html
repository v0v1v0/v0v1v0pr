<div class="container">

<table style="width: 100%;"><tr>
<td>getMeta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract bandwise information from ImageMetaData</h2>

<h3>Description</h3>

<p>This is an accessor function to quickly access information stored in ImageMetaData, e.g. scale factor per band.
Intended for use with imagery which was imported using stackMeta. Will return parameters using the actual band order in img.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getMeta(img, metaData, what)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>img</code></td>
<td>
<p>SpatRaster or character vector with band names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metaData</code></td>
<td>
<p>ImageMetaData or path to meta data file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what</code></td>
<td>
<p>Character. Parameter to extract. Either data descriptors, or conversion parameters (see Details for options)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Possible metadata parameters (<code>what</code> argument):
</p>
<p>Data descriptors
</p>

<table>
<tr>
<td style="text-align: left;">
'FILES' </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
'QUANTITY' </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
'CATEGORY' </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
'NA_VALUE' </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
'SATURATE_VALUE' </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;"> 
'SCALE_FACTOR' </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
'DATA_TYPE' </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
'SPATIAL_RESOLUTION' </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>Conversion parameters
</p>

<table>
<tr>
<td style="text-align: left;">
'CALRAD' </td>
<td style="text-align: left;"> Conversion parameters from DN to radiance </td>
</tr>
<tr>
<td style="text-align: left;">
'CALBT' </td>
<td style="text-align: left;"> Conversion parameters from radiance to brightness temperature </td>
</tr>
<tr>
<td style="text-align: left;">
'CALREF' </td>
<td style="text-align: left;"> Conversion parameters from DN to reflectance (Landsat 8 only) </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>what</code> is one of <code>c('CALRAD', 'CALBT', 'CALREF')</code> a data.frame is returned with bands in rows (order corresponding to <code>img</code> band order). 
Otherwise a named numeric vector with the corresponding parameter is returned (layernames as names).
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Import example data
mtlFile  &lt;- system.file("external/landsat/LT52240631988227CUB02_MTL.txt", package="RStoolbox")
meta &lt;- readMeta(mtlFile)
lsat_t &lt;- stackMeta(mtlFile)

## Get integer scale factors
getMeta(lsat_t, metaData = meta, what = "SCALE_FACTOR")

## Conversion factors for brightness temperature
getMeta("B6_dn", metaData = meta, what = "CALBT")

## Conversion factors to top-of-atmosphere radiance
## Band order not corresponding to metaData order
getMeta(lsat_t[[5:1]], metaData = meta, what = "CALRAD")

## Get integer scale factors
getMeta(lsat_t, metaData = meta, what = "SCALE_FACTOR")

## Get file basenames
getMeta(lsat_t, metaData = meta, what = "FILES")

</code></pre>


</div>