<div class="container">

<table style="width: 100%;"><tr>
<td>splitsegments</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Split Segments by Endpoint Proximity</h2>

<h3>Description</h3>

<p>Detects cases in which segments should be split to establish
appropriate topology, and splits them.  Specifically, it looks for segment
endpoints intersecting (or within a tolerance of) another
segment.  It then splits the intersected segment at the point where the
endpoint of the other segment breaks it.
</p>


<h3>Usage</h3>

<pre><code class="language-R">splitsegments(
  rivers,
  tolerance = NULL,
  splitthese = NULL,
  splitthemat = NULL,
  one2one = FALSE,
  append = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rivers</code></td>
<td>
<p>The river network object to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tolerance</code></td>
<td>
<p>The spatial snapping tolerance to use for detecting
intersection.  If a NULL value is used (default), it will default to the
tolerance that was used in river network creation in line2network.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>splitthese</code></td>
<td>
<p>An optional vector of target segments to split.  If this argument is used, only these segments will be split.  If the default (<code>NULL</code>) is accepted, all segments will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>splitthemat</code></td>
<td>
<p>An optional vector of segments (endpoints) to use for splitting.  If this argument is used, segments will only be split at the endpoints of these segments.  If the default (<code>NULL</code>) is accepted, all segments will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>one2one</code></td>
<td>
<p>Logical, indicating a one-to-one correspondence between arguments <code>splitthese</code> and <code>splitthemat</code>.  Defaults to <code>FALSE</code>,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>Logical, indicating how to organize the output river network.  If <code>TRUE</code>, appends newly-created segments to the end of <code>$lines</code>, rather than retaining original line ordering.  This may be useful in retaining original line ID.  Defaults to <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A new, updated river network object
</p>


<h3>Note</h3>

<p>This function is called within cleanup, which is recommended in most cases.
</p>


<h3>Author(s)</h3>

<p>Matt Tyers
</p>


<h3>See Also</h3>

<p>line2network
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Koyukuk1)
topologydots(rivers=Koyukuk1)
# Segments 7, 8, 13, and 16 need to be split so topologies will work.  
# Since endpoints are not in the same place, they are not detected as 
# being connected.
plot(x=Koyukuk1)

Koyukuk1split &lt;- splitsegments(rivers=Koyukuk1)
topologydots(rivers=Koyukuk1split)
plot(x=Koyukuk1split)

# if only segment 17 were to be split in three places
plot(x=splitsegments(rivers=Koyukuk1, splitthese=c(7,7,7),
        splitthemat=c(14,5,12)))
        
# if only segment 16 were to be split, showing behavior of append=
plot(x=splitsegments(rivers=Koyukuk1, splitthese=c(7,7,7),
        splitthemat=c(14,5,12), append=TRUE))
</code></pre>


</div>