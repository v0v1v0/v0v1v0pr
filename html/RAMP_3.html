<div class="container">

<table style="width: 100%;"><tr>
<td>RAMP</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Regularization Algorithm under Marginality Principle (RAMP) for high
dimensional generalized quadratic regression.</h2>

<h3>Description</h3>

<p>Regularization Algorithm under Marginality Principle (RAMP) for high
dimensional generalized quadratic regression.
</p>


<h3>Usage</h3>

<pre><code class="language-R">RAMP(X, y, family = "gaussian", penalty = "LASSO", gamma = NULL,
  inter = TRUE, hier = "Strong", eps = 1e-15, tune = "EBIC",
  penalty.factor = rep(1, ncol(X)), inter.penalty.factor = 1, lam.list,
  lambda.min.ratio, max.iter = 100, max.num, n.lambda = 100,
  ebic.gamma = 1, refit = TRUE, trace = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>input matrix, of dimension nobs x nvars; each row is an observation
vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>response variable, of dimension nobs x 1. continous for
<code>family='gaussian'</code>, binary for <code>family='binomial'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>response type. Default is 'gaussian'. The other choice is 'binomial'
for logistic regression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>penalty</code></td>
<td>
<p>Choose from <code>LASSO</code>, <code>SCAD</code> and <code>MCP</code>. Default
is 'LASSO'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>concavity parameter. If NULL, the code will use 3.7 for
'SCAD' and 2.7 for 'MCP'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inter</code></td>
<td>
<p>whether to select interaction effects. Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hier</code></td>
<td>
<p>whether to enforce strong or weak heredity. Default is 'Strong'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps</code></td>
<td>
<p>the precision used to test the convergence. Default is 1e-15.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tune</code></td>
<td>
<p>tuning parameter selection method.
'AIC', 'BIC', 'EBIC' and 'GIC' are available options. Default is EBIC.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>penalty.factor</code></td>
<td>
<p>A multiplicative factor for the penalty applied to each coefficient. If supplied, penalty.factor must be a numeric vector of length equal to the number of columns of X. The purpose of penalty.factor is to apply differential penalization if some coefficients are thought to be more likely than others to be in the model. In particular, penalty.factor can be 0, in which case the coefficient is always in the model without shrinkage.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inter.penalty.factor</code></td>
<td>
<p>the penalty factor for interactions effects. Default is 1. 
larger value discourage interaction effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lam.list</code></td>
<td>
<p>a user supplied <code class="reqn">\lambda</code> sequence.
typical usage is to have the program compute its own
<code>lambda</code> sequence based on <code>lambda.min.ratio</code> and <code>n.lambda</code>.
supplying a value of <code class="reqn">\lambda</code> overrides this.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min.ratio</code></td>
<td>
<p>optional input. smallest value for <code>lambda</code>, as
a fraction of <code>max.lam</code>, the (data derived) entry value. the default
depends on the sample size <code>n</code> relative to the number of variables
<code>p</code>. if <code>n</code> &gt; <code>p</code>, the default is 0.0001. otherwise, the
default is 0.01.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.iter</code></td>
<td>
<p>maximum number of iteration in the computation. Default is
100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.num</code></td>
<td>
<p>optional input. maximum number of nonzero coefficients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.lambda</code></td>
<td>
<p>the number of <code>lambda</code> values. Default is 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ebic.gamma</code></td>
<td>
<p>the gamma parameter value in the EBIC criteria. Default is
1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refit</code></td>
<td>
<p>whether to perform a MLE refit on the selected model. Default
is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trace</code></td>
<td>
<p>whether to trace the fitting process. Default is FALSE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object with S3 class RAMP.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>a0</code></td>
<td>
<p>intercept vector of length(<code>lambda</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mainInd</code></td>
<td>
<p>index for the selected main effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interInd</code></td>
<td>
<p>index for the selected interaction effects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta.m</code></td>
<td>
<p>coefficients for the selected main effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta.i</code></td>
<td>
<p>coefficients for the selected interaction effects.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>predict.RAMP</code>,<code>print.RAMP</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(0)
n = 500
p = 10 #Can be changed to a much larger number say 50000
x = matrix(rnorm(n*p),n,p)
eta = 1 * x[,1] + 2 * x[,3]  + 3*x[,6]  + 4*x[,1]*x[,3] + 5*x[,1]*x[,6]
y =  eta + rnorm(n)
xtest = matrix(rnorm(n*p),n,p)
eta.test = 1 * xtest[,1] + 2 * xtest[,3]  + 3*xtest[,6] +
4*xtest[,1]*xtest[,3] + 5*xtest[,1]*xtest[,6]
ytest =  eta.test + rnorm(n)
fit1 = RAMP(x, y)
fit1    ###examine the results
ypred = predict(fit1, xtest)
mean((ypred-ytest)^2)

#fit1.scad = RAMP(x, y, penalty = 'SCAD')
#fit1.scad    ###examine the results

#fit1.mcp = RAMP(x, y, penalty = 'MCP')
#fit1.mcp    ###examine the results

##Now, try a binary response
#y = rbinom(n, 1, 1/(1+exp(-eta)))
#fit2 = RAMP(x, y, family='binomial')  ###for binary response

## Weak heredity
eta = 1 * x[,1] + 3*x[,6]  + 4*x[,1]*x[,3] + 5*x[,1]*x[,6]
y =  eta + rnorm(n)
eta.test = 1 * xtest[,1] +  3*xtest[,6] + 4*xtest[,1]*xtest[,3] +
5*xtest[,1]*xtest[,6]
ytest =  eta.test + rnorm(n)

fit3 = RAMP(x, y, hier = 'Strong')
fit3    ###examine the results
ypred3 = predict(fit3, xtest)
mean((ypred3-ytest)^2)
fit4 = RAMP(x, y, hier = 'Weak')
fit4
ypred4 = predict(fit4, xtest)
mean((ypred4-ytest)^2)
</code></pre>


</div>