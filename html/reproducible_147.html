<div class="container">

<table style="width: 100%;"><tr>
<td>deprecated</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Crop a <code style="white-space: pre;">⁠Spatial*⁠</code> or <code style="white-space: pre;">⁠Raster*⁠</code> object</h2>

<h3>Description</h3>

<p>This function is deprecated. Use <code>cropTo</code>. If used, all arguments will be passed
to <code>cropTo</code> anyway.
</p>
<p><code>fixErrors</code> –&gt; <code>fixErrosTerra</code>
</p>
<p>Deprecated. Use <code>projectTo()</code>.
</p>
<p><code>maskInputs</code> is deprecated. Use <code>maskTo()</code>
</p>
<p>See <code>writeTo()</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">cropInputs(
  x,
  studyArea,
  rasterToMatch,
  verbose = getOption("reproducible.verbose", 1),
  ...
)

## Default S3 method:
cropInputs(x, ...)

fixErrors(
  x,
  objectName,
  attemptErrorFixes = TRUE,
  useCache = getOption("reproducible.useCache", FALSE),
  verbose = getOption("reproducible.verbose", 1),
  testValidity = getOption("reproducible.testValidity", TRUE),
  ...
)

## Default S3 method:
fixErrors(
  x,
  objectName,
  attemptErrorFixes = TRUE,
  useCache = getOption("reproducible.useCache", FALSE),
  verbose = getOption("reproducible.verbose", 1),
  testValidity = getOption("reproducible.testValidity", TRUE),
  ...
)

projectInputs(
  x,
  targetCRS,
  verbose = getOption("reproducible.verbose", 1),
  ...
)

## Default S3 method:
projectInputs(x, targetCRS, ...)

maskInputs(x, studyArea, ...)

writeOutputs(
  x,
  ...,
  overwrite = getOption("reproducible.overwrite", NULL),
  verbose = getOption("reproducible.verbose", 1)
)

## Default S3 method:
writeOutputs(
  x,
  ...,
  overwrite = getOption("reproducible.overwrite", FALSE),
  verbose = getOption("reproducible.verbose", 1)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The object save to disk i.e., write outputs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>studyArea</code></td>
<td>
<p><code style="white-space: pre;">⁠SpatialPolygons*⁠</code> object used for masking and possibly cropping
if no <code>rasterToMatch</code> is provided.
If not in same CRS, then it will be <code>spTransform</code>ed to
CRS of <code>x</code> before masking. Currently, this function will not reproject the
<code>x</code>. Optional in <code>postProcess</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rasterToMatch</code></td>
<td>
<p>Template <code style="white-space: pre;">⁠Raster*⁠</code> object passed to the <code>to</code> argument of
<code>projectTo()</code>, thus will changing the
resolution and projection of <code>x</code>.
See details in <code>postProcessTo()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Numeric, -1 silent (where possible), 0 being very quiet,
1 showing more messaging, 2 being more messaging, etc.
Default is 1. Above 3 will output much more information about the internals of
Caching, which may help diagnose Caching challenges. Can set globally with an
option, e.g., <code style="white-space: pre;">⁠options('reproducible.verbose' = 0) to reduce to minimal⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Passed into <code>writeTo()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>objectName</code></td>
<td>
<p>Optional. This is only for messaging; if provided, then messages relayed
to user will mention this.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attemptErrorFixes</code></td>
<td>
<p>Will attempt to fix known errors. Currently only some failures
for <code style="white-space: pre;">⁠SpatialPolygons*⁠</code> are attempted.
Notably with <code>terra::buffer(..., width = 0)</code>.
Default <code>TRUE</code>, though this may not be the right action for all cases.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useCache</code></td>
<td>
<p>Logical, default <code>getOption("reproducible.useCache", FALSE)</code>, whether
Cache is used on the internal <code>terra::buffer</code> command.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>testValidity</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the a test for validity will happen
before actually running buffering (which is the solution in most
cases). However, sometimes it takes longer to test for validity
than just buffer without testing (there are no consequences of
buffering if everything is valid). If <code>FALSE</code>, then the
test will be skipped and the buffering will happen regardless.
If <code>NA</code>, then all testing and buffering will be skipped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targetCRS</code></td>
<td>
<p>The CRS of x at the end  of this function (i.e., the goal)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Logical. Should file being written overwrite an existing file if it exists.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A GIS file (e.g., RasterLayer, SpatRaster etc.) that has been
appropriately cropped.
</p>
<p>A GIS file (e.g., RasterLayer, SpatRaster etc.) that has been
attempted to be fixed, if it finds errors.
</p>
<p>A file of the same type as starting, but with projection (and possibly
other characteristics, including resolution, origin, extent if changed).
</p>
<p>A GIS file (e.g., RasterLayer, SpatRaster etc.) that has been
appropriately reprojected.
</p>
<p>A GIS file (e.g., RasterLayer, SpatRaster etc.) that has been
appropriately masked.
</p>
<p>A GIS file (e.g., SpatRaster etc.) that has been
appropriately written to disk. In the case of vector datasets, this will
be a side effect. In the case of gridded objects (Raster*, SpatRaster), the
object will have a file-backing.
</p>


<h3>Author(s)</h3>

<p>Eliot McIntire, Jean Marchal, Ian Eddy, and Tati Micheletti
</p>
<p>Eliot McIntire and Jean Marchal
</p>


<h3>See Also</h3>

<p><code>fixErrorsIn()</code>, <code>postProcessTo()</code>, <code>postProcess()</code>
</p>
<p><code>projectTo()</code>
</p>
<p><code>maskTo()</code>, <code>postProcessTo()</code> for related examples
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (requireNamespace("terra", quietly = TRUE)) {
  r &lt;- terra::rast(terra::ext(0, 100, 0, 100), vals = 1:1e2)

  tf &lt;- tempfile(fileext = ".tif")
  writeOutputs(r, tf)
}
</code></pre>


</div>