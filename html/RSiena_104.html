<div class="container">

<table style="width: 100%;"><tr>
<td>updateTheta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
A function to update the initial values of theta, and a function
to update an effects object.
</h2>

<h3>Description</h3>

<p><code>updateTheta</code> copies the final values of any matching selected effects   
from a <code>sienaFit</code> object to a Siena effects object.<br><code>updateSpecification</code> includes in a Siena effects object   
a set of effects that are included in another effects object.  
</p>


<h3>Usage</h3>

<pre><code class="language-R">updateTheta(effects, prevAns, varName=NULL)
updateSpecification(effects.to, effects.from, name.to=NULL, name.from=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>effects</code></td>
<td>
<p>Object of class <code>sienaEffects</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prevAns</code></td>
<td>
<p>Object of class <code>sienaFit</code>
as returned by <code>siena07</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varName</code></td>
<td>
<p>Character string or vector of character strings;
is this is not <code>NULL</code>, the update will only applied to this
dependent variable / these dependent variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effects.to</code></td>
<td>
<p>Object of class <code>sienaEffects</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effects.from</code></td>
<td>
<p>Object of class <code>sienaEffects</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name.to</code></td>
<td>
<p>Character string, name of dependent variable in <code>object.to</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name.from</code></td>
<td>
<p>Character string, name of dependent variable in
<code>object.from</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The initial values of any selected effects
in the input effects object which match an effect estimated in
<code>prevAns</code> will be updated by <code>updateTheta</code>.
If the previous run was conditional, the estimated rate parameters for
the dependent variable on which the run was conditioned are added to
the final value of theta. If <code>varName</code> is not <code>NULL</code>,
this update is restricted to effects for the dependent variable/s
specified by <code>varName</code>.
<br>
By <code>updateSpecification</code>, the effects included in <code>effects.from</code>
are also included in <code>effects.to</code>; if <code>name.to</code> and/or
<code>name.from</code> is specified, this is restricted to effects
for those dependent variables.
If <code>name.to = "all"</code> (should then not be used as variable name!),
the effects for all dependent variables will be updated. <br>
Correspondence between effects is defined by <code>"name", "shortName"
  "type", "groupName", "interaction1", "interaction2", "period", "effect1",
  "effect2",</code> and <code>"effect3"</code>. This means that inclusion of user-defined
interactions will be updated only if they were available (i.e., defined)
already in <code>effects.to</code>.
</p>


<h3>Value</h3>

<p>Updated effects object.
</p>


<h3>Note</h3>

<p>Using <code>updateTheta</code> explicitly before calling <code>siena07</code>
rather than using it via the argument
<code>prevAns</code> of <code>siena07</code> will not permit the use of
the previous derivative matrix.
In most cases, using <code>siena07</code> with <code>prevAns</code> will be more
efficient.
</p>


<h3>Author(s)</h3>

<p>Ruth Ripley, Tom A.B. Snijders</p>


<h3>References</h3>

<p>See <a href="https://www.stats.ox.ac.uk/~snijders/siena/">https://www.stats.ox.ac.uk/~snijders/siena/</a></p>


<h3>See Also</h3>

<p><code>siena07</code>, <code>getEffects</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## For updateTheta:
mynet1 &lt;- sienaDependent(array(c(tmp3, tmp4), dim=c(32, 32, 2)))
mydata &lt;- sienaDataCreate(mynet1)
myeff1 &lt;- getEffects(mydata)
myeff1 &lt;- includeEffects(myeff1, transTrip)
myalgorithm &lt;- sienaAlgorithmCreate(nsub=1, n3=100, projname=NULL)
ans &lt;- siena07(myalgorithm, data=mydata, effects=myeff1, batch=TRUE)
ans$theta
(myeff &lt;- updateTheta(myeff1, ans))
##
## For updateSpecification:
myeff2 &lt;- getEffects(mydata)
myeff2 &lt;- includeEffects(myeff2, inPop)
updateSpecification(myeff2, myeff1)
# Create (meaningless) two-dimensional dependent network
mynet1 &lt;- sienaDependent(array(c(s501, s502), dim=c(50, 50, 2)))
mynet2 &lt;- sienaDependent(array(c(s503, s501), dim=c(50, 50, 2)))
mydata12 &lt;- sienaDataCreate(mynet1, mynet2)
myeff12 &lt;- getEffects(mydata12)
myeff.new &lt;- getEffects(mydata12)
(myeff12 &lt;- includeEffects(myeff12, inPop, outPop, outAct))
# update myeff.new only for mynet1:
updateSpecification(myeff.new, myeff12)
# update myeff.new for all dependent networks:
(myeff.updated &lt;- updateSpecification(myeff.new, myeff12, "all"))
# use multivariate effects object to update univariate effects object:
myeff1 &lt;- getEffects(sienaDataCreate(mynet1))
updateSpecification(myeff1, myeff.updated)
</code></pre>


</div>