<div class="container">

<table style="width: 100%;"><tr>
<td>mbco</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Model-based Constrained Optimization (MBCO) Chi-squared Test</h2>

<h3>Description</h3>

<p>This function computes asymptotic MBCO chi-squared test for a smooth function of model parameters including a function of indirect effects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mbco(
  h0 = NULL,
  h1 = NULL,
  R = 10L,
  type = "asymp",
  alpha = 0.05,
  checkHess = "No",
  checkSE = "No",
  optim = "SLSQP",
  precision = 1e-09
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>h0</code></td>
<td>
<p>An <code>OpenMx</code> model estimated under a null hypothesis, which is a more constrained model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h1</code></td>
<td>
<p>An <code>OpenMx</code> model estimated under an alternative hypothesis, which is a less constrained model. This is usually a model hypothesized by a researcher.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>The number of bootstrap draws.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>If 'asymp' (default), the asymptotic MBCO chi-squares test comparing fit of h0 and h1. If 'parametric', the parametric bootstrap MBCO chi-squared test is computed. If 'semi', the semi-parametric MBCO chi-squared is computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Significance level with the default value of .05</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkHess</code></td>
<td>
<p>If 'No' (default), the Hessian matrix would not be calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkSE</code></td>
<td>
<p>if 'No' (default), the standard errors would not be calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optim</code></td>
<td>
<p>Choose optimizer available in OpenMx. The default optimizer is "SLSQP". Other optimizer choices are available. See mxOption for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>precision</code></td>
<td>
<p>Functional precision. The default value is set to 1e-9. See mxOption for more details.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list that contains </p>
<table>
<tr style="vertical-align: top;">
<td><code>chisq</code></td>
<td>
<p>asymptotic chi-squared test statistic value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>chi-squared df</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>chi-squared p-value computed based on the method specified by the argument <code>type</code></p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Davood Tofighi <a href="mailto:dtofighi@gmail.com">dtofighi@gmail.com</a>
</p>


<h3>References</h3>

<p>Tofighi, D., &amp; Kelley, K. (2020). Indirect effects in sequential mediation models: Evaluating methods for hypothesis testing and confidence interval formation. <em>Multivariate Behavioral Research</em>, <b>55</b>, 188â€“210. <a href="https://doi.org/10.1080/00273171.2019.1618545">doi:10.1080/00273171.2019.1618545</a>
</p>
<p>Tofighi, D. (2020). Bootstrap Model-Based Constrained Optimization Tests of Indirect Effects. <em>Frontiers in Psychology</em>, <b>10</b>, 2989. <a href="https://doi.org/10.3389/fpsyg.2019.02989">doi:10.3389/fpsyg.2019.02989</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(memory_exp)
memory_exp$x &lt;- as.numeric(memory_exp$x)-1 # manually creating dummy codes
endVar &lt;- c('x', 'repetition', 'imagery', 'recall')
manifests &lt;- c('x', 'repetition', 'imagery', 'recall')
full_model &lt;- mxModel(
 "memory_example",
 type = "RAM",
 manifestVars = manifests,
 mxPath(
   from = "x",
   to = endVar,
   arrows = 1,
   free = TRUE,
   values = .2,
   labels = c("a1", "a2", "cp")
 ),
 mxPath(
   from = 'repetition',
  to = 'recall',
  arrows = 1,
   free = TRUE,
   values = .2,
   labels = 'b1'
 ),
 mxPath(
   from = 'imagery',
 to = 'recall',
 arrows = 1,
 free = TRUE,
 values = .2,
 labels = "b2"
),
mxPath(
 from = manifests,
 arrows = 2,
 free = TRUE,
 values = .8
),
mxPath(
 from = "one",
 to = endVar,
 arrows = 1,
 free = TRUE,
 values = .1
),
mxAlgebra(a1 * b1, name = "ind1"),
mxAlgebra(a2 * b2, name = "ind2"),
mxCI("ind1", type = "both"),
mxCI("ind2", type = "both"),
mxData(observed = memory_exp, type = "raw")
)
## Reduced  Model for indirect effect: a1*b1
null_model1 &lt;- mxModel(
model= full_model,
name = "Null Model 1",
mxConstraint(ind1 == 0, name = "ind1_eq0_constr")
)
full_model &lt;- mxTryHard(full_model, checkHess=FALSE, silent = TRUE )
null_model1 &lt;- mxTryHard(null_model1, checkHess=FALSE, silent = TRUE )
mbco(null_model1,full_model)
</code></pre>


</div>