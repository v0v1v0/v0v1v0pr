<div class="container">

<table style="width: 100%;"><tr>
<td>roger-interface</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>R Interface for Roger Command Line Tools</h2>

<h3>Description</h3>

<p>R interfaces to the Roger base system command line tools <code>roger
  checkreq</code>, <code>roger clone</code>, <code>roger grade</code>, <code>roger push</code>,
<code>roger switch</code> and <code>roger validate</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">roger_checkreq(file = "./requirements.txt", ...,
               .debugOnly = FALSE)

roger_clone(pattern, project, rogerrc_file = NULL, machine = NULL,
            curl_options = NULL, api = NULL, quiet = FALSE, ...,
            .debugOnly = FALSE)

roger_grade(dir = getwd(), config_file = NULL, time_limit = NULL,
            detached_head = FALSE, output_file = NULL,
            quiet = FALSE, ..., .debugOnly = FALSE)

roger_push(branch, repos = getwd(), create = FALSE, file = NULL,
           add_file = NULL, message = NULL, quiet = FALSE, ...,
           .debugOnly = FALSE)

roger_switch(branch, repos = getwd(), quiet = FALSE, ...,
             .debugOnly = FALSE)

roger_validate(dir = getwd(), config_file = NULL,
               check_local_repos = TRUE, ..., .debugOnly = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>requirements file name for <code>checkreq</code>; name of the
grading results file for <code>push</code> (overriding the default, locale
dependent, value).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p>regular expression pattern.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>project</code></td>
<td>
<p>name of a Git project containing repositories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>character vector of directory names containing projects to
grade or validate; only the first one is used by <code>validate</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repos</code></td>
<td>
<p>character vector of Git repository names to publish
grading results into.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>branch</code></td>
<td>
<p>name of the branch in which to publish the grading
results (identical for every repository).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_file</code></td>
<td>
<p>character vector of file names to publish along with
the grading results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api</code></td>
<td>
<p>character string; name of the REST API used to retrieve
the urls of the repositories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_local_repos</code></td>
<td>
<p>boolean; check the status of the local
repository?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>config_file</code></td>
<td>
<p>name of grading or validation configuration file;
overrides the defaults <code>gradeconf</code> and <code>valideconf</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>create</code></td>
<td>
<p>boolean; is <code>branch</code> a new branch to create
in the repositories?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>curl_options</code></td>
<td>
<p>character vector of command line options to pass
to <code>curl</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>detached_head</code></td>
<td>
<p>boolean; leave the repositories in a detached
head state for further manual grading?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>machine</code></td>
<td>
<p>URI and context of the Git server.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>message</code></td>
<td>
<p>character vector of commit messages pasted together to
form a single paragraph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_file</code></td>
<td>
<p>grading results file name; if <code>NULL</code> or
<code>-</code>, results are written to standard output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rogerrc_file</code></td>
<td>
<p>path to the rogerrc file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>boolean; suppress output?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_limit</code></td>
<td>
<p>date and time in ISO 8601 format (YYYY-MM-DD
HH:MM:SS) by which to grade a project in a Git repository.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to <code>system2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.debugOnly</code></td>
<td>
<p>boolean; print the system call only?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions build calls to the Roger base system command line
tools and execute them using <code>system2</code>.
</p>
<p>Command line option values are always quoted with
<code>shQuote</code>.
</p>
<p>Refer to the command line tools documentation for detailed information
on the arguments and options.
</p>


<h3>Value</h3>

<p>Character vector containing the standard output and standard error of
the command line tools.
</p>


<h3>Note</h3>

<p>The interface functions require that the Roger base system is
installed on your machine and in your system path. See the Roger
Project download page <a href="https://roger-project.gitlab.io/download/">https://roger-project.gitlab.io/download/</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Sample usage for students
## Not run: ## Validate the project in the current directory using the
## configuration file 'validateconf-prototype'.
roger_validate(config_file = "validateconf-prototype")
## End(Not run)

## Sample usage for graders.
## Not run: ## First check the availability of the grading tools.
roger_checkreq()

## Clone all repositories matching the pattern '[0-9]{9}_prototype'
## in the BitBucket project 'a2042-12345'.
roger_clone("[0-9]{9}_prototype", "a2042-12345")

## Grade all directories (repositories) starting with '[0-9]*'
## as of 2020-04-30 23:59:59 using the configuration in file
## 'gradeconf-prototype'; write results in file 'GRADING.txt'
## of each directory; leave repositories in detached head state
## for manual grading of files.
roger_grade("[0-9]*/", config_file = "gradeconf-prototype",
            time_limit = "2020-04-30 23:59:59", detached_head = TRUE,
            output_file = "GRADING.txt")

## Publish results in every repository in a new branch
## 'grading-results'. No need to specify the grading results file
## name since 'GRADING.txt' is the default in an English locale.
roger_push("grading-results", "[0-9]*/", create = TRUE,
           message = c("Here are your grading results"))

## Return all repositories to main branch.
roger_switch("main", "[0-9]*/")
## End(Not run)
</code></pre>


</div>