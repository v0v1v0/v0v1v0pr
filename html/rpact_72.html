<div class="container">

<table style="width: 100%;"><tr>
<td>getFinalConfidenceInterval</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get Final Confidence Interval</h2>

<h3>Description</h3>

<p>Returns the final confidence interval for the parameter of interest.
It is based on the prototype case, i.e., the test for testing a mean for
normally distributed variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getFinalConfidenceInterval(
  design,
  dataInput,
  ...,
  directionUpper = NA,
  thetaH0 = NA_real_,
  tolerance = 1e-06,
  stage = NA_integer_
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>The trial design.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataInput</code></td>
<td>
<p>The summary data used for calculating the test results.
This is either an element of <code>DatasetMeans</code>, of <code>DatasetRates</code>, or of <code>DatasetSurvival</code>
and should be created with the function <code>getDataset()</code>.
For more information see <code>getDataset()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further (optional) arguments to be passed:
</p>

<dl>
<dt><code>normalApproximation</code></dt>
<dd>
<p>The type of computation of the p-values. Default is <code>FALSE</code> for
testing means (i.e., the t test is used) and TRUE for testing rates and the hazard ratio.
For testing rates, if <code>normalApproximation = FALSE</code> is specified, the binomial test
(one sample) or the exact test of Fisher (two samples) is used for calculating the p-values.
In the survival setting, <code>normalApproximation = FALSE</code> has no effect.</p>
</dd>
<dt><code>equalVariances</code></dt>
<dd>
<p>The type of t test. For testing means in two treatment groups, either
the t test assuming that the variances are equal or the t test without assuming this,
i.e., the test of Welch-Satterthwaite is calculated, default is <code>TRUE</code>.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>directionUpper</code></td>
<td>
<p>Logical. Specifies the direction of the alternative,
only applicable for one-sided testing; default is <code>TRUE</code>
which means that larger values of the test statistics yield smaller p-values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thetaH0</code></td>
<td>
<p>The null hypothesis value,
default is <code>0</code> for the normal and the binary case (testing means and rates, respectively),
it is <code>1</code> for the survival case (testing the hazard ratio).<br><br>
For non-inferiority designs, <code>thetaH0</code> is the non-inferiority bound.
That is, in case of (one-sided) testing of
</p>

<ul>
<li> <p><em>means</em>: a value <code>!= 0</code>
(or a value <code>!= 1</code> for testing the mean ratio) can be specified.
</p>
</li>
<li> <p><em>rates</em>: a value <code>!= 0</code>
(or a value <code>!= 1</code> for testing the risk ratio <code>pi1 / pi2</code>) can be specified.
</p>
</li>
<li> <p><em>survival data</em>: a bound for testing H0: <code>hazard ratio = thetaH0 != 1</code> can be specified.
</p>
</li>
<li> <p><em>count data</em>: a bound for testing H0: <code>lambda1 / lambda2 = thetaH0 != 1</code> can be specified.
</p>
</li>
</ul>
<p>For testing a rate in one sample, a value <code>thetaH0</code> in (0, 1) has to be specified for
defining the null hypothesis H0: <code>pi = thetaH0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tolerance</code></td>
<td>
<p>The numerical tolerance, default is <code>1e-06</code>. Must be a positive numeric of length 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stage</code></td>
<td>
<p>The stage number (optional). Default: total number of existing stages in the data input.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Depending on <code>design</code> and <code>dataInput</code> the final confidence interval and median unbiased estimate
that is based on the stage-wise ordering of the sample space will be calculated and returned.
Additionally, a non-standardized ("general") version is provided,
the estimated standard deviation must be used to obtain
the confidence interval for the parameter of interest.
</p>
<p>For the inverse normal combination test design with more than two
stages, a warning informs that the validity of the confidence interval is theoretically shown only if
no sample size change was performed.
</p>


<h3>Value</h3>

<p>Returns a <code>list</code> containing
</p>

<ul>
<li> <p><code>finalStage</code>,
</p>
</li>
<li> <p><code>medianUnbiased</code>,
</p>
</li>
<li> <p><code>finalConfidenceInterval</code>,
</p>
</li>
<li> <p><code>medianUnbiasedGeneral</code>, and
</p>
</li>
<li> <p><code>finalConfidenceIntervalGeneral</code>.
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Other analysis functions: 
<code>getAnalysisResults()</code>,
<code>getClosedCombinationTestResults()</code>,
<code>getClosedConditionalDunnettTestResults()</code>,
<code>getConditionalPower()</code>,
<code>getConditionalRejectionProbabilities()</code>,
<code>getFinalPValue()</code>,
<code>getRepeatedConfidenceIntervals()</code>,
<code>getRepeatedPValues()</code>,
<code>getStageResults()</code>,
<code>getTestActions()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
design &lt;- getDesignInverseNormal(kMax = 2)
data &lt;- getDataset(
    n = c(20, 30),
    means = c(50, 51),
    stDevs = c(130, 140)
)
getFinalConfidenceInterval(design, dataInput = data)

## End(Not run)

</code></pre>


</div>