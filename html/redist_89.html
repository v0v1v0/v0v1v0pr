<div class="container">

<table style="width: 100%;"><tr>
<td>redist.diagplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Diagnostic plotting functionality for MCMC redistricting.</h2>

<h3>Description</h3>

<p><code>redist.diagplot</code> generates several common MCMC diagnostic plots.
</p>


<h3>Usage</h3>

<pre><code class="language-R">redist.diagplot(sumstat,
plot = c("trace", "autocorr", "densplot", "mean", "gelmanrubin"),
logit = FALSE, savename = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sumstat</code></td>
<td>
<p>A vector, list, <code>mcmc</code> or <code>mcmc.list</code> object
containing a summary statistic of choice.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>The type of diagnostic plot to generate: one of "trace",
"autocorr", "densplot", "mean", "gelmanrubin". If <code>plot = "gelmanrubin"</code>,
the input <code>sumstat</code> must be of class <code>mcmc.list</code> or <code>list</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logit</code></td>
<td>
<p>Flag for whether to apply the logistic transformation for the
summary statistic. The default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savename</code></td>
<td>
<p>Filename to save the plot. Default is <code>NULL</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function allows users to generate several standard diagnostic
plots from the MCMC literature, as implemented by Plummer et. al (2006).
Diagnostic plots implemented include trace plots, autocorrelation plots,
density plots, running means, and Gelman-Rubin convergence diagnostics
(Gelman &amp; Rubin 1992).
</p>


<h3>Value</h3>

<p>Returns a plot of file type <code>.pdf</code>.
</p>


<h3>References</h3>

<p>Fifield, Benjamin, Michael Higgins, Kosuke Imai and Alexander
Tarr. (2016) "A New Automated Redistricting Simulator Using Markov Chain Monte
Carlo." Working Paper. Available at
<a href="http://imai.princeton.edu/research/files/redist.pdf">http://imai.princeton.edu/research/files/redist.pdf</a>.
</p>
<p>Gelman, Andrew and Donald Rubin. (1992) "Inference from iterative simulations
using multiple sequences (with discussion)." Statistical Science.
</p>
<p>Plummer, Martin, Nicky Best, Kate Cowles and Karen Vines. (2006) "CODA:
Convergence Diagnosis and Output Analysis for MCMC." R News.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(fl25)
data(fl25_enum)
data(fl25_adj)

## Get an initial partition
init_plan &lt;- fl25_enum$plans[, 5118]
fl25$init_plan &lt;- init_plan

## 25 precinct, three districts - no pop constraint ##
fl_map &lt;- redist_map(fl25, existing_plan = 'init_plan', adj = fl25_adj)
alg_253 &lt;- redist_flip(fl_map, nsims = 10000)

## Get Republican Dissimilarity Index from simulations
rep_dmi_253 &lt;- redistmetrics::seg_dissim(alg_253, fl25, mccain, pop) |&gt;
    redistmetrics::by_plan(ndists = 3)

## Generate diagnostic plots
redist.diagplot(rep_dmi_253, plot = "trace")
redist.diagplot(rep_dmi_253, plot = "autocorr")
redist.diagplot(rep_dmi_253, plot = "densplot")
redist.diagplot(rep_dmi_253, plot = "mean")

## Gelman Rubin needs two chains, so we run a second
alg_253_2 &lt;- redist_flip(fl_map, nsims = 10000)

rep_dmi_253_2 &lt;- redistmetrics::seg_dissim(alg_253_2, fl25, mccain, pop) |&gt;
    redistmetrics::by_plan(ndists = 3)

## Make a list out of the objects:
rep_dmi_253_list &lt;- list(rep_dmi_253, rep_dmi_253_2)

## Generate Gelman Rubin diagnostic plot
redist.diagplot(sumstat = rep_dmi_253_list, plot = "gelmanrubin")


</code></pre>


</div>