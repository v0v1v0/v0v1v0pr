<div class="container">

<table style="width: 100%;"><tr>
<td>getPairs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract Record Pairs</h2>

<h3>Description</h3>

<p>Extracts record pairs from data and result objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'RecLinkData'
getPairs(object, max.weight = Inf, min.weight = -Inf,
         single.rows = FALSE, show = "all", sort = !is.null(object$Wdata))

## S4 method for signature 'RLBigData'
getPairs(object, max.weight = Inf, min.weight = -Inf,
    filter.match = c("match", "unknown", "nonmatch"),
    withWeight = hasWeights(object), withMatch = TRUE, single.rows = FALSE,
    sort = withWeight)

## S4 method for signature 'RLResult'
getPairs(object, filter.match = c("match", "unknown", "nonmatch"),
    filter.link = c("nonlink", "possible", "link"), max.weight = Inf, 
    min.weight = -Inf, withMatch = TRUE, withClass = TRUE, 
    withWeight = hasWeights(object@data), single.rows = FALSE, sort = withWeight)

getFalsePos(object, single.rows = FALSE)
getFalseNeg(object, single.rows = FALSE)
getFalse(object, single.rows = FALSE)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>The data or result object from which to extract record pairs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.weight, min.weight</code></td>
<td>
<p>Real numbers. Upper and lower weight threshold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter.match</code></td>
<td>
<p>Character vector, a nonempty subset of <code>c("match", "nonmatch", "unkown")</code>
denoting which pairs to allow in the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter.link</code></td>
<td>
<p>Character vector, a nonempty subset of <code>c("link", "nonlink", "unkown")</code>
denoting which pairs to allow in the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>withWeight</code></td>
<td>
<p>Logical. Whether to include linkage weights in the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>withMatch</code></td>
<td>
<p>Logical. Whether to include matching status in the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>withClass</code></td>
<td>
<p>Logical. Whether to include classification result in the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>single.rows</code></td>
<td>
<p>Logical. Whether to print record pairs in one row instead
of two consecutive rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show</code></td>
<td>
<p>Character. Selects which records to show, one of <code>"links"</code>,
<code>"nonlinks"</code>, <code>"possible"</code>, <code>"all"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>Logical. Whether to sort descending by weight.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These methods extract record pairs from <code>"RecLinkData"</code>,
or <code>"RecLinkResult"</code>, <code>"RLBigData"</code> and
<code>"RLResult"</code> objects. Possible applications are retrieving
a linkage result for further processing, conducting a manual review in order
to determine classification thresholds or inspecting misclassified pairs.
</p>
<p>The various arguments can be grouped by the following purposes:
</p>

<ol>
<li>
<p>Controlling which record pairs are included in the output:
<code>min.weight</code> and <code>max.weight</code>, <code>filter.match</code>,
<code>filter.link</code>, <code>show</code>.
</p>
</li>
<li>
<p>Controlling which information is shown: <code>withWeight</code>, <code>withMatch</code>,
<code>withClass</code>
</p>
</li>
<li>
<p>Controlling the overall structure of the result: <code>sort</code>,
<code>single.rows</code>.
</p>
</li>
</ol>
<p>The weight limits are inclusive, i.e. a record pair with weight <code>w</code>
is included only if <br><code>w &gt;= min.weight &amp;&amp; w &lt;= max.weight</code>.
</p>
<p>If <code>single.rows</code> is not <code>TRUE</code>, pairs are output on two consecutive
lines in a more readable format. All data are converted to character, which
can lead to a loss of precision for numeric values.
Therefore, this format should be used  for printing only.
</p>
<p><code>getFalsePos</code>, <code>getFalseNeg</code> and <code>getFalse</code> are shortcuts
(currently for objects of class <code>"RLResult"</code> only)
to retrieve false positives (links that are non-matches in fact),
false negatives (non-links that are matches in fact) or all falsely classified
pairs, respectively.
</p>


<h3>Value</h3>

<p>A data frame. If <code>single.rows</code> is <code>TRUE</code>, each row holds (in this
order) id and data fields of the
first record, id and data fields of the second record and possibly matching
status, classification result and/or weight.
</p>
<p>If <code>single.rows</code> is not <code>TRUE</code>, the result holds for each resulting
record pair consecutive rows of the following format:
</p>

<ol>
<li>
<p>ID and data fields of the first record followed by as many empty
fields to match the length of the following line.
</p>
</li>
<li>
<p>ID and data fields of the second record, possibly followed by
matching status, classification result and/or weight.
</p>
</li>
<li>
<p>A blank line to separate record pairs.
</p>
</li>
</ol>
<h3>Note</h3>

<p>When non-matches are included in the output and blocking is permissive,
the result object can be very large, possibly leading to memory problems.
</p>


<h3>Author(s)</h3>

<p>Andreas Borg, Murat Sariyar</p>


<h3>Examples</h3>

<pre><code class="language-R">data(RLdata500)

# create record pairs and calculate epilink weights
rpairs &lt;- RLBigDataDedup(RLdata500, identity = identity.RLdata500,
  blockfld=list(1,3,5,6,7))
rpairs &lt;- epiWeights(rpairs)

# show all record pairs with weights between 0.5 and 0.6
getPairs(rpairs, min.weight=0.5, max.weight=0.6)

# show only matches with weight &lt;= 0.5
getPairs(rpairs, max.weight=0.5, filter.match="match")

# classify with one threshold
result &lt;- epiClassify(rpairs, 0.5)

# show all links, do not show classification in the output
getPairs(result, filter.link="link", withClass = FALSE)

# see wrongly classified pairs
getFalsePos(result)
getFalseNeg(result)
</code></pre>


</div>