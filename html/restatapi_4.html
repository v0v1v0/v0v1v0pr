<div class="container">

<table style="width: 100%;"><tr>
<td>extract_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract data values from SDMX XML</h2>

<h3>Description</h3>

<p>Extracts the data values from the SDMX XML data file
</p>


<h3>Usage</h3>

<pre><code class="language-R">extract_data(
  xml_lf,
  keep_flags = FALSE,
  stringsAsFactors = FALSE,
  bulk = TRUE,
  check_toc = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xml_lf</code></td>
<td>
<p>an input XML leaf with data series from an SDMX XML file to extract the value and its dimensions from it</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_flags</code></td>
<td>
<p>a logical value if to extract the observation status (flag) information from the XML file. The default value is <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stringsAsFactors</code></td>
<td>
<p>a logical value. If <code>TRUE</code> the columns are converted to factors. The default is <code>FALSE</code>, 
in this case the strings are returned as characters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bulk</code></td>
<td>
<p>a logical value with default value <code>TRUE</code> if the input SDMX XML file is from the bulk download facility containing all the observations. 
If the input file has pre-filtered values then the value <code>FALSE</code> should be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_toc</code></td>
<td>
<p>if the data file was downloaded using the URL from the TOC or not. The default is FALSE means not the TOC link is used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It is a sub-function to use in the <code>get_eurostat_data</code> and the <code>get_eurostat_raw</code> functions.
</p>


<h3>Value</h3>

<p>a data frame containing the values of an SDMX node: the dimensions, value and the optional flag(s)
</p>


<h3>Examples</h3>

<pre><code class="language-R">

id&lt;-"agr_r_milkpr"
url&lt;-paste0("https://ec.europa.eu/eurostat/api/dissemination/sdmx/2.1/data/",
            id,
            "?format=sdmx_2.1_structured&amp;compressed=true")
if (!(grepl("amzn|-aws|-azure ",Sys.info()['release']))) options(timeout=2)
  sdmx_xml&lt;-get_compressed_sdmx(url,verbose=TRUE)
  xml_leafs&lt;-xml2::xml_find_all(sdmx_xml,".//Series")
  extract_data(xml_leafs[1])
options(timeout=60)


</code></pre>


</div>