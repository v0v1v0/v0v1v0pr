<div class="container">

<table style="width: 100%;"><tr>
<td>query</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a query</h2>

<h3>Description</h3>

<p>Create a query
</p>


<h3>Usage</h3>

<pre><code class="language-R">query(
  query = call("member", expression(X), list(quote(a), "b", 3L, 4, TRUE, expression(Y))),
  options = NULL,
  env = globalenv()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>an R call. The R call consists of symbols, integers and real numbers,
character strings, boolean values, expressions, lists, and other calls.
Vectors of booleans, integers, floating point numbers, and strings with
length <em>N</em> &gt; 1 are translated to prolog compounds !/N, %/N, #/N and $$/N,
respectively. The names can be modified with the options below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>This is a list of options controlling translation from and to prolog.
</p>

<ul>
<li> <p><em>boolvec</em> (see option rolog.boolvec, default is !) is the name of the
prolog compound for vectors of booleans.
</p>
</li>
<li> <p><em>intvec</em>, <em>realvec</em>, <em>charvec</em> define the compound names for vectors of
integers, doubles and strings, respectively (defaults are %, # and $$).
</p>
</li>
<li>
<p> If <em>scalar</em> is <code>TRUE</code> (default), vectors of length 1 are translated to
scalar prolog elements. If <em>scalar</em> is <code>FALSE</code>, vectors of length 1 are
also translated to compounds.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>The R environment in which the query is run (default: globalenv()). This is
mostly relevant for r_eval/2.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>SWI-Prolog does not allow multiple open queries. If another query is open, it
it is closed and a warning is shown.
</p>


<h3>Value</h3>

<p>If the creation of the query succeeds, <code>TRUE</code>.
</p>


<h3>See Also</h3>

<p><code>once()</code> for a query that is submitted only a single time.
</p>
<p><code>findall()</code> for a query that is submitted until it fails.
</p>


<h3>Examples</h3>

<pre><code class="language-R">query(call("member", expression(X), list(quote(a), "b", 3L, 4, TRUE, expression(Y))))
submit() # X = a
submit() # X = "b"
clear()

query(call("member", expression(X), list(quote(a), "b", 3L, 4, TRUE, expression(Y),
  NA, NaN, Inf, NULL, function(x) {y &lt;- sin(x); y^2})))
submit() # X = a
submit() # X = "b"
submit() # X = 3L
submit() # X = 4.0
submit() # X = TRUE
submit() # X = expression(Y) or Y = expression(X)
submit() # X = NA
submit() # X = NaN
submit() # X = Inf
submit() # X = NULL
submit() # X = function(x) {y &lt;- sin(x); y^2}))
submit() # FALSE (no more results)
submit() # warning that no query is open

query(call("member", expression(X), list(quote(a), "b", 3L, 4)))
query(call("member", expression(X), list(TRUE, expression(Y)))) # warning that another query is open
clear()
</code></pre>


</div>