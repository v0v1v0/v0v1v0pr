<div class="container">

<table style="width: 100%;"><tr>
<td>buildlookup</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build Lookup Tables for Fast Distance Computation</h2>

<h3>Description</h3>

<p>Adds lookup tables for distance computation, dramatically
reducing computation time.  It may take some time to calculate,
particularly in a braided network.
</p>


<h3>Usage</h3>

<pre><code class="language-R">buildlookup(rivers)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>rivers</code></td>
<td>
<p>The river network object to use</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A rivernetwork object, with a new list element, <code>$distlookup</code>, a
list of three matrices.  Element <code>[i,j]</code> of each matrix corresponds to
the route between segment <code>i</code> and <code>j</code>.  The
<code>distlookup$middist</code> matrix gives the total distance of the "middle"
of each route (between the starting and ending segments"), and the
<code>distlookup$starttop</code> and <code>distlookup$endtop</code> matrices have value
<code>TRUE</code>, <code>FALSE</code>, or <code>NA</code> if the segments at the beginning or
end of the route are connected to the rest of the route at the top of the
coordinate matrix, bottom of the coordinate matrix, or if the route is
contained to just one segment, respectively. (See rivernetwork.)
</p>


<h3>Note</h3>

<p>This will add three n by n matrices to the river network object, which
will be very large if the river network has many segments.
</p>
<p>This function is called within cleanup, which is recommended in
most cases.  It is also called within buildsegroutes, and will add
lookup tables by default if there are fewer than 400 segments in the river
network.
</p>
<p>This function can still be called in the presence of a braided network, but all resulting distances used in subsequent analyses will be the shortest route.
</p>
<p>If segment routes (<code>$segroutes</code>) are not present, this function may take a very long time to run.
</p>


<h3>Author(s)</h3>

<p>Matt Tyers
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(abstreams)

abstreams1 &lt;- buildlookup(abstreams)
</code></pre>


</div>