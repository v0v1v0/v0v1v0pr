<div class="container">

<table style="width: 100%;"><tr>
<td>weight_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Diagnostic plot of robust regression weights</h2>

<h3>Description</h3>

<p>Produce a diagnostic plot of the regression weights from robust mediation
analysis.  This plot allows to easily detect deviations from normality
assumptions such as skewness or heavy tails.
</p>


<h3>Usage</h3>

<pre><code class="language-R">weight_plot(object, ...)

## Default S3 method:
weight_plot(object, outcome = NULL, npoints = 1000, ...)

## S3 method for class 'setup_weight_plot'
weight_plot(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object inheriting from class <code>"fit_mediation"</code>
or <code>"test_mediation"</code> containing results from robust mediation
analysis.  Only mediation analysis objects fitted with the robust
MM-estimator are supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be passed down.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome</code></td>
<td>
<p>a character vector specifying the outcome variables of the
regressions to be included in the plot.  This must be a subset of the
hypothesized mediators and the dependent variable, or <code>NULL</code> (the
default) to include all regressions of the mediation model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>npoints</code></td>
<td>
<p>the number of grid points used to evaluate and draw the
expected percentages.  The default is to use 1000 grid points.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The horizontal axis contains different weight thresholds, and the vertical
axis displays the percentage of observations that have a weight below this
threshold.  For comparison, a reference line is drawn for the expected
percentages under normally distributed errors.  Observations with negative
and positive residuals are shown separately to make it possible to
distinguish between symmetric and asymmetric deviations from normality.
</p>
<p>If the plot reveals more downweighted observations than expected, but
roughly the same amounts in both tails, the residual distribution is
symmetric but with heavy tails.  If the plot shows that observations in one
tail are downweighted more heavily than those in the other tail, the
residual distribution is skewed.
</p>


<h3>Value</h3>

<p>An object inheriting from class <code>"ggplot"</code>.
</p>


<h3>Note</h3>

<p>The current implementation is a slight hack of <span class="pkg">ggplot2</span> and the
<span class="pkg">grid</span> graphics system in order to revert the horizontal axis only in
the panels for observations with postive residuals.  It is therefore not
possible to change the horizontal axis with
<code>scale_x_continuous()</code>.
</p>
<p>The implementation may change in the future if the required functionality
becomes available in <span class="pkg">ggplot2</span>.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>Alfons, A., Ates, N.Y. and Groenen, P.J.F. (2022) Robust Mediation Analysis:
The <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> Package <span class="pkg">robmed</span>.  <em>Journal of Statistical Software</em>,
<b>103</b>(13), 1â€“45.  doi:10.18637/jss.v103.i13.
</p>


<h3>See Also</h3>

<p><code>fit_mediation()</code>, <code>test_mediation()</code>,
<code>setup_weight_plot()</code>
</p>
<p><code>ci_plot()</code>, <code>density_plot()</code>,
<code>ellipse_plot()</code>, <code>plot()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("BSG2014")

# run fast-and-robust bootstrap test
boot &lt;- test_mediation(BSG2014,
                       x = "ValueDiversity",
                       y = "TeamCommitment",
                       m = "TaskConflict")

# create diagnostic plot of robust regression weights
weight_plot(boot) +
  scale_color_manual("", values = c("black", "#00BFC4")) +
  theme(legend.position = "top")

# plot only the regression model for the hypothesized mediator
weight_plot(boot, outcome = "TaskConflict") +
  scale_color_manual("", values = c("black", "#00BFC4")) +
  theme(legend.position = "top")

</code></pre>


</div>