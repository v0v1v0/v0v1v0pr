<div class="container">

<table style="width: 100%;"><tr>
<td>setup_weight_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set up a diagnostic plot of robust regression weights</h2>

<h3>Description</h3>

<p>Extract the relevant information for a diagnostic plot of the regression
weights from robust mediation analysis.  This plot allows to easily detect
deviations from normality assumptions such as skewness or heavy tails.
</p>


<h3>Usage</h3>

<pre><code class="language-R">setup_weight_plot(object, ...)

## S3 method for class 'test_mediation'
setup_weight_plot(object, ...)

## S3 method for class 'reg_fit_mediation'
setup_weight_plot(object, outcome = NULL, npoints = 1000, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object inheriting from class <code>"fit_mediation"</code>
or <code>"test_mediation"</code> containing results from robust mediation
analysis.  Only mediation analysis objects fitted with the robust
MM-estimator are supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be passed down.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome</code></td>
<td>
<p>a character vector specifying the outcome variables of the
regressions to be included in the plot.  This must be a subset of the
hypothesized mediators and the dependent variable, or <code>NULL</code> (the
default) to include all regressions of the mediation model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>npoints</code></td>
<td>
<p>the number of grid points used to evaluate the expected
percentages.  The default is to use 1000 grid points.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is used internally by <code>weight_plot()</code>.  It may
also be useful for users who want to produce a similar plot, but who want
more control over what information to display or how to display that
information.
</p>


<h3>Value</h3>

<p>An object of class <code>"setup_weight_plot"</code> with the following
components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame containing the following information: the outcome
variable of the regression (column <code>Outcome</code>; only if multiple
regressions are to be included in the plot), whether the row corresponds to
the negative or the positive tail of the residual distribution (column
<code>Tail</code>), whether the row corresponds to the expected (under the normal
distribution) or the empirical weights (column <code>Weights</code>), the weight
thresholds (column <code>Threshold</code>), and the corresponding percentage of
observations that have a weight below this threshold (column
<code>Percentage</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome</code></td>
<td>
<p>a character vector containing the outcome variables of the
regressions to be included in the plot.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>Alfons, A., Ates, N.Y. and Groenen, P.J.F. (2022) Robust Mediation Analysis:
The <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> Package <span class="pkg">robmed</span>.  <em>Journal of Statistical Software</em>,
<b>103</b>(13), 1â€“45.  doi:10.18637/jss.v103.i13.
</p>


<h3>See Also</h3>

<p><code>fit_mediation()</code>, <code>test_mediation()</code>,
<code>weight_plot()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("BSG2014")

# run fast-and-robust bootstrap test
boot &lt;- test_mediation(BSG2014,
                       x = "ValueDiversity",
                       y = "TeamCommitment",
                       m = "TaskConflict")

# set up information for plot
setup &lt;- setup_weight_plot(boot)
# create diagnostic plot of robust regression weights
weight_plot(setup) +
  scale_color_manual("", values = c("black", "#00BFC4")) +
  theme(legend.position = "top")

</code></pre>


</div>