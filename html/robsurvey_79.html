<div class="container">

<table style="width: 100%;"><tr>
<td>weighted_mean_dalen</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Dalen Estimators of the Mean and Total</h2>

<h3>Description</h3>

<p>Dalén's estimators of the population mean and the population total
(bare-bone functions with limited functionality).
</p>


<h3>Usage</h3>

<pre><code class="language-R">weighted_mean_dalen(x, w, censoring, type = "Z2", info = FALSE,
                    na.rm = FALSE, verbose = TRUE)
weighted_total_dalen(x, w, censoring, type = "Z2", info = FALSE,
                     na.rm = FALSE, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>[numeric vector]</code> data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p><code>[numeric vector]</code> weights (same length as <code>x</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censoring</code></td>
<td>
<p><code>[double]</code> cutoff threshold above which the
observations are censored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p><code>[character]</code> type of estimator; either <code>"Z2"</code> or
<code>"Z3"</code> (default: <code>"Z2"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>info</code></td>
<td>
<p><code>[logical]</code> indicating whether additional information
should be returned (default: <code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p><code>[logical]</code> indicating whether <code>NA</code> values should be
removed before the computation proceeds (default: <code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p><code>[logical]</code> indicating whether additional information
should be printed to the console (default: <code>FALSE</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Let <code class="reqn">\sum_{i \in s} w_ix_i</code> denote the expansion
estimator of the <code class="reqn">x</code>-total (summation is over all elements <code class="reqn">i</code>
in sample <code class="reqn">s</code>). The estimators Z2 and Z3 of Dalén (1987) are
defined as follows.
</p>

<dl>
<dt>Estimator Z2</dt>
<dd>
<p>The estimator Z2 of the population total sums over
<code class="reqn">\min(c, w_ix_i)</code>; hence, it
censors the products <code class="reqn">w_ix_i</code> to the
censoring constant <code class="reqn">c</code> (<code>censoring</code>). The estimator of
the population <code class="reqn">x</code>-mean is is defined as the total divided
by the population size.
</p>
</dd>
<dt>Estimator Z3</dt>
<dd>
<p>The estimator Z3 of the population total is defined as the sum
over the elements <code class="reqn">z_i</code>, which is equal to
<code class="reqn">z_i = w_ix_i</code>
if <code class="reqn">w_iy_i \leq c</code> and
<code class="reqn">z_i = c + (y_i - c/w_i)</code>
otherwise.
</p>
</dd>
</dl>
<h3>Value</h3>

<p>The return value depends on <code>info</code>:
</p>

<dl>
<dt>
<code>info = FALSE</code>:</dt>
<dd>
<p>estimate of mean or total <code>[double]</code></p>
</dd>
<dt>
<code>info = TRUE</code>:</dt>
<dd>
<p>a <code>[list]</code> with items:
</p>

<ul>
<li> <p><code>characteristic</code> <code>[character]</code>,
</p>
</li>
<li> <p><code>estimator</code> <code>[character]</code>,
</p>
</li>
<li> <p><code>estimate</code> <code>[double]</code>,
</p>
</li>
<li> <p><code>variance</code> (default: <code>NA</code>),
</p>
</li>
<li> <p><code>robust</code> <code>[list]</code>,
</p>
</li>
<li> <p><code>residuals</code> <code>[numeric vector]</code>,
</p>
</li>
<li> <p><code>model</code> <code>[list]</code>,
</p>
</li>
<li> <p><code>design</code> (default: <code>NA</code>),
</p>
</li>
<li> <p><code>[call]</code>
</p>
</li>
</ul>
</dd>
</dl>
<h3>References</h3>

<p>Dalén, J. (1987). Practical Estimators of a Population Total Which Reduce
the Impact of Large Observations. R &amp; D Report U/STM 1987:32, Statistics
Sweden, Stockholm.
</p>


<h3>See Also</h3>

<p>Overview (of all implemented functions)
</p>


<h3>Examples</h3>

<pre><code class="language-R">head(workplace)

# Dalen's estimator of the total (with censoring threshold: 100000)
weighted_total_dalen(workplace$employment, workplace$weight, 100000)
</code></pre>


</div>