<div class="container">

<table style="width: 100%;"><tr>
<td>tvctomat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a Time-varying, Intra-individual Covariate (tvcov) Object</h2>

<h3>Description</h3>

<p><code>tvctovmat</code> creates an object of class, <code>tvcov</code>, from a list of
matrices with time-varying or intra-individual covariates for each
individual or one matrix or dataframe of such covariate values. It can
also combine two such objects or add interactions among covariates.
</p>
<p>Such objects can be printed. Methods are available for extracting the
covariates and their names: <code>covariates</code> and
<code>names</code>. The method,
<code>transform</code>, can transform variables in place or
by adding new variables to the object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tvctomat(tvcov, names=NULL, units=NULL, interaction=NULL, ccov=NULL,
	oldtvcov=NULL, dataframe=TRUE, description=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tvcov</code></td>
<td>
<p>Either (1) if unbalanced, a list of matrices or
dataframes with time-varying or intra-individual covariate values for
each individual (one column per variable), (2) if balanced, one matrix
or dataframe of such covariate values (when there is only one such
covariate) with dimensions: number of individuals by number of
observations/individual, or (3) an object of class, <code>tvcov</code>.
In the first two cases, the variables may be factors; if
<code>dataframe=FALSE</code>, these are transformed to indicator variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p>The names of the time-varying or intra-individual
covariates in <code>tvcov</code> (if the matrices do not have column names)
or the names of the time-constant covariates for which interactions
are to be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>Optional character vector specifying units of
measurements of covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interaction</code></td>
<td>
<p>A pair of index numbers or names of variables in
<code>tvcov</code>, with that class, for which an interaction is to be added
or, if <code>ccov</code> is provided, a set of such names of time-varying or
intra-individual covariates for creating interactions with the
time-constant covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ccov</code></td>
<td>
<p>Time-constant or inter-individual covariates for which an
interaction is to be introduced with time-varying or intra-individual
covariates in <code>tvcov</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oldtvcov</code></td>
<td>
<p>An object of class, <code>tvcov</code>, to which
<code>tvcov</code> is to be added.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataframe</code></td>
<td>
<p>If TRUE and factor variables are present, the
covariates are stored as a dataframe; if FALSE, they are expanded to
indicator variables. If no factor variables are present, covariates
are always stored as a matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>description</code></td>
<td>
<p>An optional named list of character vectors with
names of some or all covariates containing their descriptions.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns an object of class, <code>tvcov</code>, containing a matrix or
dataframe for the covariates (<code>z$tvcov</code>) with one row per
response per individual and a vector giving the number of observations
per individual (<code>z$nobs</code>).
</p>


<h3>Author(s)</h3>

<p>J.K. Lindsey</p>


<h3>See Also</h3>

<p><code>DataMethods</code>, <code>covariates</code>,
<code>description</code>, <code>formula</code>,
<code>gettvc</code>, <code>lvna</code>,
<code>names</code>, <code>restovec</code>,
<code>rmna</code>, <code>tcctomat</code>,
<code>transform</code>, <code>units</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">z &lt;- matrix(rpois(20,5),ncol=5)
print(tvc &lt;- tvctomat(z, units="days"))
covariates(tvc)
names(tvc)
v &lt;- data.frame(matrix(rep(c("a","b","c","d","e"),4),ncol=5),stringsAsFactors=TRUE)
print(tvc2 &lt;- tvctomat(v, oldtvc=tvc, units=NA))
covariates(tvc2)
print(tvc3 &lt;- tvctomat(v, oldtvc=tvc, dataframe=FALSE, units=NA))
covariates(tvc3)
print(tvc4 &lt;- tvctomat(tvc2, interaction=c("z","v")))
covariates(tvc4)
x1 &lt;- 1:4
x2 &lt;- gl(4,1)
xx &lt;- tcctomat(data.frame(x1,x2), dataframe=FALSE)
tvctomat(tvc3, interaction="z", ccov=xx)
tvctomat(tvc3, interaction="z", ccov=xx, names="x1")
tvctomat(tvc3, interaction="z", ccov=xx, names=c("x22","x23","x24"))
xx &lt;- tcctomat(data.frame(x1,x2), dataframe=TRUE)
tvctomat(tvc2, interaction="z", ccov=xx)
tvctomat(tvc2, interaction="z", ccov=xx, names="x1")
tvctomat(tvc2, interaction="z", ccov=xx, names="x2")
</code></pre>


</div>