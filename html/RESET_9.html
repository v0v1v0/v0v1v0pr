<div class="container">

<table style="width: 100%;"><tr>
<td>resetViaPCA</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reconstruction Set Test (RESET) via PCA</h2>

<h3>Description</h3>

<p>Wrapper around the <code>reset</code> method that uses the projection of <code>X</code> onto the top <code>num.pcs</code> principal components as <code>X.test</code>.
This PC projection is computed using a randomized reduced rank SVD as implemented by <code>randomSVD</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">resetViaPCA(X, center=TRUE, scale=FALSE, num.pcs=2, pca.buff=2, pca.q=1, var.sets, k=2, 
      random.threshold, k.buff=0, q=0, test.dist="normal", norm.type="2", per.var=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>See description in <code>reset</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>Flag which controls whether the values in <code>X</code> are mean centered.
Note that if <code>center</code> is set to true, centering is performed on the entire <code>X</code> matrix prior to 
calling <code>randomSVD</code>, which may have significant performance and memory implications of <code>X</code> is large and/or sparse.
If <code>center</code> is false, then <code>X</code> will be projected onto the uncentered PCs and <code>center.X</code> and <code>center.X.test</code> will be set to
TRUE in the call to <code>reset</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>Flag which controls whether the values in <code>X</code> are are scaled to have variance 1.
Note that if <code>scale</code> is set to true, scaling is performed on the entire <code>X</code> matrix prior to 
calling <code>randomSVD</code>, which may have significant performance and memory implications of <code>X</code> is large and/or sparse.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.pcs</code></td>
<td>
<p>Number of principal components used for computing the projection of <code>X</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pca.buff</code></td>
<td>
<p>Number of extra dimensions used when calling <code>randomSVD</code> to compute the PCs. See <code>k.buff</code> parameter for
<code>randomSVD</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pca.q</code></td>
<td>
<p>Number of power iterations used when calling <code>randomSVD</code> to compute the PCs. See <code>q</code> parameter for
<code>randomSVD</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.sets</code></td>
<td>
<p>See description in <code>reset</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>See description in <code>reset</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random.threshold</code></td>
<td>
<p>See description in <code>reset</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k.buff</code></td>
<td>
<p>See description in <code>reset</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>See description in <code>reset</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test.dist</code></td>
<td>
<p>See description in <code>reset</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>norm.type</code></td>
<td>
<p>See description in <code>reset</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>per.var</code></td>
<td>
<p>See description in <code>reset</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with the following elements:
</p>

<ul>
<li> <p><code>S</code> an n-by-m matrix of sample-level variable set scores.
</p>
</li>
<li> <p><code>v</code> a length m vector of overall variable set scores.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>reset</code>,<code>createVarSetCollection</code>,<code>randomColumnSpace</code></p>


<h3>Examples</h3>

<pre><code class="language-R">  # Create a collection of 5 variable sets each of size 10
  var.sets = list(set1=1:10, 
                  set2=11:20,
                  set3=21:30,
                  set4=31:40,
                  set5=41:50)                  

  # Simulate a 100-by-100 matrix of random Poisson data
  X = matrix(rpois(10000, lambda=1), nrow=100)

  # Inflate first 10 rows for first 10 variables, i.e., the first
  # 10 samples should have elevated scores for the first variable set
  X[1:10,1:10] = rpois(100, lambda=5)

  # Execute RESET when reconstruction measured on top 10 PCs 
  # with mean centering performed before computing PCs
  resetViaPCA(X, num.pcs=10, var.sets=var.sets, k=2, random.threshold=10)
  
  # Execute RESET when reconstruction measured on top 10 
  # uncentered PCs with centering performed as needed inside reset()
  resetViaPCA(X, center=FALSE, num.pcs=10, var.sets=var.sets, k=2, random.threshold=10)
</code></pre>


</div>