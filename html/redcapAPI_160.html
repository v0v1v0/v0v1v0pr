<div class="container">

<table style="width: 100%;"><tr>
<td>mappingMethods</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Export and Import Instrument-Event Mappings</h2>

<h3>Description</h3>

<p>These methods enable the user to export and add/modify the
mappings between instruments and events. The information provided
with the methods corresponds to what is provided in the
'Designate Instruments for My Events' page in the user interface.
</p>


<h3>Usage</h3>

<pre><code class="language-R">exportMappings(rcon, arms, ...)

importMappings(rcon, data, ...)

## S3 method for class 'redcapApiConnection'
exportMappings(
  rcon,
  arms = NULL,
  ...,
  error_handling = getOption("redcap_error_handling"),
  config = list(),
  api_param = list()
)

## S3 method for class 'redcapApiConnection'
importMappings(
  rcon,
  data,
  ...,
  error_handling = getOption("redcap_error_handling"),
  config = list(),
  api_param = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rcon</code></td>
<td>
<p>A <code>redcapConnection</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arms</code></td>
<td>
<p><code>integerish</code> or <code>character</code>. A vector of arm numbers. When
given, mappings are only exported for the given arms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>data.frame</code> with columns <code>arm_num</code>, <code>unique_event_name</code>,
and <code>form</code>. See Details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to pass to other methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error_handling</code></td>
<td>
<p><code>character(1)</code>. One of <code>c("error", "null")</code>.
An option for how to handle errors returned by the API.
see <code>redcapError()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>config</code></td>
<td>
<p>A named <code>list</code>. Additional configuration parameters to pass to
<code>httr::POST()</code>. These are appended to any parameters in
<code>rcon$config</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_param</code></td>
<td>
<p>A named <code>list</code>. Additional API parameters to pass into the
body of the API call. This provides users to execute calls with options
that may not otherwise be supported by <code>redcapAPI</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These methods are only applicable to longitudinal projects.
If the project information reports that the project is not longitudinal,
a data frame with 0 rows is returned without calling the API.
</p>


<h3>Value</h3>

<p><code>exportMappings</code> returns a data frame with the columns:</p>

<table>
<tr>
<td style="text-align: left;">
    </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>arm_num</code> </td>
<td style="text-align: left;"> The arm number for the unique event mapped to the instrument. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>unique_event_name</code> </td>
<td style="text-align: left;"> The unique event name to which the instrument is assigned. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>form</code> </td>
<td style="text-align: left;"> The REDCap assigned instrument name mapped to the event. </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p><code>importMappings</code> invisible returns the number of mappings added or edited.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>exportMappings()</code>: Export instrument-event mappings.
</p>
</li>
<li> <p><code>importMappings()</code>: Import instrument-event mappings to the project.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>exportFieldNames()</code>,<br><code>exportInstruments()</code>,<br><code>exportMetaData()</code>,<br><code>importMetaData()</code>, <br><code>exportPdf()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
unlockREDCap(connections = c(rcon = "project_alias"), 
             url = "your_redcap_url", 
             keyring = "API_KEYs", 
             envir = globalenv())

# Export all mappings
exportMappings(rcon)

# Export mappings for a specific arm
exportMappings(rcon, 
               arms = 1)
               
# Import mappings
NewMapping &lt;- 
  data.frame(arm_num = c(1, 1, 2), 
             unique_event_name = c("event_1_arm_1", 
                                   "event_2_arm_1", 
                                   "event_1_arm_2"), 
             form = c("registration", 
                      "follow_up", 
                      "registration"))

importMapping(rcon, 
              data = NewMapping)

## End(Not run)

</code></pre>


</div>