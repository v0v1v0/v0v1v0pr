<div class="container">

<table style="width: 100%;"><tr>
<td>make_cores</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Identify Cores of a District (Heuristic)</h2>

<h3>Description</h3>

<p>Creates a grouping ID to unite geographies and perform analysis on a smaller
set of precincts. It identifies all precincts more than <code>boundary</code> edges
of a district district boundary. Each contiguous group of precincts more than
<code>boundary</code> steps away from another district gets it own group. Some
districts may have multiple, disconnected components that make up the core,
but each of these is assigned a separate grouping id so that a call to
<code>sf::st_union()</code> would produce only connected pieces.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_cores(.data = cur_map(), boundary = 1, focus = NULL)

redist.identify.cores(adj, plan, boundary = 1, focus = NULL, simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>a <code>redist_map</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boundary</code></td>
<td>
<p>Number of steps to check for. Defaults to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>focus</code></td>
<td>
<p>Optional. Integer. A single district to focus on.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adj</code></td>
<td>
<p>zero indexed adjacency list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plan</code></td>
<td>
<p>An integer vector or matrix column of district assignments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simplify</code></td>
<td>
<p>Optional. Logical. Whether to return extra information or just grouping ID.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is a loose interpretation of the
<a href="https://www.ncsl.org/redistricting-and-census/redistricting-criteria">NCSL's summary</a>
of redistricting criteria to preserve the cores of prior districts. Using the
adjacency graph for a given plan, it will locate the precincts on the
boundary of the district, within <code>boundary</code> steps of the edge. Each of
these  is given their own group. Each remaining entry that is not near the
boundary of the district is given an id that can be used to group the
remainder of the district by connected component. This portion is deemed the
core of the district.
</p>


<h3>Value</h3>

<p>integer vector (if simplify is false). Otherwise it returns a tibble with the grouping
variable as <code>group_id</code> and additional information on connected components.
</p>


<h3>See Also</h3>

<p><code>redist.plot.cores()</code> for a plotting function
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(fl250)
fl250_map &lt;- redist_map(fl250, ndists = 4, pop_tol = 0.01)
plan &lt;- as.matrix(redist_smc(fl250_map, 20, silent = TRUE))
core &lt;- redist.identify.cores(adj = fl250_map$adj, plan = plan)
redist.plot.cores(shp = fl250, plan = plan, core = core)

</code></pre>


</div>