<div class="container">

<table style="width: 100%;"><tr>
<td>endSCALE</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot nice scale at end of trace.
</h2>

<h3>Description</h3>

<p>Calculate nice scale to use at the end of a plot. Use as an
alternative to magicaxis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">endSCALE(arange, digits = 3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>arange</code></td>
<td>
<p>2-vector of bounds
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>number of digits to use
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function returns information for plotting
a nice bounds axis similar to MATLAB plotting style.
</p>


<h3>Value</h3>

<p>character vector: min, max, exponent
</p>


<h3>Note</h3>

<p>If the bounds span multiple orders of magnitude,
may want to make adjustments (like setting a negative exponent
bound to zero)
</p>


<h3>Author(s)</h3>

<p>Jonathan M. Lees&lt;jonathan.lees@unc.edu&gt;
</p>


<h3>See Also</h3>

<p>plotwlet
</p>


<h3>Examples</h3>

<pre><code class="language-R">M = 1e-19
m = M

for(i in 1:10) {
  z = c( rnorm(1)*m ,  rnorm(1)*M )
  print(z)
  print( endSCALE(z)   )

##########  use in plotting:

x = seq(from=0, by=0.01, length=200)
a = 10000*rnorm(length(x))
old.par &lt;- par(no.readonly = TRUE)
############  make room on the right margin
MAI = par("mai")
 MAI[4] = MAI[2]
par(mfrow=c(2,1))
 par(mai=MAI)
par(xaxs='i', yaxs='i')

plot(x,a, type='l')
  axtrace = range(a)
    Elabs =  endSCALE(axtrace)
    exp = parse(text = Elabs[3])
 axis(4, at=axtrace , labels=Elabs[1:2] , pos=max(x), tick=TRUE , line=0.5, cex.axis=0.8,las=2)
       mtext(exp, side = 3, at = max(x), line=0.5, adj=-1  , cex=0.8)
    mtext("m/s", side = 4, at =mean(axtrace) , line=0.5   , cex=0.8 ,las=1 )

a = rnorm(length(x))/100000


plot(x,a, type='l')
  axtrace = range(a)
    Elabs =  endSCALE(axtrace)
    exp = parse(text = Elabs[3])
 axis(4, at=axtrace , labels=Elabs[1:2] , pos=max(x), tick=TRUE , line=0.5, cex.axis=0.8,las=2)
       mtext(exp, side = 3, at = max(x), line=0.5, adj=-1  , cex=0.8)
    mtext("m/s", side = 4, at =mean(axtrace) , line=0.5   , cex=0.8 ,las=1 )

par(old.par)


} 




</code></pre>


</div>