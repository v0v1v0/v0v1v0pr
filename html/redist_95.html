<div class="container">

<table style="width: 100%;"><tr>
<td>redist.findparams</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run parameter testing for <code>redist_flip</code>
</h2>

<h3>Description</h3>

<p><code>redist.findparams</code> is used to find optimal parameter values of
<code>redist_flip</code> for a given map.
</p>


<h3>Usage</h3>

<pre><code class="language-R">redist.findparams(
  map,
  nsims,
  init_plan = NULL,
  adapt_lambda = FALSE,
  adapt_eprob = FALSE,
  params,
  ssdmat = NULL,
  group_pop = NULL,
  counties = NULL,
  nstartval_store = 1,
  maxdist_startval = 100,
  maxiterrsg = 5000,
  report_all = TRUE,
  parallel = FALSE,
  ncores = NULL,
  log = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>A <code>redist_map</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsims</code></td>
<td>
<p>The number of simulations run before a save point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init_plan</code></td>
<td>
<p>A vector containing the congressional district labels
of each geographic unit. The default is <code>NULL</code>. If not provided, random
and contiguous congressional district assignments will be generated using <code>redist.rsg</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adapt_lambda</code></td>
<td>
<p>Whether to adaptively tune the lambda parameter so that the Metropolis-Hastings
acceptance probability falls between 20% and 40%. Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adapt_eprob</code></td>
<td>
<p>Whether to adaptively tune the edgecut probability parameter so that the
Metropolis-Hastings acceptance probability falls between 20% and 40%. Default is
FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>A matrix of parameter values to test, such as the output of
<code>expand.grid</code>. Parameters accepted for <code>params</code> include <code>eprob</code>,
<code>lambda</code>, <code>pop_tol</code>, <code>beta</code>, and <code>constraint</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ssdmat</code></td>
<td>
<p>A matrix of squared distances between geographic
units. The default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_pop</code></td>
<td>
<p>A vector of populations for some sub-group of
interest. The default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>counties</code></td>
<td>
<p>A vector of county membership assignments. The default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nstartval_store</code></td>
<td>
<p>The number of maps to sample from the preprocessing chain
for use as starting values in future simulations. Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxdist_startval</code></td>
<td>
<p>The maximum distance from the starting map that
sampled maps should be. Default is 100 (no restriction).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxiterrsg</code></td>
<td>
<p>Maximum number of iterations for random seed-and-grow
algorithm to generate starting values. Default is 5000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>report_all</code></td>
<td>
<p>Whether to report all summary statistics for each set of
parameter values. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>Whether to run separate parameter settings in parallel.
Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncores</code></td>
<td>
<p>Number of parallel tasks to run, declared outside of the
function. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>Whether to open a log to track progress for each parameter combination
being tested. Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Whether to print additional information about the tests.
Default is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function allows users to test multiple parameter settings of
<code>redist_flip</code> in preparation for a longer run for analysis.
</p>


<h3>Value</h3>

<p><code>redist.findparams</code> returns a print-out of summary statistics
about each parameter setting.
</p>


<h3>References</h3>

<p>Fifield, Benjamin, Michael Higgins, Kosuke Imai and Alexander
Tarr. (2016) "A New Automated Redistricting Simulator Using Markov Chain Monte
Carlo." Working Paper. Available at
<a href="http://imai.princeton.edu/research/files/redist.pdf">http://imai.princeton.edu/research/files/redist.pdf</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(fl25)
data(fl25_enum)
data(fl25_adj)

## Get an initial partition
init_plan &lt;- fl25_enum$plans[, 5118]

params &lt;- expand.grid(eprob = c(.01, .05, .1))

# Make map
map_fl &lt;- redist_map(fl25, ndists = 3, pop_tol = 0.2)
## Run the algorithm
redist.findparams(map_fl,
    init_plan = init_plan, nsims = 10000, params = params)

</code></pre>


</div>