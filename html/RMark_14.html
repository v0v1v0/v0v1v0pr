<div class="container">

<table style="width: 100%;"><tr>
<td>compute.design.data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute design data for a specific parameter in the MARK model (internal
use)</h2>

<h3>Description</h3>

<p>For a specific type of parameter (e.g., Phi, p, r etc), it creates a data
frame containing design data for each parameter of that type in the model as
structured by an all different PIM (parameter information matrix). The
design data are used in constructing the design matrix for MARK with
user-specified model formulae as in <code>make.mark.model</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compute.design.data(
  data,
  begin,
  num,
  type = "Triang",
  mix = FALSE,
  rows = 0,
  pim.type = "all",
  secondary,
  nstrata = 1,
  tostrata = FALSE,
  strata.labels = NULL,
  subtract.stratum = strata.labels,
  common.zero = FALSE,
  sub.stratum = 0,
  limits = NULL,
  events = NULL,
  use.events = NULL,
  mscale = 1,
  subtract.events = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data list created by <code>process.data</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>begin</code></td>
<td>
<p>0 for survival type, 1 for capture type</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num</code></td>
<td>
<p>number of parameters relative to number of occasions (0 or -1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of parameter structure (Triang (STriang) or Square)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix</code></td>
<td>
<p>if TRUE this is a mixed parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rows</code></td>
<td>
<p>number of rows relative to number of mixtures</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pim.type</code></td>
<td>
<p>type of pim structure; either all (all-different) or time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>secondary</code></td>
<td>
<p>TRUE if a parameter for the secondary periods of robust
design</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nstrata</code></td>
<td>
<p>number of strata for multistrata</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tostrata</code></td>
<td>
<p>set to TRUE for transition parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata.labels</code></td>
<td>
<p>labels for strata as identified in capture history</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subtract.stratum</code></td>
<td>
<p>for each stratum, the to.strata that is computed by
subtraction or for HidMarkov it is the strata computed by subtraction for pi parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>common.zero</code></td>
<td>
<p>if TRUE, uses a common begin.time to set origin (0) for
Time variable defaults to FALSE for legacy reasons but should be set to TRUE
for models that share formula like p and c with the Time model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub.stratum</code></td>
<td>
<p>the number of strata to subtract for parameters that use 
mlogit across strata like pi and Omega for RDMSOpenMisClass</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limits</code></td>
<td>
<p>For RDMSOccRepro values that set row and col (if any) start on states</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>events</code></td>
<td>
<p>vector of events if needed for parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.events</code></td>
<td>
<p>if TRUE, adds events to design data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mscale</code></td>
<td>
<p>scalar for multi-scale occupancy model (number of mixtures)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subtract.events</code></td>
<td>
<p>for each stratum either the stratum or event to compute by subtraction for mlogit parameter</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is called by <code>make.design.data</code> to create all of
the default design data for a particular type of model and by
<code>add.design.data</code> to add binned design data fields for a
particular type of parameter. The design data created by this function
include <code>group</code>, <code>age</code>, <code>time</code> and <code>cohort</code> as factors
variables and continuous (non-factor) versions of all but <code>group</code>.  In
addition, if groups have been defined for the data, then a data column is
added for each factor variable used to define the groups.  Also for specific
closed capture heterogeneity models (<code>model</code>="HetClosed", "FullHet",
"HetHug", "FullHetHug") the data column <code>mixture</code> is added to the
design data. The arguments for this function are defined for each model by
the function <code>setup.model</code>.
</p>


<h3>Value</h3>

<p>design.data: a data frame containing all of the design data fields
for a particular type of parameter </p>
<table>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>group factor level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age</code></td>
<td>
<p>age factor level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>time factor level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cohort</code></td>
<td>
<p>cohort factor level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Age</code></td>
<td>
<p>age as a continuous variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Time</code></td>
<td>
<p>time as a continuous variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Cohort</code></td>
<td>
<p>cohort as a
continuous variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mixture</code></td>
<td>
<p>mixture factor level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>other
fields</code></td>
<td>
<p>any factor variables used to define groups</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Jeff Laake
</p>


<h3>See Also</h3>

<p><code>make.design.data</code>, <code>add.design.data</code>
</p>


</div>