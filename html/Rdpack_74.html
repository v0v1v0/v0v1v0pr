<div class="container">

<table style="width: 100%;"><tr>
<td>Rdo_modify</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Replace or modify parts of Rd objects
</h2>

<h3>Description</h3>

<p>Replace or modify parts of Rd objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Rdo_modify(rdo, val, create = FALSE, replace = FALSE, top = TRUE)

Rdo_replace_section(rdo, val, create = FALSE, replace = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rdo</code></td>
<td>
<p>an Rd object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>val</code></td>
<td>
<p>an Rd fragment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>create</code></td>
<td>
<p>if TRUE, create a new section, see ‘Details’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace</code></td>
<td>
<p>a logical, if TRUE <code>val</code> replaces the old content,
otherwise <code>val</code> is concatenated with it, see ‘Details’.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top</code></td>
<td>
<p>a logical, if TRUE examine also the "Rd_tag" of <code>rdo</code>,
see ‘Details’.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Argument <code>rdo</code> is an Rd object (complete or a fragment) to be
modified. <code>val</code> is an Rd fragment to use for modification.
</p>
<p>Basically, <code>val</code> is appended to (if <code>replace</code> is FALSE) or
replaces (if <code>replace</code> is TRUE) the content of an element of
<code>rdo</code> which has the same "Rd_tag" as <code>val</code>.
</p>
<p>Argument <code>top</code> specifies whether to check the "Rd_tag" of
<code>rdo</code> itself, see below.
</p>
<p>Here are the details.
</p>
<p>If <code>top</code> is TRUE and <code>rdo</code> and <code>val</code> have the same
(non-NULL) "Rd_tag", then the action depends on <code>replace</code>
(argument <code>create</code> is ignored in this case).
If <code>replace</code> is TRUE, <code>val</code> is returned. Otherwise
<code>rdo</code> and <code>val</code> are, effectively, concatenated. For example,
<code>rdo</code> may be the "arguments" section of an Rd object and
<code>val</code> may also be an "arguments" section containing new
arguments.
</p>
<p>Otherwise, an element with the "Rd_tag" of <code>val</code> is searched in
<code>rdo</code> using <code>tools:::RdTags()</code>. If such elements are found,
the action again depends on <code>replace</code>.
</p>

<ol>
<li>
<p>If <code>replace</code> is a character string, then the first element of
<code>rdo</code> that is a list whose only element is identical to the
value of <code>replace</code> is replaced by <code>val</code>. If such an
element is not present and <code>create</code> is TRUE, <code>val</code> is
inserted in <code>rdo</code>. If <code>create</code> is FALSE, <code>rdo</code> is not
changed.
</p>
</li>
<li>
<p>If <code>replace</code> is TRUE, the first element found is replaced with
<code>val</code>.
</p>
</li>
<li>
<p>If <code>replace</code> is FALSE, <code>val</code> is appended to the first
element found.
</p>
</li>
</ol>
<p>If no element with the "Rd_tag" of <code>val</code> is found the action
depends on <code>create</code>.  If <code>create</code> is TRUE, then <code>val</code>
is inserted in <code>rdo</code>, effectively creating a new section. If
<code>create</code> is FALSE, an error is thrown.
</p>
<p><code>Rdo_replace_section</code> is like <code>Rdo_modify</code> with argument
<code>top</code> fixed to TRUE and the default for argument <code>replace</code>
set to TRUE. It hardly makes sense to call <code>Rdo_replace_section</code>
with <code>replace = FALSE</code>  but a character value for it may be
handy in some cases, see the examples.
</p>


<h3>Value</h3>

<p>an Rd object or fragment, as described in ‘Details’
</p>


<h3>Author(s)</h3>

<p>Georgi N. Boshnakov</p>


<h3>Examples</h3>

<pre><code class="language-R"># a &lt;- tools::parse_Rd("./man/promptUsage.Rd")
# char2Rdpiece("documentation", "keyword")

# this changes a keyword from Rd to documentation
# Rdo_replace_section(a, char2Rdpiece("documentation", "keyword"), replace = "Rd")
</code></pre>


</div>