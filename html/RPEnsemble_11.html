<div class="container">

<table style="width: 100%;"><tr>
<td>RPParallel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Chooses a projection from each block in parallel</h2>

<h3>Description</h3>

<p>Makes <code>B1</code> calls to <code>RPChoose</code> or <code>RPChooseSS</code> in parallel and returns the results as a matrix.</p>


<h3>Usage</h3>

<pre><code class="language-R">RPParallel(XTrain, YTrain, XVal, YVal, XTest, d, B1 = 500, B2 = 50, 
base = "LDA",projmethod = "Gaussian", estmethod = "training", k = c(3,5,9), 
clustertype = "Default", cores = 1, machines = NULL, seed = 1, ... )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>XTrain</code></td>
<td>
<p>An <code>n</code> by <code>p</code> matrix containing the training data feature vectors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>YTrain</code></td>
<td>
<p>A vector of length <code>n</code> containing the classes (either 1 or 2) of the training data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>XVal</code></td>
<td>
<p>An <code>n.val</code> by <code>p</code> matrix containing the validation data feature vectors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>YVal</code></td>
<td>
<p>A vector of length <code>n.val</code> of the classes (either 1 or 2) of the validation data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>XTest</code></td>
<td>
<p>An <code>n.test</code> by <code>p</code> matrix containing the test data feature vectors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>The lower dimension of the image space of the projections</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B1</code></td>
<td>
<p>The number of blocks</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B2</code></td>
<td>
<p>The size of each block</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>The base classifier one of <code>"knn","LDA","QDA"</code> or <code>"other"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>The options for <code>k</code> if base is <code>"knn"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>projmethod</code></td>
<td>
<p><code>"Haar"</code>, <code>"Gaussian"</code> or <code>"axis"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estmethod</code></td>
<td>
<p>Method for estimating the test errors to choose the projection: either training error <code>"training"</code>, leave-one-out <code>"loo"</code>, or sample split <code>"samplesplit"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clustertype</code></td>
<td>
<p>The type of cluster: <code>"Default"</code> uses just one core, <code>"Fork"</code> uses a single machine, <code>"Socket"</code> uses many machines. Note <code>"Fork"</code> and <code>"Socket"</code> are not supported on windows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>Required only if <code>clustertype==Fork</code>: the number of computer cores to use (note: <code>cores &gt; 1</code> not supported on Windows)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>machines</code></td>
<td>
<p>Required only if <code>clustertype==Socket</code>: the names of the machines to use e.g. <code>c("Computer1", "Computer2")</code> (not supported on Windows)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>If not <code>NULL</code>, sets random seed for reproducible results</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optional further arguments if <code>base = "other"</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Makes <code>B1</code> calls to <code>RPChoose</code> or <code>RPChooseSS</code> in parallel.</p>


<h3>Value</h3>

<p>If <code>estmethod == "training"</code> or <code>"loo"</code> , then returns an <code>n+n.test</code> by <code>B1</code> matrix, each row containing the result of a call to <code>RPChoose</code>. If <code>estmethod == "samplesplit"</code>, then returns an <code>n.val+n.test</code> by <code>B1</code> matrix, each row containing the result of a call to <code>RPChooseSS</code>.</p>


<h3>Author(s)</h3>

<p>Timothy I. Cannings and Richard J. Samworth</p>


<h3>References</h3>

<p>Cannings, T. I. and Samworth, R. J. (2017) Random-projection ensemble classification, J. Roy. Statist. Soc., Ser. B. (with discussion), 79, 959â€“1035</p>


<h3>See Also</h3>

<p><code>RPChoose</code>, <code>RPChooseSS</code></p>


<h3>Examples</h3>

<pre><code class="language-R">Train &lt;- RPModel(1, 50, 100, 0.5)
Test &lt;- RPModel(1, 100, 100, 0.5)
Out &lt;- RPParallel(XTrain = Train$x, YTrain = Train$y, XTest = Test$x, d = 2, B1 = 10, 
B2 = 10, base = "LDA", projmethod = "Haar", estmethod = "training")
colMeans(Out)
</code></pre>


</div>