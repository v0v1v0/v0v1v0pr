<div class="container">

<table style="width: 100%;"><tr>
<td>reprex_render</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Render a document in a new R session</h2>

<h3>Description</h3>

<p>This is a wrapper around <code>rmarkdown::render()</code> that enforces the "reprex"
mentality. Here's a simplified version of what happens:
</p>
<div class="sourceCode"><pre>callr::r(
  function(input) {
    rmarkdown::render(input, envir = globalenv(), encoding = "UTF-8")
  },
  args = list(input = input),
  spinner = is_interactive(),
  stdout = std_file, stderr = std_file
)
</pre></div>
<p>Key features to note
</p>

<ul>
<li> <p><code>rmarkdown::render()</code> is executed in a new R session, by using
<code>callr::r()</code>. The goal is to eliminate the leakage of objects, attached
packages, and other aspects of session state from the current session into
the rendering session. Also, the system and user-level <code>.Rprofile</code>s are
ignored.
</p>
</li>
<li>
<p> Code is evaluated in the <code>globalenv()</code> of this new R session, which means
that method dispatch works the way most people expect it to.
</p>
</li>
<li>
<p> The input file is assumed to be UTF-8, which is a knitr requirement as of
v1.24.
</p>
</li>
<li>
<p> If the YAML frontmatter includes <code>std_err_out: TRUE</code>, standard output and
error of the rendering R session are captured in <code>std_file</code>, which is
then injected into the rendered result.
</p>
</li>
</ul>
<p><code>reprex_render()</code> is designed to work with the <code>reprex_document()</code> output
format, typically through a call to <code>reprex()</code>. <code>reprex_render()</code> may work
with other R Markdown output formats, but it is not well-tested.
</p>


<h3>Usage</h3>

<pre><code class="language-R">reprex_render(input, html_preview = NULL, encoding = "UTF-8")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p>The input file to be rendered. This can be a <code>.R</code> script or a
<code>.Rmd</code> R Markdown document.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>html_preview</code></td>
<td>
<p>Logical. Whether to show rendered output in a viewer
(RStudio or browser). Always <code>FALSE</code> in a noninteractive session. Read more
about <code>opt()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encoding</code></td>
<td>
<p>The encoding of the input file. Note that the only acceptable
value is "UTF-8", which is required by knitr as of v1.24. This is exposed
as an argument purely for technical convenience, relating to the "Knit"
button in the RStudio IDE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The output of <code>rmarkdown::render()</code> is passed through, i.e. the path
of the output file.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
reprex_render("input.Rmd")

## End(Not run)
</code></pre>


</div>