<div class="container">

<table style="width: 100%;"><tr>
<td>plot_tab</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot a 2 x 2 contingency table of population frequencies.</h2>

<h3>Description</h3>

<p><code>plot_tab</code> plots a 2 x 2 contingency table
(aka. confusion table) of
4 classification cases (<code>hi</code>, <code>mi</code>,
<code>fa</code>, <code>cr</code>)
and corresponding row and column sums.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_tab(
  prev = num$prev,
  sens = num$sens,
  mirt = NA,
  spec = num$spec,
  fart = NA,
  N = num$N,
  by = "cddc",
  p_split = "v",
  area = "no",
  scale = "p",
  round = TRUE,
  sample = FALSE,
  f_lbl = "num",
  f_lbl_sep = NA,
  f_lbl_sum = f_lbl,
  f_lbl_hd = "nam",
  f_lwd = 0,
  gaps = c(NA, NA),
  brd_w = 0.1,
  p_lbl = NA,
  arr_c = -3,
  col_p = c(grey(0.15, 0.99), "yellow", "yellow"),
  brd_dis = 0.3,
  lbl_txt = txt,
  main = txt$scen_lbl,
  sub = "type",
  title_lbl = NULL,
  cex_lbl = 0.9,
  cex_p_lbl = NA,
  col_pal = pal,
  mar_notes = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prev</code></td>
<td>
<p>The condition's prevalence <code>prev</code>
(i.e., the probability of condition being <code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sens</code></td>
<td>
<p>The decision's sensitivity <code>sens</code>
(i.e., the conditional probability of a positive decision
provided that the condition is <code>TRUE</code>).
<code>sens</code> is optional when its complement <code>mirt</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mirt</code></td>
<td>
<p>The decision's miss rate <code>mirt</code>
(i.e., the conditional probability of a negative decision
provided that the condition is <code>TRUE</code>).
<code>mirt</code> is optional when its complement <code>sens</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spec</code></td>
<td>
<p>The decision's specificity value <code>spec</code>
(i.e., the conditional probability
of a negative decision provided that the condition is <code>FALSE</code>).
<code>spec</code> is optional when its complement <code>fart</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fart</code></td>
<td>
<p>The decision's false alarm rate <code>fart</code>
(i.e., the conditional probability
of a positive decision provided that the condition is <code>FALSE</code>).
<code>fart</code> is optional when its complement <code>spec</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>The number of individuals in the population.
A suitable value of <code>N</code> is computed, if not provided.
Note: <code>N</code> is not represented in the plot,
but used for computing frequency information <code>freq</code>
from current probabilities <code>prob</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>A character code specifying 2 perspectives that split the population into subsets,
with 6 options:
</p>

<ol>
<li> <p><code>"cddc"</code>: by condition (cd) and by decision (dc) (default);
</p>
</li>
<li> <p><code>"cdac"</code>: by condition (cd) and by accuracy (ac);
</p>
</li>
<li> <p><code>"dccd"</code>: by decision (dc) and by condition (cd);
</p>
</li>
<li> <p><code>"dcac"</code>: by decision (dc) and by accuracy (ac);
</p>
</li>
<li> <p><code>"accd"</code>: by accuracy (ac) and by condition (cd);
</p>
</li>
<li> <p><code>"acdc"</code>: by accuracy (ac) and by decision (dc).
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_split</code></td>
<td>
<p>Primary perspective for population split,
with 2 options:
</p>

<ol>
<li> <p><code>"v"</code>: vertical (default);
</p>
</li>
<li> <p><code>"h"</code>: horizontal.
</p>
</li>
</ol>
<p>Note: In contrast to <code>plot_area</code>, this setting only
determines which 3 probability links are shown
(e.g., when <code>p_link = "def"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>area</code></td>
<td>
<p>A character code specifying the shape of the main area,
with 4 options:
</p>

<ol>
<li> <p><code>"sq"</code>: main area is scaled to square;
</p>
</li>
<li> <p><code>"no"</code>: no scaling (rectangular area fills plot size; default).
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>Scale probabilities (but not table cell dimensions) either by
exact probability or by (rounded or non-rounded) frequency, with 2 options:
</p>

<ol>
<li> <p><code>"p"</code>: scale main area dimensions by exact probability (default);
</p>
</li>
<li> <p><code>"f"</code>: re-compute probabilities from (rounded or non-rounded) frequencies
and scale main area dimensions by their frequency.
</p>
</li>
</ol>
<p>Note: <code>scale</code> setting matters for the display of probability values and for
area plots with small population sizes <code>N</code> when <code>round = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>round</code></td>
<td>
<p>A Boolean option specifying whether computed frequencies
are rounded to integers. Default: <code>round = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample</code></td>
<td>
<p>Boolean value that determines whether frequency values
are sampled from <code>N</code>, given the probability values of
<code>prev</code>, <code>sens</code>, and <code>spec</code>.
Default: <code>sample = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_lbl</code></td>
<td>
<p>Type of label for showing frequency values in 4 main areas,
with 6 options:
</p>

<ol>
<li> <p><code>"def"</code>: abbreviated names and frequency values (default);
</p>
</li>
<li> <p><code>"abb"</code>: abbreviated frequency names only (as specified in code);
</p>
</li>
<li> <p><code>"nam"</code>: names only (as specified in <code>lbl_txt = txt</code>);
</p>
</li>
<li> <p><code>"num"</code>: numeric frequency values only;
</p>
</li>
<li> <p><code>"namnum"</code>: names (as specified in <code>lbl_txt = txt</code>) and numeric values;
</p>
</li>
<li> <p><code>"no"</code>: no frequency labels (same for <code>f_lbl = NA</code> or <code>NULL</code>).
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_lbl_sep</code></td>
<td>
<p>Label separator for main frequencies
(used for <code>f_lbl = "def" OR "namnum"</code>).
Use <code>f_lbl_sep = ":\n"</code> to add a line break between name and numeric value.
Default: <code>f_lbl_sep = NA</code> (set to <code>" = "</code> or <code>":\n"</code> based on <code>f_lbl</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_lbl_sum</code></td>
<td>
<p>Type of label for showing frequency values in summary cells,
with same 6 options as <code>f_lbl</code> (above).
Default: <code>f_lbl_sum = "def"</code>: abbreviated names and numeric values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_lbl_hd</code></td>
<td>
<p>Type of label for showing frequency values in header,
with same 6 options as <code>f_lbl</code> (above).
Default: <code>f_lbl_hd = "nam"</code>: names only (as specified in <code>lbl_txt = txt</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_lwd</code></td>
<td>
<p>Line width of areas.
Default: <code>f_lwd = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gaps</code></td>
<td>
<p>Size of gaps (as binary numeric vector) specifying
the widths of vertical and horizontal gaps between 2 x 2 table
and sums (in bottom row and right column).
Default: <code>gaps = c(.05, .06)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>brd_w</code></td>
<td>
<p>Border width for showing 2 perspective summaries
on top and left borders of main area (as a proportion of area size)
in a range <code>0 &lt;= brd_w &lt;= 1</code>.
Default: <code>brd_w = .10</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_lbl</code></td>
<td>
<p>Type of label for showing 3 key probability links and values,
with 7 options:
</p>

<ol>
<li> <p><code>"def"</code>: show links and abbreviated names and probability values;
</p>
</li>
<li> <p><code>"abb"</code>: show links and abbreviated probability names;
</p>
</li>
<li> <p><code>"nam"</code>: show links and probability names (as specified in code);
</p>
</li>
<li> <p><code>"num"</code>: show links and numeric probability values;
</p>
</li>
<li> <p><code>"namnum"</code>: show links with names and numeric probability values;
</p>
</li>
<li> <p><code>"no"</code>: show links with no labels;
</p>
</li>
<li> <p><code>NA</code>: no link (same for <code>p_lbl = NULL</code>, default).
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arr_c</code></td>
<td>
<p>Arrow code for symbols at ends of probability links
(as a numeric value <code>-3 &lt;= arr_c &lt;= +6</code>),
with the following options:
</p>

<ul>
<li> <p><code>-1</code> to <code>-3</code>: points at one/other/both end/s;
</p>
</li>
<li> <p><code>0</code>: no symbols;
</p>
</li>
<li> <p><code>+1</code> to <code>+3</code>: V-arrow at one/other/both end/s;
</p>
</li>
<li> <p><code>+4</code> to <code>+6</code>: T-arrow at one/other/both end/s.
</p>
</li>
</ul>
<p>Default: <code>arr_c = -3</code> (points at both ends).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_p</code></td>
<td>
<p>Colors of probability links (as vector of 3 colors).
Default: <code>col_p = c(grey(.15, .99), "yellow", "yellow")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>brd_dis</code></td>
<td>
<p>Distance of probability links from cell center
(as a constant).
Default: <code>brd_dis = .30</code>.
Note: Adjust to avoid overlapping labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lbl_txt</code></td>
<td>
<p>Default label set for text elements.
Default: <code>lbl_txt = txt</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Text label for main plot title.
Default: <code>main = txt$scen_lbl</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub</code></td>
<td>
<p>Text label for the subtitle of the plot (shown below the <code>main</code> title).
Default: <code>sub = "type"</code> shows information on current plot type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title_lbl</code></td>
<td>
<p><strong>Deprecated</strong> text label for current plot title.
Replaced by <code>main</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex_lbl</code></td>
<td>
<p>Scaling factor for text labels (frequencies and headers).
Default: <code>cex_lbl = .90</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex_p_lbl</code></td>
<td>
<p>Scaling factor for text labels (probabilities).
Default: <code>cex_p_lbl = cex_lbl - .05</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_pal</code></td>
<td>
<p>Color palette.
Default: <code>col_pal = pal</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mar_notes</code></td>
<td>
<p>Boolean option for showing margin notes.
Default: <code>mar_notes = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other (graphical) parameters.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>plot_tab</code> computes its frequencies <code>freq</code>
from a sufficient and valid set of 3 essential probabilities
(<code>prev</code>, and
<code>sens</code> or its complement <code>mirt</code>, and
<code>spec</code> or its complement <code>fart</code>)
or existing frequency information <code>freq</code>
and a population size of <code>N</code> individuals.
</p>
<p><code>plot_tab</code> is derived from <code>plot_area</code>,
but does not scale the dimensions of table cells.
</p>


<h3>Value</h3>

<p>Nothing (NULL).
</p>


<h3>See Also</h3>

<p><code>plot_area</code> for plotting mosaic plot (scaling area dimensions);
<code>pal</code> contains current color settings;
<code>txt</code> contains current text settings.
</p>
<p>Other visualization functions: 
<code>plot.riskyr()</code>,
<code>plot_area()</code>,
<code>plot_bar()</code>,
<code>plot_crisk()</code>,
<code>plot_curve()</code>,
<code>plot_fnet()</code>,
<code>plot_icons()</code>,
<code>plot_mosaic()</code>,
<code>plot_plane()</code>,
<code>plot_prism()</code>,
<code>plot_tree()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Basics:
# (1) Plotting global freq and prob values:
plot_tab()
plot_tab(area = "sq", f_lwd = 3, col_pal = pal_rgb)
plot_tab(f_lbl = "namnum", f_lbl_sep = " = ", brd_w = .10, f_lwd = .5)

# (2) Computing local freq and prob values:
plot_tab(prev = .5, sens = 4/5, spec = 3/5, N = 10, f_lwd = 1)

# (3) Rounding and sampling:
plot_tab(N = 100, prev = 1/3, sens = 2/3, spec = 6/7, round = FALSE)
plot_tab(N = 100, prev = 1/3, sens = 2/3, spec = 6/7, sample = TRUE)

## Plot versions:
# by x p_split [yields (3 x 2) x 2] = 12 versions]:
plot_tab(by = "cddc", p_split = "v", p_lbl = "def")  # v01 (see v07)
plot_tab(by = "cdac", p_split = "v", p_lbl = "def")  # v02 (see v11)
plot_tab(by = "cddc", p_split = "h", p_lbl = "def")  # v03 (see v05)
plot_tab(by = "cdac", p_split = "h", p_lbl = "def")  # v04 (see v09)

# plot_tab(by = "dccd", p_split = "h", p_lbl = "def")  # v07 (v01 rotated)
# plot_tab(by = "dccd", p_split = "v", p_lbl = "def")  # v05 (v03 rotated)
plot_tab(by = "dcac", p_split = "v", p_lbl = "def")    # v06 (see v12)
plot_tab(by = "dcac", p_split = "h", p_lbl = "def")    # v08 (see v10)

# plot_tab(by = "accd", p_split = "v", p_lbl = "def")  # v09 (v04 rotated)
# plot_tab(by = "acdc", p_split = "v", p_lbl = "def")  # v10 (v08 rotated)
# plot_tab(by = "accd", p_split = "h", p_lbl = "def")  # v11 (v02 rotated)
# plot_tab(by = "acdc", p_split = "h", p_lbl = "def")  # v12 (v06 rotated)

## Explore labels and links:
# plot_tab(f_lbl = "abb", p_lbl = NA)  # abbr. labels, no probability links
# plot_tab(f_lbl = "num", f_lbl_sum = "abb", p_lbl = "num", f_lbl_hd = "abb")
plot_tab(f_lbl = "def", f_lbl_sum = "def", p_lbl = "def", f_lbl_hd = "nam")
plot_tab(f_lbl = "namnum", f_lbl_sep = " = ",
         f_lbl_sum = "namnum", f_lbl_hd = "num", p_lbl = "namnum")

## Misc. options:
plot_tab(area = "sq")        # area: square
# plot_tab(main = "")     # no titles
# plot_tab(mar_notes = TRUE)   # show margin notes
plot_tab(by = "cddc", gaps = c(.08, .00), area = "sq")      # gaps
# plot_tab(by = "cddc", gaps = c(.02, .08), p_split = "h")  # gaps

# Showing prob as lines:
plot_tab(prev = 1/4, sens = 6/7, spec = 3/5, N = 100,
         by = "cddc", p_split = "v", col_pal = pal_rgb,
         p_lbl = "def", brd_dis = .25, arr_c = +3, lwd = 2)

# Custom text labels and colors:
plot_tab(prev = .5, sens = 4/5, spec = 3/5, N = 10,
         by = "cddc", p_split = "v", area = "no",
         main = "Main title", sub = "The subtitle", lbl_txt = txt_TF,  # custom text
         f_lbl = "namnum", f_lbl_sep = ":\n", f_lbl_sum = "num", f_lbl_hd  = "nam",
         col_pal = pal_vir, f_lwd = 3)  # custom colors
plot_tab(prev = .5, sens = 3/5, spec = 4/5, N = 10,
         by = "cddc", p_split = "h", area = "sq",
         main = NA, sub = NA, lbl_txt = txt_org,  # custom text
         f_lbl = "namnum", f_lbl_sep = ":\n", f_lbl_sum = "num", f_lbl_hd  = "nam",
         col_pal = pal_kn, f_lwd = 1)  # custom colors

## Note some differences to plot_area (i.e., area/mosaic plot):
# In plot_tab:
# (1) p_split does not matter (except for selecting different prob links):
plot_tab(by = "cddc", p_split = "v")  # v01 (see v07)
plot_tab(by = "cddc", p_split = "h")  # v03 (see v05)

# (2) scale does not matter for dimensions (which are constant),
#     BUT matters for values shown in prob links and on margins:
plot_tab(N = 5, prev = .3, sens = .9, spec = .5,
         by = "cddc", scale = "p", p_lbl = "def", round = TRUE)  # (a) exact prob values
plot_tab(N = 5, prev = .3, sens = .9, spec = .5,
         by = "cddc", scale = "f", p_lbl = "def", round = TRUE)  # (b) prob from rounded freq!
plot_tab(N = 5, prev = .3, sens = .9, spec = .5,
         by = "cddc", scale = "f", p_lbl = "def", round = FALSE) # (c) same values as (a)

</code></pre>


</div>