<div class="container">

<table style="width: 100%;"><tr>
<td>rm_covsum</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Outputs a descriptive covariate table</h2>

<h3>Description</h3>

<p>Returns a data frame corresponding to a descriptive table.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rm_covsum(
  data,
  covs,
  maincov = NULL,
  caption = NULL,
  tableOnly = FALSE,
  covTitle = "",
  digits = 1,
  digits.cat = 0,
  nicenames = TRUE,
  IQR = FALSE,
  all.stats = FALSE,
  pvalue = TRUE,
  effSize = FALSE,
  p.adjust = "none",
  unformattedp = FALSE,
  show.tests = FALSE,
  testcont = c("rank-sum test", "ANOVA"),
  testcat = c("Chi-squared", "Fisher"),
  full = TRUE,
  include_missing = FALSE,
  percentage = c("column", "row"),
  dropLevels = TRUE,
  excludeLevels = NULL,
  numobs = NULL,
  fontsize,
  chunk_label
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>dataframe containing data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covs</code></td>
<td>
<p>character vector with the names of columns to include in table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maincov</code></td>
<td>
<p>covariate to stratify table by</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption</code></td>
<td>
<p>character containing table caption (default is no caption)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tableOnly</code></td>
<td>
<p>Logical, if TRUE then a dataframe is returned, otherwise a
formatted printed object is returned (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covTitle</code></td>
<td>
<p>character with the names of the covariate (predictor) column.
The default is to leave this empty for output or, for table only output to
use the column name 'Covariate'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>number of digits for summarizing mean data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits.cat</code></td>
<td>
<p>number of digits for the proportions when summarizing
categorical data (default: 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nicenames</code></td>
<td>
<p>boolean indicating if you want to replace . and _ in strings
with a space</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IQR</code></td>
<td>
<p>boolean indicating if you want to display the inter quantile range
(Q1,Q3) as opposed to (min,max) in the summary for continuous variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all.stats</code></td>
<td>
<p>boolean indicating if all summary statistics (Q1,Q3 +
min,max on a separate line) should be displayed. Overrides IQR.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvalue</code></td>
<td>
<p>boolean indicating if you want p-values included in the table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effSize</code></td>
<td>
<p>boolean indicating if you want effect sizes included in the
table. Can only be obtained if pvalue is also requested. Effect sizes
calculated include Cramer's V for categorical variables, Cohen's d,
Wilcoxon r, or Eta-squared for numeric/continuous variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.adjust</code></td>
<td>
<p>p-adjustments to be performed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unformattedp</code></td>
<td>
<p>boolean indicating if you would like the p-value to be
returned unformatted (ie not rounded or prefixed with '&lt;'). Best used with
tableOnly = T and outTable function. See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.tests</code></td>
<td>
<p>boolean indicating if the type of statistical test and
effect size used should be shown in a column beside the pvalues. Ignored if
pvalue=FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>testcont</code></td>
<td>
<p>test of choice for continuous variables,one of
<em>rank-sum</em> (default) or <em>ANOVA</em></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>testcat</code></td>
<td>
<p>test of choice for categorical variables,one of
<em>Chi-squared</em> (default) or <em>Fisher</em></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>full</code></td>
<td>
<p>boolean indicating if you want the full sample included in the
table, ignored if maincov is NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_missing</code></td>
<td>
<p>Option to include NA values of maincov. NAs will not
be included in statistical tests</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percentage</code></td>
<td>
<p>choice of how percentages are presented, one of
<em>column</em> (default) or <em>row</em></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dropLevels</code></td>
<td>
<p>logical, indicating if empty factor levels be dropped from
the output, default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>excludeLevels</code></td>
<td>
<p>a named list of covariate levels to exclude from
statistical tests in the form list(varname =c('level1','level2')). These
levels will be excluded from association tests, but not the table. This can
be useful for levels where there is a logical skip (ie not missing, but not
presented). Ignored if pvalue=FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numobs</code></td>
<td>
<p>named list overriding the number of people you expect to have
the covariate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fontsize</code></td>
<td>
<p>PDF/HTML output only, manually set the table fontsize</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chunk_label</code></td>
<td>
<p>only used if output is to Word to allow cross-referencing</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Comparisons for categorical variables default to chi-square tests, but if
there are counts of &lt;5 then the Fisher Exact test will be used and if this is
unsuccessful then a second attempt will be made computing p-values using MC
simulation. If testcont='ANOVA' then the t-test with unequal variance will be
used for two groups and an ANOVA will be used for three or more. The
statistical test used can be displayed by specifying show.tests=TRUE.
</p>
<p>Effect size can be obtained when p-value is requested.
</p>
<p>Further formatting options are available using tableOnly=TRUE and outputting
the table with a call to outTable.
</p>


<h3>Value</h3>

<p>A character vector of the table source code, unless tableOnly=TRUE in
which case a data frame is returned
</p>


<h3>References</h3>

<p>Ellis, P.D. (2010) The essential guide to effect sizes:
statistical power, meta-analysis, and the interpretation of research
results. Cambridge: Cambridge University Press.<a href="https://doi.org/10.1017/CBO9780511761676">doi:10.1017/CBO9780511761676</a>
</p>
<p>Lakens, D. (2013)  Calculating and reporting effect sizes to
facilitate cumulative science: a practical primer for t-tests and ANOVAs.
Frontiers in Psychology, 4; 863:1-12. <a href="https://doi.org/10.3389/fpsyg.2013.00863">doi:10.3389/fpsyg.2013.00863</a>
</p>


<h3>See Also</h3>

<p><code>covsum</code>,<code>fisher.test</code>,
<code>chisq.test</code>, <code>wilcox.test</code>,
<code>kruskal.test</code>, <code>anova</code>, <code>cramer_v</code>,
<code>eta_squared</code>, and <code>outTable</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("pembrolizumab")
rm_covsum(data=pembrolizumab, maincov = 'orr',
covs=c('age','sex','pdl1','tmb','l_size','change_ctdna_group'),
show.tests=TRUE)

# To Show Effect Sizes
rm_covsum(data=pembrolizumab, maincov = 'orr',
covs=c('age','sex'),
effSize=TRUE)

# To make custom changes or change the fontsize in PDF/HTML
tab &lt;- rm_covsum(data=pembrolizumab,maincov = 'change_ctdna_group',
covs=c('age','sex','pdl1','tmb','l_size'),show.tests=TRUE,tableOnly = TRUE)
outTable(tab, fontsize=7)

# To return unformatted p-values
tab &lt;- rm_covsum(data=pembrolizumab, maincov = 'orr',
covs=c('age','sex','pdl1','tmb','l_size','change_ctdna_group'),
show.tests=TRUE,unformattedp=TRUE,tableOnly=TRUE)
outTable(tab,digits=5)
outTable(tab,digits=5, applyAttributes=FALSE) # remove bold/indent
</code></pre>


</div>