<div class="container">

<table style="width: 100%;"><tr>
<td>garp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tests consistency with the Generalized Axiom of Revealed Preference at efficiency <code class="reqn">e</code>
</h2>

<h3>Description</h3>

<p>This function allows the user to check whether a given data set is consistent with the Generalized Axiom of Revealed Preference
at efficiency <code class="reqn">e</code> (<code class="reqn">e</code>GARP) and computes the number of <code class="reqn">e</code>GARP violations. We say that a data set
satisfies GARP at efficiency level <code class="reqn">e</code> if <code class="reqn">q_t R_e q_s</code> implies <code class="reqn">ep_s'q_s \le p_s'q_t</code>.
It is clear that by setting <code class="reqn">e = 1</code>, we obtain the standard version of GARP as defined in Varian (1982).
While if <code class="reqn">e &lt; 1</code>, we allow for some optimization error in the choices to make the data set consistent with GARP.
The smaller the <code class="reqn">e</code> is, the larger will be the optimization error allowed in the test.
It is well known that GARP is a necessary and sufficient condition for a data set to be rationalized
by a continuous, strictly increasing, and concave preference function (see Afriat (1967) and Varian (1982)).
</p>


<h3>Usage</h3>

<pre><code class="language-R">garp(p, q, efficiency = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>A <code class="reqn">T X N</code> matrix of observed prices where each row corresponds to an observation
and each column corresponds to a consumption category. <code class="reqn">T</code> is the number of observations
and <code class="reqn">N</code> is the number of consumption categories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>A <code class="reqn">T X N</code> matrix of observed quantities where each row corresponds to an observation
and each column corresponds to a consumption category.<code class="reqn">T</code> is the number of observations
and <code class="reqn">N</code> is the number of consumption categories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>efficiency</code></td>
<td>
<p>The efficiency level <code class="reqn">e</code>, is a real number between 0 and 1, which allows for a
small margin of error when checking for consistency with the axiom. The default value is 1, which corresponds to the
test of consistency with the exact GARP.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The function returns two elements. The first element (<code>passgarp</code>) is a binary indicator telling us whether
the data set is consistent with GARP at efficiency level <code class="reqn">e</code>. It takes a value 1 if the data set is <code class="reqn">e</code>GARP
consistent and a value 0 if the data set is <code class="reqn">e</code>GARP inconsistent. The second element (<code>nviol</code>) reports the
number of <code class="reqn">e</code>GARP violations. If the data set is <code class="reqn">e</code>GARP consistent, <code>nviol</code> is 0. Note that the maximum
number of violations in an <code class="reqn">e</code>GARP inconsistent data is <code class="reqn">T(T-1)</code>.
</p>


<h3>Definitions</h3>

<p>For a given efficiency level <code class="reqn">0 \le e \le 1</code>, we say that:
</p>

<ul>
<li>
<p> bundle <code class="reqn">q_t</code> is directly revealed preferred to bundle <code class="reqn">q_s</code> at efficiency level <code class="reqn">e</code> (denoted as
<code class="reqn">q_t R^D_e q_s</code>) if <code class="reqn">ep_t'q_t \ge p_t'q_s</code>.
</p>
</li>
<li>
<p> bundle <code class="reqn">q_t</code> is strictly directly revealed preferred to bundle <code class="reqn">q_s</code> at efficiency level <code class="reqn">e</code>
(denoted as <code class="reqn">q_t P^D_e q_s</code>) if <code class="reqn">ep_t'q_t &gt; p_t'q_s</code>.
</p>
</li>
<li>
<p> bundle <code class="reqn">q_t</code> is revealed preferred to bundle <code class="reqn">q_s</code> at efficiency level <code class="reqn">e</code> (denoted as
<code class="reqn">q_t R_e q_s</code>) if there exists a (possibly empty) sequence of observations (<code class="reqn">t,u,v,\cdots,w,s</code>) such that
<code class="reqn">q_t R^D_e q_u</code>, <code class="reqn">q_u R^D_e q_v</code>, <code class="reqn">\cdots, q_w R^D_e q_s</code>.
</p>
</li>
</ul>
<h3>References</h3>


<ul>
<li>
<p> Afriat, Sydney N. "The construction of utility functions from expenditure data."
International economic review 8, no. 1 (1967): 67-77.
</p>
</li>
<li>
<p> Varian, Hal R. "The nonparametric approach to demand analysis." Econometrica:
Journal of the Econometric Society (1982): 945-973.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>sarp</code> for the Strong Axiom of Revealed Preference and <code>warp</code> for
the Weak Axiom of Revealed Preference.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># define a price matrix
p = matrix(c(4,4,4,1,9,3,2,8,3,1,
8,4,3,1,9,3,2,8,8,4,
1,4,1,8,9,3,1,8,3,2),
nrow = 10, ncol = 3, byrow = TRUE)

# define a quantity matrix
q = matrix(c( 1.81,0.19,10.51,17.28,2.26,4.13,12.33,2.05,2.99,6.06,
5.19,0.62,11.34,10.33,0.63,4.33,8.08,2.61,4.36,1.34,
9.76,1.37,36.35, 1.02,3.21,4.97,6.20,0.32,8.53,10.92),
nrow = 10, ncol = 3, byrow = TRUE)

# Test consistency with GARP and compute the number of GARP violations
garp(p,q)

# Test consistency with GARP and compute the number of GARP violations at e = 0.95
garp(p,q, efficiency = 0.95)

</code></pre>


</div>