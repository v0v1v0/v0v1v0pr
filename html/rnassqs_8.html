<div class="container">

<table style="width: 100%;"><tr>
<td>nassqs_GET</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Issue a GET request to the NASS 'Quick Stats' API</h2>

<h3>Description</h3>

<p>This is the workhorse of the package that provides the core request
functionality to the NASS 'Quick Stats' API:
<a href="https://quickstats.nass.usda.gov/api/">https://quickstats.nass.usda.gov/api/</a>.
In most cases <code>nassqs()</code> or other high-level functions should be used.
<code>nassqs_GET()</code> uses <code>httr::GET()</code> to make a HTTP GET request, which returns a
request object which must then be parsed to a data.frame, list, or other <code>R</code>
object. Higher-level functions will do that parsing automatically. However,
if you need access to the request object directly, <code>nassqs_GET()</code> provides
that.
</p>


<h3>Usage</h3>

<pre><code class="language-R">nassqs_GET(
  ...,
  api_path = c("api_GET", "get_param_values", "get_counts"),
  progress_bar = TRUE,
  format = c("csv", "json", "xml")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>either a named list of parameters or a series of parameters to
use in the query</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_path</code></td>
<td>
<p>the API path that determines the type of request being made.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress_bar</code></td>
<td>
<p>whether to display the project bar or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>The format to return the query in. Only useful if as = "text".</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>httr::GET()</code> response object
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
  # Yields for corn in 2012 in Washington
  params &lt;- list(commodity_desc = "CORN",
                 year = 2012,
                 agg_level_desc = "STATE",
                 state_alpha = "WA",
                 statisticcat_desc = "YIELD")

  # Returns a request object that must be parsed either manually or
  # by using nassqs_parse()
  response &lt;- nassqs_GET(params)
  yields &lt;- nassqs_parse(response)
  head(yields)

  # Get the number of records that would be returned for a given request
  # Equivalent to 'nassqs_record_count(params)'
  response &lt;- nassqs_GET(params, api_path = "get_counts")
  records &lt;- nassqs_parse(response)
  records

  # Get the list of allowable values for the parameters 'statisticcat_desc'
  # Equivalent to 'nassqs_param_values("statisticcat_desc")'
  req &lt;- nassqs_GET(list(param = "statisticcat_desc"),
                    api_path = "get_param_values")
  statisticcat_desc_values &lt;- nassqs_parse(req, as = "list")
  head(statisticcat_desc_values)

## End(Not run)
</code></pre>


</div>