<div class="container">

<table style="width: 100%;"><tr>
<td>occ_download_cached</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Check for downloads already in your GBIF account</h2>

<h3>Description</h3>

<p>Check for downloads already in your GBIF account
</p>


<h3>Usage</h3>

<pre><code class="language-R">occ_download_cached(
  ...,
  body = NULL,
  type = "and",
  format = "DWCA",
  user = NULL,
  pwd = NULL,
  email = NULL,
  refresh = FALSE,
  age = 30,
  curlopts = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>For <code>occ_download()</code> and <code>occ_download_prep()</code>, one or more
objects of class <code>occ_predicate</code> or <code>occ_predicate_list</code>, created by
<code style="white-space: pre;">⁠pred*⁠</code> functions (see download_predicate_dsl). If you use this, don't
use <code>body</code> parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>body</code></td>
<td>
<p>if you prefer to pass in the payload yourself, use this
parameter. If you use this, don't pass anything to the dots. Accepts
either an R list, or JSON. JSON is likely easier, since the JSON
library <span class="pkg">jsonlite</span> requires that you unbox strings that shouldn't
be auto-converted to arrays, which is a bit tedious for large queries.
optional</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>(character) One of equals (=), and (&amp;), or (|), lessThan (&lt;),
lessThanOrEquals (&lt;=), greaterThan (&gt;), greaterThanOrEquals (&gt;=), in,
within, not (!), like, isNotNull</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>(character) The download format. One of 'DWCA' (default),
'SIMPLE_CSV', or 'SPECIES_LIST'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>user</code></td>
<td>
<p>(character) User name within GBIF's website. Required. See
"Authentication" below</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pwd</code></td>
<td>
<p>(character) User password within GBIF's website. Required. See
"Authentication" below</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>email</code></td>
<td>
<p>(character) Email address to receive download notice done
email. Required. See "Authentication" below</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refresh</code></td>
<td>
<p>(logical) refresh your list of downloads. on the first
request of each R session we'll cache your stored GBIF occurrence
downloads locally. you can refresh this list by setting <code>refresh=TRUE</code>;
if you're in the same R session, and you've done many download requests,
then refreshing may be a good idea if you're using this function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age</code></td>
<td>
<p>(integer) number of days after which you want a new
download. default: 30</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>curlopts</code></td>
<td>
<p>list of named curl options passed on to
<code>HttpClient</code>. see <code>curl::curl_options</code>
for curl options</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>see downloads for an overview of GBIF downloads methods
</p>


<h3>See Also</h3>

<p>Other downloads: 
<code>download_predicate_dsl</code>,
<code>occ_download_cancel()</code>,
<code>occ_download_dataset_activity()</code>,
<code>occ_download_datasets()</code>,
<code>occ_download_get()</code>,
<code>occ_download_import()</code>,
<code>occ_download_list()</code>,
<code>occ_download_meta()</code>,
<code>occ_download_queue()</code>,
<code>occ_download_wait()</code>,
<code>occ_download()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# these are examples from the package maintainer's account;
# outcomes will vary by user
occ_download_cached(pred_gte("elevation", 12000L))
occ_download_cached(pred("catalogNumber", 217880))
occ_download_cached(pred_gte("decimalLatitude", 65),
  pred_lte("decimalLatitude", -65), type="or")
occ_download_cached(pred_gte("elevation", 12000L))
occ_download_cached(pred_gte("elevation", 12000L), refresh = TRUE)

## End(Not run)
</code></pre>


</div>