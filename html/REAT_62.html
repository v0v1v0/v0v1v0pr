<div class="container">

<table style="width: 100%;"><tr>
<td>ripley</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Ripley's K
</h2>

<h3>Description</h3>

<p>Analyzing point clustering with Ripley's K function
</p>


<h3>Usage</h3>

<pre><code class="language-R">ripley(loc_df, loc_id, loc_lat, loc_lon, 
area, t.max, t.sep = 10, K.local = FALSE, 
ci.boot = FALSE, ci.alpha = 0.05, ciboot.samples = 100,
progmsg = FALSE, K.plot = TRUE, Kplot.func = "K",
plot.title = "Ripley's K", plotX = "t", 
plotY = paste(Kplot.func, "Observed vs. expected"), 
lcol.exp = "blue", lcol.emp = "red", lsize.exp = 1, 
ltype.exp = "solid", lsize.emp = 1, ltype.emp = "solid",
bg.col = "gray95", bgrid = TRUE, bgrid.col = "white", 
bgrid.size = 2, bgrid.type = "solid")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>loc_df</code></td>
<td>

<p>A data frame containing the points
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loc_id</code></td>
<td>

<p>Column containing the IDs of the points in the data frame <code>loc_df</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loc_lat</code></td>
<td>

<p>Column containing the latitudes of the points in the data frame <code>loc_df</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loc_lon</code></td>
<td>

<p>Column containing the longitudes of the points in the data frame <code>loc_df</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>area</code></td>
<td>

<p>Total area of the regarded region
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t.max</code></td>
<td>

<p>Maximum distance
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t.sep</code></td>
<td>

<p>Number of distance intervals
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K.local</code></td>
<td>

<p>Logical arguments that indicates whether local K values are computed or not
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.boot</code></td>
<td>

<p>Logical arguments that indicates whether bootstrap confidence intervals are computed or not
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.alpha</code></td>
<td>

<p>Significance level of the bootstrap confidence intervals
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ciboot.samples</code></td>
<td>

<p>No. of bootstrap samples
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progmsg</code></td>
<td>

<p>Logical argument: Printing progress messages or not
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K.plot</code></td>
<td>

<p>Logical argument: Plot K function or not
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Kplot.func</code></td>
<td>

<p>Which function has to be plotted? K function (<code>Kplot.func = "K"</code>), L function (<code>Kplot.func = "L"</code>) or H function (<code>Kplot.func = "H"</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.title</code></td>
<td>

<p>If <code>K.plot = TRUE</code>: Plot title
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotX</code></td>
<td>

<p>If <code>K.plot = TRUE</code>: name of the X axis
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotY</code></td>
<td>

<p>If <code>K.plot = TRUE</code>: name of the Y axis
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lcol.exp</code></td>
<td>

<p>If <code>K.plot = TRUE</code>: color of the line representing the expected values
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lcol.emp</code></td>
<td>

<p>If <code>K.plot = TRUE</code>: color of the line representing the empirical values
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lsize.exp</code></td>
<td>

<p>If <code>K.plot = TRUE</code>: size of the line representing the expected values
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lsize.emp</code></td>
<td>

<p>If <code>K.plot = TRUE</code>: size of the line representing the empirical values
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ltype.exp</code></td>
<td>

<p>If <code>K.plot = TRUE</code>: type of the line representing the expected values
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ltype.emp</code></td>
<td>

<p>If <code>K.plot = TRUE</code>: type of the line representing the empirical values
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg.col</code></td>
<td>

<p>if <code>lc = TRUE</code> (plot of Lorenz curve), <code>bg.col</code> defines the background color of the plot (default: <code>"gray95"</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bgrid</code></td>
<td>

<p>if <code>lc = TRUE</code> (plot of Lorenz curve), the logical argument <code>bgrid</code> defines if a grid is shown in the plot
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bgrid.col</code></td>
<td>

<p>if <code>lc = TRUE</code> (plot of Lorenz curve) and <code>bgrid = TRUE</code> (background grid), <code>bgrid.col</code> defines the color of the background grid (default: "white")
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bgrid.size</code></td>
<td>

<p>if <code>lc = TRUE</code> (plot of Lorenz curve) and <code>bgrid = TRUE</code> (background grid), <code>bgrid.size</code> defines the size of the background grid (default: 2)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bgrid.type</code></td>
<td>

<p>if <code>lc = TRUE</code> (plot of Lorenz curve) and <code>bgrid = TRUE</code> (background grid), <code>bgrid.type</code> defines the type of lines of the background grid (default: <code>"solid"</code>)
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Calculating and plotting of the K function and its derivations (L function, H function) and, optionally, bootstrap confidence intervals.
</p>


<h3>Value</h3>

<p>The function returns a <code>list</code> containing:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>K </code></td>
<td>
<p>A <code>data.frame</code> containing the K/L/H/t values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K_local </code></td>
<td>
<p>A <code>data.frame</code> containing the local K values (if stated)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>local_ci </code></td>
<td>
<p>A <code>data.frame</code> containing the local confidence intervals (if stated)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Thomas Wieland
</p>


<h3>References</h3>

<p>Kiskowski, M.A./Hancock, J. F./Kenworthy, A. (2009): “On the Use of Ripley's K-function and its Derivatives to Analyze Domain Size”. In: <em>Biophysical Journal</em>, <b>97</b>, 4, p. 1095-1103.
</p>
<p>Krider, R. E./Putler, R. S. (2013): “Which Birds of a Feather Flock Together? Clustering and Avoidance Patterns of Similar Retail Outlets”. In: <em>Geographical Analysis</em>, <b>45</b>, 2, p. 123-149.
</p>


<h3>See Also</h3>

<p><code>dist</code>, <code>dist.buf</code>, <code>dist.mat</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data(GoettingenHealth1)
# general practitioners, psychotherapists and pharmacies

area_goe &lt;- 1753000000
# area of Landkreis Goettingen (sqm)
area_nom &lt;- 1267000000
# area of Landkreis Northeim (sqm)
area_gn &lt;- area_goe+area_nom
sqrt(area_gn/pi)

# this takes some seconds
ripley(GoettingenHealth1[GoettingenHealth1$type == "phys_gen",], 
"location", "lat", "lon", area = area_gn, t.max = 30000, t.sep = 300)

ripley(GoettingenHealth1[GoettingenHealth1$type == "pharm",], 
"location", "lat", "lon", area = area_gn, t.max = 30000, t.sep = 300)

ripley(GoettingenHealth1[GoettingenHealth1$type == "psych",], 
"location", "lat", "lon", area = area_gn, t.max = 30000, t.sep = 300)

## End(Not run)
</code></pre>


</div>