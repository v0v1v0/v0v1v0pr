<div class="container">

<table style="width: 100%;"><tr>
<td>plot_area</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot an area diagram of probabilities or frequencies.</h2>

<h3>Description</h3>

<p><code>plot_area</code> assigns the total probability
or population frequency to an area (square or rectangle)
and shows the probability or frequency of
4 classification cases (<code>hi</code>, <code>mi</code>,
<code>fa</code>, <code>cr</code>)
as relative proportions of this area.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_area(
  prev = num$prev,
  sens = num$sens,
  mirt = NA,
  spec = num$spec,
  fart = NA,
  N = num$N,
  by = "cddc",
  p_split = "v",
  area = "sq",
  scale = "p",
  round = TRUE,
  sample = FALSE,
  sum_w = 0.1,
  gaps = c(NA, NA),
  f_lbl = "num",
  f_lbl_sep = NA,
  f_lbl_sum = "num",
  f_lbl_hd = "nam",
  f_lwd = 0,
  p_lbl = NA,
  arr_c = -3,
  col_p = c(grey(0.15, 0.99), "yellow", "yellow"),
  brd_dis = 0.06,
  lbl_txt = txt,
  main = txt$scen_lbl,
  sub = "type",
  title_lbl = NULL,
  cex_lbl = 0.9,
  cex_p_lbl = NA,
  col_pal = pal,
  mar_notes = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prev</code></td>
<td>
<p>The condition's prevalence <code>prev</code>
(i.e., the probability of condition being <code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sens</code></td>
<td>
<p>The decision's sensitivity <code>sens</code>
(i.e., the conditional probability of a positive decision
provided that the condition is <code>TRUE</code>).
<code>sens</code> is optional when its complement <code>mirt</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mirt</code></td>
<td>
<p>The decision's miss rate <code>mirt</code>
(i.e., the conditional probability of a negative decision
provided that the condition is <code>TRUE</code>).
<code>mirt</code> is optional when its complement <code>sens</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spec</code></td>
<td>
<p>The decision's specificity value <code>spec</code>
(i.e., the conditional probability
of a negative decision provided that the condition is <code>FALSE</code>).
<code>spec</code> is optional when its complement <code>fart</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fart</code></td>
<td>
<p>The decision's false alarm rate <code>fart</code>
(i.e., the conditional probability
of a positive decision provided that the condition is <code>FALSE</code>).
<code>fart</code> is optional when its complement <code>spec</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>The number of individuals in the population.
A suitable value of <code>N</code> is computed, if not provided.
Note: <code>N</code> is not represented in the plot,
but used for computing frequency information <code>freq</code>
from current probabilities <code>prob</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>A character code specifying 2 perspectives that split the population into subsets,
with 6 options:
</p>

<ol>
<li> <p><code>"cddc"</code>: by condition (cd) and by decision (dc) (default);
</p>
</li>
<li> <p><code>"cdac"</code>: by condition (cd) and by accuracy (ac);
</p>
</li>
<li> <p><code>"dccd"</code>: by decision (dc) and by condition (cd);
</p>
</li>
<li> <p><code>"dcac"</code>: by decision (dc) and by accuracy (ac);
</p>
</li>
<li> <p><code>"accd"</code>: by accuracy (ac) and by condition (cd);
</p>
</li>
<li> <p><code>"acdc"</code>: by accuracy (ac) and by decision (dc).
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_split</code></td>
<td>
<p>Primary perspective for population split,
with 2 options:
</p>

<ol>
<li> <p><code>"v"</code>: vertical (default);
</p>
</li>
<li> <p><code>"h"</code>: horizontal.
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>area</code></td>
<td>
<p>A character code specifying the shape of the main area,
with 2 options:
</p>

<ol>
<li> <p><code>"sq"</code>: main area is scaled to a square (default);
</p>
</li>
<li> <p><code>"no"</code>: no scaling (rectangular area fills plot size).
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>Scale probabilities and corresponding area dimensions either by
exact probability or by (rounded or non-rounded) frequency, with 2 options:
</p>

<ol>
<li> <p><code>"p"</code>: scale main area dimensions by exact probability (default);
</p>
</li>
<li> <p><code>"f"</code>: re-compute probabilities from (rounded or non-rounded) frequencies
and scale main area dimensions by their frequency.
</p>
</li>
</ol>
<p>Note: <code>scale</code> setting matters for the display of probability values and for
area plots with small population sizes <code>N</code> when <code>round = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>round</code></td>
<td>
<p>A Boolean option specifying whether computed frequencies
are rounded to integers. Default: <code>round = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample</code></td>
<td>
<p>Boolean value that determines whether frequency values
are sampled from <code>N</code>, given the probability values of
<code>prev</code>, <code>sens</code>, and <code>spec</code>.
Default: <code>sample = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sum_w</code></td>
<td>
<p>Border width of 2 perspective summaries
(on top and left borders) of main area as a proportion of area size
(i.e., in range <code>0 &lt;= sum_w &lt;= 1</code>).
Default: <code>sum_w = .10</code>.
Setting <code>sum_w = 0</code>, <code>NA</code>, or <code>NULL</code> removes summaries;
setting <code>sum_w = 1</code> scales summaries to same size as main areas.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gaps</code></td>
<td>
<p>Size of gaps (as binary numeric vector) specifying
the width of vertical and horizontal gaps as proportions of area size.
Defaults: <code>gaps = c(.02, .00)</code> for <code>p_split = "v"</code> and
<code>gaps = c(.00, .02)</code> for <code>p_split = "h"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_lbl</code></td>
<td>
<p>Type of label for showing frequency values in 4 main areas,
with 6 options:
</p>

<ol>
<li> <p><code>"def"</code>: abbreviated names and frequency values;
</p>
</li>
<li> <p><code>"abb"</code>: abbreviated frequency names only (as specified in code);
</p>
</li>
<li> <p><code>"nam"</code>: names only (as specified in <code>lbl_txt = txt</code>);
</p>
</li>
<li> <p><code>"num"</code>: numeric frequency values only (default);
</p>
</li>
<li> <p><code>"namnum"</code>: names (as specified in <code>lbl_txt = txt</code>) and numeric values;
</p>
</li>
<li> <p><code>"no"</code>: no frequency labels (same for <code>f_lbl = NA</code> or <code>NULL</code>).
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_lbl_sep</code></td>
<td>
<p>Label separator for main frequencies
(used for <code>f_lbl = "def" OR "namnum"</code>).
Use <code>f_lbl_sep = ":\n"</code> to add a line break between name and numeric value.
Default: <code>f_lbl_sep = NA</code> (set to <code>" = "</code> or <code>":\n"</code> based on <code>f_lbl</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_lbl_sum</code></td>
<td>
<p>Type of label for showing frequency values in summary cells,
with same 6 options as <code>f_lbl</code> (above).
Default: <code>f_lbl_sum = "num"</code>: numeric values only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_lbl_hd</code></td>
<td>
<p>Type of label for showing frequency values in header,
with same 6 options as <code>f_lbl</code> (above).
Default: <code>f_lbl_hd = "nam"</code>: names only (as specified in <code>lbl_txt = txt</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_lwd</code></td>
<td>
<p>Line width of areas.
Default: <code>f_lwd = 0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_lbl</code></td>
<td>
<p>Type of label for showing 3 key probability links and values,
with 7 options:
</p>

<ol>
<li> <p><code>"def"</code>: show links and abbreviated names and probability values;
</p>
</li>
<li> <p><code>"abb"</code>: show links and abbreviated probability names;
</p>
</li>
<li> <p><code>"nam"</code>: show links and probability names (as specified in code);
</p>
</li>
<li> <p><code>"num"</code>: show links and numeric probability values;
</p>
</li>
<li> <p><code>"namnum"</code>: show links with names and numeric probability values;
</p>
</li>
<li> <p><code>"no"</code>: show links with no labels;
</p>
</li>
<li> <p><code>NA</code>: show no labels or links (same for <code>p_lbl = NULL</code>, default).
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arr_c</code></td>
<td>
<p>Arrow code for symbols at ends of probability links
(as a numeric value <code>-3 &lt;= arr_c &lt;= +6</code>),
with the following options:
</p>

<ul>
<li> <p><code>-1</code> to <code>-3</code>: points at one/other/both end/s;
</p>
</li>
<li> <p><code>0</code>: no symbols;
</p>
</li>
<li> <p><code>+1</code> to <code>+3</code>: V-arrow at one/other/both end/s;
</p>
</li>
<li> <p><code>+4</code> to <code>+6</code>: T-arrow at one/other/both end/s.
</p>
</li>
</ul>
<p>Default: <code>arr_c = -3</code> (points at both ends).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_p</code></td>
<td>
<p>Colors of probability links (as vector of 3 colors).
Default: <code>col_p = c(grey(.15, .99), "yellow", "yellow")</code>.
(Also consider: "black", "cornsilk", "whitesmoke").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>brd_dis</code></td>
<td>
<p>Distance of probability links from area border
(as proportion of area width).
Default: <code>brd_dis = .06</code>.
Note: Adjust to avoid overlapping labels.
Negative values show links outside of main area.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lbl_txt</code></td>
<td>
<p>Default label set for text elements.
Default: <code>lbl_txt = txt</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Text label for main plot title.
Default: <code>main = txt$scen_lbl</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub</code></td>
<td>
<p>Text label for plot subtitle (on 2nd line).
Default: <code>sub = "type"</code> shows information on current plot type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title_lbl</code></td>
<td>
<p><strong>Deprecated</strong> text label for current plot title.
Replaced by <code>main</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex_lbl</code></td>
<td>
<p>Scaling factor for text labels (frequencies and headers).
Default: <code>cex_lbl = .90</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex_p_lbl</code></td>
<td>
<p>Scaling factor for text labels (probabilities).
Default: <code>cex_p_lbl = cex_lbl - .05</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_pal</code></td>
<td>
<p>Color palette.
Default: <code>col_pal = pal</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mar_notes</code></td>
<td>
<p>Boolean option for showing margin notes.
Default: <code>mar_notes = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other (graphical) parameters.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>plot_area</code> computes probabilities <code>prob</code>
and frequencies <code>freq</code>
from a sufficient and valid set of 3 essential probabilities
(<code>prev</code>, and
<code>sens</code> or its complement <code>mirt</code>, and
<code>spec</code> or its complement <code>fart</code>)
or existing frequency information <code>freq</code>
and a population size of <code>N</code> individuals.
</p>
<p><code>plot_area</code> generalizes and replaces <code>plot_mosaic</code>.
by removing the dependency on the R packages <code>vcd</code> and <code>grid</code>
and providing many additional options.
</p>


<h3>Value</h3>

<p>Nothing (NULL).
</p>


<h3>See Also</h3>

<p><code>plot_mosaic</code> for older (obsolete) version;
<code>plot_tab</code> for plotting table (without scaling area dimensions);
<code>pal</code> contains current color settings;
<code>txt</code> contains current text settings.
</p>
<p>Other visualization functions: 
<code>plot.riskyr()</code>,
<code>plot_bar()</code>,
<code>plot_crisk()</code>,
<code>plot_curve()</code>,
<code>plot_fnet()</code>,
<code>plot_icons()</code>,
<code>plot_mosaic()</code>,
<code>plot_plane()</code>,
<code>plot_prism()</code>,
<code>plot_tab()</code>,
<code>plot_tree()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Basics:
# (1) Using global prob and freq values:
plot_area()  # default area plot,
# same as:
# plot_area(by = "cddc", p_split = "v", area = "sq", scale = "p")

# (2) Providing values:
plot_area(prev = .5, sens = 4/5, spec = 3/5, N = 10)

# (3) Rounding and sampling:
plot_area(N = 100, prev = 1/3, sens = 2/3, spec = 6/7, area = "hr", round = FALSE)
plot_area(N = 100, prev = 1/3, sens = 2/3, spec = 6/7, area = "hr", sample = TRUE, scale = "freq")

# (4) Custom colors and text:
plot_area(prev = .2, sens = 4/5, spec = 3/5, N = 10,
          by = "cddc", p_split = "v", scale = "p",
          main = "Custom text and color:",
          lbl_txt = txt_org, f_lbl = "namnum",
          f_lbl_sep = ":\n", f_lwd = 2, col_pal = pal_rgb)

## Versions:
## by x p_split (= [3 x 2 x 2] = 12 versions):
plot_area(by = "cddc", p_split = "v")  # v01 (see v07)
plot_area(by = "cdac", p_split = "v")  # v02 (see v11)
# plot_area(by = "cddc", p_split = "h")  # v03 (see v05)
# plot_area(by = "cdac", p_split = "h")  # v04 (see v09)

# plot_area(by = "dccd", p_split = "v")  # v05 (is v03 rotated)
plot_area(by = "dcac", p_split = "v")  # v06 (see v12)
# plot_area(by = "dccd", p_split = "h")  # v07 (is v01 rotated)
# plot_area(by = "dcac", p_split = "h")  # v08 (see v10)

# plot_area(by = "accd", p_split = "v")  # v09 (is v04 rotated)
# plot_area(by = "acdc", p_split = "v")  # v10 (is v08 rotated)
# plot_area(by = "accd", p_split = "h")  # v11 (is v02 rotated)
# plot_area(by = "acdc", p_split = "h")  # v12 (is v06 rotated)

## Options:
# area:
plot_area(area = "sq")  # main area as square (by scaling x-values)
plot_area(area = "no")  # rectangular main area (using full plotting region)

# scale (matters for small N):
plot_area(N = 5, prev = .5, sens = .8, spec = .6,
          by = "cddc", p_split = "v", scale = "p", p_lbl = "def")  # scaled by prob (default)
plot_area(N = 5, prev = .5, sens = .8, spec = .6,
          by = "cddc", p_split = "v", scale = "f", p_lbl = "def")  # scaled by freq (for small N)
plot_area(N = 4, prev = .4, sens = .8, spec = .6,
          by = "cdac", p_split = "h", scale = "p", p_lbl = "def")  # scaled by prob (default)
plot_area(N = 4, prev = .4, sens = .8, spec = .6,
          by = "cdac", p_split = "h", scale = "f", p_lbl = "def")  # scaled by freq (for small N)

# gaps (sensible range: 0--.10):
plot_area(gaps = NA)             # default gaps (based on p_split)
plot_area(gaps = c(0, 0))        # no gaps
# plot_area(gaps = c(.05, .01))  # v_gap &gt; h_gap

# freq labels:
plot_area(f_lbl = "def", f_lbl_sep = " = ")  # default
plot_area(f_lbl = NA)       # NA/NULL: no freq labels (in main area &amp; top/left boxes)
plot_area(f_lbl = "abb")    # abbreviated name (i.e., variable name)
# plot_area(f_lbl = "nam")  # only freq name
# plot_area(f_lbl = "num")  # only freq number
plot_area(f_lbl = "namnum", f_lbl_sep = ":\n", cex_lbl = .75)  # explicit &amp; smaller

# prob labels:
plot_area(p_lbl = NA)      # default: no prob labels, no links
# plot_area(p_lbl = "no")  # show links, but no labels
plot_area(p_lbl = "namnum", cex_lbl = .70)  # explicit &amp; smaller labels

# prob arrows:
plot_area(arr_c = +3, p_lbl = "def", f_lbl = NA)  # V-shape arrows
# plot_area(arr_c = +6, p_lbl = "def", f_lbl = NA)  # T-shape arrows
# plot_area(arr_c = +6, p_lbl = "def", f_lbl = NA,
#           brd_dis = -.02, col_p = c("black")) # adjust arrow type/position

# f_lwd:
plot_area(f_lwd =  3)    # thicker lines
plot_area(f_lwd = .5)    # thinner lines
# plot_area(f_lwd =  0)  # no lines (if f_lwd = 0/NULL/NA: lty = 0)

# sum_w:
# plot_area(sum_w = .10)  # default (showing top and left freq panels &amp; labels)
plot_area(sum_w =  0)   # remove top and left freq panels
plot_area(sum_w =  1,         # top and left freq panels scaled to size of main areas
          col_pal = pal_org)  # custom colors

## Plain and suggested plot versions:
plot_area(sum_w = 0, f_lbl = "abb", p_lbl = NA)  # no compound indicators (on top/left)
plot_area(gap = c(0, 0), sum_w = 0, f_lbl = "num", p_lbl = "num",  # no gaps, numeric labels
          f_lwd = .5, col_pal = pal_bw, main = "Black-and-white")  # b+w print version
# plot_area(f_lbl = "nam", p_lbl = NA, col_pal = pal_mod)  # plot with freq labels
plot_area(f_lbl = "num", p_lbl = NA, col_pal = pal_rgb)  # no borders around boxes

</code></pre>


</div>