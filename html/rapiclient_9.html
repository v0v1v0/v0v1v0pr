<div class="container">

<table style="width: 100%;"><tr>
<td>get_operations</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get operations</h2>

<h3>Description</h3>

<p>Creates a list of functions from API operations definition. Names in a list
are operationIDs from API.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_operations(
  api,
  .headers = NULL,
  path = NULL,
  handle_response = identity,
  auto_unbox = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>api</code></td>
<td>
<p>API object (see <code>get_api</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.headers</code></td>
<td>
<p>Optional headers passed to httr functions. See
<code>add_headers</code> documentation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>(optional) filter by path from API specification</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>handle_response</code></td>
<td>
<p>(optional) A function with a single argument: httr
response</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto_unbox</code></td>
<td>
<p>automatically <code>unbox()</code> all atomic vectors of length 1. It is usually safer to avoid this and instead use the <code>unbox()</code> function to unbox individual elements.
An exception is that objects of class <code>AsIs</code> (i.e. wrapped in <code>I()</code>) are not automatically unboxed. This is a way to mark single values as length-1 arrays.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>All functions return a response object from httr package or a
value returned by <code>handle_response</code> function if specified. When
<code>path</code> is defined, only operations with the specified API path root are
created. Use <code>.headers</code> parameters to send additional headers when
sending a request.
</p>


<h3>Value</h3>

<p>A list of functions.
</p>


<h3>Handling response</h3>

<p>If no response handler function is defined, operation functions return
response object (<span class="pkg">httr</span> package). See httr
content documentation for extracting content from a request,
and functions http_error and http_status how to
handle http errors and error messages.
</p>
<p>When using simple <code>result_handlers</code>, operations will return the
content of response instead of httr response object (or handle error as
exception or warning in case of error).
</p>
<p>To handle response automatically with custom function, define a function
with httr response object as argument and pass it as <code>handle_response</code>
argument to <code>get_operations</code> function.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# create operation and schema functions
api_url &lt;- "http://petstore.swagger.io/v2/swagger.json"
api &lt;- get_api(api_url)
operations &lt;- get_operations(api)
schemas &lt;- get_schemas(api)

# get operations which return content or stop on error
operations &lt;- get_operations(api, handle_response = content_or_stop)

# use .headers when operations must send additional headers when sending
operations &lt;-
  get_operations(api, .headers = c("api-key" = Sys.getenv("SOME_API_KEY")))

## End(Not run)
</code></pre>


</div>