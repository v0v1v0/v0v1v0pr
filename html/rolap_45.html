<div class="container">

<table style="width: 100%;"><tr>
<td>define_geoattribute</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Define <code>geoattribute</code> of a dimension</h2>

<h3>Description</h3>

<p>Define a set of attributes as a dimension's <code>geoattribute</code>. The set of attribute
values must uniquely designate the instances of the given geographic layer.
</p>


<h3>Usage</h3>

<pre><code class="language-R">define_geoattribute(db, dimension, attribute, from_layer, by, from_attribute)

## S3 method for class 'star_database'
define_geoattribute(
  db,
  dimension = NULL,
  attribute = NULL,
  from_layer = NULL,
  by = NULL,
  from_attribute = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimension</code></td>
<td>
<p>A string, dimension name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attribute</code></td>
<td>
<p>A vector, attribute names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from_layer</code></td>
<td>
<p>A <code>sf</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>a vector of correspondence of attributes of the dimension with the
<code>sf</code> layer structure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from_attribute</code></td>
<td>
<p>A vector, attribute names.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The definition can be done in two ways: Associates the instances of the attributes
with the instances of a geographic layer or defines it from the geometry of
previously defined geographic attributes.
</p>
<p>Multiple attributes can be specified in the <code>attribute</code> parameter, the geographical
attribute is the combination of all of them.
</p>
<p>If defined from a layer (<code>from_layer</code> parameter), additionally the attributes
used for the join between the tables (dimension and layer tables) must be
indicated (<code>by</code> parameter).
</p>
<p>If defined from another attribute, it should have the same or finer granularity,
to obtain the result by grouping its instances. The considered attribute can be
the pair that defines longitude and latitude.
</p>
<p>If other geographic information has previously been associated with that attribute,
the new information is considered and previous instances for which no new information
is provided are also added.
</p>
<p>If the geometry provided is polygons, a point layer is also generated.
</p>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p>Other star database geographic attributes: 
<code>check_geoattribute_geometry()</code>,
<code>get_geoattribute_geometries()</code>,
<code>get_geoattributes()</code>,
<code>get_layer_geometry()</code>,
<code>get_point_geometry()</code>,
<code>summarize_layer()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
db &lt;- mrs_db |&gt;
  define_geoattribute(
    dimension = "where",
    attribute = "state",
    from_layer = us_layer_state,
    by = "STUSPS"
  ) |&gt;
  define_geoattribute(
    dimension = "where",
    attribute = "region",
    from_attribute = "state"
  )  |&gt;
  define_geoattribute(
    dimension = "where",
    attribute = "city",
    from_attribute = c("long", "lat")
  )

</code></pre>


</div>