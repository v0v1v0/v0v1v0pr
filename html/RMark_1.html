<div class="container">

<table style="width: 100%;"><tr>
<td>ABeginnersGuide</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A beginners introduction and guide to RMark</h2>

<h3>Description</h3>

<p>The RMark package is a collection of R functions that can be used as an
interface to MARK for analysis of capture-recapture data. Some initial ideas
are described here but you are strongly encouraged to read use the help files with
this package and to read the documentation at
http://www.phidot.org/software/mark/rmark/RMarkDocumentation.zip 
The above link appears the first time you enter library(RMark) in an R session.
</p>


<h3>Details</h3>

<p>The RMark package contains various functions that import/export capture data,
build capture-recapture models, run the FORTRAN program MARK.EXE, and
extract and display output.  Program MARK has its own user interface;
however, model development can be rather tedious and error-prone because the
parameter structure and design matrix are created by hand. This interface in
R was created to use the formula and design matrix functions in R to ease
model development and reduce errors. This R interface has the following
advantages: 1) Uses model notation to create design matrices rather than
designing them by hand in MARK or in EXCEL, which makes model development
faster and more reliable. All-different PIMS are automatically created for
each group (if any). 2) Allows models based on group (factor variables) and
individual covariates with groups created on the fly. Age, cohort, group and
time variables are pre-defined for use in formulas. 3) Both real and beta
labels are automatically added for easy output interpretation.  4) Input,
output and specific results (eg parameter estimates, AICc etc) are stored in
an R object where they can be manipulated as deemed useful (eg plotting,
further calculations, simulation etc). 5) Parameter estimates can be
displayed in triangular PIM format (if appropriate) for ease of
interpretation. 6) Easy setup of batch jobs and the calls to the R functions
document the model specifications and allow models to be easily reproduced
or re-run if data are changed. 7) Covariate-specific estimates of real
parameters can be computed within R without re-running the analysis.
</p>
<p>The MARK capture-recapture models that are currently
supported are provided in MarkModels.pdf which is installed in the RMark directory of your R library.
You can also find a list in MARK under Help/Data Types.
' 
There is one limitation of this interface. All models
in this interface are developed via a design matrix approach rather than
coding the model structure via parameter index matrices (PIMS). In most
cases, a logit or other link is used by default which has implications for
ability of MARK to count the number of identifiable parameters (see
<code>dipper</code> for an example).  However, beginning with v1.7.6 the
sin link is now supported if the formula specifies an identity design matrix
for the parameter.
</p>
<p>Before you begin, you must have installed MARK
(http://www.phidot.org/software/mark/) on your computer
or at least have a current copy of MARK.EXE. As long as you selected the
default location for the MARK install (c:/Program Files/Mark), the
<code>RMark</code> library will be able to find it.  If for some reason, you choose
to install it in a different location, see the note section in
<code>mark</code> for instructions on setting the variable MarkPath to
specify the path.  In addition to installing MARK, you must have installed
the <code>RMark</code> library into the R library directory.  Once done with those
tasks, run R and enter library(RMark) (or put it in your .First function) to
attach the library of functions.
</p>
<p>The following is a categorical listing of the functions in the package with
a link to the help for each function. To start, read the help for functions
<code>import.chdata</code> and <code>mark</code> to learn how to import
your data and fit a simple model.  The text files for the examples shown in
<code>import.chdata</code> are in the subdirectory data within the R Library
directory in RMark. Next look at the example data sets and analyses
<code>dipper</code>, <code>edwards.eberhardt</code>, and
<code>example.data</code>. After you see the structure of the examples and
the use of functions to fit a series of analyses, explore the remaining
functions under Model Fitting, Batch Analyses, Model Selection and Summary
and Display.  If your data and models contain individual covariates, read
the section on Real Parameter Computation to learn how to compute estimates
of real parameters at various covariate values.
</p>
<p>Input/Output data &amp; results
</p>
<p><code>import.chdata</code>,<code>read.mark.binary</code>,
<code>extract.mark.output</code>
</p>
<p>Exporting Models to MARK interface
</p>
<p><code>export.MARK</code>
</p>
<p>Model Fitting
</p>
<p><code>mark</code>, <code>process.data</code>,
<code>make.design.data</code>, <code>add.design.data</code>,
<code>make.mark.model</code>, <code>run.mark.model</code>
<code>merge_design.covariates</code>
</p>
<p>Batch analyses with functions
</p>
<p><code>run.models</code>, <code>collect.models</code>,
<code>create.model.list</code>, <code>mark.wrapper</code>
</p>
<p>Summary and display
</p>
<p><code>summary.mark</code>, <code>print.mark</code>,
<code>print.marklist</code>, <code>get.real</code>,
<code>compute.real</code>, <code>print.summary.mark</code>
</p>
<p>Model Selection/Goodness of fit
</p>
<p><code>adjust.chat</code>, <code>adjust.parameter.count</code>,
<code>model.table</code> , <code>release.gof</code>,
<code>model.average</code>
</p>
<p>Real Parameter computation
</p>
<p><code>find.covariates</code>, <code>fill.covariates</code>,
<code>compute.real</code> , <code>covariate.predictions</code>
</p>
<p>Utility and internal functions
</p>
<p><code>mark.wrapper</code>,<code>collect.model.names</code>, <code>compute.design.data</code>,
<code>extract.mark.output</code>, <code>inverse.link</code>,
<code>deriv.inverse.link</code>, <code>setup.model</code>,
<code>setup.parameters</code>, <code>valid.parameters</code>,
<code>cleanup</code>,<code>TransitionMatrix</code>,
</p>
<p>For examples, see <code>dipper</code> for CJS and POPAN, see
<code>example.data</code> for CJS with multiple grouping variables, see
<code>edwards.eberhardt</code> for various closed-capture models, see
<code>mstrata</code> for Multistrata, and see <code>Blackduck</code> for
known fate. The latter two are examples of the use of
<code>mark.wrapper</code> for a shortcut approach to creating a series of
models. Other examples have been added for the various other models. In MarkModels.pdf it also
lists the name of examples that are provided for each model.
</p>


<h3>Author(s)</h3>

<p>Jeff Laake
</p>


<h3>References</h3>

<p>MARK: Dr. Gary White, Department of Fishery and Wildlife
Biology, Colorado State University, Fort Collins, Colorado, USA
http://www.phidot.org/software/mark/
</p>


</div>