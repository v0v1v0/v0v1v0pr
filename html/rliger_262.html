<div class="container">

<table style="width: 100%;"><tr>
<td>runTSNE</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform t-SNE dimensionality reduction</h2>

<h3>Description</h3>

<p>Runs t-SNE on the quantile normalized cell factors (result from
<code>quantileNorm</code>), or unnormalized cell factors (result from
<code>runIntegration</code>)) to generate a 2D embedding for visualization.
By default <code>Rtsne</code> (Barnes-Hut implementation of t-SNE)
method is invoked, while alternative "fftRtsne" method (FFT-accelerated
Interpolation-based t-SNE, using Kluger Lab implementation) is also
supported. For very large datasets, it is recommended to use
<code>method = "fftRtsne"</code> due to its efficiency and scalability.
</p>
<p>Extra external installation steps are required for using "fftRtsne" method.
Please consult
<a href="https://welch-lab.github.io/liger/articles/installation.html">detailed guide</a>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">runTSNE(
  object,
  useRaw = NULL,
  useDims = NULL,
  nDims = 2,
  usePCA = FALSE,
  perplexity = 30,
  theta = 0.5,
  method = c("Rtsne", "fftRtsne"),
  dimredName = "TSNE",
  fitsnePath = NULL,
  seed = 42,
  verbose = getOption("ligerVerbose", TRUE),
  k = nDims,
  use.raw = useRaw,
  dims.use = useDims,
  use.pca = usePCA,
  fitsne.path = fitsnePath,
  rand.seed = seed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>liger object with factorization results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useRaw</code></td>
<td>
<p>Whether to use un-aligned cell factor loadings (<code class="reqn">H</code>
matrices). Default <code>NULL</code> search for quantile-normalized loadings first
and un-aligned loadings then.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useDims</code></td>
<td>
<p>Index of factors to use for computing UMAP embedding. Default
<code>NULL</code> uses all factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nDims</code></td>
<td>
<p>Number of dimensions to reduce to. Default <code>2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>usePCA</code></td>
<td>
<p>Whether to perform initial PCA step for Rtsne. Default
<code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perplexity</code></td>
<td>
<p>Numeric parameter to pass to Rtsne (expected number of
neighbors). Default <code>30</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>Speed/accuracy trade-off (increase for less accuracy), set to
<code>0.0</code> for exact TSNE. Default <code>0.5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Choose from <code>"Rtsne"</code> or <code>"fftRtsne"</code>. See
Description. Default <code>"Rtsne"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimredName</code></td>
<td>
<p>Name of the variable in <code>cellMeta</code> slot to store the
result matrix. Default <code>"TSNE"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fitsnePath</code></td>
<td>
<p>Path to the cloned FIt-SNE directory (i.e.
<code>'/path/to/dir/FIt-SNE'</code>). Required only when first time using
<code>runTSNE</code> with <code>method = "fftRtsne"</code>. Default <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Random seed for reproducibility. Default <code>42</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical. Whether to show information of the progress. Default
<code>getOption("ligerVerbose")</code> or <code>TRUE</code> if users have not set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.raw, dims.use, k, use.pca, fitsne.path, rand.seed</code></td>
<td>
<p><b>Deprecated</b>.
See Usage section for replacement.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The <code>object</code> where a <code>"TSNE"</code> variable is updated in the
<code>cellMeta</code> slot with the whole 2D embedding matrix.
</p>


<h3>See Also</h3>

<p><code>runUMAP</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">pbmc &lt;- runTSNE(pbmcPlot)
</code></pre>


</div>