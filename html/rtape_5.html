<div class="container">

<table style="width: 100%;"><tr>
<td>rtapeFilter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rerecord the tape dropping certain objects.</h2>

<h3>Description</h3>

<p>Rerecord the tape dropping certain objects.</p>


<h3>Usage</h3>

<pre><code class="language-R">rtapeFilter(FUN, fNamesIn, fNameOut=fNamesIn, moreArgs,
    fileFormatOut=guessFileFormat(fNameOut))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>Callback function which gets the current object and returns a boolean value that directs <code>rtape</code> to either keep (for <code>TRUE</code>) or discard it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fNamesIn</code></td>
<td>
<p>Name of the tape file to read; if this argument is a vector of several names, function behaves as reading a single tape made of all those tapes joined in a given order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fNameOut</code></td>
<td>
<p>Name of the tape to which store the output of filtering; if this file is one of the input files, this file is overwritten with the output; otherwise the output is appended to this tape. This must be a one-element vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moreArgs</code></td>
<td>
<p>Additional arguments to <code>FUN</code>, given as a list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fileFormatOut</code></td>
<td>
<p>File format; should be left default. See <code>guessFileFormat</code> and <code>makeFileFormat</code> for details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function reads the objects from one tape, executes a callback function on them and leaves/appends to the other tape only those for which callback returned <code>TRUE</code>.</p>


<h3>Note</h3>

<p>Overwriting is NOT realised in place, rather by a creation of a temporary file and then using it to overwrite the filtered tape.</p>


<h3>Author(s)</h3>

<p>Miron B. Kursa <a href="mailto:M.Kursa@icm.edu.pl">M.Kursa@icm.edu.pl</a></p>


<h3>Examples</h3>

<pre><code class="language-R">unlink(c('tmp.tape'))
#Record something
for(i in 1:10) rtapeAdd('tmp.tape',i)

#Discard even numbers
rtapeFilter(function(x) (x%%2)==1,'tmp.tape')

#Check it out
unlist(rtapeAsList('tmp.tape'))-&gt;A
print(A);
stopifnot(all(A==c(1,3,5,7,9)))

#Time to clean up
unlink(c('tmp.tape'))</code></pre>


</div>