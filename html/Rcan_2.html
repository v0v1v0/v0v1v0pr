<div class="container">

<table style="width: 100%;"><tr>
<td>csu_ageSpecific</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>csu_ageSpecific</h2>

<h3>Description</h3>

<p><code>csu_ageSpecific</code> calculate and plot Age-Specific Rate.
</p>


<h3>Usage</h3>

<pre><code class="language-R">csu_ageSpecific(df_data,
		var_age="age",
        var_cases="cases",
        var_py="py",
        group_by = NULL, 
        missing_age = NULL,
        db_rate = 100000,
		logscale=FALSE,
        plot_title=NULL,
        legend=csu_trend_legend(),
        color_trend = NULL,
        CI5_comparison=NULL,
        var_rate="rate") 
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df_data</code></td>
<td>

<p>Data (need to be R <code>data.frame</code> format, see example to import csv file).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_age</code></td>
<td>

<p>Age variable. Several format are accepted 
</p>

<table>
<tr>
<td style="text-align: left;">
			1 </td>
<td style="text-align: left;"> "0-4" </td>
<td style="text-align: left;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
			2 </td>
<td style="text-align: left;"> "5-9" </td>
<td style="text-align: left;"> 5 </td>
</tr>
<tr>
<td style="text-align: left;">
			3 </td>
<td style="text-align: left;"> "10-14" </td>
<td style="text-align: left;"> 10 </td>
</tr>
<tr>
<td style="text-align: left;">
			... </td>
<td style="text-align: left;"> ... </td>
<td style="text-align: left;"> ... </td>
</tr>
<tr>
<td style="text-align: left;">
			17 </td>
<td style="text-align: left;"> "80-84" </td>
<td style="text-align: left;"> 80 </td>
</tr>
<tr>
<td style="text-align: left;">
			18 </td>
<td style="text-align: left;"> "85+" </td>
<td style="text-align: left;"> 85 </td>
</tr>
<tr>
<td style="text-align: left;">
		</td>
</tr>
</table>
<p>Missing age value must be precise in the option <code>missing_age</code>.<br>
Last age group will always be considere without size (ie: 80+,85+, etc..). 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_cases</code></td>
<td>

<p>Number of event (cases, deaths, ...) variable.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_py</code></td>
<td>

<p>Population year variable.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_by</code></td>
<td>

<p>Variable to compare different age specific rate (sex, country, cancer ...).<br>
Only one variable can be chosen.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing_age</code></td>
<td>

<p>Age value representing the missing age cases.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>db_rate</code></td>
<td>

<p>The denominator population. Default is 100000.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logscale</code></td>
<td>

<p>Logical value: if <code>TRUE</code> Y-axis use logscale.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_title</code></td>
<td>

<p>Title of the plot.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>

<p>Legend option: see <code>csu_trend_legend</code>.<br>
Use only if <code>group_by</code> is not <code>NULL</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_trend</code></td>
<td>

<p>Vector of color for the trend.
The color codes are hexadecimal (e.g. "#FF0000") or predefined R color names (e.g. "red").
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CI5_comparison</code></td>
<td>

<p>Add a dotted line representing the CI5XII for a specific cancer.<br>
Value can be a cancer_label (example: "Liver"), or a cancer_code (example = 16).<br>
See <code>csu_ci5_mean</code> to get the list of possible values.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_rate</code></td>
<td>

<p>Name of the age specific variable if a dataframe is return.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function calculate and plot the age specific rate. 
The <code>group_by</code> option allow to compare different population or cancer.
The <code>CI5_comparison</code> option allow to compare with the CI5XII and therefore test the quality of the data.
If the population data stops before 85+ (75+ for instance), the population data <b>must</b> be 0 when the population data is unknown so, the program can detect automatically the last age group (70+,75+,80+ or 85+) for population.
</p>


<h3>Value</h3>

<p>Return a plot and a <code>data.frame</code>.
</p>


<h3>Author(s)</h3>

<p>Mathieu Laversanne
</p>


<h3>References</h3>

<p><a href="https://publications.iarc.fr/_publications/media/download/3753/609d0d7711047dd76d7f3dbaa25d7f041fcd013e.pdf">https://publications.iarc.fr/_publications/media/download/3753/609d0d7711047dd76d7f3dbaa25d7f041fcd013e.pdf</a>
</p>


<h3>See Also</h3>

<p><code>csu_group_cases</code>
<code>csu_merge_cases_pop</code>
<code>csu_asr</code>
<code>csu_cumrisk</code>
<code>csu_eapc</code>
<code>csu_ageSpecific_top</code>
<code>csu_bar_top</code>
<code>csu_time_trend</code>
<code>csu_trendCohortPeriod</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(csu_registry_data_1)
data(csu_registry_data_2)

# you can import your data from csv file using read.csv:
# mydata &lt;-  read.csv("mydata.csv", sep=",")

# to select only 1 population.
test &lt;- subset(csu_registry_data_1 , registry_label == "Colombia, Cali")


# plot age specific rate for 1 population.
csu_ageSpecific(test,
				plot_title = "Colombia, Liver, male")

# plot age specific rate for 1 population, and comparison with CI5XII data.
csu_ageSpecific(test,
				plot_title = "Colombia, Liver, male",
				CI5_comparison = "Liver")

# plot age specific rate for 4 population, 
# legend at the bottom and comparison with CI5XII data using cancer code.
csu_ageSpecific(
	csu_registry_data_1,
	group_by="registry_label",
	legend=csu_trend_legend(position="bottom", nrow = 1),
	plot_title = "Liver, male",
	CI5_comparison = 16
	)

	

# plot age specific rate for 4 population, legend at the right.
csu_ageSpecific(
	csu_registry_data_1,
	group_by="registry_label",
	legend=csu_trend_legend(
		position="right", right_space_margin = 6.5
	),
	plot_title = "Liver, male")	



# Plot embedded in a graphic device
pdf(paste0(tempdir(),"/test.pdf"),width = 11.692 , height =  8.267) 


csu_ageSpecific(
	csu_registry_data_1,
	group_by="registry_label",
	legend=csu_trend_legend(position="bottom", nrow = 2),
	plot_title = "Liver, male",
	CI5_comparison = 16)

plot.new()

csu_ageSpecific(
	csu_registry_data_1,
	group_by="registry_label",
	legend=csu_trend_legend(
		position="right", right_space_margin = 6.5
	),
	plot_title = "Liver, male")	



dev.off()





	
</code></pre>


</div>