<div class="container">

<table style="width: 100%;"><tr>
<td>getGAP</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get Seismic Gap
</h2>

<h3>Description</h3>

<p>Given an earthquake and
a set of stations, return the maximum angle
subtended between adjacent stations relative to the epicenter.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getGAP(EQ, Ldat, PLOT = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>EQ</code></td>
<td>
<p>List, Earthequake location, elements (lat, lon) must be present
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ldat</code></td>
<td>
<p>List, station information, (lat, lon) must be present
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PLOT</code></td>
<td>
<p>logical, plot the stations and show the gap</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Theangles are calculated in cartesian coordinates
with the epicenter at the origin using a UTM projection.
</p>


<h3>Value</h3>

<p>numeric, gap in degrees
</p>


<h3>Author(s)</h3>

<p>Jonathan M. Lees&lt;jonathan.lees@unc.edu&gt;
</p>


<h3>See Also</h3>

<p>eqwrapup
</p>


<h3>Examples</h3>

<pre><code class="language-R">

set.seed(0)

N = 10
snames = paste(sep="", "A", as.character(1:N))
stas = list(name=snames, lat=runif(N, 35.9823, 36.1414), lon=runif(N, -118.0031, -117.6213))

NEQ = 3
WEQ = list(lat=runif(NEQ, 35.9823, 36.1414), lon=runif(NEQ, -118.0031, -117.6213))

 MLAT = median(stas$lat)
  MLON = median(stas$lon)
  proj = GEOmap::setPROJ(type=2, LAT0=MLAT, LON0=MLON)

  XYSTAS = GEOmap::GLOB.XY(stas$lat,  stas$lon , proj)
  eqxy = GEOmap::GLOB.XY(WEQ$lat, WEQ$lon, proj)


plot(range(c(XYSTAS$x, eqxy$x)), range(c(XYSTAS$y, eqxy$y)), type='n', asp=1, xlab="km", ylab="km" )
points(XYSTAS$x, XYSTAS$y, pch=6)

for(i in 1:NEQ)
{
EQ = list(lat=WEQ$lat[i], lon=WEQ$lon[i])


g = getGAP(EQ, stas, PLOT=FALSE)

points(eqxy$x[i], eqxy$y[i], pch=8, col='red')
text(eqxy$x[i], eqxy$y[i], labels=paste("gap=", format(g)), pos=3)

}


</code></pre>


</div>