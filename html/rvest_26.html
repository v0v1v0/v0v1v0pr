<div class="container">

<table style="width: 100%;"><tr>
<td>LiveHTML</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Interact with a live web page</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>
<p>You construct an LiveHTML object with <code>read_html_live()</code> and then interact,
like you're a human, using the methods described below. When debugging a
scraping script it is particularly useful to use <code style="white-space: pre;">⁠$view()⁠</code>, which will open
a live preview of the site, and you can actually see each of the operations
performed on the real site.
</p>
<p>rvest provides relatively simple methods for scrolling, typing, and
clicking. For richer interaction, you probably want to use a package
that exposes a more powerful user interface, like
<a href="https://ashbythorpe.github.io/selenider/">selendir</a>.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>session</code></dt>
<dd>
<p>Underlying chromote session object. For expert use only.</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-LiveHTML-new"><code>LiveHTML$new()</code></a>
</p>
</li>
<li> <p><a href="#method-LiveHTML-print"><code>LiveHTML$print()</code></a>
</p>
</li>
<li> <p><a href="#method-LiveHTML-view"><code>LiveHTML$view()</code></a>
</p>
</li>
<li> <p><a href="#method-LiveHTML-html_elements"><code>LiveHTML$html_elements()</code></a>
</p>
</li>
<li> <p><a href="#method-LiveHTML-click"><code>LiveHTML$click()</code></a>
</p>
</li>
<li> <p><a href="#method-LiveHTML-get_scroll_position"><code>LiveHTML$get_scroll_position()</code></a>
</p>
</li>
<li> <p><a href="#method-LiveHTML-scroll_into_view"><code>LiveHTML$scroll_into_view()</code></a>
</p>
</li>
<li> <p><a href="#method-LiveHTML-scroll_to"><code>LiveHTML$scroll_to()</code></a>
</p>
</li>
<li> <p><a href="#method-LiveHTML-scroll_by"><code>LiveHTML$scroll_by()</code></a>
</p>
</li>
<li> <p><a href="#method-LiveHTML-type"><code>LiveHTML$type()</code></a>
</p>
</li>
<li> <p><a href="#method-LiveHTML-press"><code>LiveHTML$press()</code></a>
</p>
</li>
<li> <p><a href="#method-LiveHTML-clone"><code>LiveHTML$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-LiveHTML-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>initialize the object
</p>


<h5>Usage</h5>

<div class="r"><pre>LiveHTML$new(url)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>url</code></dt>
<dd>
<p>URL to page.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-LiveHTML-print"></a>



<h4>Method <code>print()</code>
</h4>

<p>Called when <code>print()</code>ed
</p>


<h5>Usage</h5>

<div class="r"><pre>LiveHTML$print(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt>
<dd>
<p>Ignored</p>
</dd>
</dl>
</div>


<hr>
<a id="method-LiveHTML-view"></a>



<h4>Method <code>view()</code>
</h4>

<p>Display a live view of the site
</p>


<h5>Usage</h5>

<div class="r"><pre>LiveHTML$view()</pre></div>


<hr>
<a id="method-LiveHTML-html_elements"></a>



<h4>Method <code>html_elements()</code>
</h4>

<p>Extract HTML elements from the current page.
</p>


<h5>Usage</h5>

<div class="r"><pre>LiveHTML$html_elements(css, xpath)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>css, xpath</code></dt>
<dd>
<p>CSS selector or xpath expression.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-LiveHTML-click"></a>



<h4>Method <code>click()</code>
</h4>

<p>Simulate a click on an HTML element.
</p>


<h5>Usage</h5>

<div class="r"><pre>LiveHTML$click(css, n_clicks = 1)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>css</code></dt>
<dd>
<p>CSS selector or xpath expression.</p>
</dd>
<dt><code>n_clicks</code></dt>
<dd>
<p>Number of clicks</p>
</dd>
</dl>
</div>


<hr>
<a id="method-LiveHTML-get_scroll_position"></a>



<h4>Method <code>get_scroll_position()</code>
</h4>

<p>Get the current scroll position.
</p>


<h5>Usage</h5>

<div class="r"><pre>LiveHTML$get_scroll_position()</pre></div>


<hr>
<a id="method-LiveHTML-scroll_into_view"></a>



<h4>Method <code>scroll_into_view()</code>
</h4>

<p>Scroll selected element into view.
</p>


<h5>Usage</h5>

<div class="r"><pre>LiveHTML$scroll_into_view(css)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>css</code></dt>
<dd>
<p>CSS selector or xpath expression.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-LiveHTML-scroll_to"></a>



<h4>Method <code>scroll_to()</code>
</h4>

<p>Scroll to specified location
</p>


<h5>Usage</h5>

<div class="r"><pre>LiveHTML$scroll_to(top = 0, left = 0)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>top, left</code></dt>
<dd>
<p>Number of pixels from top/left respectively.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-LiveHTML-scroll_by"></a>



<h4>Method <code>scroll_by()</code>
</h4>

<p>Scroll by the specified amount
</p>


<h5>Usage</h5>

<div class="r"><pre>LiveHTML$scroll_by(top = 0, left = 0)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>top, left</code></dt>
<dd>
<p>Number of pixels to scroll up/down and left/right
respectively.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-LiveHTML-type"></a>



<h4>Method <code>type()</code>
</h4>

<p>Type text in the selected element
</p>


<h5>Usage</h5>

<div class="r"><pre>LiveHTML$type(css, text)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>css</code></dt>
<dd>
<p>CSS selector or xpath expression.</p>
</dd>
<dt><code>text</code></dt>
<dd>
<p>A single string containing the text to type.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-LiveHTML-press"></a>



<h4>Method <code>press()</code>
</h4>

<p>Simulate pressing a single key (including special keys).
</p>


<h5>Usage</h5>

<div class="r"><pre>LiveHTML$press(css, key_code, modifiers = character())</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>css</code></dt>
<dd>
<p>CSS selector or xpath expression. Set to <code>NULL</code></p>
</dd>
<dt><code>key_code</code></dt>
<dd>
<p>Name of key. You can see a complete list of known
keys at <a href="https://pptr.dev/api/puppeteer.keyinput/">https://pptr.dev/api/puppeteer.keyinput/</a>.</p>
</dd>
<dt><code>modifiers</code></dt>
<dd>
<p>A character vector of modifiers. Must be one or more
of <code style="white-space: pre;">⁠"Shift⁠</code>, <code>"Control"</code>, <code>"Alt"</code>, or <code>"Meta"</code>.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-LiveHTML-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>LiveHTML$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# To retrieve data for this paginated site, we need to repeatedly push
# the "Load More" button
sess &lt;- read_html_live("https://www.bodybuilding.com/exercises/finder")
sess$view()

sess %&gt;% html_elements(".ExResult-row") %&gt;% length()
sess$click(".ExLoadMore-btn")
sess %&gt;% html_elements(".ExResult-row") %&gt;% length()
sess$click(".ExLoadMore-btn")
sess %&gt;% html_elements(".ExResult-row") %&gt;% length()

## End(Not run)
</code></pre>


</div>