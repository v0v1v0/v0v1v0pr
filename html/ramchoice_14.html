<div class="container">

<table style="width: 100%;"><tr>
<td>revealPref</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Revealed Preference Analysis in Random Limited Attention Models</h2>

<h3>Description</h3>

<p>Given a random sample of choice problems and choices, <code>revealPref</code>
returns test statistics, critical values and p-values against a collection of preferences.
Five methods for choosing critical values are available:
(i) <code>GMS</code>: generalized moment selection (plug-in (estimated) moment conditions with shrinkage);
(ii) <code>PI</code>: critical values based on plug-in estimated moment conditions (this is not uniformly valid);
(iii) <code>LF</code>: critical values based on the least favorable model (plug-in 0 for the moment conditions);
(iv) <code>2MS</code>: two-step moment selection;
and (v) <code>2UB</code>: refined moment selection (plug-in upper bound of moment inequalities).
</p>
<p><code>sumData</code> is a low-level function that generates summary statistics, and
<code>genMat</code> can be used to construct the constraint matrices. The simulated dataset
<code>ramdata</code> is also provided for illustration. For revealed attention analysis, see <code>revealAtte</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">revealPref(
  menu,
  choice,
  pref_list = NULL,
  method = "GMS",
  nCritSimu = 2000,
  BARatio2MS = 0.1,
  BARatio2UB = 0.1,
  MNRatioGMS = NULL,
  RAM = TRUE,
  AOM = TRUE,
  limDataCorr = TRUE,
  attBinary = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>menu</code></td>
<td>
<p>Numeric matrix of 0s and 1s, the collection of choice problems.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>choice</code></td>
<td>
<p>Numeric matrix of 0s and 1s, the collection of choices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pref_list</code></td>
<td>
<p>Numeric matrix, each row corresponds to one preference. For example, <code>c(2, 3, 1)</code> means
2 is preferred to 3 and to 1. When set to <code>NULL</code>, the default, <code>c(1, 2, 3, ...)</code>,
will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>String, the method for constructing critical values. Default is <code>GMS</code> (generalized moment selection).
Other available options are <code>LF</code> (least favorable model), <code>PI</code> (plug-in method), <code>2MS</code> (two-step moment selection),
<code>2UB</code> (two-step moment upper bound), or <code>ALL</code> (report all critical values).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nCritSimu</code></td>
<td>
<p>Integer, number of simulations used to construct the critical value. Default is <code>2000</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BARatio2MS</code></td>
<td>
<p>Numeric, beta-to-alpha ratio for two-step moment selection method. Default is <code>0.1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BARatio2UB</code></td>
<td>
<p>Numeric, beta-to-alpha ratio for two-step moment upper bound method. Default is <code>0.1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MNRatioGMS</code></td>
<td>
<p>Numeric, shrinkage parameter. Default is <code>sqrt(1/log(N))</code>, where N is the sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RAM</code></td>
<td>
<p>Boolean, whether the restrictions implied by the RAM of
<a href="https://arxiv.org/abs/1712.03448">Cattaneo et al. (2020)</a> should be incorporated, that is, their monotonic attention assumption (default is <code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AOM</code></td>
<td>
<p>Boolean, whether the restrictions implied by the AOM of
<a href="https://arxiv.org/abs/2110.10650">Cattaneo et al. (2024)</a> should be incorporated, that is, their attention overload assumption (default is <code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limDataCorr</code></td>
<td>
<p>Boolean, whether assuming limited data (default is <code>TRUE</code>). When set to
<code>FALSE</code>, will assume all choice problems are observed. This option only applies when <code>RAM</code> is set to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attBinary</code></td>
<td>
<p>Numeric, between 1/2 and 1 (default is <code>1</code>), whether additional restrictions (on the attention rule)
should be imposed for binary choice problems (i.e., attentive at binaries).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sumStats</code></td>
<td>
<p>Summary statistics, generated by <code>sumData</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constraints</code></td>
<td>
<p>Matrices of constraints, generated by <code>genMat</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tstat</code></td>
<td>
<p>Test statistic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>critVal</code></td>
<td>
<p>Critical values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pVal</code></td>
<td>
<p>P-values (only available for <code>GMS</code>, <code>LF</code> and <code>PI</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Method for constructing critical value.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Matias D. Cattaneo, Princeton University. <a href="mailto:cattaneo@princeton.edu">cattaneo@princeton.edu</a>.
</p>
<p>Paul Cheung, University of Maryland. <a href="mailto:hycheung@umd.edu">hycheung@umd.edu</a>
</p>
<p>Xinwei Ma (maintainer), University of California San Diego. <a href="mailto:x1ma@ucsd.edu">x1ma@ucsd.edu</a>
</p>
<p>Yusufcan Masatlioglu, University of Maryland. <a href="mailto:yusufcan@umd.edu">yusufcan@umd.edu</a>
</p>
<p>Elchin Suleymanov, Purdue University. <a href="mailto:esuleyma@purdue.edu">esuleyma@purdue.edu</a>
</p>


<h3>References</h3>

<p>M. D. Cattaneo, X. Ma, Y. Masatlioglu, and E. Suleymanov (2020). <a href="https://arxiv.org/abs/1712.03448">A Random Attention Model</a>. <em>Journal of Political Economy</em> 128(7): 2796-2836. <a href="https://doi.org/10.1086/706861">doi:10.1086/706861</a>
</p>
<p>M. D. Cattaneo, P. Cheung, X. Ma, and Y. Masatlioglu (2024). <a href="https://arxiv.org/abs/2110.10650">Attention Overload</a>. Working paper.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load data
data(ramdata)

# Set seed, to replicate simulated critical values
set.seed(42)

# list of preferences
pref_list &lt;- matrix(c(1, 2, 3, 4, 5,
                      2, 1, 3, 4, 5,
                      2, 3, 4, 5, 1,
                      5, 4, 3, 2, 1), ncol=5, byrow=TRUE)

# revealed preference using only RAM restrictions
result1 &lt;- revealPref(menu = ramdata$menu, choice = ramdata$choice, method = "GMS",
  pref_list = pref_list, RAM = TRUE, AOM = FALSE)
summary(result1)

# revealed preference using only AOM restrictions
result2 &lt;- revealPref(menu = ramdata$menu, choice = ramdata$choice, method = "GMS",
  pref_list = pref_list, RAM = FALSE, AOM = TRUE)
summary(result2)

# revealed preference using both RAM and AOM restrictions
result3 &lt;- revealPref(menu = ramdata$menu, choice = ramdata$choice, method = "GMS",
  pref_list = pref_list, RAM = TRUE, AOM = TRUE)
summary(result3)

# revealed preference employing additional restrictions for binary choice problems
result4 &lt;- revealPref(menu = ramdata$menu, choice = ramdata$choice, method = "GMS",
  pref_list = pref_list, RAM = TRUE, AOM = TRUE, attBinary = 2/3)
summary(result4)

</code></pre>


</div>