<div class="container">

<table style="width: 100%;"><tr>
<td>backup_info</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Discover existing backups</h2>

<h3>Description</h3>

<p>These function return information on the backups of a file (if any exist)
</p>


<h3>Usage</h3>

<pre><code class="language-R">backup_info(file, dir = dirname(file))

list_backups(file, dir = dirname(file))

n_backups(file, dir = dirname(file))

newest_backup(file, dir = dirname(file))

oldest_backup(file, dir = dirname(file))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p><code>character</code> scalar: Path to a file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p><code>character</code> scalar. The directory in which the backups
of <code>file</code> are stored (defaults to <code>dirname(file)</code>)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>backup_info()</code> returns a <code>data.frame</code> similar to the output of
<code>file.info()</code>
</p>
<p><code>list_backups()</code> returns the paths to all backups of <code>file</code>
</p>
<p><code>n_backups()</code> returns the number of backups of <code>file</code> as an <code>integer</code>
scalar
</p>
<p><code>newest_backup()</code> and <code>oldest_backup()</code> return the paths to the
newest or oldest backup of <code>file</code> (or an empty <code>character</code> vector if none exist)
</p>


<h3>Intervals</h3>

<p>In <strong>rotor</strong>, an interval is a character string in the form
<code>"&lt;number&gt; &lt;interval&gt;"</code>. The following intervals are possible:
<code>"day(s)"</code>, <code>"week(s)"</code>, <code>"month(s)"</code>, <code>"quarter(s)"</code>, <code>"year(s)"</code>.
The plural <code>"s"</code> is optional (so <code>"2 weeks"</code> and <code>"2 week"</code> are equivalent).
Please be aware that weeks are
<a href="https://en.wikipedia.org/wiki/ISO_week_date">ISOweeks</a>
and start on Monday (not Sunday as in some countries).
</p>
<p>Interval strings can be used as arguments when backing up or rotating files,
or for pruning backup queues (i.e. limiting the number of backups of a
single) file.
</p>
<p>When rotating/backing up <code>"1 months"</code> means "make a new backup if the last
backup is from the preceding month". E.g if the last backup of <code>myfile</code>
is from <code>2019-02-01</code> then <code>backup_time(myfile, age = "1 month")</code> will only
create a backup if the current date is at least <code>2019-03-01</code>.
</p>
<p>When pruning/limiting backup queues, <code>"1 year"</code> means "keep at least most
one year worth of backups". So if you call
<code>backup_time(myfile, max_backups = "1 year")</code> on <code>2019-03-01</code>, it will create
a backup and then remove all backups of <code>myfile</code> before <code>2019-01-01</code>.
</p>


<h3>See Also</h3>

<p><code>rotate()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># setup example files
tf &lt;- tempfile("test", fileext = ".rds")
saveRDS(cars, tf)
backup(tf)
backup(tf)

backup_info(tf)
list_backups(tf)
n_backups(tf)
newest_backup(tf)
oldest_backup(tf)

# cleanup
prune_backups(tf, 0)
n_backups(tf)
file.remove(tf)
</code></pre>


</div>