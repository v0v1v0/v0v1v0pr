<div class="container">

<table style="width: 100%;"><tr>
<td>isAffine</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create, test for and print affine matrices</h2>

<h3>Description</h3>

<p><code>isAffine</code> returns a logical value indicating whether its argument is,
or resembles, a 4x4 affine matrix. <code>asAffine</code> converts other objects to
the affine class, attaching or updating the source and target image
attributes. Affine transformations are a class of linear transformations
which preserve points, straight lines and planes, and may consist of a
combination of rotation, translation, scale and skew operations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">isAffine(object, strict = FALSE)

asAffine(object, source = NULL, target = NULL, ...)

## S3 method for class 'niftyreg'
asAffine(object, source = NULL, target = NULL, i = 1L,
  ...)

## S3 method for class 'niftyregRDS'
asAffine(object, source = NULL, target = NULL, ...)

## S3 method for class 'affine'
asAffine(object, source = NULL, target = NULL, ...)

## S3 method for class 'niftiImage'
asAffine(object, source = attr(object, "source"),
  target = attr(object, "target"), ...)

## Default S3 method:
asAffine(object, source = NULL, target = NULL, ...)

## S3 method for class 'affine'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An R object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p>If <code>TRUE</code>, this function just tests whether the object is
of class <code>"affine"</code>. Otherwise it also tests for an affine-like 4x4
matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source, target</code></td>
<td>
<p>New source and target images for the transformation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters to methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>The transformation number, for <code>niftyreg</code> objects containing
more than one.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An <code>"affine"</code> object.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>NiftyReg's convention is for affine matrices to transform world coordinates
(in the sense of <code>voxelToWorld</code>) from TARGET to SOURCE space, although
transforms are logically applied the other way.
</p>


<h3>Value</h3>

<p>For <code>isAffine</code>, a logical value, which is <code>TRUE</code> if
<code>object</code> appears to be an affine matrix. For <code>asAffine</code>, a
classed affine object with source and target attributes set appropriately.
</p>


<h3>Note</h3>

<p>2D affines are a subset of 3D affines, and are stored in a 4x4 matrix
for internal consistency, even though a 3x3 matrix would suffice.
</p>


<h3>Author(s)</h3>

<p>Jon Clayden &lt;code@clayden.org&gt;
</p>


</div>