<div class="container">

<table style="width: 100%;"><tr>
<td>expandTemplate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Expand template rules into a list of rules by replacing <code>rmake</code> variables with their values</h2>

<h3>Description</h3>

<p>Take a template job (i.e., a list of template rules), or a template rule, and create a job (or rule)
from them by replacing <code>rmake</code> variables in the template with their values. The <code>rmake</code> variable
is a identified by the <code>$[VARIABLE_NAME]</code> string anywhere in the definition of a rule.
</p>


<h3>Usage</h3>

<pre><code class="language-R">expandTemplate(template, vars)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>template</code></td>
<td>
<p>An instance of the S3 <code>rmake.rule</code> class or a list of such objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>A named character vector, matrix, or data frame with variable definitions.
For character vector, names are variable names, values are variable values. For matrix or
data frame, colnames are variable names and column values are variable values.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>vars</code> is a character vector then all variables in <code>vars</code> are replaced in <code>template</code> so that
the result will contain <code>length(template)</code> rules. If <code>vars</code> is a data frame or a character
matrix then the replacement of variables is performed row-wisely. That is, a new sequence of rules is
created from <code>template</code> for each row of variables in <code>vars</code> so that the result will contain
<code>nrow(vars) * length(template)</code> rules.
</p>


<h3>Value</h3>

<p>A list of rules created from <code>template</code> by replacing <code>rmake</code> variables.
</p>


<h3>Author(s)</h3>

<p>Michal Burda
</p>


<h3>See Also</h3>

<p><code>replaceVariables()</code>, <code>rule()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">tmpl &lt;- rRule('data-$[VERSION].csv', 'process-$[TYPE].R', 'output-$[VERSION]-$[TYPE].csv')

job &lt;- expandTemplate(tmpl, c(VERSION='small', TYPE='a'))
# is equivalent to
job &lt;- list(rRule('data-small.csv', 'process-a.R', 'output-small-a.csv'))

job &lt;- expandTemplate(tmpl, expand.grid(VERSION=c('small', 'big'), TYPE=c('a', 'b', 'c')))
# is equivalent to
job &lt;- list(rRule('data-small.csv', 'process-a.R', 'output-small-a.csv'),
            rRule('data-big.csv', 'process-a.R', 'output-big-a.csv'),
            rRule('data-small.csv', 'process-b.R', 'output-small-b.csv'),
            rRule('data-big.csv', 'process-b.R', 'output-big-b.csv'),
            rRule('data-small.csv', 'process-c.R', 'output-small-c.csv'),
            rRule('data-big.csv', 'process-c.R', 'output-big-c.csv'))
</code></pre>


</div>