<div class="container">

<table style="width: 100%;"><tr>
<td>gd_download</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Download a Google Earth Engine Image</h2>

<h3>Description</h3>

<p>Download a Google Earth Engine Image
</p>


<h3>Usage</h3>

<pre><code class="language-R">gd_download(
  x,
  filename = tempfile(fileext = ".tif"),
  region = NULL,
  composite = TRUE,
  overwrite = TRUE,
  silent = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, </code></td>
<td>
<p>ID or Name, or a reference to an object inheriting from <code>geedim.download.BaseImage</code> or <code>geedim.collection.MaskedCollection</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>path to output file, defaults to temporary GeoTIFF file path; if <code>composite=FALSE</code> then this path should be to a parent directory. File names will be calculated from the internal name of the image and the requested scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region</code></td>
<td>
<p>a GeoJSON-like list, or other R spatial object describing region of interest, see <code>gd_region()</code> and <code>gd_bbox()</code> for details. <code>NULL</code> region (default) will download the whole image.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>composite</code></td>
<td>
<p>logical. Composite Image Collection into single image for download? Default: <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Overwrite existing file? Default: <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>Silence errors? Default: <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments (e.g. <code>scale</code>) passed to <a href="https://geedim.readthedocs.io/en/latest/_generated/geedim.mask.MaskedImage.download.html"><code>geedim.mask.MaskedImage$download(...)</code></a> and, when <code>composite=TRUE</code>, <a href="https://geedim.readthedocs.io/en/latest/_generated/geedim.collection.MaskedCollection.composite.html"><code>geedim.collection.MaskedCollection$composite()</code></a></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>region</code> argument is <em>optional</em> for downloading images. When downloading a composite Image Collection, you must specify <code>region</code>, <code>scale</code> and <code>crs</code> arguments. When downloading an image collection as a set of GeoTIFF files (<code>composite=FALSE</code>), then <code>filename</code> is the destination directory, and <code>scale</code> must be specified.
The default resampling method in <code>geedim</code> is <code>resampling="near"</code> (Nearest Neighbor). Other options for <code>resampling</code> include: <code>"average"</code>, <code>"bicubic"</code>, <code>"bilinear"</code>. See <code>gd_resampling_methods()</code>.
</p>


<h3>Value</h3>

<p>Invisible path to downloaded image, or <code>try-error</code> on error
</p>


<h3>See Also</h3>

<p><code>gd_region()</code> <code>gd_bbox()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

 r &lt;- gd_bbox(
   xmin = -121,
   xmax = -120.5,
   ymin = 38.5,
   ymax = 39
 )

if (gd_is_initialized()) {
 x &lt;- gd_image_from_id('CSP/ERGo/1_0/Global/SRTM_topoDiversity')
 tf &lt;- tempfile(fileext = ".tif")

 # fast sample download at 10x aggregation (900m v.s. 90m)
 img &lt;- gd_download(x, filename = tf,
                    region = r, scale = 900,
                    overwrite = TRUE, silent = FALSE)

 if (requireNamespace("terra")) {
   library(terra)
   f &lt;- rast(img)
   plot(f[[1]])
   # inspect object
   f
 }
 unlink(tf)
}


</code></pre>


</div>