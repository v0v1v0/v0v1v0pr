<div class="container">

<table style="width: 100%;"><tr>
<td>prepare_query</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Internal utilities for <code>item</code>/<code>concept</code> objects</h2>

<h3>Description</h3>

<p>Several internal utilities for modifying, querying ans subsetting item and
concept objects, including getters and setters for <code>itm</code> variables,
callback functions, <code>cncpt</code> target classes, as well as utilities for data
loading such as <code>prepare_query()</code> which creates a row-subsetting
expression, <code>do_callback()</code>, which applies a callback function to data or
<code>do_itm_load()</code>, which performs data loading corresponding to an <code>itm</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">prepare_query(x)

try_add_vars(x, ..., var_lst = NULL, type = c("data_vars", "meta_vars"))

get_itm_var(x, var = NULL, type = c("data_vars", "meta_vars"))

set_callback(x, fun)

do_callback(x, ...)

do_itm_load(x, id_type = "icustay", interval = hours(1L))

n_tick(x)

set_target(x, target)

get_target(x)

subset_src(x, src)

## S3 method for class 'item'
subset_src(x, src)

## S3 method for class 'cncpt'
subset_src(x, src)

## S3 method for class 'concept'
subset_src(x, src)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object defining the row-subsetting</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Variable specification</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_lst</code></td>
<td>
<p>List-based variable specification</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Variable type (either data or meta)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>Variable name (<code>NULL</code>) returns all available</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>Callback function (passed as string)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id_type</code></td>
<td>
<p>String specifying the patient id type to return</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval</code></td>
<td>
<p>The time interval used to discretize time stamps with,
specified as <code>base::difftime()</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>src</code></td>
<td>
<p>Character vector of data source name(s)</p>
</td>
</tr>
</table>
<h3>Value</h3>


<ul>
<li> <p><code>prepare_query()</code>: an unevaluated expression used for row-subsetting
</p>
</li>
<li> <p><code>try_add_vars()</code>: a (potentially) modified item object with added
variables
</p>
</li>
<li> <p><code>get_itm_var()</code>: character vector of <code>itm</code> variables
</p>
</li>
<li> <p><code>set_callback()</code>: a modified object with added callback function
</p>
</li>
<li> <p><code>do_callback()</code>: result of the callback function applied to data, most
likely (<code>id_tbl</code>/<code>ts_tbl</code>)
</p>
</li>
<li> <p><code>do_itm_load()</code>: result of item loading (<code>id_tbl</code>/<code>ts_tbl</code>)
</p>
</li>
<li> <p><code>n_tick()</code>: Integer valued number of progress bar ticks
</p>
</li>
<li> <p><code>set_target()</code>: a modified object with newly set target class
</p>
</li>
<li> <p><code>get_target()</code>: string valued target class of an object
</p>
</li>
<li> <p><code>subset_src()</code>: an object of the same type as the object passed as <code>x</code>
</p>
</li>
</ul>
</div>