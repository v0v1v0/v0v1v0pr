<div class="container">

<table style="width: 100%;"><tr>
<td>rpygeo_load</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Load output of ArcPy functions into R session</h2>

<h3>Description</h3>

<p>This function loads the output of an ArcPy function into the R session. Raster files are loaded as <code>raster</code> objects and vector files as <code>sf</code> objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rpygeo_load(data)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>reticulate</code> object or filename of the ArcPy function output</p>
</td>
</tr></table>
<h3>Details</h3>

<p>Currently files and datasets stored in file geodatabases are supported.
</p>
<p>Supported file formats:
</p>

<ul>
<li>
<p> Tagged Image File Format (.tif)
</p>
</li>
<li>
<p> Erdas Imagine Images (.img)
</p>
</li>
<li>
<p> Esri Arc/Info Binary Grid (.adf)
</p>
</li>
<li>
<p> Esri ASCII Raster (.asc)
</p>
</li>
<li>
<p> Esri Shapefiles (.shp)
</p>
</li>
</ul>
<p>Supported datasets:
</p>

<ul>
<li>
<p> Feature Class
</p>
</li>
<li>
<p> Raster Dataset
</p>
</li>
</ul>
<p>Esri has not released an API for raster datasets in file geodatabases. <code>rpygeo_load</code> converts a raster dataset to a temporary ASCII raster first and then loads it into the R session. Be aware that this can take a long time for large raster datasets.
</p>
<p>This function can be used with the <code>%&gt;%</code> operator from the <code>dplyr</code> package. The <code>%&gt;%</code> operator forwards the <code>reticulate</code> object from the ArcPy function to <code>rpygeo_load</code> (s. Example 1). If used without the <code>%&gt;%</code> operator an <code>reticulate</code> object can be specified for the <code>data</code> parameter (s. Example 2). It is also possible to use the filename of the ArcPy function output (s. Example 3). For Arc/Info Binary Grids the <code>data</code> parameter is just the name of the directory, which contains the <code>adf</code> files.
</p>


<h3>Value</h3>

<p><code>raster</code> or <code>sf</code> object
</p>


<h3>Author(s)</h3>

<p>Marc Becker
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
# Load packages
library(RPyGeo)
library(magrittr)
library(RQGIS)
library(spData)

# Get data
data(dem, package = "RQGIS")
data(nz, package = "spData")

# Write data to disk
writeRaster(dem, file.path(tempdir(), "dem.tif"), format = "GTiff")
st_write(nz, file.path(tempdir(), "nz.shp"))

# Load the ArcPy module and build environment
arcpy &lt;- arcpy_build_env(overwrite = TRUE, workspace = tempdir())

# Create a slope raster and load it into the R session (Example 1)
slope &lt;-
  arcpy$Slope_3d(in_raster = "dem.tif", out_raster = "slope.tif") %&gt;%
  rpygeo_load()

# Create a aspect raster and load it into the R session (Example 2)
ras_aspect &lt;- arcpy$sa$Aspect(in_raster = "dem.tif")
rpygeo_load(ras_aspect)

# Convert elevation raster to polygon shapefile and load it into R session (Example 3)
arcpy$RasterToPolygon_conversion("dem.tif", "elev.shp")
rpygeo_load("elev.shp")

## End(Not run)

</code></pre>


</div>