<div class="container">

<table style="width: 100%;"><tr>
<td>RcppCNPy-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
File access to data files written by (or for) NumPy (Numeric Python) modules
</h2>

<h3>Description</h3>

<p>This package provides access to the <code>cnpy</code> library by Carl Rogers
which provides read and write facilities for files created with (or for) the
NumPy extension for Python.
</p>
<p>Support is provided to reading and writing of either vectors
or matrices of numeric or integer types. 
</p>
<p>Files with <code>gzip</code> compression can be transparently read and
written as well.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  npyLoad(filename, type="numeric", dotranspose=TRUE)
  npySave(filename, object, mode="w", checkPath=TRUE)
  npyHasIntegerSupport()
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>string with (path and) filename for a <code>npy</code>
object file. If the string ends with <code>.gz</code>, compressed files
can be read or written.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>string with type 'numeric' (default) or 'integer'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an R object, currently limited to a vector or matrix of
either integer or numeric type</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dotranspose</code></td>
<td>
<p>a boolean variable indicating whether a
two-dimensional object should be transposed after reading, default
is true</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>a one-character string indicating whether files are
appended to ("a") or written ("w", the default). In case of writing
<code>gzip</code>-ed file, this option is not supported as such files can
only be (over-)written, and bot appended.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkPath</code></td>
<td>
<p>a boolean variable indicating whether a path implied
in the <code>filename</code> argument is to be checked for existing
directories, default is true.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The package uses Rcpp modules to provide R bindings <code>npyLoad()</code>
and <code>npySave()</code> which wrap the <code>npy_load()</code> and
<code>npy_save()</code> functions. Currently, only one- and two-dimensional
vectors and matrices are suppported; higher-dimensional arrays could
be added.
</p>
<p>Integer support requires access to the <code>long long</code> type which is
available if the package is built using the C++11 standard; this is
the default since release 0.2.3 which came out after R 3.1.0 permitted
use of C++11 in CRAN packages.
</p>
<p>Note that R uses only one <code>integer</code> type (which uses 32 bits) and
one <code>double</code> floating point type (which uses 64 bits). If Python
data of either type with a different bitsize is to be shared with R,
it has be cast to the corresponding width used by R first.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel provided the binding to R (using the Rcpp package).
</p>
<p>Carl Rogers wrote the underlying <code>cnpy</code> library, which is
released under the MIT license.
</p>
<p>Maintainer: Dirk Eddelbuettel &lt;edd@debian.org&gt;
</p>


<h3>References</h3>

<p>Rcpp, in particular the Rcpp modules documentation.
</p>
<p>The <code>cnpy</code> repository: <a href="https://github.com/rogersce/cnpy">https://github.com/rogersce/cnpy</a>
</p>


<h3>See Also</h3>

<p><code>Rcpp</code> 
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
    library(RcppCNPy)

    ## load NumPy file with floating-point data
    fmat &lt;- npyLoad("fmat.npy")
    
    ## load NumPy file with integer data
    imat &lt;- npyLoad("imat.npy", "integer")

    ## save floating-point data: matrix and vector
    M &lt;- matrix(0:11, 3, 4, byrow=TRUE) * 1.1
    v &lt;- v &lt;- 0:4 * 1.1
    npySave("fmat.npy", M)
    npySave("fvec.npy", v)

    ## save integer data: matrix and vector
    M &lt;- matrix(0:11, 3, 4, byrow=TRUE)
    v &lt;- v &lt;- 0:4 
    npySave("imat.npy", M)
    npySave("ivec.npy", v)
    
    
## End(Not run)  
</code></pre>


</div>