<div class="container">

<table style="width: 100%;"><tr>
<td>rr_rd_mantel_haenszel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Risk Ratios and Risk Differences from Mantel-Haenszel Estimators</h2>

<h3>Description</h3>

<p>This function implements the Mantel-Haenszel estimators for risk ratio and
risk differences for a binary or categorical exposure and one or more
categorical confounder(s). Compare to estimates from regression models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rr_rd_mantel_haenszel(
  data,
  exposure,
  outcome,
  confounders,
  estimand = c("rr", "rd"),
  conf.level = 0.95
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposure</code></td>
<td>
<p>Exposure variable. Must be binary or categorical. The first
level is treated as unexposed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome</code></td>
<td>
<p>Outcome variable. Must be binary.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confounders</code></td>
<td>
<p>Optional. Binary or categorical variable(s) to perform
stratification over. Supply more than one variable using
<code>confounders = c(var1, var2)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimand</code></td>
<td>
<p>Optional. <code>"rr"</code> for risk ratio; <code>"rd"</code> for risk
difference. Defaults to <code>"rr"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>Optional. Confidence level. Defaults to <code>0.95</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Tibble in <code>tidy</code> format with
</p>

<ul>
<li> <p><code>term</code> the (non-reference) exposure levels
</p>
</li>
<li> <p><code>estimate</code> Risk ratio (on log scale) or risk difference
</p>
</li>
<li> <p><code>std.error</code>, <code>conf.low</code>, and <code>conf.high</code>  Square-root of M-H
variance estimate, and the corresponding confidence limits (on log scale
for RR)
</p>
</li>
<li> <p><code>model</code> always <code>"mh"</code>
</p>
</li>
<li> <p><code>estimand</code> <code>"rr"</code> or <code>"rd"</code>
</p>
</li>
</ul>
<h3>References</h3>

<p>Greenland S, Rothman KJ. Introduction to Stratified Analysis. In: Rothman KJ,
Greenland S, Lash TL. Modern Epidemiology. 3rd edn. Lippincott Williams &amp;
Wilkins: Philadelphia, PA 2008. Page 275. Risk ratios: formulae 15-18, -20,
-22. Risk differences: formulae 15-18, -19, -21.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Newman SC. Biostatistical methods in epidemiology. New York, NY:
# Wiley, 2001, table 5.3

library(tibble)  # used to set up example data
dat &lt;- tibble(
  death    = c(rep(1, 54), rep(0, 138)),
  stage    = c(rep("Stage I", 7),  rep("Stage II", 26), rep("Stage III", 21),
               rep("Stage I", 60), rep("Stage II", 70), rep("Stage III", 8)),
  receptor = c(rep("Low", 2),  rep("High", 5),  rep("Low", 9),  rep("High", 17),
               rep("Low", 12), rep("High", 9),  rep("Low", 10), rep("High", 50),
               rep("Low", 13), rep("High", 57), rep("Low", 2),  rep("High", 6)))

# Risk difference
rr_rd_mantel_haenszel(
  data = dat,
  exposure = stage,
  outcome = death,
  confounders = receptor,
  estimand = "rd")

# Risk ratio, log scale:
result &lt;- rr_rd_mantel_haenszel(
  data = dat,
  exposure = stage,
  outcome = death,
  confounders = receptor,
  estimand = "rr")
result

# Risk ratio, exponentiated:
result %&gt;%
  dplyr::mutate(dplyr::across(.cols = c(estimate, conf.low, conf.high),
                              .fns = exp))
</code></pre>


</div>