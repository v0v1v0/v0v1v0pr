<div class="container">

<table style="width: 100%;"><tr>
<td>prune</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prune States and/or Transitions</h2>

<h3>Description</h3>

<p>Simplifies an EMM and/or the clustering by removing all 
clusters/states and/or transitions 
which have a count of equal or smaller than a given threshold.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'EMM'
prune(x, count_threshold, clusters = TRUE, transitions = FALSE,
    copy = TRUE, compact = TRUE)

rare_clusters(x, count_threshold, ...)
rare_transitions(x, count_threshold, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> an object of class <code>"EMM"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>count_threshold</code></td>
<td>
<p> all states/edges with a count of less or equal to the
threshold are removed from the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clusters</code></td>
<td>
<p> logical; prune clusters?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transitions</code></td>
<td>
<p> logical; prune transitions?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>copy</code></td>
<td>
<p> logical; make a copy of x before reclustering? Otherwise the function will change <code>x</code>!</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compact</code></td>
<td>
<p> logical; tries make the data structure used for the temporal model more compact after pruning. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> further arguments (currently not used).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>prune</code> returns invisibly an object of class <code>EMM</code>.
If <code>copy=FALSE</code> then it returns a reference to the changes
object passed as <code>x</code>.
</p>
<p><code>rare_clusters</code> returns a vector of names of rare clusters.
</p>
<p><code>rare_transitions</code> returns a data.frame of rare transitions.
</p>


<h3>See Also</h3>

<p><code>remove_transitions</code>,
<code>remove_clusters</code>,
<code>compact</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("EMMTraffic")

## For the example we use a very high learning rate
emm_l &lt;- EMM(threshold=0.2, measure="eJaccard", lambda = 1)
build(emm_l, EMMTraffic)

## show state counts and transition counts
cluster_counts(emm_l)
transition_matrix(emm_l, type="counts")

## rare state/transitions
rare_clusters(emm_l, count_threshold=0.1)
rare_transitions(emm_l, count_threshold=0.1)

## remove all states with a threshold of 0.1
emm_lr &lt;- prune(emm_l, count_threshold=0.1)

## compare graphs
op &lt;- par(mfrow = c(1, 2), pty = "m")
plot(emm_l, main = "EMM with high learning rate")
plot(emm_lr, main = "Simplified EMM")
par(op)

</code></pre>


</div>