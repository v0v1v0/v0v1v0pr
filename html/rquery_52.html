<div class="container">

<table style="width: 100%;"><tr>
<td>op_diagram</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build a diagram of a optree pipeline.</h2>

<h3>Description</h3>

<p>Build a diagram of a optree pipeline.
</p>


<h3>Usage</h3>

<pre><code class="language-R">op_diagram(optree, ..., merge_tables = FALSE, show_table_columns = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>optree</code></td>
<td>
<p>operation tree pipeline (or list of such).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>force other argument to be by name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>merge_tables</code></td>
<td>
<p>logical, if TRUE merge all same table references into one node.  rel_op nodes that declare a materialize_as name will be cross-linked.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_table_columns</code></td>
<td>
<p>logical, if TRUE show table columns.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>character DiagrammeR::grViz() ready text.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
d &lt;- mk_td('d',
             columns = qc(AUC, R2))
optree &lt;- d %.&gt;%
  extend(., v %:=% ifelse(AUC&gt;0.5, R2, 1.0)) %.&gt;%
  quantile_node(.) %.&gt;%
  natural_join(., d, jointype = "LEFT", by = "AUC") %.&gt;%
  orderby(., "AUC")

cat(format(optree))

cat(op_diagram(optree))

# if(requireNamespace("DiagrammeR", quietly = TRUE)) {
#   optree %.&gt;%
#     op_diagram(., merge_tables = TRUE) %.&gt;%
#     DiagrammeR::grViz(.) %.&gt;%
#     print(.)
#  # # or to render to png
#  # optree %.&gt;%
#  #   op_diagram(., merge_tables = TRUE) %.&gt;%
#  #   DiagrammeR::DiagrammeR(diagram = ., type = "grViz") %.&gt;%
#  #     DiagrammeRsvg::export_svg(.) %.&gt;%
#  #     charToRaw(.) %.&gt;%
#  #     rsvg::rsvg_png(., file = "diagram1.png")
# }

</code></pre>


</div>