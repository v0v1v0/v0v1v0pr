<div class="container">

<table style="width: 100%;"><tr>
<td>saturated_init</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Saturated 2SLS (split-sample initial estimator)</h2>

<h3>Description</h3>

<p><code>saturated_init</code> splits the sample into two sub-samples. The 2SLS model
is estimated on both sub-samples and the estimates of one sub-sample are
used to calculate the residuals and hence outliers from the other sub-sample.
</p>


<h3>Usage</h3>

<pre><code class="language-R">saturated_init(data, formula, cutoff, shuffle, shuffle_seed, split = 0.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A dataframe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A formula in the format <code>y ~ x1 + x2 | x1 + z2</code> where
<code>y</code> is the dependent variable, <code>x1</code> are the exogenous regressors,
<code>x2</code> the endogenous regressors, and <code>z2</code> the outside instruments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p>A numeric cutoff value used to judge whether an observation
is an outlier or not. If its absolute value is larger than the cutoff value,
the observations is classified as an outlier.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shuffle</code></td>
<td>
<p>A logical value (<code>TRUE</code> or <code>FALSE</code>) whether the
sample should be split into sub-samples randomly. If <code>FALSE</code>, the sample
is simply cut into two parts using the original order of the supplied data
set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shuffle_seed</code></td>
<td>
<p>A numeric value that sets the seed for shuffling the
data set before splitting it. Only used if <code>shuffle == TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split</code></td>
<td>
<p>A numeric value strictly between 0 and 1 that determines
in which proportions the sample will be split.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>saturated_init</code> returns a list with five elements. The first
four are vectors whose length equals the number of observations in the data
set. Unlike the residuals stored in a model object (usually accessible via
<code>model$residuals</code>), it does not ignore observations where any of y, x
or z are missing. It instead sets their values to <code>NA</code>.
</p>
<p>The first element is a double vector containing the residuals for each
observation based on the model estimates. The second element contains the
standardised residuals, the third one a logical vector with <code>TRUE</code> if
the observation is judged as not outlying, <code>FALSE</code> if it is an outlier,
and <code>NA</code> if any of y, x, or z are missing. The fourth element of the
list is an integer vector with three values: 0 if the observations is judged
to be an outlier, 1 if not, and -1 if missing. The fifth and last element
is a list with the two initial <code>ivreg</code> model objects based
on the two different sub-samples.
</p>


<h3>Warning</h3>

<p>The estimator may have bad properties if the <code>split</code> is too unequal and
the sample size is not large enough.
</p>


</div>