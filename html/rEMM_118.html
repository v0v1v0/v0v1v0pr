<div class="container">

<table style="width: 100%;"><tr>
<td>synthetic_stream</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a Synthetic Data Stream</h2>

<h3>Description</h3>

<p>This function creates a synthetic data stream
with data points in roughly <code class="reqn">[0, 1]^p</code> by choosing
points form k clusters following a sequence
through these clusters. Each cluster has a density function following a
d-dimensional normal distributions. In the test set outliers are introduced.
</p>


<h3>Usage</h3>

<pre><code class="language-R">synthetic_stream(k = 10, d = 2, n_subseq = 100, p_transition = 0.5, p_swap = 0,
n_train = 5000, n_test = 1000, p_outlier = 0.01, rangeVar = c(0, 0.005))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>number of clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>dimensionality of data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_subseq</code></td>
<td>
<p>length of subsequence which will be repeat to create the data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_transition</code></td>
<td>
<p>probability that the next position in the subsequence will belong to a different cluster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_swap</code></td>
<td>
<p>probability that two data points are swapped. This represents
measurement errors (e.g., a data points arrive out of order) or that
the data stream does not exactly follow the subsequence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_train</code></td>
<td>
<p>size of training set (without outliers).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_test</code></td>
<td>
<p>size of test set (with outliers).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_outlier</code></td>
<td>
<p>probability that a data point is replaced by an outlier
(a randomly chosen point in <code class="reqn">[0,1]^p</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rangeVar</code></td>
<td>
<p>Used to create the random covariance matrices for the
clusters. See <code>genPositiveDefMat()</code> in <span class="pkg">clusterGeneration</span>
for details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The data generation process creates a data set consisting of <code>k</code>
clusters in
roughly <code class="reqn">[0,1]^d</code>.  The data points for each cluster are be drawn from a
multivariate normal distribution given a random mean and a random
variance/covariance matrix for each cluster. The temporal aspect is modeled by
a fixed subsequence (of length <code>n_subseq</code>) through the k
clusters. In each step in the subsequence we
have a transition probability <code>p_transition</code> that the next data point
is in the same
cluster or in a randomly chosen other cluster, thus we can create slowly or
fast changing data.  For the complete sequence, the subsequence is repeated
to create <code>n_test</code>/<code>n_train</code> data points.
The data set is generated by drawing a data point from
the cluster corresponding to each position in the sequence. Outliers are
introduced by replacing data points in the data set with probability
<code>$p_outlier</code> by
randomly chosen data points in <code class="reqn">[0,1]^d</code>.
Finally, to introduce imperfection
in the temporal sequence (e.g., because the data does not follow exactly a
repeating sequence or because observations do not arrive in the correct order),
we swap two consecutive observations with probability <code>p_swap</code>.
</p>


<h3>Value</h3>

<p>A list with the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p> test data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>train</code></td>
<td>
<p> training data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sequence_test</code></td>
<td>
<p> sequence of the test data points through the clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sequence_train</code></td>
<td>
<p>sequence of the training data points through the clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>swap_test</code></td>
<td>
<p>index where points are swapped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>swap_train</code></td>
<td>
<p>index where points are swapped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outlier_position</code></td>
<td>
<p> logical vector for outliers in test data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p> centers and covariance matrices for the clusters. </p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## create only test data (with outliers)
ds &lt;- synthetic_stream(n_train = 0)

## plot test data
plot(ds$test, pch = ds$sequence_test, col = "gray")
text(ds$model$mu[, 1], ds$model$mu[, 2], 1:10)

## mark outliers
points(ds$test[ds$outlier_position, ],
  pch = 3, lwd = 2, col = "red")
</code></pre>


</div>