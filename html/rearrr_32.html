<div class="container">

<table style="width: 100%;"><tr>
<td>generate_clusters</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate n-dimensional clusters</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>
<p>Generates <code>data.frame</code> (<code>tibble</code>) with clustered groups.
</p>


<h3>Usage</h3>

<pre><code class="language-R">generate_clusters(
  num_rows,
  num_cols,
  num_clusters,
  compactness = 1.6,
  generator = runif,
  name_prefix = "D",
  cluster_col_name = ".cluster"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>num_rows</code></td>
<td>
<p>Number of rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_cols</code></td>
<td>
<p>Number of columns (dimensions).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_clusters</code></td>
<td>
<p>Number of clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compactness</code></td>
<td>
<p>How compact the clusters should be. A larger value leads to more compact clusters (on average).
</p>
<p>Technically, it is passed to the <code>`multiplier`</code> argument in
<code>cluster_groups()</code> as <code class="reqn">`0.1 / compactness`</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>generator</code></td>
<td>
<p>Function to generate the numeric values.
</p>
<p>Must have the <em>number of values to generate</em> as its first (and only required) argument,
as that is the only argument we pass to it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name_prefix</code></td>
<td>
<p>Prefix string for naming columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster_col_name</code></td>
<td>
<p>Name of cluster factor.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<ul>
<li>
<p>Generates <code>data.frame</code> with random values using the <code>`generator`</code>.
</p>
</li>
<li>
<p>Divides the rows into groups (the clusters).
</p>
</li>
<li>
<p>Contracts the distance from each data point to the centroid of its group.
</p>
</li>
<li>
<p>Performs MinMax scaling such that the scale of the data points is similar to the generated data.
</p>
</li>
</ul>
<h3>Value</h3>

<p><code>data.frame</code> (<code>tibble</code>) with the clustered columns and the cluster grouping factor.
</p>


<h3>Author(s)</h3>

<p>Ludvig Renbo Olsen, <a href="mailto:r-pkgs@ludvigolsen.dk">r-pkgs@ludvigolsen.dk</a>
</p>


<h3>See Also</h3>

<p>Other clustering functions: 
<code>cluster_groups()</code>,
<code>transfer_centroids()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Attach packages
library(rearrr)
library(dplyr)
has_ggplot &lt;- require(ggplot2)  # Attach if installed

# Set seed
set.seed(10)

# Generate clusters
generate_clusters(num_rows = 20, num_cols = 3, num_clusters = 3, compactness = 1.6)
generate_clusters(num_rows = 20, num_cols = 5, num_clusters = 6, compactness = 2.5)

# Generate clusters and plot them
# Tip: Call this multiple times
# to see the behavior of `generate_clusters()`
if (has_ggplot){
  generate_clusters(
    num_rows = 50, num_cols = 2,
    num_clusters = 5, compactness = 1.6
  ) %&gt;%
    ggplot(
      aes(x = D1, y = D2, color = .cluster)
    ) +
    geom_point() +
    theme_minimal() +
    labs(x = "D1", y = "D2", color = "Cluster")
}

#
# Plot clusters in 3d view
#

# Generate clusters
clusters &lt;- generate_clusters(
  num_rows = 50, num_cols = 3,
  num_clusters = 5, compactness = 1.6
)

## Not run: 
# Plot 3d with plotly
plotly::plot_ly(
  x = clusters$D1,
  y = clusters$D2,
  z = clusters$D3,
  type = "scatter3d",
  mode = "markers",
  color = clusters$.cluster
)

## End(Not run)
</code></pre>


</div>