<div class="container">

<table style="width: 100%;"><tr>
<td>black_scholes_on_term_structures</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Black-Scholes pricing of european-exercise options with term structure arguments</h2>

<h3>Description</h3>

<p>Price an option according to the famous Black-Scholes formula, with the
optional addition of a jump-to-default intensity and discrete dividends.  Volatility
and rates may be provided as constants or as 2+ parameter functions with
first argument <code>T</code> corresponding to maturity and second argument <code>t</code> corresponding to
model date.
</p>


<h3>Usage</h3>

<pre><code class="language-R">black_scholes_on_term_structures(
  callput,
  S0,
  K,
  time,
  const_volatility = 0.5,
  const_short_rate = 0,
  const_default_intensity = 0,
  discount_factor_fcn = function(T, t, ...) {     exp(-const_short_rate * (T - t)) },
  survival_probability_fcn = function(T, t, ...) {     exp(-const_default_intensity * (T
    - t)) },
  variance_cumulation_fcn = function(T, t) {     const_volatility^2 * (T - t) },
  dividends = NULL,
  borrow_cost = 0,
  dividend_rate = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>callput</code></td>
<td>
<p>1 for calls, -1 for puts</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S0</code></td>
<td>
<p>initial underlying price</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>strike</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>Time from <code>0</code> until expiration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>const_volatility</code></td>
<td>
<p>A constant to use for volatility in case <code>variance_cumulation_fcn</code>
is not given</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>const_short_rate</code></td>
<td>
<p>A constant to use for the instantaneous interest rate in case <code>discount_factor_fcn</code>
is not given</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>const_default_intensity</code></td>
<td>
<p>A constant to use for the instantaneous default intensity in case <code>default_intensity_fcn</code>
is not given</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>discount_factor_fcn</code></td>
<td>
<p>A function for computing present values to
time <code>t</code> of various cashflows occurring during this timestep, with
arguments <code>T</code>, <code>t</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>survival_probability_fcn</code></td>
<td>
<p>A function for probability of survival, with
arguments <code>T</code>, <code>t</code> and <code>T&gt;t</code>.  E.g. with
a constant volatility <code class="reqn">s</code> this takes the form <code class="reqn">(T-t)s^2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variance_cumulation_fcn</code></td>
<td>
<p>A function for computing total stock variance
occurring during this timestep, with arguments <code>T</code>, <code>t</code>.  E.g. with
a constant volatility <code class="reqn">s</code> this takes the form <code class="reqn">(T-t)s^2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dividends</code></td>
<td>
<p>A <code>data.frame</code> with columns <code>time</code>, <code>fixed</code>,
and <code>proportional</code>.  Dividend size at the given <code>time</code> is
then expected to be equal to <code>fixed + proportional * S / S0</code>.  Fixed
dividends will be converted to proportional for purposes of this algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>borrow_cost</code></td>
<td>
<p>A continuous rate for stock borrow costs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dividend_rate</code></td>
<td>
<p>A continuous rate for dividends and other cashflows such as foreign interest rates</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Any term structures will be converted to equivalent constant arguments by calling
them with the arguments <code>(time, 0)</code>.
</p>


<h3>See Also</h3>

<p>Other European Options: 
<code>blackscholes()</code>,
<code>implied_volatilities_with_rates_struct()</code>,
<code>implied_volatilities()</code>,
<code>implied_volatility_with_term_struct()</code>,
<code>implied_volatility()</code>
</p>
<p>Other Equity Independent Default Intensity: 
<code>american_implied_volatility()</code>,
<code>american()</code>,
<code>blackscholes()</code>,
<code>equivalent_bs_vola_to_jump()</code>,
<code>equivalent_jump_vola_to_bs()</code>,
<code>implied_volatilities_with_rates_struct()</code>,
<code>implied_volatilities()</code>,
<code>implied_volatility_with_term_struct()</code>,
<code>implied_volatility()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">black_scholes_on_term_structures(callput=-1, S0=100, K=90, time=1,
                                 discount_factor_fcn = function(T, t, ...) {
                                   exp(-0.03 * (T - t))
                                 },
                                 survival_probability_fcn = function(T, t, ...) {
                                   exp(-0.07 * (T - t))
                                 },
                                 variance_cumulation_fcn = function(T, t) {
                                   0.45 ^ 2 * (T - t)
                                 })
</code></pre>


</div>