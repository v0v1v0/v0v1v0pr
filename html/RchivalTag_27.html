<div class="container">

<table style="width: 100%;"><tr>
<td>plot_TS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
plot time series data
</h2>

<h3>Description</h3>

<p>plotting functions for time series data (e.g. depth or temperature time series data from archival tags) with user specified xtick intervals.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_DepthTS(ts_df, y="Depth", xlim, ylim, xticks_interval,
             ylab=y, xlab, main, main.line=1, plot_info=TRUE, 
             ID, ID_label="Serial",
             plot_DayTimePeriods=FALSE, twilight.set="ast", 
             cex=1, cex.main=1.2*cex, cex.lab=1*cex, 
             cex.axis=.9*cex, cex.axis2=1*cex, 
             type="l", las=1, xaxs="i", yaxs="i", 
             plot_box=TRUE, bty="l", Return=FALSE, tz="UTC",...)
             
           
plot_TS(ts_df, y="Depth", xlim, ylim, xticks_interval,
        ylab=y, xlab, main, main.line=1, plot_info=TRUE, 
        ID, ID_label="Serial",
        plot_DayTimePeriods=FALSE, twilight.set="ast", 
        cex=1, cex.main=1.2*cex, cex.lab=1*cex, 
        cex.axis=.9*cex, cex.axis2=1*cex, 
        type="l", las=1, xaxs="i", yaxs="i", 
        plot_box=TRUE, bty="l", Return=FALSE, tz="UTC", ...)
       
empty.plot_TS(xlim, ylim, xticks_interval, ylab="", xlab, main="",
              cex=1, cex.main=1.2*cex, cex.lab=1*cex, 
              cex.axis=.9*cex, cex.axis2=1*cex,               
              las=1, xaxs="i", yaxs="i", do_xaxis=TRUE, do_yaxis = TRUE,
              plot_box=TRUE, bty="l", tz="UTC", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ts_df</code></td>
<td>
<p>data.frame holding the time series data to be plotted, including the x-vector 'datetime' (in <code>POSIXct</code>-format  and UTC), and the numeric y-vector whose label is defined by <code>y</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>character label of time series vector to be plotted (by default 'Depth').
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>the x limits (x1, x2) of the plot (by default range(ts_df$datetime), but needs to be specified in <code>empty.plot_TS</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>the y limits of the plot (by default range(ts_df[[y]]), but needs to be specified in <code>empty.plot_TS</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xticks_interval</code></td>
<td>
<p>time step of the x-axis ticklabels in (full) hours. By default 3 hours for xlim differences &lt;= 1 day, and 6 hours for differences &gt; 1 day. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab, xlab</code></td>
<td>

<p>the y- and x-axis labels. By default xlab="Time (UTC)" and ylab = "Depth (m)"
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main, main.line</code></td>
<td>

<p>main title (by default "Tag ID") for the plot and its line (see mtext for reference).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_info</code></td>
<td>

<p>whether the plot title and axes labels should be shown (by default <code>TRUE</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID, ID_label</code></td>
<td>

<p>Tag ID and its label (column name; by default "Serial") to be selected (e.g. if input data frame holds tagging data from several tags).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>

<p>what type of plot should be drawn. Possible types are:
</p>

<ul>
<li>
<p><code>"p"</code> for points,
</p>
</li>
<li>
<p><code>"l"</code> for lines (default),
</p>
</li>
<li>
<p><code>"b"</code> for both,
</p>
</li>
<li>
<p><code>"c"</code> for the lines part alone of "b",
</p>
</li>
<li>
<p><code>"o"</code> for both 'overlapped',
</p>
</li>
<li>
<p><code>"n"</code> for nothing (similar to <code>empty.plot_TS</code>-function call)
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>las</code></td>
<td>
<p>numeric in {0,1,2,3}; the style of axis labels
</p>

<dl>
<dt>0:</dt>
<dd>
<p>always parallel to the axis [<em>default</em>],</p>
</dd>
<dt>1:</dt>
<dd>
<p>always horizontal,</p>
</dd>
<dt>2:</dt>
<dd>
<p>always perpendicular to the axis,</p>
</dd>
<dt>3:</dt>
<dd>
<p>always vertical.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xaxs, yaxs</code></td>
<td>

<p>The style of axis interval calculation to be used for the x-and y-axes. Possible values are "r" and "i" (default). The styles are generally controlled by the range of data or xlim, if given.<br><br>
Style "r" (regular) first extends the data range by 4 percent at each end and then finds an axis with pretty labels that fits within the extended range.<br><br>
Style "i" (internal) just finds an axis with pretty labels that fits within the original data range.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex,cex.main, cex.lab, cex.axis, cex.axis2</code></td>
<td>
<p>The standard font size of title, axis labels and tick labels.<br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_DayTimePeriods, twilight.set</code></td>
<td>

<p>whether day-time periods ('Night', 'Dawn', 'Day', 'Dusk') should be plotted as shaded areas. In case that plot_DayTimePeriods is set <code>TRUE</code>, the limits of each time period are required (columns <code>sunrise</code>, <code>sunset</code>, <code>dawn.ast</code>,/<code>dawn.naut</code> and <code>dawn.ast</code>/<code>dawn.naut</code> in <code>POSIXct</code>-format. In case of the twilight events, the additional argument <code>twilight.set</code> defines the suffix of the twlight-set to be selected ( <code>"ast"</code> for astronomical dawn and dusks vs <code>"naut"</code> for nautical twilight events).
If any of the day-time columns, described above, is missing, it/they will be calculated based on geolocation estimates (required columns <code>Lon</code> and <code>Lat</code>) through an internal call of function <code>get_DayTimeLimits</code>.<br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do_xaxis,do_yaxis</code></td>
<td>
<p>Optional arguments in empty.plot_TS to define whether a x and and y-axis shall be plotted (by default <code>TRUE</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_box, bty</code></td>
<td>

<p>whether a box of box-type <code>bty</code> should be plotted (by default <code>TRUE</code>. <code>bty</code> is one of "o" (the default), "l", "7", "c", "u", or "]" the resulting box resembles the corresponding upper case letter.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Return</code></td>
<td>

<p>whether edited time series data set should be returned (by default <code>FALSE</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tz</code></td>
<td>

<p>The time zone in which the data should be illustrated (By default "UTC"). ATTENTION: The required date format of the input data is "UTC" (across all RchivalTag-functions). Run <code>OlsonNames(tzdir = NULL)</code> for valid time zone definitions.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>additional arguments to be passed to plot.
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Robert K. Bauer
</p>


<h3>See Also</h3>

<p>ggboxplot_DepthTS_by_hour, dy_DepthTS, plot_DepthTempTS</p>


<h3>Examples</h3>

<pre><code class="language-R">### load sample depth and temperature time series data from miniPAT:
ts_file &lt;- system.file("example_files/104659-Series.csv",package="RchivalTag")
ts_df &lt;- read_TS(ts_file)
ts_df$Serial &lt;- ts_df$DeployID
head(ts_df)

## load same data in LOTEK format
ts_file &lt;- system.file("example_files/104659_PSAT_Dive_Log.csv",package="RchivalTag")
ts_df &lt;- read_TS(ts_file,date_format="%m/%d/%Y %H:%M:%S")
head(ts_df) ## attention no identifier (Ptt, Serial, DeployID) included!
ts_df$DeployID &lt;- ts_df$Ptt &lt;- "104659"
ts_df$Serial &lt;- "Tag1"

### select subsets (dates to plot)
# plot_DepthTS(ts_df, plot_DayTimePeriods = FALSE, xlim = unique(ts_df$date)[2:3])
# xlim &lt;- c("2016-08-10 6:10:00", "2016-08-11 17:40:00")
# plot_DepthTS(ts_df, plot_DayTimePeriods = FALSE, xlim = xlim)

### check xtick time step:
# plot_DepthTS(ts_df, plot_DayTimePeriods = FALSE, xlim = "2016-08-10")
# plot_DepthTS(ts_df, plot_DayTimePeriods = FALSE, xlim = "2016-08-10", xticks_interval = 2)


### add daytime periods during plot-function call and return extended data set
# ts_df$Lon &lt;- 5; ts_df$Lat &lt;- 43
# plot_DepthTS(ts_df, plot_DayTimePeriods = TRUE, xlim = unique(ts_df$date)[2:3])
# ts_df2 &lt;- plot_DepthTS(ts_df, plot_DayTimePeriods = TRUE, Return = TRUE) 
# names(ts_df)
# names(ts_df2)

### add daytime periods before function call
# ts_df_extended &lt;- get_DayTimeLimits(ts_df)
# plot_DepthTS(ts_df_extended, plot_DayTimePeriods = TRUE)
# plot_DepthTS(ts_df_extended, plot_DayTimePeriods = TRUE, twilight.set = "naut")

### introduce data transmission gaps that are then filled internally
### as well as daytime periods based on interpolated Lon &amp; Lat positions
# ts_df_cutted &lt;- ts_df[-c(200:400, 1800:2200), ]
# plot_DepthTS(ts_df_cutted, plot_DayTimePeriods = FALSE)
# plot_DepthTS(ts_df_cutted, plot_DayTimePeriods = TRUE) 

### example for empty.plotTS and adding time series data as line:
# empty.plot_TS(xlim="2016-08-10",ylim=c(100,0))
# lines(ts_df$datetime, ts_df$Depth)

### alternative:
# plot_DepthTS(ts_df, xlim=c("2016-08-10","2016-08-12"), plot_DayTimePeriods = TRUE, type='n') 
# lines(ts_df$datetime, ts_df$Depth)

</code></pre>


</div>