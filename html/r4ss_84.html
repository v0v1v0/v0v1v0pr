<div class="container">

<table style="width: 100%;"><tr>
<td>SS_plots</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>plot many quantities related to output from Stock Synthesis</h2>

<h3>Description</h3>

<p>Creates a user-chosen set of plots, including biological quantities, time
series, and fits to data.  Plots are sent to R GUI, single PDF file, or
multiple PNG files. This is now just a wrapper which calls on separate
functions to make all the plots.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SS_plots(
  replist = NULL,
  plot = 1:26,
  print = NULL,
  pdf = FALSE,
  png = TRUE,
  html = png,
  printfolder = "plots",
  dir = "default",
  fleets = "all",
  areas = "all",
  fleetnames = "default",
  fleetcols = "default",
  fleetlty = 1,
  fleetpch = 1,
  lwd = 1,
  areacols = "default",
  areanames = "default",
  verbose = TRUE,
  uncertainty = TRUE,
  forecastplot = FALSE,
  datplot = TRUE,
  Natageplot = TRUE,
  samplesizeplots = TRUE,
  compresidplots = TRUE,
  comp.yupper = 0.4,
  sprtarg = "default",
  btarg = "default",
  minbthresh = "default",
  pntscalar = NULL,
  bub.scale.pearson = 1.5,
  bub.scale.dat = 3,
  pntscalar.nums = 2.6,
  pntscalar.tags = 2.6,
  minnbubble = 8,
  aalyear = -1,
  aalbin = -1,
  aalresids = TRUE,
  maxneff = 5000,
  cohortlines = c(),
  smooth = TRUE,
  showsampsize = TRUE,
  showeffN = TRUE,
  sampsizeline = FALSE,
  effNline = FALSE,
  showlegend = TRUE,
  pwidth = 6.5,
  pheight = 4,
  pheight_tall = 6.5,
  punits = "in",
  ptsize = 10,
  res = 300,
  mainTitle = FALSE,
  cex.main = 1,
  selexlines = 1:6,
  rows = 1,
  cols = 1,
  maxrows = 6,
  maxcols = 4,
  maxrows2 = 4,
  maxcols2 = 4,
  andrerows = 4,
  tagrows = 3,
  tagcols = 3,
  parrows = 4,
  parcols = 2,
  fixdims = TRUE,
  new = TRUE,
  SSplotDatMargin = 8,
  filenotes = NULL,
  catchasnumbers = NULL,
  catchbars = TRUE,
  legendloc = "topleft",
  minyr = -Inf,
  maxyr = Inf,
  sexes = "all",
  scalebins = FALSE,
  scalebubbles = FALSE,
  tslabels = NULL,
  catlabels = NULL,
  maxsize = 1,
  showmle = TRUE,
  showpost = TRUE,
  showprior = TRUE,
  showinit = TRUE,
  showdev = FALSE,
  fitrange = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>replist</code></td>
<td>
<p>A list object created by <code>SS_output()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>Plot sets to be created, see list of plots below.  Use to
specify only those plot sets of interest, e.g., c(1,2,5,10). Plots for data
not available in the model run will automatically be skipped, whether called
or not.
Current grouping of plots is as follows:
</p>

<ol>
<li>
<p> Biology
</p>
</li>
<li>
<p> Selectivity and retention
</p>
</li>
<li>
<p> Timeseries
</p>
</li>
<li>
<p> Recruitment deviations
</p>
</li>
<li>
<p> Recruitment bias adjustment
</p>
</li>
<li>
<p> Spawner-recruit
</p>
</li>
<li>
<p> Catch
</p>
</li>
<li>
<p> SPR
</p>
</li>
<li>
<p> Discards
</p>
</li>
<li>
<p> Mean weight
</p>
</li>
<li>
<p> Indices
</p>
</li>
<li>
<p> Numbers at age
</p>
</li>
<li>
<p> Length comp data
</p>
</li>
<li>
<p> Age comp data
</p>
</li>
<li>
<p> Conditional age-at-length data
</p>
</li>
<li>
<p> Length comp fits
</p>
</li>
<li>
<p> Age comp fits
</p>
</li>
<li>
<p> Conditional age-at-length fits
</p>
</li>
<li>
<p> Francis and Punt conditional age-at-length comp fits
</p>
</li>
<li>
<p> Mean length-at-age and mean weight-at-age
</p>
</li>
<li>
<p> Tags
</p>
</li>
<li>
<p> Yield
</p>
</li>
<li>
<p> Movement
</p>
</li>
<li>
<p> Data range
</p>
</li>
<li>
<p> Parameter distributions
</p>
</li>
<li>
<p> Diagnostic tables
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>Deprecated input for backward compatibility, now replaced by
<code>png = TRUE/FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pdf</code></td>
<td>
<p>Send plots to PDF file instead of R GUI?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>png</code></td>
<td>
<p>Send plots to PNG files instead of R GUI?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>html</code></td>
<td>
<p>Run <code>SS_html()</code> on completion? By default has same
value as <code>png</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>printfolder</code></td>
<td>
<p>The sub-directory under 'dir' (see below) in which the
PNG files will be located.  The default sub-directory is "plots".
The directory will be created if it doesn\'t exist.
If 'printfolder' is set to "", it is ignored and the PNG files will be located
in the directory specified by 'dir'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>The directory in which a PDF file (if requested) will be created
and within which the printfolder sub-directory (see above) will be created
if png=TRUE. By default it will be the same directory that the report file
was read from by the <code>SS_output</code> function. Alternatives to the default
can be either relative (to the working directory) or absolute paths.
The function will attempt to create the directory it doesn't exist, but it
does not do so recursively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fleets</code></td>
<td>
<p>Either the string "all", or a vector of numerical values, like
c(1,3), listing fleets or surveys for which plots should be made. By
default, plots will be made for all fleets and surveys.  Default="all".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>areas</code></td>
<td>
<p>Either the string "all", or a vector of numerical values, like
c(1,3), listing areas for which plots should be made in a multi-area model.
By default, plots will be made for all areas (excepting cases where the
function has not yet been updated for multi-area models). Default="all".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fleetnames</code></td>
<td>
<p>Either the string "default", or a vector of characters
strings to use for each fleet name. Default="default".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fleetcols</code></td>
<td>
<p>Either the string "default", or a vector of colors to use
for each fleet.  Default="default".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fleetlty</code></td>
<td>
<p>Vector of line types used for each fleet in some plots.
Default=1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fleetpch</code></td>
<td>
<p>Vector of point types used for each fleet in some plots.
Default=1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>Line width for some plots. Default=1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>areacols</code></td>
<td>
<p>Either the string "default", or a vector of colors to use
for each area. Default="default".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>areanames</code></td>
<td>
<p>Optional vector of names for each area used in titles.
Default="default".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Return updates of function progress to the R GUI?
Default=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uncertainty</code></td>
<td>
<p>Include values in plots showing estimates of uncertainty
(requires positive definite hessian in model?  Default=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forecastplot</code></td>
<td>
<p>Include forecast years in the timeseries plots and
plots of time-varying quantities?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datplot</code></td>
<td>
<p>Plot the data by itself? This is useful in document
preparation, but doesn't change across alternative model runs with the same
data, so can be committed to save time once the plots have been created once.
Setting datplot=FALSE is equivalent to leaving off plots 15 and 16.
Default=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Natageplot</code></td>
<td>
<p>Plot the expected numbers at age bubble plots and mean-age
time series?  Default=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samplesizeplots</code></td>
<td>
<p>Show sample size plots?  Default=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compresidplots</code></td>
<td>
<p>Show residuals for composition plots?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comp.yupper</code></td>
<td>
<p>Upper limit on ymax for polygon/histogram composition
plots. This avoids scaling all plots to have max=1 if there is a vector
with only a single observed fish in it. Default=0.4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sprtarg</code></td>
<td>
<p>Specify the F/SPR proxy target. Default=0.4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>btarg</code></td>
<td>
<p>Target %unfished to be used in plots showing %unfished. May be
omitted by setting to NA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minbthresh</code></td>
<td>
<p>Threshold depletion to be used in plots showing depletion.
May be omitted by setting to NA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pntscalar</code></td>
<td>
<p>This scalar defines the maximum bubble size for bubble
plots. This option is still available but a better choice is to use
bub.scale.pearson and bub.scale.dat, which are allow the same scaling
throughout all plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bub.scale.pearson</code></td>
<td>
<p>Character expansion (cex) value for a proportion of
1.0 in bubble plot of Pearson residuals. Default=1.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bub.scale.dat</code></td>
<td>
<p>Character expansion (cex) value for a proportion of 1.0
in bubble plot of composition data. Default=3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pntscalar.nums</code></td>
<td>
<p>This scalar defines the maximum bubble size for
numbers-at-age and numbers-at-length plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pntscalar.tags</code></td>
<td>
<p>This scalar defines the maximum bubble size for
tagging plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minnbubble</code></td>
<td>
<p>This defines the minimum number of years below which blank
years will be added to bubble plots to avoid cropping.  Default=8.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aalyear</code></td>
<td>
<p>Years to plot multi-panel conditional age-at-length fits for
all length bins; must be in a "c(YYYY,YYYY)" format. Useful for checking the
fit of a dominant year class, critical time period, etc. Default=-1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aalbin</code></td>
<td>
<p>The length bin for which multi-panel plots of the fit to
conditional age-at-length data will be produced for all years.  Useful to
see if growth curves are ok, or to see the information on year classes move
through the conditional data. Default=-1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aalresids</code></td>
<td>
<p>Plot the full set of conditional age-at-length Pearson
residuals? Turn to FALSE if plots are taking too long and you don't want
them.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxneff</code></td>
<td>
<p>The maximum value to include on plots of input and effective
sample size. Occasionally a calculation of effective N blows up to very
large numbers, rendering it impossible to observe the relationship for other
data. Default=5000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cohortlines</code></td>
<td>
<p>Optional vector of birth years for cohorts for which to
add growth curves to numbers at length bubble plots.  Default=c().</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>Add loess smoother to observed vs. expected index plots and
input vs. effective sample size? Default=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showsampsize</code></td>
<td>
<p>Display sample sizes on composition plots?  Default=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showeffN</code></td>
<td>
<p>Display effective sample sizes on composition plots?
Default=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampsizeline</code></td>
<td>
<p>show line for input sample sizes on top of conditional
age-at-length plots (TRUE/FALSE, still in development)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effNline</code></td>
<td>
<p>show line for effective sample sizes on top of conditional
age-at-length plots (TRUE/FALSE, still in development)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showlegend</code></td>
<td>
<p>Display legends in various plots?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pwidth</code></td>
<td>
<p>Default width of plots printed to files in units of
<code>punits</code>. The default is <code>pwidth=6.5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pheight</code></td>
<td>
<p>Height of plots printed to png files in units of <code>punits</code>.
Default is designed to allow two plots per page, with <code>pheight_tall</code> used
for plots that work best with a taller format and a single plot per page.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pheight_tall</code></td>
<td>
<p>Height of tall plots printed to png files in units of
<code>punits</code>, where the tall plots are a subset of the plots which typically
work best in a taller format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>punits</code></td>
<td>
<p>Units for <code>pwidth</code> and <code>pheight</code>. Can be "px"
(pixels), "in" (inches), "cm" (centimeters), or "mm" (millimeters).
The default is <code>punits="in"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptsize</code></td>
<td>
<p>Point size for plotted text in plots printed to files (see
<code>help("png")</code> in R for details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mainTitle</code></td>
<td>
<p>Logical indicating if a title should be included at the top
(not yet implemented for all plots)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.main</code></td>
<td>
<p>Character expansion parameter for plot titles (not yet
implemented for all plots). Default=1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selexlines</code></td>
<td>
<p>Vector controlling which lines should be shown on
selectivity plots if the model includes retention. Default=1:5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rows</code></td>
<td>
<p>Number of rows to use for single panel plots. Default=1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>Number of columns to use for single panel plots. Default=1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxrows</code></td>
<td>
<p>Maximum number of rows to for multi-panel plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxcols</code></td>
<td>
<p>Maximum number of columns for multi-panel plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxrows2</code></td>
<td>
<p>Maximum number of rows for conditional age-at-length
multi-panel plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxcols2</code></td>
<td>
<p>Maximum number of rows for conditional age-at-length
multi-panel plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>andrerows</code></td>
<td>
<p>Number of rows of Andre's conditional age-at-length plots
within each page.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tagrows</code></td>
<td>
<p>Number of rows for tagging-related plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tagcols</code></td>
<td>
<p>Number of columns for tagging-related plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parrows</code></td>
<td>
<p>Number of rows for parameter distribution plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parcols</code></td>
<td>
<p>Number of columns for parameter distribution plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixdims</code></td>
<td>
<p>Control whether multi-panel plots all have dimensions equal
to maxrows by maxcols, or resized within those limits to fit number of
plots. Default=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new</code></td>
<td>
<p>Open a new window or add to existing plot windows.  Default=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SSplotDatMargin</code></td>
<td>
<p>Size of right-hand margin in data plot (may be too
small if fleet names are long)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filenotes</code></td>
<td>
<p>Optional vector of character strings to be added to intro
HTML page (if created) with notes about the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>catchasnumbers</code></td>
<td>
<p>Is catch input in numbers instead of biomass?
Default=F.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>catchbars</code></td>
<td>
<p>show catch by fleet as barplot instead of stacked polygons
(default=TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendloc</code></td>
<td>
<p>Location for all legends. Default="topleft".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minyr</code></td>
<td>
<p>First year to show in time-series and time-varying plots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxyr</code></td>
<td>
<p>Last year to show in time-series and time-varying plots. This
can either be an alternative to, or redundant with, the forecastplot input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sexes</code></td>
<td>
<p>Which sexes to show in composition plots. Default="all".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scalebins</code></td>
<td>
<p>Rescale expected and observed proportions in composition
plots by dividing by bin width for models where bins have different widths?
Caution!: May not work correctly in all cases.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scalebubbles</code></td>
<td>
<p>scale data-only bubbles by sample size, not just
proportion within sample? Default=FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tslabels</code></td>
<td>
<p>Either NULL to have default labels for timeseries plots or
a vector of appropriate length (currently 11) with labels for each figure</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>catlabels</code></td>
<td>
<p>Either NULL to have default labels for catch plots or
a vector of appropriate length (currently 10) with labels for each figure</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxsize</code></td>
<td>
<p>The size of the largest bubble in the datasize
plot. Default is 1.0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showmle</code></td>
<td>
<p>Show MLE estimate and asymptotic variance estimate with blue
lines in the parameter distribution plots?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showpost</code></td>
<td>
<p>Show posterior distribution as bar graph in parameter
distribution plots (requires MCMC results to be available in <code>replist</code>)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showprior</code></td>
<td>
<p>Show prior distribution as black line in the parameter
distribution plots?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showinit</code></td>
<td>
<p>Show initial value as red triangle in the parameter
distribution plots?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showdev</code></td>
<td>
<p>Include devs in the parameter distribution plots?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fitrange</code></td>
<td>
<p>Fit range in parameter distribution plots tightly around MLE
and posterior distributions instead of full parameter range?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments that will be passed to some subfunctions.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Ian Stewart, Ian Taylor
</p>


<h3>References</h3>

<p>Walters, Hilborn, and Christensen, 2008, Surplus production
dynamics in declining and recovering fish populations. Can. J. Fish. Aquat.
Sci. 65: 2536-2551.
</p>


<h3>See Also</h3>

<p><code>SS_output()</code>, <code>SSplotBiology()</code>,
<code>SSplotCatch()</code>, <code>SSplotComps()</code>,
<code>SSplotDiscard()</code>, <code>SSplotIndices()</code>,
<code>SSplotMnwt()</code>, <code>SSplotNumbers()</code>,
<code>SSplotRecdevs()</code>, <code>SSplotSelex()</code>,
<code>SSplotSpawnrecruit()</code>, <code>SSplotSPR()</code>,
<code>SSplotTags()</code>, <code>SSplotTimeseries()</code>,
<code>SSplotYield()</code>
</p>


</div>