<div class="container">

<table style="width: 100%;"><tr>
<td>HttpDaemon</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The HttpDaemon class</h2>

<h3>Description</h3>

<p>Package:  R.rsp <br><b>Class HttpDaemon</b><br></p>
<p><code>Object</code><br><code>~~|</code><br><code>~~+--</code><code>HttpDaemon</code><br></p>
<p><b>Directly known subclasses:</b><br><br></p>
<p>public static class <b>HttpDaemon</b><br>
extends Object<br></p>
<p>A minimalistic HTTP daemon (web server) that also preprocesses RSP.
</p>


<h3>Usage</h3>

<pre><code class="language-R">HttpDaemon(...)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Not used.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>The actual server is written in Tcl such that it runs in a non-blocking
mode, which means that the R prompt will be available for other things.
This class is tightly coupled with the source code of the Tcl script.
</p>
<p>For security reasons, the server only accept connections from the
local host (127.0.0.1).  This lowers the risk for external computers
to gain access to the R session.
This is asserted by the <code>accept_connect</code> Tcl procedure in
r-httpd.tcl (located in <code>system.file("tcl/", package="R.rsp")</code>).
If access from other hosts are wanted, then this procedure needs to
be modified.
</p>
<p>The Tcl server was written by Steve Uhlers, and later adopted for R by
Philippe Grosjean and Tom Short (Rpad package author) [1].
</p>


<h3>Fields and Methods</h3>

<p><b>Methods:</b><br></p>

<table>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>appendRootPaths</code> </td>
<td style="text-align: left;"> Appends and inserts new paths to the list of known root directories.</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>as.character</code> </td>
<td style="text-align: left;"> Returns a short string describing the HTTP daemon.</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>finalize</code> </td>
<td style="text-align: left;">  -</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>getConfig</code> </td>
<td style="text-align: left;"> Retrieves the server's 'config' structure from Tcl.</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>getCount</code> </td>
<td style="text-align: left;">  -</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>getDefaultFilenamePattern</code> </td>
<td style="text-align: left;"> Gets the default filename pattern to be loaded by the HTTP daemon.</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>getHttpRequest</code> </td>
<td style="text-align: left;"> Gets the HTTP request.</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>getPort</code> </td>
<td style="text-align: left;"> Gets the socket port of the HTTP daemon.</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>getRootPaths</code> </td>
<td style="text-align: left;"> Gets the root directories of the HTTP daemon.</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>insertRootPaths</code> </td>
<td style="text-align: left;">  -</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>isStarted</code> </td>
<td style="text-align: left;"> Checks if the HTTP daemon is started.</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>openUrl</code> </td>
<td style="text-align: left;"> Starts the HTTP daemon and launches the specified URL.</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>processRsp</code> </td>
<td style="text-align: left;"> Processes an RSP page.</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>restart</code> </td>
<td style="text-align: left;"> Restarts the HTTP daemon.</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>setCount</code> </td>
<td style="text-align: left;">  -</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>setRootPaths</code> </td>
<td style="text-align: left;"> Sets a new set of root directories for the HTTP daemon.</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>sourceTcl</code> </td>
<td style="text-align: left;"> Loads the Tcl source for the HTTP daemon into R.</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>start</code> </td>
<td style="text-align: left;"> Starts the HTTP daemon.</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>startHelp</code> </td>
<td style="text-align: left;"> Starts the HTTP daemon and launches the help page.</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>terminate</code> </td>
<td style="text-align: left;"> Terminates the HTTP daemon.</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>writeResponse</code> </td>
<td style="text-align: left;"> Writes a string to the HTTP output connection.</td>
</tr>
<tr>
<td style="text-align: right;">
</td>
</tr>
</table>
<p><b>Methods inherited from Object</b>:<br>
$, $&lt;-, [[, [[&lt;-, as.character, attach, attachLocally, clearCache, clearLookupCache, clone, detach, equals, extend, finalize, getEnvironment, getFieldModifier, getFieldModifiers, getFields, getInstantiationTime, getStaticInstance, hasField, hashCode, ll, load, names, objectSize, print, save
</p>


<h3>Author(s)</h3>

<p>Henrik Bengtsson</p>


<h3>References</h3>

<p>[1] Rpad package, Tom Short, 2005.<br></p>


<h3>Examples</h3>

<pre><code class="language-R">if (interactive()) {
  if (!HttpDaemon$isStarted()) {
    # Start the web server
    rootPath &lt;- system.file("rsp", package="R.rsp")
    HttpDaemon$start(rootPath=rootPath, port=8074, default="^index[.](html|.*)$")
  }
 
  browseURL("http://127.0.0.1:8074/")
}
</code></pre>


</div>