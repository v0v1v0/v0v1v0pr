<div class="container">

<table style="width: 100%;"><tr>
<td>orcid_auth</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ORCID authorization</h2>

<h3>Description</h3>

<p>ORCID authorization
</p>


<h3>Usage</h3>

<pre><code class="language-R">orcid_auth(
  scope = "/authenticate",
  reauth = FALSE,
  redirect_uri = getOption("rorcid.redirect_uri"),
  client_id = NULL,
  client_secret = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>scope</code></td>
<td>
<p>(character) one or more scopes. default: <code>"/authenticate"</code>.
see "ORCID OAuth Scopes" section below for other scope options</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reauth</code></td>
<td>
<p>(logical) Force re-authorization? default: <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>redirect_uri</code></td>
<td>
<p>(character) a redirect URI. optional. set by passing
to this parameter or using the R option <code>rorcid.redirect_uri</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>client_id</code></td>
<td>
<p>(character) a client id. optional</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>client_secret</code></td>
<td>
<p>(character) a client secret. optional</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>There are three ways to authorise with <span class="pkg">rorcid</span>:
</p>

<ul>
<li>
<p> Interactively login with OAuth. This doesn't require any input on
your part. We use a client id and client secret key to ping ORCID.org;
at which point you log in with your username/password; then we get back
a token (same as the above option). We don't know your username or
password, only the token that we get back. We cache that token locally
in a hidden file in whatever working directory you're in. If you delete
that file, or run the code from a new working directory, then we
re-authorize.
</p>
</li>
<li>
<p> Use a <code>client_id</code> and <code>client_secret</code> to do 2-legged OAuth.
ORCID docs at https://members.orcid.org/api/oauth/2legged-oauth and
https://members.orcid.org/api/post-oauthtoken-reading-public-data
This requires you to register a "client application". See
https://orcid.org/content/register-client-application-2 for instructions
</p>
</li>
<li>
<p> Use a token as a result of either of the two above approaches. The token
is a alphanumeric UUID, e.g. <code style="white-space: pre;">⁠dc0a6b6b-b4d4-4276-bc89-78c1e9ede56e⁠</code>. You
can get this token by running <code>orcid_auth()</code>, then storing that key
(the uuid alone, not the "Bearer " part) either as en environment
variable in your <code>.Renviron</code> file in your home directory (with the name
<code>ORCID_TOKEN</code>), or as an R option in your <code>.Rprofile</code> file (with the name
<code>orcid_token</code>). See Startup for more information.
Either an environment variable or R option work. If we don't find
either we do the next option.
</p>
</li>
</ul>
<p>We recommend the 3rd option if possible, specifically, storing the token
as an environment variable permanently.
</p>
<p>If authentication fails, you can still use <span class="pkg">rorcid</span>. ORCID does not require
authentication at this point, but may in the future - this prepares you
for when that happens :)
</p>


<h3>Value</h3>

<p>a character string with the access token prefixed with "Bearer "
</p>


<h3>ORCID OAuth Scopes</h3>

<p>https://info.orcid.org/faq/what-is-an-oauth-scope-and-which-scopes-does-orcid-support/
</p>


<h3>Computing environments without browsers</h3>

<p>One pitfall is when you are using rorcid on a server, and you're ssh'ed
in, so that there's no way to open a browser to do the OAuth browser
flow. Similarly for any other situation in which a browser can not be
opened. In this case, run <code>orcid_auth()</code> on another machine in which you do
have the ability to open a browser, then collect the info that's ouptput
from <code>orcid_auth()</code> and store it as an environment variable (see above).
</p>


<h3>Note</h3>

<p>This function is used within <span class="pkg">rorcid</span> to get/do authentication.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
x &lt;- orcid_auth()
orcid_auth(reauth = TRUE)
# orcid_auth(scope = "/read-public", reauth = TRUE)

# supply client_id AND client_secret to avoid 3 legged, interactive OAuth
# orcid_auth(client_id = "---", client_secret = "---")

## End(Not run)
</code></pre>


</div>