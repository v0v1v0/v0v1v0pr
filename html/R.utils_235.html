<div class="container">

<table style="width: 100%;"><tr>
<td>gcDLLs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Identifies and removes DLLs of packages already unloaded</h2>

<h3>Description</h3>

<p>Identifies and removes DLLs of packages already unloaded.
When packages are unloaded, they are ideally also unloading any
DLLs (also known as a dynamic shared object or library) they
have loaded.  Unfortunately, not all package do this resulting
in "stray" DLLs still being loaded and occupying <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>'s limited
registry.  These functions identifies and removes such DLLs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gcDLLs(gc=TRUE, quiet=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gc</code></td>
<td>
<p>If <code>TRUE</code>, if there are stray DLLs, then the garbage collector is run before unloading those DLLs.  This is done in order to trigger any finalizers, of which some may need those DLLs, to be called.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>If <code>FALSE</code>, a message is outputted for every stray DLL that is unloaded.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If a library fails to unload, an informative warning is generated.
</p>


<h3>Value</h3>

<p>Returns (invisibly) the set of stray DLLs identified.
</p>


<h3>How to unload DLLs in package (for package developers)</h3>

<p>To unload a package DLL whenever the package in unloaded, add the
following to your package:
</p>
<pre>
  .onUnload &lt;- function(libpath) {
      ## (1) Force finalizers to be called before removing the DLL
      ##     in case some of them need the DLL.
      gc()

      ## (2) Unload the DLL for this package
      library.dynam.unload(.packageName, libpath)
  }
  </pre>


<h3>Author(s)</h3>

<p>Henrik Bengtsson</p>


<h3>See Also</h3>

<p><code>getLoadedDLLs</code>().
</p>


</div>