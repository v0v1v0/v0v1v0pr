<div class="container">

<table style="width: 100%;"><tr>
<td>amScatterChart</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>HTML widget displaying a scatter chart</h2>

<h3>Description</h3>

<p>Create a HTML widget displaying a scatter chart.
</p>


<h3>Usage</h3>

<pre><code class="language-R">amScatterChart(
  data,
  data2 = NULL,
  xValue,
  yValues,
  yValueNames = NULL,
  hline = NULL,
  vline = NULL,
  xLimits = NULL,
  yLimits = NULL,
  expandX = 0,
  expandY = 5,
  Xformatter = ifelse(isDate, "yyyy-MM-dd", "#."),
  Yformatter = "#.",
  trend = FALSE,
  chartTitle = NULL,
  theme = NULL,
  animated = TRUE,
  draggable = FALSE,
  tooltip = NULL,
  pointsStyle = NULL,
  backgroundColor = NULL,
  xAxis = NULL,
  yAxis = NULL,
  scrollbarX = FALSE,
  scrollbarY = FALSE,
  legend = NULL,
  caption = NULL,
  image = NULL,
  button = NULL,
  cursor = FALSE,
  zoomButtons = FALSE,
  width = NULL,
  height = NULL,
  export = FALSE,
  chartId = NULL,
  elementId = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data2</code></td>
<td>
<p><code>NULL</code> or a dataframe used to update the data with the
button; its column names must include the column names of <code>data</code>
given in <code>yValues</code> as well as the column name given in <code>xValue</code>;
moreover it must have the same number of rows as <code>data</code> and its rows
must be in the same order as those of <code>data</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xValue</code></td>
<td>
<p>name of the column of <code>data</code> to be used on the x-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yValues</code></td>
<td>
<p>name(s) of the column(s) of <code>data</code> to be used on the
y-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yValueNames</code></td>
<td>
<p>names of the variables on the y-axis,
to appear in the legend;
<code>NULL</code> to use <code>yValues</code> as names, otherwise a named list of the
form <code>list(yvalue1 = "ValueName1", yvalue2 = "ValueName2", ...)</code> where
<code>yvalue1</code>, <code>yvalue2</code>, ... are the column names given in
<code>yValues</code> and <code>"ValueName1"</code>, <code>"ValueName2"</code>, ... are the
desired names to appear in the legend</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hline</code></td>
<td>
<p>an optional horizontal line to add to the chart; it must be a
named list of the form <code>list(value = h, line = settings)</code> where
<code>h</code> is the "intercept" and <code>settings</code> is a list of settings
created with <code>amLine</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vline</code></td>
<td>
<p>an optional vertical line to add to the chart; it must be a
named list of the form <code>list(value = v, line = settings)</code> where
<code>v</code> is the "intercept" and <code>settings</code> is a list of settings
created with <code>amLine</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xLimits</code></td>
<td>
<p>range of the x-axis, a vector of two values specifying
the left and the right limits of the x-axis; <code>NULL</code> for default values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yLimits</code></td>
<td>
<p>range of the y-axis, a vector of two values specifying
the lower and the upper limits of the y-axis; <code>NULL</code> for default values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expandX</code></td>
<td>
<p>if <code>xLimits = NULL</code>, a percentage of the range of the
x-axis used to expand this range</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expandY</code></td>
<td>
<p>if <code>yLimits = NULL</code>, a percentage of the range of the
y-axis used to expand this range</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Xformatter</code></td>
<td>
<p>a
<a href="https://www.amcharts.com/docs/v4/concepts/formatters/formatting-numbers/">number formatting string</a>
if <code>xValue</code> is set to a numeric column of <code>data</code>;
it is used to format the values displayed in the cursor tooltips if
<code>cursor = TRUE</code>, the labels of the x-axis unless you specify
your own formatter in the <code>labels</code> field of the list passed on to
the <code>xAxis</code> option, and the values displayed in the tooltips unless
you specify your own tooltip text;
if <code>xValue</code> is set to a date column of <code>data</code>, this option should
be set to a
<a href="https://www.amcharts.com/docs/v4/concepts/formatters/formatting-date-time/">date formatting string</a>,
and it has an effect only on the values displayed in the tooltips (unless
you specify your own tooltip text); formatting the dates on the x-axis is
done via the <code>labels</code> field of the list passed on to the <code>xAxis</code>
option</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Yformatter</code></td>
<td>
<p>a
<a href="https://www.amcharts.com/docs/v4/concepts/formatters/formatting-numbers/">number formatting string</a>;
it is used to format the values displayed in the cursor tooltips if
<code>cursor = TRUE</code>, the labels of the y-axis unless you specify
your own formatter in the <code>labels</code> field of the list passed on to
the <code>yAxis</code> option, and the values displayed in the tooltips unless
you specify your own tooltip text (see the first example of
<code>amBarChart</code> for the way to set
a number formatter in the tooltip text)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trend</code></td>
<td>
<p>option to request trend lines and to set their settings;
<code>FALSE</code> for no trend line, otherwise a named list of the form
<code>list(yvalue1 = trend1, yvalue2 = trend2, ...)</code> where
<code>trend1</code>, <code>trend2</code>, ... are lists with the following fields:
</p>

<dl>
<dt><code>method</code></dt>
<dd>
<p>the modelling method, can be <code>"lm"</code>, <code>"lm.js"</code>, <code>"nls"</code>,
<code>"nlsLM"</code>, or <code>"loess"</code>; <code>"lm.js"</code> performs a polynomial
regression in JavaScript, its advantage is that the fitted regression
line is updated when the points are dragged
</p>
</dd>
<dt><code>formula</code></dt>
<dd>
<p>a formula passed on to the modelling function for methods <code>"lm"</code>,
<code>"nls"</code> or <code>"nlsLM"</code>; the
lefthandside of this formula must always be <code>y</code>, and its
righthandside must be a symbolic expression depending on <code>x</code> only,
e.g. <code>y ~ x</code>, <code>y ~ x + I(x^2)</code>, <code>y ~ poly(x,2)</code>
</p>
</dd>
<dt><code>interval</code></dt>
<dd>
<p>effective for methods <code>"lm"</code> and <code>"lm.js"</code> only;
a list with five possible fields:
<code>type</code> can be <code>"confidence"</code> or <code>"prediction"</code>,
<code>level</code> is the confidence or prediction level (number between 0
and 1), <code>color</code> is the color of the shaded area, <code>opacity</code>
is the opacity of the shaded area (number between 0 and 1),
<code>tensionX</code> and <code>tensionY</code> to control the smoothing
(see <code>amLine</code>)
</p>
</dd>
<dt><code>order</code></dt>
<dd>
<p>the order of the polynomial regression when <code>method = "lm.js"</code>
</p>
</dd>
<dt><code>method.args</code></dt>
<dd>
<p>a list of additional arguments passed on to the modelling function
defined by <code>method</code> for methods <code>"nls"</code>, <code>"nlsLM"</code> or
<code>"loess"</code>, e.g. <code>method.args = list(span = 0.3)</code> for
method <code>"loess"</code>
</p>
</dd>
<dt><code>style</code></dt>
<dd>
<p>a list of settings for the trend line created with <code>amLine</code>
</p>
</dd>
</dl>
<p>it is also possible to request the same kind of trend lines for all series
given by the <code>yValues</code> argument, by passing a list of the
form <code>list("_all" = trendconfig)</code>, e.g.
<code>list("_all" = list(method = "lm", formula = y ~ 0+x, style = amLine()))</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chartTitle</code></td>
<td>
<p>chart title, it can be <code>NULL</code> or <code>FALSE</code> for no
title, a character string,
a list of settings created with <code>amText</code>, or a list with two
fields: <code>text</code>, a list of settings created with <code>amText</code>,
and <code>align</code>, can be <code>"left"</code>, <code>"right"</code> or <code>"center"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theme</code></td>
<td>
<p>theme, <code>NULL</code> or one of <code>"dataviz"</code>,
<code>"material"</code>, <code>"kelly"</code>, <code>"dark"</code>, <code>"moonrisekingdom"</code>,
<code>"frozen"</code>, <code>"spiritedaway"</code>, <code>"patterns"</code>,
<code>"microchart"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>animated</code></td>
<td>
<p>Boolean, whether to animate the rendering of the graphic</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draggable</code></td>
<td>
<p><code>TRUE</code>/<code>FALSE</code> to enable/disable dragging of
all lines, otherwise a named list of the form
<code>list(yvalue1 = TRUE, yvalue2 = FALSE, ...)</code> to enable/disable the
dragging for each series corresponding to a column given in <code>yValues</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tooltip</code></td>
<td>
<p>settings of the tooltips; <code>NULL</code> for default,
<code>FALSE</code> for no tooltip, otherwise a named list of the form
<code>list(yvalue1 = settings1, yvalue2 = settings2, ...)</code> where
<code>settings1</code>, <code>settings2</code>, ... are lists created with
<code>amTooltip</code>; this can also be a
single list of settings that will be applied to each series,
or a just a string for the text to display in the tooltip</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointsStyle</code></td>
<td>
<p>settings of the points style; <code>NULL</code> for default,
otherwise a named list of the form
<code>list(yvalue1 = settings1, yvalue2 = settings2, ...)</code> where
<code>settings1</code>, <code>settings2</code>, ... are lists created with
<code>amCircle</code>, <code>amTriangle</code> or
<code>amRectangle</code>; this can also be a
single list of settings that will be applied to each series</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>backgroundColor</code></td>
<td>
<p>a color for the chart background; it can be given by
the name of a R color, the name of a CSS
color, e.g. <code>"aqua"</code> or <code>"indigo"</code>, an HEX code like
<code>"#ff009a"</code>, a RGB code like <code>"rgb(255,100,39)"</code>, or a HSL code
like <code>"hsl(360,11,255)"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xAxis</code></td>
<td>
<p>settings of the x-axis given as a list, or just a string
for the axis title; the list of settings has five possible fields:
a field <code>title</code>, a list of settings for the axis title created
with <code>amText</code>,
a field <code>labels</code>, a list of settings for the axis labels created
with <code>amAxisLabels</code>,
a field <code>adjust</code>, a number defining the vertical adjustment of
the axis (in pixels),
a field <code>gridLines</code>, a list of settings for the grid lines created
with <code>amLine</code>,
and a field <code>breaks</code> to control the axis breaks, an R object created
with <code>amAxisBreaks</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yAxis</code></td>
<td>
<p>settings of the y-axis given as a list, or just a string
for the axis title; the list of settings has five possible fields:
a field <code>title</code>, a list of settings for the axis title created
with <code>amText</code>,
a field <code>labels</code>, a list of settings for the axis labels created
with <code>amAxisLabels</code>,
a field <code>adjust</code>, a number defining the horizontal adjustment of
the axis (in pixels),
a field <code>gridLines</code>, a list of settings for the grid lines created
with <code>amLine</code>,
and a field <code>breaks</code> to control the axis breaks, an R object created
with <code>amAxisBreaks</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scrollbarX</code></td>
<td>
<p>logical, whether to add a scrollbar for the x-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scrollbarY</code></td>
<td>
<p>logical, whether to add a scrollbar for the y-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p><code>FALSE</code> for no legend, <code>TRUE</code> for a legend with
default settings, or a list of settings created with
<code>amLegend</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption</code></td>
<td>
<p><code>NULL</code> or <code>FALSE</code> for no caption, a formatted
text created with <code>amText</code>, or a list with two fields:
<code>text</code>, a list created with <code>amText</code>, and <code>align</code>,
can be <code>"left"</code>, <code>"right"</code> or <code>"center"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>image</code></td>
<td>
<p>option to include an image at a corner of the chart;
<code>NULL</code> or <code>FALSE</code> for no image, otherwise a named list with four
possible fields: the field <code>image</code> (required) is a list created with
<code>amImage</code>,
the field <code>position</code> can be <code>"topleft"</code>, <code>"topright"</code>,
<code>"bottomleft"</code> or <code>"bottomright"</code>, the field <code>hjust</code>
defines the horizontal adjustment, and the field <code>vjust</code> defines
the vertical adjustment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>button</code></td>
<td>
<p><code>NULL</code> for the default, <code>FALSE</code> for no button,
or a list of settings created with <code>amButton</code>; this button is
used to replace the current data with <code>data2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cursor</code></td>
<td>
<p>option to add a cursor on the chart; <code>FALSE</code> for no
cursor, <code>TRUE</code> for a cursor for both axes with default settings
for the axes tooltips,
otherwise a named list with four possible fields: a field
<code>axes</code> to specify the axes for which the cursor is requested, can be
<code>"x"</code>, <code>"y"</code>, or <code>"xy"</code>,
a field <code>tooltip</code> to set the style of the axes tooltips, this
must be a list of settings created with <code>amTooltip</code>,
a field <code>extraTooltipPrecision</code>, a named list of the form
<code>list(x = i, y = j)</code> where <code>i</code> and <code>j</code> are the desired
numbers of additional decimals for the tooltips on the x-axis and
on the y-axis respectively, and a field <code>modifier</code>, a list with two
possible fields, <code>x</code> and <code>y</code>, which defines modifiers for the
values displayed in the tooltips; a modifier is some JavaScript code
given a string, which performs a modification of a string named
<code>text</code>; see the first example of <code>amLineChart</code>
for an example of <code>modifier</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zoomButtons</code></td>
<td>
<p>a Boolean value, or a list created with
<code>amZoomButtons</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>the width of the chart, e.g. <code>"600px"</code> or <code>"80%"</code>;
ignored if the chart is displayed in Shiny, in which case the width is
given in <code>amChart4Output</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>the height of the chart, e.g. <code>"400px"</code>;
ignored if the chart is displayed in Shiny, in which case the height is
given in <code>amChart4Output</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>export</code></td>
<td>
<p>logical, whether to enable the export menu</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chartId</code></td>
<td>
<p>a HTML id for the chart</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>elementId</code></td>
<td>
<p>a HTML id for the container of the chart; ignored if the
chart is displayed in Shiny, in which case the id is given by the Shiny id</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R"># iris data: petal widths ####
dat &lt;- iris
dat$obs &lt;- rep(1:50, 3)
dat &lt;- reshape2::dcast(dat, obs ~ Species, value.var = "Petal.Width")

amScatterChart(
  data = dat,
  width = "700px",
  xValue = "obs",
  yValues = c("setosa", "versicolor", "virginica"),
  draggable = FALSE,
  backgroundColor = "#30303d",
  pointsStyle = list(
    setosa = amCircle(color = "orange", strokeColor = "red"),
    versicolor = amCircle(color = "cyan", strokeColor = "blue"),
    virginica = amCircle(color = "palegreen", strokeColor = "darkgreen")
  ),
  tooltip = "obs: {valueX}\nvalue: {valueY}",
  chartTitle = amText(text = "Iris data", color = "whitesmoke"),
  xAxis = list(title = amText(text = "Observation",
                              fontSize = 21,
                              color = "silver"),
               labels = amAxisLabels(color = "whitesmoke",
                                     fontSize = 17)),
  yAxis = list(title = amText(text = "Petal width",
                              fontSize = 21,
                              color = "silver"),
               labels = amAxisLabels(color = "whitesmoke",
                                     fontSize = 14),
               gridLines = amLine(color = "whitesmoke",
                                  opacity = 0.4, width = 1)),
  Xformatter = "#",
  Yformatter = "#.0",
  caption = amText(text = "[font-style:italic]rAmCharts4[/]",
                   color = "yellow"),
  theme = "dark")


# iris data: petal widths vs petal lengths

dat &lt;- iris
dat$obs &lt;- rep(1:50, 3)
dat &lt;-
  reshape2::dcast(dat, obs + Petal.Length ~ Species, value.var = "Petal.Width")

amScatterChart(
  data = dat,
  width = "700px",
  xValue = "Petal.Length",
  yValues = c("setosa", "versicolor", "virginica"),
  draggable = FALSE,
  backgroundColor = "#30303d",
  pointsStyle = list(
    setosa = amCircle(color = "orange", strokeColor = "red"),
    versicolor = amCircle(color = "cyan", strokeColor = "blue"),
    virginica = amCircle(color = "palegreen", strokeColor = "darkgreen")
  ),
  tooltip = list(
    setosa = amTooltip(
      text = "length: {valueX}\nwidth: {valueY}",
      backgroundColor = "orange",
      borderColor = "red",
      textColor = "black"
    ),
    versicolor = amTooltip(
      text = "length: {valueX}\nwidth: {valueY}",
      backgroundColor = "cyan",
      borderColor = "blue",
      textColor = "black"
    ),
    virginica = amTooltip(
      text = "length: {valueX}\nwidth: {valueY}",
      backgroundColor = "palegreen",
      borderColor = "darkgreen",
      textColor = "black"
    )
  ),
  chartTitle = amText(text = "Iris data", color = "silver"),
  xAxis = list(title = amText(text = "Petal length",
                              fontSize = 19,
                              color = "gold"),
               labels = amAxisLabels(color = "whitesmoke",
                                     fontSize = 17)),
  yAxis = list(title = amText(text = "Petal width",
                              fontSize = 19,
                              color = "gold"),
               labels = amAxisLabels(color = "whitesmoke",
                                     fontSize = 17),
               gridLines = amLine(color = "whitesmoke",
                                  opacity = 0.4, width = 1)),
  cursor = list(
    tooltip = amTooltip(backgroundColor = "lightgray"),
    extraTooltipPrecision = list(x = 1, y = 1)
  ),
  caption = amText(text = "[font-style:italic]rAmCharts4[/]",
                   color = "yellow"),
  theme = "dark")


# scatter chart with trend lines ####

Asym = 5; R0 = 1; lrc = -3/4
x &lt;- seq(-.3, 5, len = 101)
y0 &lt;- Asym + (R0-Asym) * exp(-exp(lrc)* x)

dat &lt;- data.frame(
  x = x,
  y1 = y0 + rnorm(101, sd = 0.33),
  y2 = y0 + rnorm(101, sd = 0.33) + 2
)

amScatterChart(
  data = dat,
  width = "700px",
  xValue = "x",
  yValues = c("y1", "y2"),
  trend = list("_all" = list(
    method = "nls",
    formula = y ~ SSasymp(x, Asym, R0, lrc),
    style = amLine()
  )),
  draggable = FALSE,
  pointsStyle = list(
    y1 = amTriangle(
      width = 8,
      height = 8,
      strokeColor = "yellow",
      strokeWidth = 1
    ),
    y2 = amTriangle(
      width = 8,
      height = 8,
      strokeColor = "chartreuse",
      strokeWidth = 1,
      rotation = 180
    )
  ),
  chartTitle = amText(text = "Asymptotic regression model"),
  xAxis = "x",
  yAxis = "y",
  Xformatter = "#.###",
  Yformatter = "#.",
  theme = "kelly",
  zoomButtons = TRUE)
</code></pre>


</div>