<div class="container">

<table style="width: 100%;"><tr>
<td>segmkf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Segments for cross-validation</h2>

<h3>Description</h3>

<p>Build segments of observations for K-Fold or "test-set" cross-validation (CV). 
</p>
<p>The CV can eventually be randomly repeated. For each repetition:
</p>
<p>- <b>K-fold CV</b> - Function <code>segmkf</code> returns the <code class="reqn">K</code> segments.
</p>
<p>- <b>Test-set CV</b> - Function <code>segmts</code> returns a segment (of a given length) randomly sampled in the dataset.
</p>
<p><b>CV of blocks</b> 
</p>
<p>Argument <code>y</code> allows sampling <b>blocks of observations</b> instead of observations. This can be required when there are repetitions in the data. In such a situation, CV should account for the repetition level (if not, the error rates are in general highly underestimated). For implementing such a CV, object <code>y</code> must be a a vector (<code class="reqn">n</code>) defining the blocks, in the same order as in the data.
</p>
<p>In any cases (<code>y = NULL</code> or not), the functions return a list of vector(s). Each vector contains the indexes of the observations defining the segment.
</p>


<h3>Usage</h3>

<pre><code class="language-R">
segmkf(n, y = NULL, K = 5, 
    type = c("random", "consecutive", "interleaved"), nrep = 1) 

segmts(n, y = NULL, m, nrep) 

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>The total number of row observations in the dataset. If <code>y = NULL</code>, the CV is implemented on <code>1:n</code>. If <code>y != NULL</code>, blocks of observations (defined in <code>y</code>) are sampled instead of observations (but indexes of observations are returned).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A vector (<code class="reqn">n</code>) defining the blocks. Default to <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>For <code>segmkf</code>.The number of folds (i.e. segments) in the K-fold CV.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>For <code>segmkf</code>.The type K-fold CV. Possible values are "random" (default), "consecutive" and "interleaved".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>For <code>segmts</code>. If <code>y = NULL</code>, the number of observations in the segment. If not, the number of blocks in the segment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrep</code></td>
<td>
<p>The number of replications of the repeated CV. Default to <code>nrep = 1</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The segments (lists of indexes).
</p>


<h3>Examples</h3>

<pre><code class="language-R">
Kfold &lt;- segmkf(n = 10, K = 3)

interleavedKfold &lt;- segmkf(n = 10, K = 3, type = "interleaved")

LeaveOneOut &lt;- segmkf(n = 10, K = 10)

RepeatedKfold &lt;- segmkf(n = 10, K = 3, nrep = 2)

repeatedTestSet &lt;- segmts(n = 10, m = 3, nrep = 5)

n &lt;- 10
y &lt;- rep(LETTERS[1:5], 2)
y

Kfold_withBlocks &lt;- segmkf(n = n, y = y, K = 3, nrep = 1)
z &lt;- Kfold_withBlocks 
z
y[z$rep1$segm1]
y[z$rep1$segm2]
y[z$rep1$segm3]

TestSet_withBlocks &lt;- segmts(n = n, y = y, m = 3, nrep = 1)
z &lt;- TestSet_withBlocks
z
y[z$rep1$segm1]

</code></pre>


</div>