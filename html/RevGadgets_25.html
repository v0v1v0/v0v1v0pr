<div class="container">

<table style="width: 100%;"><tr>
<td>processBranchData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>processBranchData</h2>

<h3>Description</h3>

<p>processBranchData
</p>


<h3>Usage</h3>

<pre><code class="language-R">processBranchData(
  tree,
  dat,
  burnin = 0.25,
  parnames = c("avg_lambda", "avg_mu", "num_shifts"),
  summary = "median",
  net_div = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tree</code></td>
<td>
<p>(treedata object; no default) a phylogenetic tree in the
treedata format, or a list of lists of a single tree data object, such as the
output of readTrees().</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>(data.frame or list; no default) a data frame, or a list
(of length 1) of a data frame, with branch specific data, such as the output
of readTrace().</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>burnin</code></td>
<td>
<p>(numeric; 0.25) fraction of the markov-chain to discard</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parnames</code></td>
<td>
<p>(character vector; c("avg_lambda", "avg_mu", "num_shifts"))
Names of parameters to process</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary</code></td>
<td>
<p>(character; "median") function to summarize the continuous
parameter. Typically mean or median</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>net_div</code></td>
<td>
<p>(logical; FALSE) Calculate net diversification?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a treedata file with attached branch-specific data
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# download the example dataset to working directory
url_rates &lt;-
  "https://revbayes.github.io/tutorials/intro/data/primates_BDS_rates.log"
dest_path_rates &lt;- "primates_BDS_rates.log"
download.file(url_rates, dest_path_rates)

url_tree &lt;-
  "https://revbayes.github.io/tutorials/divrate/data/primates_tree.nex"
dest_path_tree &lt;- "primates_tree.nex"
download.file(url_tree, dest_path_tree)

# to run on your own data, change this to the path to your data file
treefile &lt;- dest_path_tree
logfile &lt;- dest_path_rates

branch_data &lt;- readTrace(logfile)
tree &lt;- readTrees(paths = treefile)

annotated_tree &lt;- processBranchData(tree, branch_data, summary = "median")

# you can plot this output
p &lt;- plotTree(tree = annotated_tree,
              node_age_bars = FALSE,
              node_pp = FALSE,
              tip_labels = FALSE,
              color_branch_by = "avg_lambda",
              line_width = 0.8) +
     ggplot2::theme(legend.position=c(.1, .9));p
# remove files
# WARNING: only run for example dataset!
# otherwise you might delete your data!
file.remove(dest_path_tree, dest_path_rates)

</code></pre>


</div>