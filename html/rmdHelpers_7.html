<div class="container">

<table style="width: 100%;"><tr>
<td>refNote</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Generate a popup reference note
</h2>

<h3>Description</h3>

<p>Generates the html needed to include a popup reference note.
Note requires inclusion of javascript libraries for this to function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">refNote(text = "This is a test note", number = "*")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>

<p>Note to include in popup. Line breaks occasionally cause problems.
As this is generally for short notes; I have not come up with 
a general solution yet.
If your note text is complicated, ensure that you check the result.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number</code></td>
<td>

<p>The label to identify the note in the text.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The html for the popup note
</p>


<h3>Note</h3>

<p>The html page also needs to include the javascript and css to process the notes for these to work.
Specifically, need to include the following (generally in the header):
</p>
<pre>
&lt;!-- The javascript to run the popup refernce notes --&gt;
&lt;script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
      jQuery.noConflict();
      jQuery(function() {
        jQuery(".refbody").hide();
        jQuery(".refnum").click(function(event) {
          jQuery(this.nextSibling).toggle();
          event.stopPropagation();
        });
        jQuery("body").click(function(event) {
          jQuery(".refbody").hide();
        });
      });
    &lt;/script&gt;
</pre>
<p>And the following to wherever you include you css definitions:
</p>
<pre>
/* the reference tooltips style starts here */
/* This was stolen from the What If? css sytle sheet
 *  at https://what-if.xkcd.com/css/style.css
 *  in an effort to emulate that style  */

.ref {
    position: relative;
    vertical-align: baseline;
   }

.refnum {
    position: relative;
    left: 2px;
    bottom: 1ex;
    font-family: Verdana, sans-serif;
    color: #005994;
    font-size: .7em;
    font-weight: bold;
    text-decoration: underline;
    cursor: pointer;
}

.refbody {
    font-family: Verdana, sans-serif;
    font-size: .7em;
    line-height: 1.1;
    display: block;
    min-width: 20em;
    position: absolute;
    left: 25px;
    bottom: 5px ;
    border: 1px solid;
    padding: 5px;
    background-color: #fff;
    word-wrap: break-word;
    z-index: 9999;
    overflow: auto;
}

</pre>


<h3>Author(s)</h3>

<p>Mark Peterson
</p>


<h3>References</h3>

<p>This was based on the popups on the https://what-if.xkcd.com/ site
</p>


<h3>Examples</h3>

<pre><code class="language-R">cat(refNote())

cat(refNote("Any text can go in here", 42))
</code></pre>


</div>