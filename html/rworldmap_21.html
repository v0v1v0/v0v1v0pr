<div class="container">

<table style="width: 100%;"><tr>
<td>joinData2Map</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Joins user polygon attribute data to a map</h2>

<h3>Description</h3>

<p>Joins user polygon attribute data to a map of polygon boundaries.  The map
can either be one stored in the package or provided by the user.  Returns a
spatialPolygonsDataFrame ready for plotting using <code>mapPolys</code>.
Reports join successes and failures.
</p>


<h3>Usage</h3>

<pre><code class="language-R">joinData2Map(
  dF = "",
  nameMap = "",
  nameJoinIDMap = "ISO3",
  nameJoinColumnData = "ISO3V10",
  nameNameColumnData = "Country",
  suggestForFailedCodes = FALSE,
  projection = NA,
  mapResolution = "coarse",
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dF</code></td>
<td>
<p>R data frame with at least one column of polygon IDs and one
column of data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nameMap</code></td>
<td>
<p>the map to join the attribute data too</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nameJoinIDMap</code></td>
<td>
<p>the name of the joinIDs in the map</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nameJoinColumnData</code></td>
<td>
<p>name of column in the data containing country
referencing</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nameNameColumnData</code></td>
<td>
<p>optional name of column in the data containing
polygon names (used in reporting of success/failure)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suggestForFailedCodes</code></td>
<td>
<p>NOT YET ENABLED T/F whether you want system to
suggest for failed codes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>projection</code></td>
<td>
<p>DEPRECATED JUNE 2012</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mapResolution</code></td>
<td>
<p>resolution of the borders in the internal map: options
'coarse','low', 'less islands'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>if set to FALSE progress messages to console are restricted</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Joins user polygon attribute data provided in a 'data frame' to a map of
polygon boundaries.  The map can either be one stored in the package or
provided by the user.  Returns a spatialPolygonsDataFrame ready for plotting
using <code>mapPolys</code>.  Reports join successes and failures.
</p>
<p>The user specifies the name of the column in their data containing polygon
referencing.
</p>
<p>The user can choose from different internal map resolutions.  Uses the
function <code>getMap</code> to retrieve the map.
</p>


<h3>Value</h3>

<p>An R 'SpatialPolygonsDataFrame' [package "sp"] object with the data
joined to it
</p>


<h3>Author(s)</h3>

<p>andy south
</p>


<h3>See Also</h3>

<p><code>mapPolys</code>, <code>getMap</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

## this example uses downloaded files
## to run it download the files
## and remove the comment symbols '#' from all the lines starting with a single '#'

## US states map downloaded from :
## http://www2.census.gov/cgi-bin/shapefiles2009/national-files

#inFile &lt;- 'tl_2009_us_stateec.shp'
#sPDF &lt;- readShapePoly(inFile)

##################
## use mapPolys to map the sPDF
#mapPolys(sPDF,nameColumnToPlot = "ALANDEC")
#mapPolys(sPDF,nameColumnToPlot = "AWATEREC",mapRegion='North America')

##################
## join some other data to it
## education data downloaded from here as xls then saved as csv
## http://nces.ed.gov/ccd/drpcompstatelvl.asp

#dataFile &lt;- 'SDR071A_xls.csv'
#dF &lt;- read.csv(dataFile,as.is=TRUE)
#str(dF)
## STATENAME
## DRP912 Dropout Rate, Grades 9 through 12

## joining the data to the map
## based upon state names (column NAMEEC in map, and STATENAME in the data)
#sPDF2 &lt;- joinData2Map(dF
#        , nameMap = sPDF
#        , nameJoinIDMap = "NAMEEC"
#        , nameJoinColumnData = "STATENAME")

#################
## plot one of the attribute variables
#mapDevice()# to set nice shape map window
#mapPolys(sPDF2,nameColumnToPlot = "DRP912",mapRegion='North America')


</code></pre>


</div>