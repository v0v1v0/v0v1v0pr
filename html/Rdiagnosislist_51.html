<div class="container">

<table style="width: 100%;"><tr>
<td>simplify</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Retrieves closest single ancestor within a given set of SNOMED CT
concepts</h2>

<h3>Description</h3>

<p>Returns a vector of SNOMED CT concept IDs for an ancestor of each
concept that is within a second list. If multiple ancestors are
included in the second list, the concept is not simplified (i.e.
the original concept ID is returned).
This functionality can be used to translate concepts into simpler
forms for display, e.g. 'Heart failure' instead of 'Heart failure
with reduced ejection fraction'.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simplify(
  conceptIds,
  ancestorIds,
  SNOMED = getSNOMED(),
  tables = c("RELATIONSHIP", "STATEDRELATIONSHIP")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>conceptIds</code></td>
<td>
<p>character or integer64 vector of SNOMED concept IDs
for concepts for which an ancestor is sought</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ancestorIds</code></td>
<td>
<p>character or integer64 vector of SNOMED concept IDs
for possible ancestors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SNOMED</code></td>
<td>
<p>environment containing a SNOMED dictionary</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tables</code></td>
<td>
<p>character vector of relationship tables to use</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is intended for use with active SNOMED CT concepts only.
</p>


<h3>Value</h3>

<p>a data.table with the following columns:
originalId (integer64) = original conceptId,
ancestorId (integer64) = closest single ancestor, or original
concept ID if no ancestor is included among ancestorIds
</p>


<h3>Examples</h3>

<pre><code class="language-R">SNOMED &lt;- sampleSNOMED()

original_terms &lt;- c('Systolic heart failure', 'Is a',
  'Heart failure with reduced ejection fraction',
  'Acute kidney injury due to circulatory failure (disorder)')
# Note in this example 'Is a' has no parents in ancestors,
# and acute kidney failure has two parents in ancestors
# so neither of the parents will be chosen.
# Also test out inclusion of duplicate concepts.

ancestors &lt;- simplify(c(as.SNOMEDconcept(original_terms),
  as.SNOMEDconcept(original_terms)[3:4]),
  as.SNOMEDconcept(c('Heart failure', 'Acute heart failure',
  'Cardiorenal syndrome (disorder)')))
print(cbind(original_terms, description(ancestors$ancestorId)$term))
</code></pre>


</div>