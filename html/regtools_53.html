<div class="container">

<table style="width: 100%;"><tr>
<td>lmac,makeNA,coef.lmac,vcov.lmac,pcac,loglinac,tbltofakedf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Available Cases Method for Missing Data</h2>

<h3>Description</h3>

<p>Various estimators that handle missing data via the Available Cases Method
</p>


<h3>Usage</h3>

<pre><code class="language-R">lmac(xy,nboot=0) 
makeNA(m,probna)
NAsTo0s(x)
ZerosToNAs(x,replaceVal=0)
## S3 method for class 'lmac'
coef(object,...)
## S3 method for class 'lmac'
vcov(object,...)
pcac(indata,scale=FALSE) 
loglinac(x,margin) 
tbltofakedf(tbl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>replaceVal</code></td>
<td>
<p>Value to be replaced by NA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xy</code></td>
<td>
<p>Matrix or data frame, X values in the first columns, Y
in the last column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indata</code></td>
<td>
<p>Matrix or data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Matrix or data frame, one column per variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nboot</code></td>
<td>
<p>If positive, number of bootstrap samples to take.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probna</code></td>
<td>
<p>Probability that an element will be NA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>If TRUE, call <code>cor</code> instead of <code>cov</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tbl</code></td>
<td>
<p>An R table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>Number of synthetic NAs to insert.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Output from <code>lmac</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Needed for consistency with generic function.  Not used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin</code></td>
<td>
<p>A list of vectors specifying the model, as in
<code>loglin</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The Available Cases (AC) approach applies to statistical methods that
depend only on products of k of the variables, so that cases having
non-NA values for those k variables can be used, as opposed to using
only cases that are fully intact in all variables, the Complete Cases
(CC) approach.  In the case of linear regression, for instance, the
estimated coefficients depend only on covariances between the
variables (both predictors and response).  This approach assumes thst
the cases with missing values have the same distribution as the
intact cases.
</p>
<p>The <code>lmac</code> function forms OLS estimates as with <code>lm</code>, but
applying AC, in contrast to <code>lm</code>, which uses the CC method.
</p>
<p>The <code>pcac</code> function is an AC substitute for <code>prcomp</code>. The
data is centered, corresponding to a fixed value of <code>center =
   TRUE</code> in <code>prcomp</code>.  It is also scaled if <code>scale</code> is TRUE,
corresponding <code>scale = TRUE</code> in <code>prcomp</code>. Due to AC,
there is a small chance of negative eigenvalues, in which case
<code>stop</code> will be called.
</p>
<p>The <code>loglinac</code> function is an AC substitute for <code>loglin</code>.
The latter takes tables as input, but <code>loglinac</code> takes the raw
data. If you have just the table, use <code>tbltofakedf</code> to
regenerate a usable data frame.
</p>
<p>The <code>makeNA</code> function is used to insert random NA values into
data, for testing purposes.
</p>


<h3>Value</h3>

<p>For <code>lmac</code>, an object of class <code>lmac</code>, with components
</p>

<ul>
<li>
<p>coefficients, as with <code>lm</code>; 
accessible directly or by calling <code>coef</code>, as with <code>lm</code>
</p>
</li>
<li>
<p>fitted.values, as with <code>lm</code>
</p>
</li>
<li>
<p>residuals, as with <code>lm</code>
</p>
</li>
<li>
<p>r2, (unadjusted) R-squared
</p>
</li>
<li>
<p>cov, for <code>nboot &gt; 0</code> the estimated covariance matrix
of the vector of estimated regression coefficients; accessible
directly or by calling <code>vcov</code>, as with <code>lm</code> 
</p>
</li>
</ul>
<p>For <code>pcac</code>, an R list, with components
</p>

<ul>
<li>
<p>sdev, as with <code>prcomp</code>
</p>
</li>
<li>
<p>rotation, as with <code>prcomp</code>
</p>
</li>
</ul>
<p>For <code>loglinac</code>, an R list, with components
</p>

<ul>
<li>
<p>param, estimated coefficients, as in <code>loglin</code>
</p>
</li>
<li>
<p>fit, estimated expected call counts, as in <code>loglin</code>
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Norm Matloff
</p>


<h3>Examples</h3>

<pre><code class="language-R">n &lt;- 25000
w &lt;- matrix(rnorm(2*n),ncol=2)  # x and epsilon
x &lt;- w[,1]
y &lt;- x + w[,2]
# insert some missing values
nmiss &lt;- round(0.1*n)
x[sample(1:n,nmiss)] &lt;- NA
nmiss &lt;- round(0.2*n)
y[sample(1:n,nmiss)] &lt;- NA
acout &lt;- lmac(cbind(x,y))
coef(acout)  # should be near pop. values 0 and 1
</code></pre>


</div>