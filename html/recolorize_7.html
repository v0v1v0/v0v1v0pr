<div class="container">

<table style="width: 100%;"><tr>
<td>assignPixels</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Assign a 2D matrix of pixels to specified colors</h2>

<h3>Description</h3>

<p>Assign a 2D matrix of pixels to specified colors
</p>


<h3>Usage</h3>

<pre><code class="language-R">assignPixels(
  centers,
  pixel_matrix,
  color_space = "Lab",
  ref_white = "D65",
  adjust_centers = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>centers</code></td>
<td>
<p>Matrix of color centers (rows = colors, columns = channels).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pixel_matrix</code></td>
<td>
<p>Matrix of pixel colors (rows = pixels, columns = channels).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_space</code></td>
<td>
<p>Color space in which to minimize distances, passed to
<code>grDevices{convertColor}</code>. One of "sRGB", "Lab", "Luv", or
"XYZ". Default is "Lab", a perceptually uniform (for humans) color space.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref_white</code></td>
<td>
<p>Reference white for converting to different color spaces.
D65 (the default) corresponds to standard daylight.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjust_centers</code></td>
<td>
<p>Logical. Should the returned color clusters be the
average value of the pixels assigned to that cluster? See details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is a largely internal function called by <code>imposeColors</code>
for recoloring an image based on extrinsic colors. If <code>adjust_centers = TRUE</code>,
then after assigning pixels to given color centers, the location of each color center
is replaced by the average color of all the pixels assigned to that center.
</p>


<h3>Value</h3>

<p>A list of class <code>color_clusters</code>, containing:
</p>

<ol>
<li> <p><code>pixel_assignments</code>: The color center assignment for each pixel.
</p>
</li>
<li> <p><code>centers</code>: A matrix of color centers. If <code>adjust_centers = FALSE</code>, this will be identical to the input of <code>centers</code>.
</p>
</li>
<li> <p><code>sizes</code>: The number of pixels assigned to each cluster.
</p>
</li>
</ol>
<h3>Examples</h3>

<pre><code class="language-R">
# RGB extremes (white, black, red, green, blue, yellow, magenta, cyan)
ctrs &lt;- matrix(c(1, 1, 1,
                 0, 0, 0,
                 1, 0, 0,
                 0, 1, 0,
                 0, 0, 1,
                 1, 1, 0,
                 1, 0, 1,
                 0, 1, 1), byrow = TRUE, ncol = 3)

# plot it
recolorize::plotColorPalette(ctrs)

# create a pixel matrix of random colors
pixel_matrix &lt;- matrix(runif(3000), ncol = 3)

# assign pixels
reassigned &lt;- recolorize::assignPixels(ctrs, pixel_matrix, adjust_centers = TRUE)
recolorize::plotColorPalette(reassigned$centers)

# if we turn off adjust_centers, the colors remain the same as the inputs:
keep.centers &lt;- recolorize::assignPixels(ctrs, pixel_matrix, adjust_centers = FALSE)
recolorize::plotColorPalette(keep.centers$centers)

</code></pre>


</div>