<div class="container">

<table style="width: 100%;"><tr>
<td>dataPrep</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reformat a user-provided dataframe in a generic form appropriate for <em>rties</em> modeling</h2>

<h3>Description</h3>

<p>The dataframe must be in a specific format and include several specific variables. See the "overview_data_prep" vignette for complete details on the necessary format and follow it closely if you'd like to avoid error messages. That vignette also includes information on how to structure the data if you have two variables within people (rather thean two people within dyads) or have indistinguishable dyads.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dataPrep(
  basedata,
  dyadId,
  personId,
  obs_name,
  dist_name,
  time_name,
  time_lag = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>basedata</code></td>
<td>
<p>A user-provided dataframe that includes all variables needed for an rties analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dyadId</code></td>
<td>
<p>The name of the column in the dataframe that has the dyad-level identifier.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>personId</code></td>
<td>
<p>The name of the column in the dataframe that has the person-level identifier.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs_name</code></td>
<td>
<p>The name of the column in the dataframe that has the time-varying observable (e.g., the variable for which dynamics will be assessed).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist_name</code></td>
<td>
<p>The name of the column in the dataframe that has a variable that distinguishes the partners (e.g., sex, mother/daughter, etc) that is numeric and scored 0/1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_name</code></td>
<td>
<p>The name of the column in the dataframe that indicates sequential temporal observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_lag</code></td>
<td>
<p>An optional argument for the number of lags for the lagged observable. If a number is provided, the observed variable is lagged that amount. The other option is to use "absMaxCC". In this case the maximum cross-correlation is found for each dyad and the lag at which that occurs is used to lag their observed variables.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The function returns a dataframe that has all the variables needed for modeling system dynamics, each renamed to a generic variable name, which are:
</p>

<ul>
<li>
<p> id = person id
</p>
</li>
<li>
<p> dyad = dyad id
</p>
</li>
<li>
<p> obs = observed state variable
</p>
</li>
<li>
<p> dist1 = 0/1 variable where the 1's indicate the 1's in the original distinguishing variable
</p>
</li>
<li>
<p> time = the variable indicating temporal sequence
</p>
</li>
<li>
<p> dist0 = 0/1 variable where the 1's indicate the 0's in the original distinguishing variable
</p>
</li>
<li>
<p> obs_deTrend = the observed state variable with each person's linear trend removed
</p>
</li>
<li>
<p> p_ = all the same variables, but for a person's partner rather than themselves
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">data &lt;- rties_ExampleDataShort
newData &lt;- dataPrep(basedata=data, dyadId="couple", personId="person", obs_name="dial", 
dist_name="female", time_name="time", time_lag=2)
head(newData) 
 
</code></pre>


</div>