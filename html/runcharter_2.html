<div class="container">

<table style="width: 100%;"><tr>
<td>runcharter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>runcharter</h2>

<h3>Description</h3>

<p>Finds all runs of desired  length occurring on desired side of median line.
Can also find runs occurring on both sides of the line, though this is of
limited use in terms of quality improvement.
Re-bases median each time a run is discovered.
</p>


<h3>Usage</h3>

<pre><code class="language-R">runcharter(
  df,
  med_rows = 13,
  runlength = 9,
  direction = c("above", "below", "both"),
  datecol = NULL,
  grpvar = NULL,
  yval = NULL,
  facet_cols = NULL,
  facet_scales = "fixed",
  chart_title = NULL,
  chart_subtitle = NULL,
  chart_caption = NULL,
  chart_breaks = NULL,
  line_colr = "#005EB8",
  line_size = 1.1,
  point_colr = "#005EB8",
  point_size = 2.5,
  median_colr = "#E87722",
  median_line_size = 1.05,
  highlight_fill = "#DB1884",
  highlight_point_size = 2.7
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>data.frame or data table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>med_rows</code></td>
<td>
<p>number of points to calculate initial baseline median</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>runlength</code></td>
<td>
<p>length of run that will trigger re-phased median</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>should run occur "above", "below" or on "both" sides of median</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datecol</code></td>
<td>
<p>name of date column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grpvar</code></td>
<td>
<p>character vector of grouping variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yval</code></td>
<td>
<p>numeric y value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet_cols</code></td>
<td>
<p>how many columns are required in the plot facets</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet_scales</code></td>
<td>
<p>defaults to "fixed". Alternatively, "free_y"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chart_title</code></td>
<td>
<p>title for the  final chart</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chart_subtitle</code></td>
<td>
<p>subtitle for chart</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chart_caption</code></td>
<td>
<p>caption for chart</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chart_breaks</code></td>
<td>
<p>character string defining desired x-axis date / datetime breaks.
If the x axis is not a Date or datetime, then this argument is ignored, 
and ggplot2 will provide default breaks</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line_colr</code></td>
<td>
<p>colour for run chart lines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line_size</code></td>
<td>
<p>thickness of connecting lines between run chart points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_colr</code></td>
<td>
<p>colour for run chart points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_size</code></td>
<td>
<p>size of normal run chart points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>median_colr</code></td>
<td>
<p>colour for solid and extended median lines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>median_line_size</code></td>
<td>
<p>thickness of solid and extended median lines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>highlight_fill</code></td>
<td>
<p>fill colour for highlighting points in a sustained run</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>highlight_point_size</code></td>
<td>
<p>size of highlighted points in a sustained run</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Facets and axis limits are handled by ggplot, though x-axis breaks can be
specified using the appropriate character string e.g. "3 months" if they are
either of class dates or datetime
</p>


<h3>Value</h3>

<p>list - faceted plot and data.table showing all identified runs
</p>


<h3>Examples</h3>

<pre><code class="language-R">
runcharter(signals, med_rows = 13, runlength = 9,
direction = "above", datecol = date, grpvar = grp, yval = y,
facet_cols = 2,chart_title = "Automated runs analysis",
chart_subtitle = " some runs found", chart_caption = "powered by R",
chart_breaks = "6 months")




</code></pre>


</div>