<div class="container">

<table style="width: 100%;"><tr>
<td>rvn_apply_wyearly</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Apply function for water year</h2>

<h3>Description</h3>

<p>rvn_apply_wyearly calculates a function FUN for the periods defined by the water
year, similar to other functions of the form apply.&lt;time period&gt;, for
example apply.daily, apply.monthly, etc.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rvn_apply_wyearly(x, FUN, ..., mm = 9, dd = 30)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>xts vector to calculate FUN for</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>the function to be applied</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional arguments to FUN</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mm</code></td>
<td>
<p>month of water year ending (default 9)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dd</code></td>
<td>
<p>day of water year ending (default 30)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The default water year start is
October 1st, but may be adjusted with the mm and dd arguments. The values for
mm and dd indicate the end of the water year period (i.e. mm=9 and dd=30 indicates
a new water year on Oct 1).
</p>
<p>Note that if using <code>FUN=mean</code>, please use <code>FUN=colMeans</code> instead.
</p>


<h3>See Also</h3>

<p><code>rvn_wyear_indices</code> for obtaining endpoints in the water year
</p>


<h3>Examples</h3>

<pre><code class="language-R"># use sample forcing data (or use forcings_read to read in ForcingFunctions.csv)
data(rvn_forcing_data)

# apply mean (with colMeans) as FUN to daily average temperature
rvn_apply_wyearly(rvn_forcing_data$forcings$temp_daily_ave,colMeans,na.rm=TRUE)

# apply mean as FUN to all forcings
rvn_apply_wyearly(rvn_forcing_data$forcings,colMeans,na.rm=TRUE)

# apply maximum via RavenR::cmax as FUN to all forcings (takes the max in each column)
## note that the base::max will not work properly here
rvn_apply_wyearly(rvn_forcing_data$forcings,cmax,na.rm=TRUE)

# apply to Australian water year (July 1)
rvn_apply_wyearly(rvn_forcing_data$forcings,cmax,na.rm=TRUE, mm=6, dd=30)

</code></pre>


</div>