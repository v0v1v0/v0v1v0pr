<div class="container">

<table style="width: 100%;"><tr>
<td>RPChoose</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Chooses projection</h2>

<h3>Description</h3>

<p>Chooses a the best projection from a set of size <code>B2</code> based on a test error estimate, then classifies the training and test sets using the chosen projection.</p>


<h3>Usage</h3>

<pre><code class="language-R">RPChoose(XTrain, YTrain, XTest, d, B2 = 10, base = "LDA", k = c(3,5), 
projmethod = "Haar", estmethod = "training", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>XTrain</code></td>
<td>
<p>An <code>n</code> by <code>p</code> matrix containing the training data feature vectors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>YTrain</code></td>
<td>
<p>A vector of length <code>n</code> of the classes (either 1 or 2) of the training data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>XTest</code></td>
<td>
<p>An <code>n.test</code> by <code>p</code> matrix of the test data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>The lower dimension of the image space of the projections</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B2</code></td>
<td>
<p>The block size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>The base classifier one of <code>"knn","LDA","QDA"</code> or <code>"other"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>The options for <code>k</code> if base is <code>"knn"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>projmethod</code></td>
<td>
<p>Either <code>"Haar"</code>, <code>"Gaussian"</code> or <code>"axis"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estmethod</code></td>
<td>
<p>Method for estimating the test errors to choose the projection: either training error <code>"training"</code> or leave-one-out <code>"loo"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optional further arguments if <code>base = "other"</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Randomly projects the the data <code>B2</code> times. Chooses the projection yielding the smallest estimate of the test error. Classifies the training set (via the same method as <code>estmethod</code>) and test set using the chosen projection.</p>


<h3>Value</h3>

<p>Returns a vector of length <code>n + n.test</code>: the first <code>n</code> entries are the estimated classes of the training set, the last <code>n.test</code> are the estimated classes of the test set.</p>


<h3>Note</h3>

<p>Resubstitution method unsuitable for the <code>k</code>-nearest neighbour classifier.</p>


<h3>Author(s)</h3>

<p>Timothy I. Cannings and Richard J. Samworth</p>


<h3>References</h3>

<p>Cannings, T. I. and Samworth, R. J. (2017) Random-projection ensemble classification, J. Roy. Statist. Soc., Ser. B. (with discussion), 79, 959â€“1035</p>


<h3>See Also</h3>

<p><code>RPParallel</code>,  <code>RPChooseSS</code>, <code>lda</code>, <code>qda</code>, <code>knn</code></p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(100)
Train &lt;- RPModel(1, 50, 100, 0.5)
Test &lt;- RPModel(1, 100, 100, 0.5)
Choose.out5 &lt;- RPChoose(XTrain = Train$x, YTrain = Train$y, XTest = Test$x, 
d = 2, B2 = 5, base = "QDA", projmethod = "Haar", estmethod = "loo")
Choose.out10 &lt;- RPChoose(XTrain = Train$x, YTrain = Train$y, XTest = Test$x, 
d = 2, B2 = 10, base = "QDA", projmethod = "Haar", estmethod = "loo")
sum(Choose.out5[1:50] != Train$y)
sum(Choose.out10[1:50] != Train$y)
sum(Choose.out5[51:150] != Test$y)
sum(Choose.out10[51:150] != Test$y)
</code></pre>


</div>