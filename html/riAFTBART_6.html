<div class="container">

<table style="width: 100%;"><tr>
<td>plot.riAFTBART_survProb</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot the fitted survival curves from riAFT-BART model</h2>

<h3>Description</h3>

<p>This function plot the mean/individual survival curves from a fitted riAFT-BART model
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'riAFTBART_survProb'
plot(x, test.only = FALSE, train.only = TRUE, id = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object from cal_surv_prob() function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test.only</code></td>
<td>
<p>A logical indicating whether or not only data from the test set should be computed. The default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>train.only</code></td>
<td>
<p>A logical indicating whether or not only data from the training set should be computed. The default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>A vector representing the IDs for the individual survival curves to plot. The default is NULL and the mean survival curves will be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A plot
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(riAFTBART)
set.seed(20181223)
n = 5       # number of clusters
k = 50      # cluster size
N = n*k     # total sample size
cluster.id = rep(1:n, each=k)
tau.error = 0.8
b = stats::rnorm(n, 0, tau.error)
alpha = 2
beta1 = 1
beta2 = -1
sig.error = 0.5
censoring.rate = 0.02
x1 = stats::rnorm(N,0.5,1)
x2 = stats::rnorm(N,1.5,0.5)
trt.train = sample(c(1,2,3), N, prob = c(0.4,0.3,0.2), replace = TRUE)
trt.test = sample(c(1,2,3), N, prob = c(0.3,0.4,0.2), replace = TRUE)
error = stats::rnorm(N,0,sig.error)
logtime = alpha + beta1*x1 + beta2*x2 + b[cluster.id] + error
y = exp(logtime)
C = rexp(N, rate=censoring.rate) # censoring times
Y = pmin(y,C)
status = as.numeric(y&lt;=C)
res &lt;- riAFTBART_fit(M.burnin = 10, M.keep = 10, M.thin = 1, status = status,
                      y.train = Y, trt.train = trt.train, trt.test = trt.test,
                      x.train = cbind(x1,x2),
                      x.test = cbind(x1,x2),
                      cluster.id = cluster.id)
surv_prob_res &lt;- cal_surv_prob(object = res, time.points = sort(exp(logtime)),
test.only = TRUE, cluster.id = cluster.id)
plot(x = surv_prob_res, test.only = TRUE, train.only = FALSE)

</code></pre>


</div>