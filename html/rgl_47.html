<div class="container">

<table style="width: 100%;"><tr>
<td>planes3d</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add planes</h2>

<h3>Description</h3>

<p><code>planes3d</code> adds mathematical planes 
to a scene.  Their intersection with the current
bounding box will be drawn.  <code>clipplanes3d</code> 
adds clipping planes to a scene.
</p>


<h3>Usage</h3>

<pre><code class="language-R">planes3d(a, b = NULL, c = NULL, d = 0, ...)
clipplanes3d(a, b = NULL, c = NULL, d = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a, b, c</code></td>
<td>

<p>Coordinates of the normal to the plane.  Any reasonable way of defining the
coordinates is acceptable.  See the function <code>xyz.coords</code>
for details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>

<p>Coordinates of the "offset".  See the details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Material properties. See <code>material3d</code> for details.  
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>planes3d</code> draws planes using the parametrization
<code class="reqn">a x + b y + c z + d = 0</code>.  Multiple planes may be specified
by giving multiple values for any of <code>a, b, c, d</code>; the other 
values will be recycled as necessary.
</p>
<p><code>clipplanes3d</code> defines clipping planes
using the same equations.  Clipping planes suppress the display of
other objects (or parts of them) in the subscene, based on their coordinates.
Points (or parts of lines or surfaces) where the coordinates <code>x, y, z</code>
satisfy <code class="reqn">a x + b y + c z + d &lt; 0</code> will be suppressed.
</p>
<p>The number of clipping planes
supported by the OpenGL driver is implementation dependent; use
<code>par3d("maxClipPlanes")</code> to find the limit.
</p>


<h3>Value</h3>

<p>A shape ID of the planes or clipplanes object is returned invisibly.
</p>


<h3>See Also</h3>

<p><code>abclines3d</code> for mathematical lines.
</p>
<p><code>triangles3d</code> or the corresponding
functions for quadrilaterals may be used to draw sections of planes that
do not adapt to the bounding box.
</p>
<p>The example in subscene3d shows how to combine clipping planes
to suppress complex shapes.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Show regression plane with z as dependent variable

open3d()
x &lt;- rnorm(100)
y &lt;- rnorm(100)
z &lt;- 0.2*x - 0.3*y + rnorm(100, sd = 0.3)
fit &lt;- lm(z ~ x + y)
plot3d(x, y, z, type = "s", col = "red", size = 1)

coefs &lt;- coef(fit)
a &lt;- coefs["x"]
b &lt;- coefs["y"]
c &lt;- -1
d &lt;- coefs["(Intercept)"]
planes3d(a, b, c, d, alpha = 0.5)

open3d()
ids &lt;- plot3d(x, y, z, type = "s", col = "red", size = 1, forceClipregion = TRUE) 
oldid &lt;- useSubscene3d(ids["clipregion"])
clipplanes3d(a, b, c, d)
useSubscene3d(oldid)
</code></pre>


</div>