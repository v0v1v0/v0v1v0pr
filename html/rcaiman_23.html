<div class="container">

<table style="width: 100%;"><tr>
<td>extract_sky_points_simple</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract sky points</h2>

<h3>Description</h3>

<p>Extract sky points for model fitting
</p>


<h3>Usage</h3>

<pre><code class="language-R">extract_sky_points_simple(r, z, a)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>SpatRaster. A normalized greyscale image. Typically, the
blue channel extracted from a canopy photograph. Please see <code>read_caim()</code>
and <code>normalize()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>SpatRaster built with <code>zenith_image()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>SpatRaster built with <code>azimuth_image()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function will automatically sample sky pixels following this simple
strategy:
</p>

<ul>
<li>
<p> mask out the region of <code>r</code> above 15 and below 75 degrees of zenith angle,
</p>
</li>
<li>
<p> divide the hemisphere into sectors of 15 degrees each
(see <code>sectors_segmentation()</code>),
</p>
</li>
<li>
<p> search for the maximum digital value in each sector (n = 24),
</p>
</li>
<li>
<p> divide the hemisphere into rings of 5 degrees each
(see <code>rings_segmentation()</code>,
</p>
</li>
<li>
<p> search for the maximum digital value in each ring (n = 12)
</p>
</li>
<li>
<p> combine these local maxima (n = 36).
</p>
</li>
</ul>
<h3>Value</h3>

<p>An object of the class <em>data.frame</em> with two columns named
<em>col</em> and <em>row</em>.
</p>


<h3>See Also</h3>

<p>Other Tool Functions: 
<code>colorfulness()</code>,
<code>correct_vignetting()</code>,
<code>defuzzify()</code>,
<code>extract_dn()</code>,
<code>extract_feature()</code>,
<code>extract_rl()</code>,
<code>extract_sky_points()</code>,
<code>extract_sun_coord()</code>,
<code>find_sky_pixels_nonnull()</code>,
<code>find_sky_pixels()</code>,
<code>masking()</code>,
<code>optim_normalize()</code>,
<code>percentage_of_clipped_highlights()</code>,
<code>read_bin()</code>,
<code>read_caim_raw()</code>,
<code>read_caim()</code>,
<code>write_bin()</code>,
<code>write_caim()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
path &lt;- system.file("external/DSCN4500.JPG", package = "rcaiman")
caim &lt;- read_caim(path, c(1250, 1020) - 745, 745 * 2, 745 * 2)
z &lt;- zenith_image(ncol(caim), lens("Nikon_FCE9"))
a &lt;- azimuth_image(z)
r &lt;- gbc(caim$Blue)
sky_points &lt;- extract_sky_points_simple(r, z, a)
plot(r)
points(sky_points$col, nrow(caim) - sky_points$row, col = 2, pch = 10)

## End(Not run)

</code></pre>


</div>