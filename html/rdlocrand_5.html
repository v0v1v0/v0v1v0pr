<div class="container">

<table style="width: 100%;"><tr>
<td>rdsensitivity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sensitivity analysis for RD designs under local randomization</h2>

<h3>Description</h3>

<p><code>rdsensitivity</code> analyze the sensitivity of randomization p-values
and confidence intervals to different window lengths.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rdsensitivity(
  Y,
  R,
  cutoff = 0,
  wlist,
  wlist_left,
  tlist,
  statistic = "diffmeans",
  p = 0,
  evalat = "cutoff",
  kernel = "uniform",
  fuzzy = NULL,
  ci = NULL,
  ci_alpha = 0.05,
  reps = 1000,
  seed = 666,
  nodraw = FALSE,
  quietly = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>a vector containing the values of the outcome variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>a vector containing the values of the running variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p>the RD cutoff (default is 0).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wlist</code></td>
<td>
<p>the list of windows to the right of the cutoff. By default the program constructs 10 windows around the cutoffwith 5 observations each.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wlist_left</code></td>
<td>
<p>the list of windows  to the left of the cutoff. If not specified, the windows are constructed symmetrically around the cutoff based on the values in wlist.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tlist</code></td>
<td>
<p>the list of values of the treatment effect under the null to be evaluated. By default the program employs ten evenly spaced points within the asymptotic confidence interval for a constant treatment effect in the smallest window to be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statistic</code></td>
<td>
<p>the statistic to be used in the balance tests. Allowed options are <code>diffmeans</code> (difference in means statistic), <code>ksmirnov</code> (Kolmogorov-Smirnov statistic) and <code>ranksum</code> (Wilcoxon-Mann-Whitney standardized statistic). Default option is <code>diffmeans</code>. The statistic <code>ttest</code> is equivalent to <code>diffmeans</code> and included for backward compatibility.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>the order of the polynomial for outcome adjustment model. Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>evalat</code></td>
<td>
<p>specifies the point at which the adjusted variable is evaluated. Allowed options are <code>cutoff</code> and <code>means</code>. Default is <code>cutoff</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kernel</code></td>
<td>
<p>specifies the type of kernel to use as weighting scheme. Allowed kernel types are <code>uniform</code> (uniform kernel), <code>triangular</code> (triangular kernel) and <code>epan</code> (Epanechnikov kernel). Default is <code>uniform</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fuzzy</code></td>
<td>
<p>indicates that the RD design is fuzzy. <code>fuzzy</code> can be specified as a vector containing the values of the endogenous treatment variable, or as a list where the first element is the vector of endogenous treatment values and the second element is a string containing the name of the statistic to be used. Allowed statistics are <code>ar</code> (Anderson-Rubin statistic) and <code>tsls</code> (2SLS statistic). Default statistic is <code>ar</code>. The <code>tsls</code> statistic relies on large-sample approximation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>returns the confidence interval corresponding to the indicated window length. <code>ci</code> has to be a two-dimensional vector indicating the left and right limits of the window. Default alpha is .05 (95% level CI).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci_alpha</code></td>
<td>
<p>Specifies value of alpha for the confidence interval. Default alpha is .05 (95% level CI).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reps</code></td>
<td>
<p>number of replications. Default is 1000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>the seed to be used for the randomization tests.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nodraw</code></td>
<td>
<p>suppresses contour plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quietly</code></td>
<td>
<p>suppresses the output table.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tlist</code></td>
<td>
<p>treatment effects grid</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wlist</code></td>
<td>
<p>window grid</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>results</code></td>
<td>
<p>table with corresponding p-values for each window and treatment effect pair.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>confidence interval (if <code>ci</code> is specified).</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Matias Cattaneo, Princeton University. <a href="mailto:cattaneo@princeton.edu">cattaneo@princeton.edu</a>
</p>
<p>Rocio Titiunik, Princeton University. <a href="mailto:titiunik@princeton.edu">titiunik@princeton.edu</a>
</p>
<p>Gonzalo Vazquez-Bare, UC Santa Barbara. <a href="mailto:gvazquez@econ.ucsb.edu">gvazquez@econ.ucsb.edu</a>
</p>


<h3>References</h3>

<p>Cattaneo, M.D., R. Titiunik and G. Vazquez-Bare. (2016). <a href="https://rdpackages.github.io/references/Cattaneo-Titiunik-VazquezBare_2016_Stata.pdf">Inference in Regression Discontinuity Designs under Local Randomization</a>. <em>Stata Journal</em> 16(2): 331-367.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Toy dataset
R &lt;- runif(100,-1,1)
Y &lt;- 1 + R -.5*R^2 + .3*R^3 + (R&gt;=0) + rnorm(100)
# Sensitivity analysis
# Note: low number of replications to speed up process.
# The user should increase the number of replications.
tmp &lt;- rdsensitivity(Y,R,wlist=seq(.75,2,by=.25),tlist=seq(0,5,by=1),reps=500)


</code></pre>


</div>