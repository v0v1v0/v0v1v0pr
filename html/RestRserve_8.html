<div class="container">

<table style="width: 100%;"><tr>
<td>AuthBackendBearer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bearer token authorization backend</h2>

<h3>Description</h3>

<p>Creates AuthBackendBearer class object.
</p>


<h3>Super class</h3>

<p><code>RestRserve::AuthBackend</code> -&gt; <code>AuthBackendBearer</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AuthBackendBearer-new"><code>AuthBackendBearer$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AuthBackendBearer-authenticate"><code>AuthBackendBearer$authenticate()</code></a>
</p>
</li>
<li> <p><a href="#method-AuthBackendBearer-clone"><code>AuthBackendBearer$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-AuthBackendBearer-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Creates AuthBackendBearer class object.
</p>


<h5>Usage</h5>

<div class="r"><pre>AuthBackendBearer$new(FUN)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>FUN</code></dt>
<dd>
<p>Function to perform authentication which takes one arguments - <code>token</code>.
Returns boolean - whether access is allowed for a requested <code>token</code> or not.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-AuthBackendBearer-authenticate"></a>



<h4>Method <code>authenticate()</code>
</h4>

<p>Provide authentication for the given request.
</p>


<h5>Usage</h5>

<div class="r"><pre>AuthBackendBearer$authenticate(request, response)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>request</code></dt>
<dd>
<p>Request object.</p>
</dd>
<dt><code>response</code></dt>
<dd>
<p>Response object.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>Boolean - whether access is allowed for a requested <code>user</code> or not.
</p>


<hr>
<a id="method-AuthBackendBearer-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>AuthBackendBearer$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>References</h3>

<p><a href="https://datatracker.ietf.org/doc/html/rfc6750">RFC6750</a>
<a href="https://swagger.io/docs/specification/authentication/bearer-authentication/">Specification</a>
</p>


<h3>See Also</h3>

<p>AuthMiddleware Request Response
</p>
<p>Other AuthBackend: 
<code>AuthBackend</code>,
<code>AuthBackendBasic</code>,
<code>AuthMiddleware</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
token_db = list(
  "valid-token" = as.POSIXct("2099-12-31", tz = "GMT"),
  "expired-token" = as.POSIXct("1900-01-01", tz = "GMT")
)
auth_fun = function(token) {
  if (is.null(token_db[[token]])) return(FALSE) # not found
  if (Sys.time() &gt; token_db[[token]]) return(FALSE) # expired
  return(TRUE)
}
# init backend
auth_backend = AuthBackendBearer$new(FUN = auth_fun)

# test backend
# define credentials (see RFC)
token = "valid-token"
# generate request headers
h = list("Authorization" = sprintf("Bearer %s", token))
# simulate request
rq = Request$new(path = "/", headers = h)
# init response object
rs = Response$new()
# perform authentication
auth_backend$authenticate(rq, rs) # TRUE

</code></pre>


</div>