<div class="container">

<table style="width: 100%;"><tr>
<td>mvl_write_spatial_index1</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Write spatial group information for each row</h2>

<h3>Description</h3>

<p>This function is passed a list of MVL vectors which are interpreted in data.frame fashion. These rows 
are split into groups so that identical rows are guaranteed to belong to the same group. This is done using partition into equal sized bins.
This function is meant for constructing spatial indexes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mvl_write_spatial_index1(MVLHANDLE, L, bits, name = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>MVLHANDLE</code></td>
<td>
<p>a handle to MVL file produced by mvl_open()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L</code></td>
<td>
<p>list of vector like MVL_OBJECTs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bits</code></td>
<td>
<p>a vector of bit values to use for each member of L</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>if specified add a named entry to MVL file directory</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an object of class MVL_OFFSET that describes an offset into this MVL file. MVL offsets are vectors and can be concatenated. They can be written to MVL file directly, or as part of another object such as list.
</p>


<h3>See Also</h3>

<p><code>mvl_order_vectors</code>, <code>mvl_find_matches</code>, <code>mvl_group</code>, <code>mvl_find_matches</code>, <code>mvl_indexed_copy</code>, <code>mvl_merge</code>, <code>mvl_hash_vectors</code>, <code>mvl_get_groups</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
Mtmp&lt;-mvl_open("tmp_a.mvl", append=TRUE, create=TRUE)
mvl_write_object(Mtmp, data.frame(x=runif(100), y=1:100), "df1")
Mtmp&lt;-mvl_remap(Mtmp)
mvl_write_spatial_index1(Mtmp, list(Mtmp$df1[,"x",ref=TRUE], Mtmp$df1[,"y", ref=TRUE]),
                                                             c(2, 3), "df1_sp_groups")
Mtmp&lt;-mvl_remap(Mtmp)
print(mvl_get_neighbors(Mtmp["df1_sp_groups", ref=TRUE], list(c(0.5, 0.6), c(2, 3))))

## End(Not run)
</code></pre>


</div>