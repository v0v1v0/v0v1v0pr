<div class="container">

<table style="width: 100%;"><tr>
<td>price_with_intensity_link</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Helper function (instrument pricing) for calibration of equity-linked default intensity</h2>

<h3>Description</h3>

<p>Given derivative instruments (subclasses of
GridPricedInstrument, though typically either <code>AmericanOption</code>
or <code>EuropeanOption</code> objects), along with their prices and spreads, calibrate
variance cumulation (the
at-the-money volatility of the continuous process) and then price the instruments via equity linked default
intensity of the form $h(s + (1-s)(S0/S_t)^p)$.
</p>


<h3>Usage</h3>

<pre><code class="language-R">price_with_intensity_link(
  p,
  s,
  h,
  variance_instruments,
  variance_instrument_prices,
  variance_instrument_spreads,
  fit_instruments,
  S0,
  num_time_steps = 30,
  ...,
  relative_spread_tolerance = 0.15,
  num_variance_time_steps = 30
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>Power of default intensity</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>Proportion of constant default intensity</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>Base default intensity</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variance_instruments</code></td>
<td>
<p>A list of instruments in strictly increasing order
of maturity, from which the volatility term structure will be inferred.  Once the
calibration is finished, the chosen parameters will reproduce the prices of
these instruments with fairly high precision.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variance_instrument_prices</code></td>
<td>
<p>Central price targets for the variance instruments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variance_instrument_spreads</code></td>
<td>
<p>Bid-offer spreads used to normalize errors
in variance instrument prices during term structure fitting</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit_instruments</code></td>
<td>
<p>A list of instruments in any order, from which the
mispricing penalties used for judging fit quality will be computed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S0</code></td>
<td>
<p>Current underlying price</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_time_steps</code></td>
<td>
<p>Time step count passed on to <code>find_present_value</code>
while fitting instrument values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to both
<code>fit_variance_cumulation</code> and to
<code>find_present_value</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relative_spread_tolerance</code></td>
<td>
<p>Tolerance to apply in
calling <code>fit_variance_cumulation</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_variance_time_steps</code></td>
<td>
<p>Number of time steps to use in
calling <code>fit_variance_cumulation</code></p>
</td>
</tr>
</table>
</div>