<div class="container">

<table style="width: 100%;"><tr>
<td>harmonize_values</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Harmonize the values and labels of labelled vectors</h2>

<h3>Description</h3>

<p>Harmonize the values and labels of labelled vectors
</p>


<h3>Usage</h3>

<pre><code class="language-R">harmonize_values(
  x,
  harmonize_label = NULL,
  harmonize_labels = NULL,
  na_values = c(do_not_know = 99997, declined = 99998, inap = 99999),
  na_range = NULL,
  id = "survey_id",
  name_orig = NULL,
  remove = NULL,
  perl = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A labelled vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>harmonize_label</code></td>
<td>
<p>A character vector of 1L containing the new,
harmonize variable label. Defaults to <code>NULL</code>, in which case 
it uses the variable label of <code>x</code>, unless it is also <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>harmonize_labels</code></td>
<td>
<p>A list of harmonization values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_values</code></td>
<td>
<p>A named vector of <code>na_values</code>, the 
observations that are defined to be treated as missing in 
the SPSS-style coding.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_range</code></td>
<td>
<p>A min, max range of  <code>na_range</code>, the 
continuous missing value range. In most surveys this should be left 
<code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>A survey ID, defaults to <code>survey_id</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name_orig</code></td>
<td>
<p>The original name of the variable. If left <code>NULL</code>
it uses the latest name of the object <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove</code></td>
<td>
<p>Defaults to <code>NULL</code>.  A character or regex that will be removed from all
old value labels, like <code>"\("|\)</code> for ( and ).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perl</code></td>
<td>
<p>Use perl-like regex? Defaults to FALSE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A labelled vector that contains in its metadata attributes
the original labelling, the original numeric coding and the current
labelling, with the numerical values representing the harmonized
coding.
</p>


<h3>See Also</h3>

<p>Other variable label harmonization functions: 
<code>harmonize_waves()</code>,
<code>label_normalize()</code>,
<code>na_range_to_values()</code>
</p>
<p>Other harmonization functions: 
<code>collect_val_labels()</code>,
<code>harmonize_na_values()</code>,
<code>harmonize_var_names()</code>,
<code>label_normalize()</code>,
<code>suggest_permanent_names()</code>,
<code>suggest_var_names()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">var1 &lt;- labelled::labelled_spss(
  x = c(1,0,1,1,0,8,9), 
  labels = c("TRUST" = 1, 
             "NOT TRUST" = 0, 
             "DON'T KNOW" = 8, 
             "INAP. HERE" = 9), 
  na_values = c(8,9))

harmonize_values (
  var1, 
  harmonize_labels = list ( 
    from = c("^tend\\sto|^trust", "^tend\\snot|not\\strust", "^dk|^don", "^inap"), 
    to = c("trust", "not_trust", "do_not_know", "inap"),
    numeric_values = c(1,0,99997, 99999)), 
    na_values = c("do_not_know" = 99997,
                "inap" = 99999), 
    id = "survey_id"
)
</code></pre>


</div>