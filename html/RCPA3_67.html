<div class="container">

<table style="width: 100%;"><tr>
<td>testpropsC</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tests the difference between two sample proportions, or difference between sample proportion and hypothesized value, with options for weighted observations, confidence intervals</h2>

<h3>Description</h3>

<p>Difference of proportions test with optional sample weights. Reports P-value of two-tailed significance test. Currently limited to testing one response from one dataset. If you want to compare x1 from dataset1 and x2 from dataset2, you can create new dataframe to test as dv ~ iv where dv is vector of x1 and x2 values and iv is vector identifying the source (i.e. dataset1 and dataset2). If you want to compare different responses, such as "Yes" value for x1 and "Agree" value for x2, you will need to transform one of the variables so they have comparable response values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">testpropsC(x1, x2, w, data, dv, iv, digits = 3, response, printC = FALSE,
  ci.table = TRUE, ci.level = 95, ci.plot = TRUE, main, xlab, xlim, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x1</code></td>
<td>
<p>A categorical variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x2</code></td>
<td>
<p>Value or variable to compare x1 against.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>(Optional) Weights variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>(Optional) Specify name of dataset (data frame) with x1 and x2 variables (or dv and iv).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dv</code></td>
<td>
<p>Dependent variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iv</code></td>
<td>
<p>Independent variable, should have only two unique values. For comparison purposes, group1 will be first level of iv and group2 will be the second level of iv. To change order of groups, you can modify levels(iv).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>(Optional) Number of digits to report after decimal place, optional (default: 3).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>(Optional) Identify the response value you wish to compare. If not specified, the function will compare first value of the dv (or x1 variable). If you want to group multiple responses together, use transformC to make dummy variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>printC</code></td>
<td>
<p>(Optional) Do you want results printed to .html file in your working directory? Default is FALSE. Set to TRUE to print results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.table</code></td>
<td>
<p>(Optional) Do you want a table reporting confidence interval of the difference of proportions? (default: TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.level</code></td>
<td>
<p>(Optional) Desired confidence level, as percentage (default: 95)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.plot</code></td>
<td>
<p>(Optional) Do you want a plot of the confidence interval of the difference of proportions? (default: TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>(Optional) Main title for plot of confidence interval of difference</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>(Optional) Label for x-axis of plot of confidence interval of difference</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>(Optional) A vector (of length 2) specifying the range of the x-axis, useful to zoom in on CI. By default, <code>xlim=c(-1, 1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>(Optional) Additional arguments passed to plot function for the CI plot</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>No return
</p>


<h3>RCPA3 Package Tutorial Videos</h3>


<ul>
<li> <p><a href="https://www.youtube.com/watch?v=-2t2mwHeh_A">Testing Proportions with RCPA3 Package's testpropsC Function</a> 27:33
</p>
</li>
<li> <p><a href="https://www.youtube.com/playlist?list=PL3jY4WDTUxoNqrxSSQH4q7XPLPYipeNCu">Complete Playlist of RCPA3 Package Tutorial Videos</a>, includes video for this function and many more.
</p>
</li>
</ul>
<h3>Textbook References</h3>


<ul>
<li>
<p> Philip H. Pollock and Barry C. Edwards, <em>An R Companion to Political Analysis, 3rd Edition</em> (Thousand Oaks, CA: Sage Publications, Forthcoming 2022), Chapter 9.
</p>
</li>
<li>
<p> Philip H. Pollock and Barry C. Edwards, <em>The Essentials of Political Analysis, 6th Edition</em> (Thousand Oaks, CA: Sage Publications, 2020), pp.201-215. ISBN-13: 978-1506379616; ISBN-10: 150637961.
</p>
</li>
</ul>
<h3>Online Resources</h3>


<ul>
<li> <p><a href="https://www.poliscidata.com/pages/rDemosResources.php?chapter=9">R Tutorials &amp; Resources for Hypothesis Tests with One and Two Samples</a>, Compiled by Barry C. Edwards
</p>
</li>
<li> <p><a href="https://edge.sagepub.com/pollock">Sage Edge Resources for Political Analysis Series</a>, for streaming videos, flashcards, and more student resources for textbooks by Pollock and Edwards, from Sage Publications.
</p>
</li>
<li> <p><a href="https://www.poliscidata.com">Political Science Data Web Site</a>: Find datasets for your own research and resources to help with the analysis.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">   library(RCPA3)
   
   
   # one sample test: x1 variable against hypothesized value (of x2)
   testpropsC(x1=nes$gun.bg.checks, x2=.500, w=nes$wt, response="1. Favor a great deal", 
              xlim=c(0, .2))

   # two sample test x1 versus x2
   testpropsC(x1=approve.local.covid, x2=approve.pres.covid, w=wt, data=nes, 
              response="1. Approve strongly", xlim=c(0, .2))
   
   # test of proportions dv by iv
   testpropsC(dv=marital, iv=gender, w=wt, data=nes, response="3. Widowed", 
              xlim=c(-.10, 0))
   
</code></pre>


</div>