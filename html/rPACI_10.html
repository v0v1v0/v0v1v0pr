<div class="container">

<table style="width: 100%;"><tr>
<td>simulateData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate data as measured by a Placido disk corneal topographer</h2>

<h3>Description</h3>

<p>The function <code>simulateData</code> permits to simulate a wide variety of datasets that appear in clinical 
practice, as a result of measuring an individual eye with a Placido disk corneal topographer 
(see <a href="../doc/topographersDataFormat.html"><code>vignette("topographersDataFormat", package = "rPACI")</code></a>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">simulateData(
  rings = 15,
  pointsPerRing = 256,
  diameter = 12,
  ringRadiiPerturbation = 0,
  maximumMireDisplacement = 0,
  mireDisplacementAngle = 0,
  mireDisplacementPerturbation = 0,
  ellipticAxesRatio = 1,
  ellipticRotation = 0,
  overallNoise = 0,
  seed = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rings</code></td>
<td>
<p>The total number of rings of mires in the sample (typically in the range 18-30, around 24).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointsPerRing</code></td>
<td>
<p>The number of points to be sampled in each ring (typically 256 or 360).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diameter</code></td>
<td>
<p>Diameter of the simulated dataset (in mm, typically around 8-12 mm).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ringRadiiPerturbation</code></td>
<td>
<p>Stochastical perturbation of the mires radii distribution (typically between 0 (no perturbation) and 1 (high perturbation)).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maximumMireDisplacement</code></td>
<td>
<p>Mires displacement, drift or off-centering (expressed in mm, and should be a reasonable number according to the diameter used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mireDisplacementAngle</code></td>
<td>
<p>Direction of mires drift (an angle in degrees, typically in the range 0-360 with 0 meaning positive x direction).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mireDisplacementPerturbation</code></td>
<td>
<p>Stochastical perturbation of the mires drift (typically between 0 (no perturbation) and 1 (high perturbation)).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ellipticAxesRatio</code></td>
<td>
<p>Rate or quotient between the major and minor axes of each ellipse (related to the ellipse eccentricity; 1 means a perfect circle (no eccentricity)).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ellipticRotation</code></td>
<td>
<p>Direction or orientation of the ellipses (an angle in degrees, typically in the range 0-360 with 0 meaning positive x direction).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overallNoise</code></td>
<td>
<p>Random, white noise of a certain magnitude in the Cartesian coordinates of the sampled points (relative to the diameter and the number of rings; 0 means no noise, and 1 large noise).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>A seed, included for repeatability when using random perturbations.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function produces a dataset in the same format as the one read by readCSO
from a file, i.e., a list with three columns (x and y coordinates of each point and its ring index) and a
row per data point, according to the function parameters (by default, 6144 rows or data points).
</p>
<p>See <a href="../doc/simulating.html"><code>vignette("simulating", package = "rPACI")</code></a> for additional details.
The examples included there show different ways of using <code>simulateData</code>, by adding different transformations
or perturbations to the basic circular pattern. Some of the obtained patterns can correlate with certain
clinical conditions, such as keratoconus, comma, or others.
</p>
<p>The simulated dataset can be later used according to the package workflow explained in the
<a href="../doc/packageUsage.html"><code>vignette("packageUsage", package = "rPACI")</code></a>.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with columns:
</p>

<table>
<tr>
<td style="text-align: left;">
  <code>x</code>   </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> The X Cartesian coordinates of sampled points</td>
</tr>
<tr>
<td style="text-align: left;">
  <code>y</code>   </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> The Y Cartesian coordinates of sampled points</td>
</tr>
<tr>
<td style="text-align: left;">
  <code>ring index</code>  </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Number or index of the ring from which each point is sampled</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>The resulting <code>data.frame</code> also includes in its <code>Parameters</code> attribute (<code>attr(result,'Parameters')</code>) the list of parameters used for the simulation.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Simulating with default parameters
dataset = simulateData()  
plot(dataset$x,dataset$y)

# Simulating with 20 rings and a diameter of 8 mm
dataset = simulateData(rings = 20, diameter = 8)
plot(dataset$x,dataset$y)

# Simulating with default parameters and 500 points per ring (15x500 points)
dataset = simulateData(pointsPerRing = 500)
plot(dataset$x,dataset$y)

# Simulating an elliptic dataset, with ellipses axis ratio of 0.8 and an orientation of 45 degrees.
dataset = simulateData(ellipticAxesRatio = 0.8, ellipticRotation = 45)
plot(dataset$x,dataset$y)

# To see the parameters used in the simulation, access the 'Parameters' attribute:
attr(dataset,'Parameters')
</code></pre>


</div>