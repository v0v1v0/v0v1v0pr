<div class="container">

<table style="width: 100%;"><tr>
<td>stochastic</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Stochastic record linkage.
</h2>

<h3>Description</h3>

<p>Methods for stochastic record linkage following the framework
of Fellegi and Sunter.
</p>


<h3>Usage</h3>

<pre><code class="language-R">

## S4 method for signature 'RecLinkData'
fsWeights(rpairs, m = 0.95, u = rpairs$frequencies, cutoff = 1)
## S4 method for signature 'RLBigData'
fsWeights(rpairs, m=0.95, u=getFrequencies(rpairs),
    cutoff=1, withProgressBar = (sink.number()==0))
## S4 method for signature 'RecLinkData'
fsClassify(rpairs, ...)
## S4 method for signature 'RLBigData'
fsClassify(rpairs, threshold.upper, threshold.lower=threshold.upper, 
  m=0.95, u=getFrequencies(rpairs), withProgressBar = (sink.number()==0), cutoff=1)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rpairs</code></td>
<td>
<p>The record pairs to be classified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold.upper</code></td>
<td>
<p>A numeric value between 0 and 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold.lower</code></td>
<td>
<p>A numeric value between 0 and 1 lower than <code>threshold.upper</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m, u</code></td>
<td>
<p>Numeric vectors. m- and u-probabilities of matching variables, see Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>withProgressBar</code></td>
<td>
<p>Logical. Whether to display a progress bar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p>Numeric value. Threshold for converting string comparison values
to binary values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to emClassify.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These methods perform stochastic record linkage following the framework of
Fellegi and Sunter (see reference).
</p>
<p><code>fsWeights</code> calculates matching weights on an object based on the
specified m- and u-probabilities. Each of <code>m</code> and <code>u</code> can be a
numeric vector or a single number in the range <code class="reqn">[0, 1]</code>.
</p>
<p><code>fsClassify</code> performs classification based on the calculated weights.
All record pairs with weights greater or
equal <code>threshold.upper</code> are classified as links. Record pairs with
weights smaller than <code>threshold.upper</code> and greater or equal
<code>threshold.lower</code> are classified as possible links. All remaining
records are classified as non-links.
</p>
<p>The <code>"RecLinkData"</code> method is a shortcut for <code>emClassify</code>.
</p>
<p>The <code>"RLBigData"</code> method checks if weights are present in the underlying database. If this is the case, classification
is based on the existing weights. If not, weights are calculated on the fly during classification, but not stored. The latter behaviour might be preferable when a very large dataset is to be classified and disk space is limited.
A progress bar is displayed only if weights are calculated on the fly and, by default, unless output is diverted by
<code>sink</code> (e.g. in a Sweave script).
</p>
<p>For a general introduction to weight based record linkage, see the vignette "Weight-based deduplication".
</p>


<h3>Value</h3>

<p><code>fsWeights</code> returns a copy of the object with the calculated weights
added. Note that <code>"RLBigData"</code> objects have some
reference-style semantics, see clone for more information.
</p>
<p>For the <code>"RecLinkData"</code> method, <code>fsClassify</code> returns a S3 object
of class <code>"RecLinkResult"</code> that represents a copy
of <code>newdata</code> with element <code>rpairs$prediction</code>, which stores
the classification result, as addendum.
</p>
<p>For the <code>"RLBigData"</code> method, <code>fsClassify</code> returns
a S4 object of class <code>"RLResult"</code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Borg, Murat Sariyar</p>


<h3>References</h3>

<p>Ivan P. Fellegi, Alan B. Sunter: A Theory for Record Linkage,
in: Journal of the American Statistical Association Vol. 64, No. 328
(Dec., 1969), pp. 1183â€“1210.</p>


<h3>See Also</h3>

<p><code>epiWeights</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># generate record pairs
data(RLdata500)
rpairs &lt;- compare.dedup(RLdata500, blockfld=list(1,3,5,6,7), identity=identity.RLdata500)

# calculate weights
rpairs &lt;- fsWeights(rpairs)

# classify and show results
summary(fsClassify(rpairs,0))
</code></pre>


</div>