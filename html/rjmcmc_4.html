<div class="container">

<table style="width: 100%;"><tr>
<td>getsampler</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Define Function To Sample From MCMC Output</h2>

<h3>Description</h3>

<p>A utility function which accepts a matrix of MCMC output and creates a 
function which samples from the posterior distribution for the parameters of 
the model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getsampler(modelfit, sampler.name = "post.draw", order = "default",
  envir = .GlobalEnv)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>modelfit</code></td>
<td>
<p>A matrix of output from a previously-run MCMC algorithm, with 
one column per variable and one row per iteration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampler.name</code></td>
<td>
<p>A string giving the desired name for the function to be 
defined.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>A numeric vector of indices specifying the desired parameters to
extract from <code>modelfit</code>, and in which order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>The environment in which to define the sampling function. 
Defaults to the global environment.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A function is defined in <code>envir</code> which randomly samples from the
posterior distribution for the parameters. Note that this function does not
take any arguments. A function generated in this way is suitable for 
passing to the <code>rjmcmcpost</code> function.
</p>


<h3>References</h3>

<p>Plummer, M. (2003) JAGS: A program for analysis of Bayesian 
graphical models using Gibbs sampling. <em>Proceedings of the 3rd 
international workshop on distributed statistical computing (Vol. 124, p. 
125)</em>.
</p>


<h3>See Also</h3>

<p><code>rjmcmcpost</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Generate synthetic 'MCMC output' for a model with 3 parameters. There is
# one column per parameter, and 1000 iterations.
matrix_output = matrix(c(runif(1000,0,1), rnorm(1000,5,2), rgamma(1000,2,2)), 1000, 3)

getsampler(modelfit=matrix_output, sampler.name="posterior1")
set.seed(100)
posterior1()

## Alternatively
posterior1b = getsampler(modelfit=matrix_output)  # this successfully defines a function named
# posterior1b but also defines an identical function corresponding to the value 
# of sampler.name, i.e. the default "post.draw" in this case.
set.seed(100)
posterior1b()
set.seed(100)
posterior1()

</code></pre>


</div>