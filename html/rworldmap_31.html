<div class="container">

<table style="width: 100%;"><tr>
<td>mapPolys</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Map polygon data.</h2>

<h3>Description</h3>

<p>Plot a map of polygons, from a spatialPolygonsDataFrame, coloured according
to one a specified attribute column.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mapPolys(
  mapToPlot = "",
  nameColumnToPlot = "",
  numCats = 7,
  xlim = NA,
  ylim = NA,
  mapRegion = "world",
  catMethod = "quantiles",
  colourPalette = "heat",
  addLegend = TRUE,
  borderCol = "grey",
  mapTitle = "columnName",
  oceanCol = NA,
  aspect = 1,
  missingCountryCol = NA,
  add = FALSE,
  lwd = 0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mapToPlot</code></td>
<td>
<p>a spatial polygons dataframe (e.g. from joinData2Map())
containing polygons and associated data, if none specified an internal
example data is used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nameColumnToPlot</code></td>
<td>
<p>name of column containing the data you want to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numCats</code></td>
<td>
<p>number of categories to put the data in, may be modified if
this number is incompatible with the catMethod chosen</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>map extents c(west,east), can be overidden by mapRegion</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>map extents c(south,north), can be overidden by mapRegion</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mapRegion</code></td>
<td>
<p>a country name from getMap()[['NAME']] or
'world','africa','oceania','eurasia','uk' sets map extents, overrides
xlim,ylim</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>catMethod</code></td>
<td>
<p>for categorisation of data "pretty", "fixedWidth",
"diverging", "logFixedWidth", "quantiles", "categorical", or a numeric
vector defining breaks</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colourPalette</code></td>
<td>
<p>string describing the colour palette to use, choice of:
</p>
 <ol>
<li>
<p> "palette" for the current palette </p>
</li>
<li>
<p> a vector of valid
colours, e.g. =c('red','white','blue') or output from RColourBrewer </p>
</li>
<li>
<p> one
of "heat", "diverging", "white2Black", "black2White", "topo", "rainbow",
"terrain", "negpos8", "negpos9" </p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addLegend</code></td>
<td>
<p>whether to add a legend or not</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>borderCol</code></td>
<td>
<p>the colour for country borders</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mapTitle</code></td>
<td>
<p>title to add to the map, any string or 'columnName' to set
it to the name of the data column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oceanCol</code></td>
<td>
<p>a colour for the ocean</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aspect</code></td>
<td>
<p>aspect for the map, defaults to 1, if set to 'variable' uses
same method as plot.Spatial in sp</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missingCountryCol</code></td>
<td>
<p>a colour for missing countries</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>whether to add this map on top of an existing map, TRUE/FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>line width for country borders</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Certain catMethod and colourPalette options go well together. e.g.
"diverging" and "diverging", "categorical" and "rainbow"
</p>
<p>There are two styles of legend available.  If catMethod='categorical' or the
packages fields and spam are not installed a simple legend with coloured
boxes is created. Otherwise a colour bar legend is created. Finer control
can be achieved by <code>addMapLegendBoxes</code> or
<code>addMapLegend</code> repectively.
</p>


<h3>Value</h3>

<p>invisibly returns a list containing the data and main options used
for the map, the list can be passed to <code>addMapLegend</code> or
<code>addMapLegendBoxes</code> along with additional options to allow
greater flexibility in legend creation.
</p>


<h3>Author(s)</h3>

<p>andy south
</p>


<h3>See Also</h3>

<p>joinData2Map, classInt, RColorBrewer
</p>


<h3>Examples</h3>

<pre><code class="language-R">

## this example uses downloaded files
## to run it download the files
## and remove the comment symbols '#' from all the lines starting with a single '#'

## US states map downloaded from :
## http://www2.census.gov/cgi-bin/shapefiles2009/national-files

#inFile &lt;- 'tl_2009_us_stateec.shp'
#sPDF &lt;- readShapePoly(inFile)
#str(sPDF@data)

##################
## use mapPolys to map the sPDF
#mapPolys(sPDF,nameColumnToPlot = "ALANDEC")
#mapPolys(sPDF,nameColumnToPlot = "AWATEREC",mapRegion='North America')

##################
## join some other data to it
## education data downloaded from here as xls then saved as csv
## http://nces.ed.gov/ccd/drpcompstatelvl.asp

#dataFile &lt;- 'SDR071A_xls.csv'
#dF &lt;- read.csv(dataFile,as.is=TRUE)
#str(dF)
## STATENAME
## DRP912 Dropout Rate, Grades 9 through 12

## joining the data to the map
## based upon state names (column NAMEEC in map, and STATENAME in the data)
#sPDF2 &lt;- joinData2Map(dF
#        , nameMap = sPDF
#        , nameJoinIDMap = "NAMEEC"
#        , nameJoinColumnData = "STATENAME")

#################
## plot one of the attribute variables
#mapDevice()# to set nice shape map window
#mapPolys(sPDF2,nameColumnToPlot = "DRP912",mapRegion='North America')


#################
###to map US counties data (Tiger) downloaded from :
##http://www2.census.gov/cgi-bin/shapefiles2009/national-files

#inFile &lt;- 'tl_2009_us_county.shp'
#sPDF &lt;- readShapePoly(inFile)
#str(sPDF@data)
#mapPolys(sPDF,nameColumnToPlot='AWATER',xlim=c(-140,-65), ylim=c(25,45))



</code></pre>


</div>