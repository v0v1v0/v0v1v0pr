<div class="container">

<table style="width: 100%;"><tr>
<td>resmush_url</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Optimize an online file</h2>

<h3>Description</h3>

<p>Optimize and download an online image using the
<a href="https://resmush.it/">reSmush.it API</a>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">resmush_url(
  url,
  outfile = file.path(tempdir(), basename(url)),
  overwrite = FALSE,
  progress = TRUE,
  report = TRUE,
  qlty = 92,
  exif_preserve = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>url</code></td>
<td>
<p>url or a vector of urls pointing to hosted image files.
<strong>reSmush</strong> can optimize the following image files:
</p>

<ul>
<li> <p><code>png</code>
</p>
</li>
<li> <p><code>jpg/jpeg</code>
</p>
</li>
<li> <p><code>gif</code>
</p>
</li>
<li> <p><code>bmp</code>
</p>
</li>
<li> <p><code>tiff</code>
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outfile</code></td>
<td>
<p>Path or paths where the optimized files would be store in
your disk. By default, temporary files (see <code>tempfile()</code>) with the same
<code>basename()</code> than the file provided in <code>url</code> would be created. It should be
of the same length than <code>url</code> parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Logical. Should <code>outfile</code> be overwritten (if already
exists)? If <code>FALSE</code> and <code>outfile</code> exists it would create a copy with
a numerical suffix (i.e. <code style="white-space: pre;">⁠&lt;outfile&gt;.png⁠</code>, <code style="white-space: pre;">⁠&lt;outfile&gt;_01.png⁠</code>, etc.).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>Logical. Display a progress bar when needed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>report</code></td>
<td>
<p>Logical. Display a summary report of the process in the
console. See also <strong>Value</strong>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qlty</code></td>
<td>
<p>Only affects <code>jpg</code> files. Integer between 0 and 100 indicating
the optimization level. For optimal results use vales above 90.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exif_preserve</code></td>
<td>
<p>Logical. Should the
<a href="https://en.wikipedia.org/wiki/Exif">Exif</a> information (if any) deleted?
Default is to remove it (i.e. <code>exif_preserve = FALSE</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Writes on disk the optimized file if the API call is successful.
In all cases, a (invisible) data frame with a summary of the process is
returned as well.
</p>
<p>If any value of the vector <code>outfile</code> is duplicated, <code>resmush_url()</code> would
rename the output with a suffix <code style="white-space: pre;">⁠_01. _02⁠</code>, etc.
</p>


<h3>See Also</h3>

<p><a href="https://resmush.it/api/">reSmush.it API</a> docs.
</p>
<p>Other functions for optimizing:
<code>resmush_dir()</code>,
<code>resmush_file()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">



# Base url
base_url &lt;- "https://raw.githubusercontent.com/dieghernan/resmush/main/inst/"

png_url &lt;- paste0(base_url, "/extimg/example.png")
resmush_url(png_url)

# Several urls
jpg_url &lt;- paste0(base_url, "/extimg/example.jpg")


summary &lt;- resmush_url(c(png_url, jpg_url))

# Returns an (invisible) data frame with a summary of the process
summary

# Display with png
if (require("png", quietly = TRUE)) {
  my_png &lt;- png::readPNG(summary$dest_img[1])
  grid::grid.raster(my_png)
}

# Use with jpg and parameters
resmush_url(jpg_url)
resmush_url(jpg_url, qlty = 10)


</code></pre>


</div>