<div class="container">

<table style="width: 100%;"><tr>
<td>cor_mat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute Correlation Matrix with P-values</h2>

<h3>Description</h3>

<p>Compute correlation matrix with p-values. Numeric columns in the
data are detected and automatically selected for the analysis. You can also
specify variables of interest to be used in the correlation analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cor_mat(
  data,
  ...,
  vars = NULL,
  method = "pearson",
  alternative = "two.sided",
  conf.level = 0.95
)

cor_pmat(
  data,
  ...,
  vars = NULL,
  method = "pearson",
  alternative = "two.sided",
  conf.level = 0.95
)

cor_get_pval(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data.frame containing the variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>One or more unquoted expressions (or variable names) separated by
commas. Used to select a variable of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>a character vector containing the variable names of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>a character string indicating which correlation
coefficient is to be  used for the test.  One of <code>"pearson"</code>,
<code>"kendall"</code>, or <code>"spearman"</code>, can be abbreviated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>indicates the alternative hypothesis and must be
one of <code>"two.sided"</code>, <code>"greater"</code> or <code>"less"</code>.  You
can specify just the initial letter.  <code>"greater"</code> corresponds
to positive association, <code>"less"</code> to negative association.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>confidence level for the returned confidence
interval.  Currently only used for the Pearson product moment
correlation coefficient if there are at least 4 complete pairs of
observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class <code>cor_mat</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a data frame
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>cor_mat()</code>: compute correlation matrix with p-values. Returns a data
frame containing the matrix of the correlation coefficients. The output has
an attribute named "pvalue", which contains the matrix of the correlation
test p-values.
</p>
</li>
<li> <p><code>cor_pmat()</code>: compute the correlation matrix but returns only the p-values of the tests.
</p>
</li>
<li> <p><code>cor_get_pval()</code>: extract a correlation matrix p-values from an object of
class <code>cor_mat()</code>. P-values are not adjusted.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>cor_test()</code>, <code>cor_reorder()</code>,
<code>cor_gather()</code>, <code>cor_select()</code>,
<code>cor_as_symbols()</code>, <code>pull_triangle()</code>,
<code>replace_triangle()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Data preparation
#:::::::::::::::::::::::::::::::::::::::::::
mydata &lt;- mtcars %&gt;%
  select(mpg, disp, hp, drat, wt, qsec)
head(mydata, 3)

# Compute correlation matrix
#::::::::::::::::::::::::::::::::::::::::::
# Correlation matrix between all variables
cor.mat &lt;- mydata %&gt;% cor_mat()
cor.mat

# Specify some variables of interest
mydata %&gt;% cor_mat(mpg, hp, wt)

# Or remove some variables in the data
# before the analysis
mydata %&gt;% cor_mat(-mpg, -hp)

# Significance levels
#::::::::::::::::::::::::::::::::::::::::::
cor.mat %&gt;% cor_get_pval()


# Visualize
#::::::::::::::::::::::::::::::::::::::::::
# Insignificant correlations are marked by crosses
cor.mat %&gt;%
  cor_reorder() %&gt;%
  pull_lower_triangle() %&gt;%
  cor_plot(label = TRUE)

# Gather/collapse correlation matrix into long format
#::::::::::::::::::::::::::::::::::::::::::
cor.mat %&gt;% cor_gather()


</code></pre>


</div>