<div class="container">

<table style="width: 100%;"><tr>
<td>eventTable</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create an event table object</h2>

<h3>Description</h3>

<p>Initializes an object of class ‘EventTable’ with methods for
adding and querying dosing and observation records
</p>


<h3>Usage</h3>

<pre><code class="language-R">eventTable(amount.units = NA, time.units = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>amount.units</code></td>
<td>
<p>string denoting the amount dosing units, e.g.,
“mg”, “ug”. Default to <code>NA</code> to denote
unspecified units.  It could also be a solved rxode2 object.  In
that case, eventTable(obj) returns the eventTable that was used
to solve the rxode2 object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.units</code></td>
<td>
<p>string denoting the time units, e.g.,
“hours”, “days”. Default to <code>"hours"</code>.
</p>
<p>An <code>eventTable</code> is an object that consists of a data.frame
storing ordered time-stamped events of an (unspecified) PK/PD
dynamic system, units (strings) for dosing and time records, plus a
list of functions to add and extract event records.
</p>
<p>Currently, events can be of two types: dosing events that represent
inputs to the system and sampling time events that represent
observations of the system with ‘amount.units’ and
‘time.units’, respectively.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A modified data.frame with the following accessible functions:
</p>

<ul>
<li> <p><code>get.EventTable()</code> returns the current event table
</p>
</li>
<li> <p><code>add.dosing()</code>  adds dosing records to the event table.
</p>
</li>
<li> <p><code>get.dosing()</code> returns a data.frame of dosing records.
</p>
</li>
<li> <p><code>clear.dosing()</code> clears or deletes all dosing from event table
</p>
</li>
<li>
<p> '<code>add.sampling()</code> adds sampling time observation records to the
event table.
</p>
</li>
<li> <p><code>get.sampling()</code>returns a data.frame of sampled observation records.
</p>
</li>
<li> <p><code>clear.sampling()</code> removes all sampling from event table.
</p>
</li>
<li> <p><code>get.obs.rec()</code> returns a logical vector indicating whether each
event record represents an observation or not.
</p>
</li>
<li> <p><code>get.nobs()</code> returns the number of observation (not dosing) records.
</p>
</li>
<li> <p><code>get.units()</code> returns a two-element character vector with the
dosing and time units, respectively
</p>
</li>
<li> <p><code>copy()</code> makes a copy of the current event table. To create
a copy of an event table object use <code>qd2 &lt;- qd$copy()</code>
</p>
</li>
<li> <p><code>expand()</code> Expands the event table for multi-subject solving.
This is done by <code>qd$expand(400)</code> for a 400 subject data expansion
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Matthew Fidler, Melissa Hallow and Wenping Wang
</p>


<h3>See Also</h3>

<p><code>et()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># create dosing and observation (sampling) events
# QD 50mg dosing, 5 days followed by 25mg 5 days
#
qd &lt;- eventTable(amount.units = "mg", time.units = "days")
#
qd$add.dosing(dose = 50, nbr.doses = 5, dosing.interval = 1, do.sampling = FALSE)
#
# sample the system's drug amounts hourly the first day, then every 12 hours
# for the next 4 days
qd$add.sampling(seq(from = 0, to = 1, by = 1 / 24))
qd$add.sampling(seq(from = 1, to = 5, by = 12 / 24))
#
# print(qd$get.dosing())     # table of dosing records
print(qd$get.nobs()) # number of observation (not dosing) records
#
# BID dosing, 5 days
bid &lt;- eventTable("mg", "days") # only dosing
bid$add.dosing(
  dose = 10000, nbr.doses = 2 * 5,
  dosing.interval = 12, do.sampling = FALSE
)
#
# Use the copy() method to create a copy (clone) of an existing
# event table (simple assignments just create a new reference to
# the same event table object (closure)).
#
bid.ext &lt;- bid$copy() # three-day extension for a 2nd cohort
bid.ext$add.dosing(
  dose = 5000, nbr.doses = 2 * 3,
  start.time = 120, dosing.interval = 12, do.sampling = FALSE
)

# You can also use the Piping operator to create a table

qd2 &lt;- eventTable(amount.units = "mg", time.units = "days") %&gt;%
  add.dosing(dose = 50, nbr.doses = 5, dosing.interval = 1, do.sampling = FALSE) %&gt;%
  add.sampling(seq(from = 0, to = 1, by = 1 / 24)) %&gt;%
  add.sampling(seq(from = 1, to = 5, by = 12 / 24))
# print(qd2$get.dosing())     # table of dosing records
print(qd2$get.nobs()) # number of observation (not dosing) records

# Note that piping with %&gt;% will update the original table.

qd3 &lt;- qd2 %&gt;% add.sampling(seq(from = 5, to = 10, by = 6 / 24))
print(qd2$get.nobs())
print(qd3$get.nobs())
</code></pre>


</div>