<div class="container">

<table style="width: 100%;"><tr>
<td>pm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Define the PM</h2>

<h3>Description</h3>

<p>Perception Mapping (PM) is used to create and aggregate <code>cp</code> objects. Each PM receives
a set of inputs (<code>cp</code> objects or numerical values) which are aggregated into a single CP.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pm(u = NULL, y, g, t = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>u</code></td>
<td>
<p>is a vector of n input <code>cp</code>s <code>u = (u1, u2,..., un)</code>. In the special case
of first level perception mappings (1PM) the inputs are numerical values provided either by sensors or
obtained from a database.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>is the output <code>cp</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g</code></td>
<td>
<p>is an aggregation function employed to calculate w from the input <code>cp</code>s. For example,
<code>g</code> might be implemented using a set of fuzzy rules. In the case of 1PMs, <code>g</code> is built using a set of
membership functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>is a text generation algorithm which allows generating the sentences in <code>A</code>. In simple cases,
<code>t</code> is a linguistic template, e.g., cat("Alabama has", value, "the number of women in the last census".</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The generated <code>pm = list(u,y,g,t)</code>
</p>


<h3>See Also</h3>

<p><code>cp</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: cp_depth &lt;- cp("cp_depth",c("far",
                            "bit far",
                            "good",
                            "close",
                            "very close"))

g_depth &lt;- function(u,y){
  y$w &lt;- degree_mf(fuzzy_partitions(triangle_mf(450,450,550),
                                 triangle_mf( 450,550,600),
                                 trapezoid_mf(550,600,800, 1000),
                                 triangle_mf( 800,1000,1300),
                                 trapezoid_mf( 1000,1300,1500,1500)),u)
  y
}

pm_depth  &lt;- pm(y=cp_depth, g=g_depth)

########################### HEIGHT DEFINITION ###########################################
cp_height &lt;- cp("cp_height", c("high",
                             "average high",
                             "centered",
                             "average low",
                             "low"))

g_height &lt;- function(u,y){
  y$w &lt;- degree_mf(fuzzy_partitions(trapezoid_mf(-1000,-1000,-600,-400),
                                               triangle_mf(-600,-400,0),
                                               trapezoid_mf(-400,0,200,400),
                                               triangle_mf(200,400,600),
                                               trapezoid_mf(400,600,1000,1000)),u)
  y
}

pm_height &lt;- pm(y=cp_height, g=g_height)

########################### WIDTH DEFINITION ###########################################
cp_width &lt;- cp("cp_width",  c("left",
                               "average left",
                                "centered",
                                "average right",
                                 "right"))

g_width &lt;- function(u,y){
  y$w &lt;- degree_mf(fuzzy_partitions(triangle_mf(-1000,-600,-400),
                                               triangle_mf(-600,-400,0),
                                              triangle_mf(-400,0,400),
                                               triangle_mf(0,400,600),
                                               triangle_mf(400,600,1000,1000)),
                              u)
  y
}

pm_width  &lt;- pm(y=cp_width,  g=g_width)

########################### FRAME DEFINITION ###########################################
cp_frame &lt;- cp("cp_frame", c("bad",
                             "middle",
                             "good"))

g_frame &lt;- function(u,y){

  operator &lt;- operator(min, max)

  y$w&lt;- infer_rules(fuzzy_rules( fuzzy_rule(0,0,1,0,0, 0,0,1,0,0, 0,0,1,0,0, 0,0,1),
                           fuzzy_rule(1,1,1,1,1, 1,1,1,1,1, 1,1,0,1,1, 1,0,0),
                           fuzzy_rule(1,1,1,1,1, 1,0,0,0,1, 0,0,1,0,0, 1,0,0),
                           fuzzy_rule(1,0,0,0,1, 1,1,1,1,1, 0,0,1,0,0, 1,0,0),
                           fuzzy_rule(0,1,0,1,0, 0,1,0,1,0, 0,0,1,0,0, 0,1,0)),
                     operator,
                     list(u[[1]]$w,u[[2]]$w,u[[3]]$w))

  y
}

t_frame &lt;- function(y){

  templates &lt;- c("It has been taken a bad framed photo",
                 "It has been taken a middle framed photo",
                 "It has been taken a good framed photo")

  return( templates[which.max(y$w)])
}

pm_frame &lt;-  pm(y=cp_frame, g=g_frame, t=t_frame)

## End(Not run)
</code></pre>


</div>