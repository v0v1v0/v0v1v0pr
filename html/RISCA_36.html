<div class="container">

<table style="width: 100%;"><tr>
<td>roc.prognostic.aggregate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Prognostic ROC Curve Based on Survival Probabilities
</h2>

<h3>Description</h3>

<p>Prognostic ROC curve is an alternative graphical approach to represent the discriminative capacity of the marker: a receiver operating characteristic (ROC) curve by plotting 1 minus the survival in the high-risk group against 1 minus the survival in the low-risk group. The area under the curve (AUC) corresponds to the probability that a patient in the low-risk group has a longer lifetime than a patient in the high-risk group. The prognostic ROC curve provides complementary information compared to survival curves. The AUC is assessed by using the trapezoidal rules. When survival curves do not reach 0, the prognostic ROC curve is incomplete and the extrapolations of the AUC are performed by assuming pessimist, optimist and non-informative situations. The user enters the survival according to the model she/he chooses. The area under the prognostic ROC curve is assessed by using the trapezoidal rules. The extrapolated areas (when survival curves do not reach 0) are performed by assuming pessimist, optimist and non-informative situation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">roc.prognostic.aggregate(time.lr, surv.lr, time.hr, surv.hr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>time.lr</code></td>
<td>
<p>A numeric vector with the survival times in the low risk group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>surv.lr</code></td>
<td>
<p>A numeric vector with the survival probabilities corresponding to <code>time.lr</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.hr</code></td>
<td>
<p>A numeric vector with the survival times in the high risk group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>surv.hr</code></td>
<td>
<p>A numeric vector with the survival probabilities corresponding to <code>time.hr</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The maximum prognostic time is the minimum between the maximum of <code>time.lr</code> and the maximum of <code>time.hr</code>.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>max.time</code></td>
<td>
<p>This is the maximum prognostic time used for the analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>table</code></td>
<td>
<p>This data frame presents the different time cut-offs associated with the coordinates of the ROC curves.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auc</code></td>
<td>
<p>This data frame presents the different estimations of the area under the prognostic ROC curve: the lower bound, the pessimist, the non-informative, the optimist and the upper bound.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Y. Foucher &lt;Yohann.Foucher@univ-poitiers.fr&gt;
</p>
<p>C. Combescure &lt;Christophe.Combescure@hcuge.ch&gt;
</p>


<h3>References</h3>

<p>Combescure C, Perneger TV, Weber DC, Daures JP and Foucher Y. Prognostic ROC curves: a method for representing the overall discriminative capacity of binary markers with right-censored time-to-event endpoints. Epidemiology 2014 Jan;25(1):103-9. &lt;doi: 10.1097/EDE.0000000000000004&gt;.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# example of two survival curves using exponential distributions
time.hr &lt;- seq(0, 600, by=5)
time.lr &lt;- seq(0, 500, by=2)
surv.hr &lt;- exp(-0.005*time.hr)
surv.lr &lt;- exp(-0.003*time.lr)

# Illustration of both survival curves
plot(time.hr, surv.hr, xlab="Time (in days)",
 ylab="Patient survival", lwd=2, type="l")
lines(time.lr, surv.lr, lty=2, col=2, lwd=2)
legend("topright", c("High-Risk Group", "Low-Risk Group"), lwd=2,
 col=1:2, lty=1:2)

# Computation of the prognostic ROC curve
proc.result &lt;- roc.prognostic.aggregate(time.lr, surv.lr, time.hr, surv.hr)

# Representation of the prognostic ROC curve
plot(proc.result$table$x, proc.result$table$y, type="l",
 lwd=2, xlim=c(0,1), ylim=c(0,1),
 xlab="1-Survival in the low risk group",
 ylab="1-Survival in the high risk group")
abline(c(0,0), c(1,1), lty=2)

# The pessimist value of the area under the curve
proc.result$auc$pessimist
</code></pre>


</div>