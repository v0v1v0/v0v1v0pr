<div class="container">

<table style="width: 100%;"><tr>
<td>confint.predictCox</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Confidence Intervals and Confidence Bands for the predicted Survival/Cumulative Hazard</h2>

<h3>Description</h3>

<p>Confidence intervals and confidence Bands for the predicted survival/cumulative Hazard.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'predictCox'
confint(
  object,
  parm = NULL,
  level = 0.95,
  n.sim = 10000,
  cumhazard.transform = "log",
  survival.transform = "loglog",
  seed = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A <code>predictCox</code> object, i.e. output of the <code>predictCox</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parm</code></td>
<td>
<p>[character] the type of predicted value for which the confidence intervals should be output.
Can be <code>"survival"</code> or <code>"cumhazard"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>[numeric, 0-1] Level of confidence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.sim</code></td>
<td>
<p>[integer, &gt;0] the number of simulations used to compute the quantiles for the confidence bands.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cumhazard.transform</code></td>
<td>
<p>[character] the transformation used to improve coverage
of the confidence intervals for the cumlative hazard in small samples.
Can be <code>"none"</code>, <code>"log"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>survival.transform</code></td>
<td>
<p>[character] the transformation used to improve coverage
of the confidence intervals for the survival in small samples.
Can be <code>"none"</code>, <code>"log"</code>, <code>"loglog"</code>, <code>"cloglog"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>[integer, &gt;0] seed number set before performing simulations for the confidence bands.
If not given or NA no seed is set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The confidence bands and confidence intervals are automatically restricted to the interval of definition of the statistic,
i.e. a confidence interval for the survival of [0.5;1.2] will become [0.5;1].
</p>


<h3>Author(s)</h3>

<p>Brice Ozenne
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(survival)

#### generate data ####
set.seed(10)
d &lt;- sampleData(40,outcome="survival") 

#### estimate a stratified Cox model ####
fit &lt;- coxph(Surv(time,event)~X1 + strata(X2) + X6,
             data=d, ties="breslow", x = TRUE, y = TRUE)

#### compute individual specific survival probabilities  
fit.pred &lt;- predictCox(fit, newdata=d[1:3], times=c(3,8), type = "survival",
                       se = TRUE, iid = TRUE, band = TRUE)
fit.pred

## check standard error
sqrt(rowSums(fit.pred$survival.iid[,,1]^2)) ## se for individual 1

## check confidence interval
newse &lt;- fit.pred$survival.se/(-fit.pred$survival*log(fit.pred$survival))
cbind(lower = as.double(exp(-exp(log(-log(fit.pred$survival)) + 1.96 * newse))),
      upper = as.double(exp(-exp(log(-log(fit.pred$survival)) - 1.96 * newse)))
)

#### compute confidence intervals without transformation
confint(fit.pred, survival.transform = "none")
cbind(lower = as.double(fit.pred$survival - 1.96 * fit.pred$survival.se),
      upper = as.double(fit.pred$survival + 1.96 * fit.pred$survival.se)
)

</code></pre>


</div>