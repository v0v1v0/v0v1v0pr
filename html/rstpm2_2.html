<div class="container">

<table style="width: 100%;"><tr>
<td>aft</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Parametric accelerated failure time model with smooth time functions
</h2>

<h3>Description</h3>

<p>This implements the accelerated failure time models S_0(t exp(beta x))
and S_0(int_0^t exp(beta x(u)) du). The baseline function S_0(t*) is
modelled as exp(-exp(eta_0(log(t*)))), where eta_0(log(t*)) is a linear
predictor using natural splines.
</p>


<h3>Usage</h3>

<pre><code class="language-R">aft(formula, data, smooth.formula = NULL, df = 3,
    tvc = NULL, cure.formula = ~1, control = list(),
    init = NULL, weights = NULL, tvc.intercept = TRUE,
    tvc.integrated = FALSE,
    timeVar = "", time0Var = "",
    cure = FALSE, mixture = FALSE, contrasts = NULL, subset = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>

<p>a formula object, with the response on the left of a <code>~</code> operator,
and the regression terms (excluding time) on the right. The response
should be a survival object as returned by the <code>Surv</code>
function. The terms can include linear effects for any time-varying
coefficients. [required]
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>a data-frame in which to interpret the variables named in the
<code>formula</code> argument. [at present: required]
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth.formula</code></td>
<td>

<p>a formula for describing the time effects for the linear predictor,
excluding the baseline S_0(t*), but including time-dependent
acceleration factors. The time-dependent acceleration factors can be
modelled with any smooth functions.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>

<p>an integer that describes the degrees of freedom for the <code>ns</code>
function for modelling the baseline log-cumulative hazards function (default=3).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tvc</code></td>
<td>

<p>a list with the names of the time-varying coefficients. This uses natural splines
(e.g. <code>tvc=list(hormon=3)</code> is equivalent to
<code>smooth.formula=~...+hormon:nsx(log(time),df=3)</code>), which by default
does <em>not</em> include an intercept (or main effect) term. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cure.formula</code></td>
<td>

<p>a formula for describing the cure fraction.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>

<p><code>control</code> argument passed to <code>optim</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init</code></td>
<td>

<p><code>init</code> should either be <code>FALSE</code>, such that initial
values will be determined using Cox regression, or a numeric
vector of initial values.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>

<p>an optional vector of 'prior weights' to be used in the
fitting process. Should be <code>NULL</code> or a numeric vector.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tvc.intercept</code></td>
<td>

<p>logical for whether to include an intercept in the time-varying
acceleration factor (defaults to TRUE)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tvc.integrated</code></td>
<td>

<p>logical for whether the time-varying
acceleration factor should be based on a integration, rather than a
cumulative effect (defaults to FALSE)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeVar</code></td>
<td>

<p>string variable defining the time variable. By default, this is
determined from the survival object, however this may be ambiguous if
two variables define the time.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time0Var</code></td>
<td>

<p>string variable to determine the entry variable; useful
for when more than one data variable is used in the entry time.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cure</code></td>
<td>

<p>logical for whether to model for cure using a non-mixture model (default=FALSE)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mixture</code></td>
<td>

<p>logical for whether to model for cure using a mixture model (default=FALSE)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrasts</code></td>
<td>

<p>an optional list. See the <code>contrasts.arg</code>
of <code>model.matrix.default</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>

<p>an optional vector specifying a subset of observations to
be used in the fitting process.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>additional arguments to be passed to the <code>mle2</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The implementation extends the <code>mle2</code> object from the
<code>bbmle</code> package. The model inherits all of the methods from the
<code>mle2</code> class.
</p>


<h3>Value</h3>

<p>An <code>aft-class</code> object that inherits from <code>mle2-class</code>. 
</p>


<h3>Author(s)</h3>

<p>Mark Clements.
</p>


<h3>See Also</h3>

<p><code>survreg</code>, <code>coxph</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">summary(aft(Surv(rectime,censrec==1)~hormon,data=brcancer,df=4))
</code></pre>


</div>