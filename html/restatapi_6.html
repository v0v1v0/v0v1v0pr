<div class="container">

<table style="width: 100%;"><tr>
<td>extract_toc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract the text of the table of contents from SDMX XML</h2>

<h3>Description</h3>

<p>Extracts the values of a node from the Eurostat XML Table of contents (TOC) file
</p>


<h3>Usage</h3>

<pre><code class="language-R">extract_toc(ns)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>ns</code></td>
<td>
<p>an XML node set from the XML TOC file</p>
</td>
</tr></table>
<h3>Details</h3>

<p>It is a sub-function to use in the <code>get_eurostat_toc</code> function.
</p>


<h3>Value</h3>

<p>a character vector with all the values of the node set.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
cfg&lt;-get("cfg",envir=restatapi::.restatapi_env) 
rav&lt;-get("rav",envir=restatapi::.restatapi_env)
toc_endpoint&lt;-eval(parse(text=paste0("cfg$TOC_ENDPOINT$'",rav,"'$ESTAT$xml")))

if (!(grepl("amzn|-aws|-azure ",Sys.info()['release']))) options(timeout=2)
tryCatch(xml_leafs&lt;-xml2::xml_find_all(xml2::read_xml(toc_endpoint),".//nt:leaf"),
         error = function(e) {xml_leafs&lt;-""},
         warning = function(w) {xml_leafs&lt;-""})
if (exists("xml_leafs")){
   if (Sys.info()[['sysname']]=='Windows'){ 
      xml_node&lt;-as.character(xml_leafs[1])
   }else{
      xml_node&lt;-xml_leafs[1]
   }
   restatapi::extract_toc(xml_node)
}
options(timeout=60)

</code></pre>


</div>