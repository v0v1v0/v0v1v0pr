<div class="container">

<table style="width: 100%;"><tr>
<td>runUMAP</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform UMAP Dimensionality Reduction</h2>

<h3>Description</h3>

<p>Run UMAP on the quantile normalized cell factors (result from
<code>quantileNorm</code>), or unnormalized cell factors (result from
<code>runIntegration</code>)) to generate a 2D embedding for visualization
(or general dimensionality reduction). Has option to run on subset of
factors. It is generally recommended to use this method for dimensionality
reduction with extremely large datasets. The underlying UMAP calculation
imports uwot <code>umap</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">runUMAP(
  object,
  useRaw = NULL,
  useDims = NULL,
  nDims = 2,
  distance = c("cosine", "euclidean", "manhattan", "hamming"),
  nNeighbors = 20,
  minDist = 0.1,
  dimredName = "UMAP",
  seed = 42,
  verbose = getOption("ligerVerbose", TRUE),
  k = nDims,
  use.raw = useRaw,
  dims.use = useDims,
  n_neighbors = nNeighbors,
  min_dist = minDist,
  rand.seed = seed
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>liger object with factorization results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useRaw</code></td>
<td>
<p>Whether to use un-aligned cell factor loadings (<code class="reqn">H</code>
matrices). Default <code>NULL</code> search for quantile-normalized loadings first
and un-aligned loadings then.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useDims</code></td>
<td>
<p>Index of factors to use for computing UMAP embedding. Default
<code>NULL</code> uses all factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nDims</code></td>
<td>
<p>Number of dimensions to reduce to. Default <code>2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance</code></td>
<td>
<p>Character. Metric used to measure distance in the input
space. Default <code>"cosine"</code>, alternative options include:
<code>"euclidean"</code>, <code>"manhattan"</code> and <code>"hamming"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nNeighbors</code></td>
<td>
<p>Number of neighboring points used in local approximations
of manifold structure. Default <code>10</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minDist</code></td>
<td>
<p>Numeric. Controls how tightly the embedding is allowed
compress points together. Default <code>0.1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimredName</code></td>
<td>
<p>Name of the variable in <code>cellMeta</code> slot to store the
result matrix. Default <code>"UMAP"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Random seed for reproducibility. Default <code>42</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical. Whether to show information of the progress. Default
<code>getOption("ligerVerbose")</code> or <code>TRUE</code> if users have not set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k, use.raw, dims.use, n_neighbors, min_dist, rand.seed</code></td>
<td>
<p><b>Deprecated</b>.
See Usage section for replacement.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For <code>nNeighbors</code>, larger values will result in more global
structure being preserved at the loss of detailed local structure. In general
this parameter should often be in the range 5 to 50, with a choice of 10 to
15 being a sensible default.
</p>
<p>For <code>minDist</code>, larger values ensure embedded points are more evenly
distributed, while smaller values allow the algorithm to optimize more
accurately with regard to local structure. Sensible values are in the range
0.001 to 0.5, with 0.1 being a reasonable default.
</p>


<h3>Value</h3>

<p>The <code>object</code> where a <code>"UMAP"</code> variable is updated in the
<code>cellMeta</code> slot with the whole 2D embedding matrix.
</p>


<h3>See Also</h3>

<p><code>runTSNE</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">pbmc &lt;- runUMAP(pbmcPlot)
</code></pre>


</div>