<div class="container">

<table style="width: 100%;"><tr>
<td>conda-env</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>'Miniconda' environment</h2>

<h3>Description</h3>

<p>These functions/variables are used to configure
'Miniconda' environment.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CONDAENV_NAME(env_name)

conda_path()

conda_bin()

env_path()

list_pkgs(...)

configure_matlab(matlab, python_ver = "auto")

configure_conda(
  python_ver = "auto",
  packages = NULL,
  matlab = NULL,
  update = FALSE,
  force = FALSE,
  standalone = FALSE
)

remove_conda(ask = TRUE)

add_packages(packages = NULL, python_ver = "auto", ...)

ensure_rpymat(verbose = TRUE, cache = TRUE)

matlab_engine()

call_matlab(
  fun,
  ...,
  .options = getOption("rpymat.matlab_opt", "-nodesktop -nojvm"),
  .debug = getOption("rpymat.debug", FALSE)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>env_name</code></td>
<td>
<p>alternative environment name to use; default is
<code>"rpymat-conda-env"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>for <code>add_packages</code>, these are additional parameters
passing to <code>conda_install</code>; for
<code>call_matlab</code>, <code>...</code> are the parameters passing to <code>fun</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matlab</code></td>
<td>
<p>'Matlab' path to add to the configuration path;
see 'Details'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>python_ver</code></td>
<td>
<p><code>python</code> version to use; see 'Configuration'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>packages</code></td>
<td>
<p>additional <code>python</code> or <code>conda</code> packages to install</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>update</code></td>
<td>
<p>whether to update <code>conda</code>; default is false</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force</code></td>
<td>
<p>whether to force install the 'Miniconda' even a previous
version exists; default is false. Setting <code>false=TRUE</code> rarely
works. Please see 'Configuration'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standalone</code></td>
<td>
<p>whether to install <code>conda</code> regardless of existing
<code>conda</code> environment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ask</code></td>
<td>
<p>whether to ask for user's agreement to remove the repository.
This parameter should be true if your functions depend on
<code>remove_conda</code> (see 'CRAN Repository Policy'). This argument might
be removed and force to be interactive in the future.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>whether to print messages</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache</code></td>
<td>
<p>whether to use cached configurations; default is true</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>'Matlab' function name, character (experimental)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.options</code></td>
<td>
<p>'Matlab' compiler options</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.debug</code></td>
<td>
<p>whether to enable debug mode</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>None
</p>


<h3>Background &amp; Objectives</h3>

<p>Package <code>reticulate</code> provides sophisticated tool-sets that
allow us to call <code>python</code> functions within <code>R</code>. However, the
installation of 'Miniconda' and <code>python</code> can be tricky on many
platforms, for example, the 'M1' chip, or some other 'ARM' machines.
The package <code>rpymat</code> provides easier approach to configure on these
machines with totally isolated environments. Any modifications to this
environment will not affect your other set ups.
</p>
<p>Since 2014, 'Matlab' has introduced its official compiler for <code>python</code>.
The package <code>rpymat</code> provides a simple approach to link the
compiler, provided that you have proper versions of 'Matlab' installed.
<a href="https://www.mathworks.com/support/requirements/python-compatibility.html">Here</a> is a list of
'Matlab' versions with official compilers and their corresponding
<code>python</code> versions.
</p>


<h3>Configuration</h3>

<p>If 'Matlab' compiler is not to be installed, In most of the cases,
function <code>configure_conda</code> with default arguments automatically
downloads the latest 'Miniconda' and configures the latest <code>python</code>.
If any other versions of 'Miniconda' is ought to be installed,
please set options <code>"reticulate.miniconda.url"</code> to change the
source location.
</p>
<p>If 'Matlab' is to be installed, please specify the 'Matlab' path when
running <code>configure_conda</code>. If the environment has been setup,
<code>configure_matlab</code> can link the 'Matlab' compilers without
removing the existing environment. For 'ARM' users, unfortunately,
there will be no 'Matlab' support as the compilers are written for
the 'Intel' chips.
</p>


<h3>Initialization</h3>

<p>Once <code>conda</code> and <code>python</code> environment has been installed, make sure
you run <code>ensure_rpymat()</code> before running any <code>python</code> code. This
function will make sure correct compiler is linked to your current
<code>R</code> session.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# The script will interactively install \code{conda} to `R_user_dir`
## Not run: 

# Install conda and python 3.9

configure_conda(python_ver = '3.9')


# Add packages h5py, pandas, jupyter

add_packages(c('h5py', 'pandas', 'jupyter'))

# Add pip packages

add_packages("itk", pip = TRUE)

# Initialize the isolated environment

ensure_rpymat()


# Remove the environment

remove_conda()


## End(Not run)

</code></pre>


</div>