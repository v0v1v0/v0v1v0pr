<div class="container">

<table style="width: 100%;"><tr>
<td>rvn_rvh_query</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Queries RVH object for subbasins and HRUs of interest</h2>

<h3>Description</h3>

<p>Queries the RVH object for subbasins or HRUs that are upstream of, downstream of,
or the opposite of those conditions, for a given subbasin ID.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rvn_rvh_query(rvh = NULL, subbasinID = NULL, condition = "upstream_of")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rvh</code></td>
<td>
<p>rvh object as returned by <code>rvn_rvh_read</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subbasinID</code></td>
<td>
<p>subbasinID of basin of interest, as character or integer</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>condition</code></td>
<td>
<p>condition applied to the query</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Based on the definition of subbasins by their outlets in Raven, it is assumed here that 'upstream' includes
the specified subbasin (i.e. everything upstream of subbasin X includes subbasin X as well), and 'downstream'
of subbasin X does not include subbasin X. This is different from the default behaviour of <code>igraph</code>, which
includes the specified subbasin in either query.
</p>


<h3>Value</h3>

<p>rvh object in same format, but queried to condition and all features (SBtable, HRUtable, SBnetwork) updated.
</p>


<h3>Note</h3>

<p>Raven has capabilities for creating subbasin and HRU groups that meet certain criteria as well, consider
reviewing the ':PopulateSubbasinGroup', ':PopulateHRUGroup', and other commands in Section A.3.2 of the
Raven User's Manual.
</p>


<h3>See Also</h3>

<p><code>rvn_rvh_write</code> to write contents of the generated (and usually modified HRU and SubBasin tables)
<code>rvn_rvh_read</code> to read a Raven RVH file into R
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load example rvh file
nith &lt;- system.file("extdata","Nith.rvh",package = "RavenR")
rvh &lt;- rvn_rvh_read(nith)

# plot full watershed with igraph library
plot(rvh$SBnetwork)

# query all subbasins upstream of basin 39, plot
rvh_upstream_of_39 &lt;- rvn_rvh_query(rvh, subbasinID=39, condition="upstream_of")
plot(rvh_upstream_of_39$SBnetwork)

# query of HRUs downstream of basin 39
rvn_rvh_query(rvh, subbasinID=39, condition="downstream_of")$SBtable

</code></pre>


</div>