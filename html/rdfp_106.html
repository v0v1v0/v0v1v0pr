<div class="container">

<table style="width: 100%;"><tr>
<td>dfp_getReportDownloadURL</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ReportService</h2>

<h3>Description</h3>

<p>Provides methods for executing a ReportJob and retrieving performance and
statistics about ad campaigns, networks, inventory and sales.
Follow the
steps outlined below:
</p>

<ul>
<li>
<p>Create the ReportJob object by
invoking ReportService#runReportJob.
</p>
</li>
<li>
<p>Poll the ReportJob object
using ReportService#getReportJob.
</p>
</li>
<li>
<p>Continue to poll the ReportJob
object until the ReportJob#reportJobStatus field is equal to
ReportJobStatus#COMPLETED or ReportJobStatus#FAILED.
</p>
</li>
<li>
<p>If
successful, fetch the URL for downloading the report by invoking
ReportService#getReportDownloadURL.
</p>
</li>
</ul>
<p> &lt;h4&gt;Test network
behavior&lt;/h4&gt;
The networks created using NetworkService#makeTestNetwork
are unable to provide reports that would be comparable to the production
environment because reports require traffic history. In the test networks,
reports will consistently return no data for all reports.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dfp_getReportDownloadURL(request_data, as_df = FALSE, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>request_data</code></td>
<td>
<p>a <code>list</code> or <code>data.frame</code> of data elements
to be formatted for a SOAP
request (XML format, but passed as character string)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_df</code></td>
<td>
<p>a boolean indicating whether to attempt to parse the result into
a <code>data.frame</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>a boolean indicating whether to print the service URL and POSTed XML</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>getReportDownloadURL
</p>
<p>Returns the URL at which the report file can be downloaded.
The report will be generated as a gzip archive, containing the report file itself.
</p>


<h3>Value</h3>

<p>a <code>data.frame</code> or <code>list</code> containing all the elements of a getReportDownloadURLResponse
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/ad-manager/api/reference/v201905/ReportService#getReportDownloadURL">Google Documentation for getReportDownloadURL</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
request_data &lt;- list(reportJob=
                       list(reportQuery=
                              list(dimensions='MONTH_AND_YEAR', 
                                   dimensions='AD_UNIT_ID',
                                   adUnitView='FLAT',
                                   columns='AD_SERVER_CLICKS', 
                                   dateRangeType='LAST_WEEK')))

# the result is a list and most importantly the ID is included for checking its status
dfp_runReportJob_result &lt;- dfp_runReportJob(request_data)

# only run after the status is "COMPLETED"
request_data &lt;- list(reportJobId=dfp_runReportJob_result$id, exportFormat='CSV_DUMP')
dfp_getReportDownloadURL_result &lt;- dfp_getReportDownloadURL(request_data)

## End(Not run)
</code></pre>


</div>