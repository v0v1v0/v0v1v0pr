<div class="container">

<table style="width: 100%;"><tr>
<td>labkey.provenance.addRecordingStep</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a step to a provenance recording</h2>

<h3>Description</h3>

<p>Function to add a step to a previously created provenance recording session.
Note: this function is in beta and not yet final, changes should be expected so exercise caution when using it.
</p>


<h3>Usage</h3>

<pre><code class="language-R">labkey.provenance.addRecordingStep(baseUrl=NULL, folderPath, provenanceParams = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>baseUrl</code></td>
<td>
<p>a string specifying the <code>baseUrl</code> for the labkey server</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>folderPath</code></td>
<td>
<p>a string specifying the <code>folderPath</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>provenanceParams</code></td>
<td>
<p>the provenance parameter object which contains the options to include in this recording step</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Function to add a step to a previously created provenance recording. The recording ID that was obtained from
a previous startRecording function call must be passed into the provenanceParams config.
This is a premium feature and requires the Provenance LabKey module to function correctly.
</p>


<h3>Value</h3>

<p>The generated recording ID which can be used in subsequent steps (or queries that support provenance).
</p>


<h3>Author(s)</h3>

<p>Karl Lum</p>


<h3>See Also</h3>

<p><code>labkey.provenance.createProvenanceParams</code>,
<code>labkey.provenance.startRecording</code>,
<code>labkey.provenance.stopRecording</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

## start a provenance recording and add a recording step
library(Rlabkey)

mi &lt;- data.frame(lsid=c("urn:lsid:labkey.com:Sample.251.MySamples:sample1",
        "urn:lsid:labkey.com:Sample.251.MySamples:sample2"))

p &lt;- labkey.provenance.createProvenanceParams(name="step1", description="initial step",
        materialInputs=mi)
r &lt;- labkey.provenance.startRecording(baseUrl="https://labkey.org/labkey/",
        folderPath = "Provenance", provenanceParams=p)
do &lt;- data.frame(
        lsid="urn:lsid:labkey.com:AssayRunTSVData.Folder-251:12c70994-7ce5-1038-82f0-9c1487dbd334")

labkey.provenance.addRecordingStep(baseUrl="https://labkey.org/labkey/", folderPath = "Provenance",
    provenanceParams=labkey.provenance.createProvenanceParams(name="additional step",
        recordingId=r$recordingId, dataOutputs=do))

## End(Not run)
</code></pre>


</div>