<div class="container">

<table style="width: 100%;"><tr>
<td>lmrobdet.control</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tuning parameters for lmrobdetMM and lmrobdetDCML</h2>

<h3>Description</h3>

<p>This function sets tuning parameters for the MM estimator implemented in <code>lmrobdetMM</code> and
the Distance Constrained Maximum Likelihood regression estimators
computed by <code>lmrobdetDCML</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">lmrobdet.control(
  bb = 0.5,
  efficiency = 0.95,
  family = "mopt",
  tuning.psi,
  tuning.chi,
  compute.rd = FALSE,
  corr.b = TRUE,
  split.type = "f",
  initial = "S",
  max.it = 100,
  refine.tol = 1e-07,
  rel.tol = 1e-07,
  refine.S.py = 1e-07,
  refine.PY = 10,
  solve.tol = 1e-07,
  trace.lev = 0,
  psc_keep = 0.5,
  resid_keep_method = "threshold",
  resid_keep_thresh = 2,
  resid_keep_prop = 0.2,
  py_maxit = 20,
  py_eps = 1e-05,
  mscale_maxit = 50,
  mscale_tol = 1e-06,
  mscale_rho_fun = "bisquare"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bb</code></td>
<td>
<p>tuning constant (between 0 and 1/2) for the M-scale used to compute the initial S-estimator. It
determines the robusness (breakdown point) of the resulting MM-estimator, which is
<code>bb</code>. Defaults to 0.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>efficiency</code></td>
<td>
<p>desired asymptotic efficiency of the final regression M-estimator. Defaults to 0.95.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>string specifying the name of the family of loss function to be used (current valid
options are "bisquare", "opt" and "mopt"). Incomplete entries will be matched to the current valid options. Defaults to "mopt".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tuning.psi</code></td>
<td>
<p>tuning parameters for the regression M-estimator computed with a rho function
as specified with argument <code>family</code>. If missing, it is computed inside <code>lmrobdet.control</code> to match
the value of <code>efficiency</code> according to the family of rho functions specified in <code>family</code>.
Appropriate values for <code>tuning.psi</code> for a given desired efficiency for Gaussian errors
can be constructed using the functions bisquare, mopt and opt.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tuning.chi</code></td>
<td>
<p>tuning constant for the function used to compute the M-scale
used for the initial S-estimator. If missing, it is computed inside <code>lmrobdet.control</code> to match
the value of <code>bb</code> according to the family of rho functions specified in <code>family</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compute.rd</code></td>
<td>
<p>logical value indicating whether robust leverage distances need to be computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corr.b</code></td>
<td>
<p>logical value indicating whether a finite-sample correction should be applied
to the M-scale parameter <code>bb</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split.type</code></td>
<td>
<p>determines how categorical and continuous variables are split. See
<code>splitFrame</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initial</code></td>
<td>
<p>string specifying the initial value for the M-step of the MM-estimator. Valid
options are <code>'S'</code>, for an S-estimator and <code>'MS'</code> for an M-S estimator which is
appropriate when there are categorical explanatory variables in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.it</code></td>
<td>
<p>maximum number of IRWLS iterations for the MM-estimator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refine.tol</code></td>
<td>
<p>relative convergence tolerance for the S-estimator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rel.tol</code></td>
<td>
<p>relative convergence tolerance for the IRWLS iterations for the MM-estimator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refine.S.py</code></td>
<td>
<p>relative convergence tolerance for the local improvements of the Pena-Yohai candidates for the S-estimator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refine.PY</code></td>
<td>
<p>number of refinement steps for the Pen~a-Yohai candidates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>solve.tol</code></td>
<td>
<p>(for the S algorithm): relative tolerance for matrix inversion. Hence, this corresponds to <code>solve.default</code>'s tol.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trace.lev</code></td>
<td>
<p>positive values (increasingly) provide details on the progress of the MM-algorithm</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>psc_keep</code></td>
<td>
<p>For <code>pyinit</code>, proportion of observations to remove based on PSCs. The effective proportion of removed
observations is adjusted according to the sample size to be <code>prosac*(1-p/n)</code>. See <code>pyinit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resid_keep_method</code></td>
<td>
<p>For <code>pyinit</code>, how to clean the data based on large residuals. If
<code>"threshold"</code>, all observations with scaled residuals larger than <code>C.res</code> will
be removed, if <code>"proportion"</code>, observations with the largest <code>prop</code> residuals will
be removed. See <code>pyinit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resid_keep_thresh</code></td>
<td>
<p>See parameter <code>resid_keep_method</code> above. See <code>pyinit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resid_keep_prop</code></td>
<td>
<p>See parameter <code>resid_keep_method</code> above. See <code>pyinit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>py_maxit</code></td>
<td>
<p>Maximum number of iterations. See <code>pyinit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>py_eps</code></td>
<td>
<p>Relative tolerance for convergence.  See <code>pyinit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mscale_maxit</code></td>
<td>
<p>Maximum number of iterations for the M-scale algorithm. See <code>pyinit</code> and <code>mscale</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mscale_tol</code></td>
<td>
<p>Convergence tolerance for the M-scale algorithm. See <code>mscale</code> and <code>mscale</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mscale_rho_fun</code></td>
<td>
<p>String indicating the loss function used for the M-scale. See <code>pyinit</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The argument <code>family</code> specifies the name of the family of loss
function to be used. Current valid options are "bisquare", "opt", "mopt", 
"optV0" and "moptV0". "mopt" is a modified  version of the optimal psi 
function to make it strictly increasing close to 0, and to make the
corresponding weight function non-increasing.
</p>


<h3>Value</h3>

<p>A list with the necessary tuning parameters.
</p>


<h3>Choice of Rho Loss Function</h3>

<p>As of RobStatTM Versopm 1.0.7, the opt and mopt rhos functions are
calculated using polynomials, rather than using the standard normal error
function (erf) as in versions of RobStatTM prior to 1.0.7. The numerical
results one now gets with the opt or mopt choices will differ by small
amounts from those in earlier RobStatTM versions. Users who wish to replicate
results from releases prior to 1.0.7 may do so using the family arguments
family = "optV0" or family = "moptV0". Note that the derivative of the rho
loss function, known as the "psi" function, is not the derivative of the rho
polynomial,instead it is still the analytic optimal psi function whose formula
is given in the second of the Vignettes referenced just below.
</p>


<h3>Related Vignettes</h3>

<p>For further details, see the Vignettes "Polynomial Opt and mOpt Rho Functions",
and "Optimal Bias Robust Regression Psi and Rho".
</p>


<h3>Author(s)</h3>

<p>Matias Salibian-Barrera, <a href="mailto:matias@stat.ubc.ca">matias@stat.ubc.ca</a>
</p>


<h3>See Also</h3>

<p><code>pyinit</code>, <code>mscale</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(coleman, package='robustbase')
m2 &lt;- lmrobdetMM(Y ~ ., data=coleman, control=lmrobdet.control(refine.PY=50))
m2
summary(m2)

</code></pre>


</div>