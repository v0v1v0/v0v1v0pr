<div class="container">

<table style="width: 100%;"><tr>
<td>RBtest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Test of missing data mechanism using complete data</h2>

<h3>Description</h3>

<p>This function tests the missing completely at random (MCAR) vs missing at random (MAR) by using the complete variables only.
</p>


<h3>Usage</h3>

<pre><code class="language-R">RBtest(data)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Dataset with at least one complete variable. The variables could be either continuous, categorical or a mix of both.</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A list of the following elements:
</p>

<ul>
<li> <p><code>abs.nbrMD</code> The absolute number of missing data per variable.
</p>
</li>
<li> <p><code>rel.nbrMD</code> The percentage of missing data per variable.
</p>
</li>
<li> <p><code>type</code> Vector of the same length than the number of variables of the dataset, where '0' is for variables with MCAR data, '1' is for variables with MAR data and '-1' is for complete variables.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Serguei Rouzinov <a href="mailto:rouzinovs@gmail.com">rouzinovs@gmail.com</a> and
</p>
<p>Andr√© Berchtold <a href="mailto:Andre.Berchtold@unil.ch">Andre.Berchtold@unil.ch</a>
</p>
<p>Maintainer: Serguei Rouzinov <a href="mailto:rouzinovs@gmail.com">rouzinovs@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(60)
n&lt;-100 # sample size
r&lt;-5 # number of variables
mis&lt;-0.2 # frequency of missing data
mydata&lt;-matrix(NA, nrow=n, ncol=r) # mydata is a matrix of r variables
# following a U(0,1) distribution
for (i in c(1:r)){
	mydata[,i]&lt;-runif(n,0,1)
}
bin.var&lt;-sample(LETTERS[1:2],n,replace=TRUE, prob=c(0.3,0.7)) # binary variable [A,B].
# The probability of being in one of the categories is 0.3.
cat.var&lt;-sample(LETTERS[1:3],n,replace=TRUE, prob=c(0.5,0.3,0.2)) # categorical variable [A,B,C].
num.var&lt;-runif(n,0,1) # Additional continuous variable following a U(0,1) distribution
mydata&lt;-cbind.data.frame(mydata,bin.var,cat.var,num.var,stringsAsFactors = TRUE)
# dataframe with r+3 variables
colnames(mydata)=c("v1","v2","X1","X2","X3","X4","X5", "X6") # names of columns
# MCAR on X1 and X4 by using v1 and v2. MAR on X3 and X5 by using X2 and X6.
mydata$X1[which(mydata$v1&lt;=sort(mydata$v1)[mis*n])]&lt;-NA # X1: (mis*n)% of MCAR data.
# All data above the (100-mis)th percentile in v1 are selected
# and the corresponding observations in X1 are replaced with missing data.
mydata$X3[which(mydata$X2&lt;=sort(mydata$X2)[mis*n])]&lt;-NA # X3: (mis*n)% of MAR data.
# All data above the (100-mis)th percentile in X2 are selected
# and the corresponding observations in X3 are replaced with missing data.
mydata$X4[which(mydata$v2&lt;=sort(mydata$v2)[mis*n])]&lt;-NA # X4: (mis*n)% of MCAR data.
# All data above the (100-mis)th percentile in v2 are selected
# and the corresponding observations in X4 are replaced with missing data.
mydata$X5[which(mydata$X6&lt;=sort(mydata$X6)[mis*n])]&lt;-NA # X5: (mis*n)% of MAR data.
# All data above the (100-mis)th percentile in X6 are selected
# and the corresponding observations in X5 are replaced with missing data.
mydata$v1=NULL
mydata$v2=NULL
RBtest(mydata)

</code></pre>


</div>