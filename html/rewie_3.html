<div class="container">

<table style="width: 100%;"><tr>
<td>rewie.dat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to transform data for mixed modeling with REWE, REWIE, BW, and BWI.

</h2>

<h3>Description</h3>

<p>Centers data for the specified variables. For REWE and BW, data are centered to provide cross-section means and within variation. For REWIE and BWI, data are centered to provide cross-section means, time means for the within variation, and the idiosyncratic variation centered on both cross-section and time means.

</p>


<h3>Usage</h3>

<pre><code class="language-R">rewie.dat(df,vars.to.center,csvar,timevar=NULL,model="BWI")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p> df is the data frame containing the variables to transform.

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars.to.center</code></td>
<td>
<p> The variables to be transformed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timevar</code></td>
<td>
<p> is a character string providing the name of the time indicator variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>csvar</code></td>
<td>
<p> is a character string providing the name of the cross-section indicator variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p> specifies the type of transformation. Can be one of the following: "BWI","REWE","REWIE", or"BW". For REWE and BW, the within variation and cross-section means are returned. For REWIE and BWI, the cross-section means, idiosyncratic variation, and time means of the within variation are returned.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Transforms panel data to conduct panel analysis with random effects within estimators and its extensions. The variables are centered on their time and cross-section means to be passed to lmer() for mixed modeling. The time means are the means of the differences between the cross-section means and the observations. The idiosyncratic variation is the observation twice centered (minus the cross-section mean, then minus the time mean). When passed to a mixed model, the idiosyncratic variation returns the same estimate as two-way fixed effects, the between variation gives the between estimator, and the time mean gives the period effect of the variable. Other time invariant and cross-section invariant variables can also be included, but these models do not need to be transformed.
</p>


<h3>Value</h3>

<p>Returns a dataframe including the transformed values to be used in mixed modeling.
</p>







<h3>Author(s)</h3>

<p>Scott Duxbury, Assistant Professor of Sociology at University of North Carolina, Chapel Hill
</p>


<h3>See Also</h3>

<p><code>edgeprob</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

library(plm)
library(lme4)


##not run
data("Crime")


#####Ceate data for REWE and BW
crime.data&lt;-rewie.dat(Crime,c("lcrmrte","ldensity"),csvar="county",model="BW")

#random effects within estimator. Equivalent to one-way fixed effects with a random intercept
REWE&lt;-lmer(lcrmrte_within~ldensity_within+(1|year),data=crime.data)

#Between within model w/o time intercept
BW&lt;-lmer(lcrmrte~ldensity_within+ldensity_between+(1|county),data=crime.data)

#cross-classified between within model including time intercept
ccBW&lt;-lmer(lcrmrte~ldensity_within+ldensity_between+(1|county)+(1|year),data=crime.data)



###Create data for REWIE and BWI
crime.data&lt;-rewie.dat(Crime,c("lcrmrte","ldensity"),csvar="county",timevar="year",model="BWI")

#Random effects within-idiosyncratic estimator. Idiosyncratic estimator is the
  #two-way fixed effects estimator.
  #_common variables yield the effect of common time trends
    #(period effects/homogenous within effect) on the outcome
REWIE&lt;-lmer(lcrmrte_within~ldensity_within_idiosyncratic+
            ldensity_within_common+
            (1|year),data=crime.data)

#Between-within-idiosyncratic model. Idiosyncratic estimator and common estimator are
  #the same as REWIE, but also includes between effects
BWI&lt;-lmer(lcrmrte~ldensity_within_idiosyncratic+
          ldensity_within_common+
          ldensity_between+
          (1|year)+(1|county),data=crime.data)


</code></pre>


</div>