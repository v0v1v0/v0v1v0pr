<div class="container">

<table style="width: 100%;"><tr>
<td>var2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Variance (extended)
</h2>

<h3>Description</h3>

<p>Calculating the variance (var), weighted or non-weighted, for samples or populations
</p>


<h3>Usage</h3>

<pre><code class="language-R">var2(x, is.sample = TRUE, weighting = NULL, wmean = FALSE, na.rm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>a <code>numeric</code> vector
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is.sample</code></td>
<td>

<p>logical argument that indicates if the dataset is a sample or the population (default: <code>is.sample = TRUE</code>, so the denominator of variance is <code class="reqn">n-1</code>) 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighting</code></td>
<td>

<p>a <code>numeric</code> vector containing weighting data to compute the weighted standard deviation (instead of the non-weighted sd)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wmean</code></td>
<td>

<p>logical argument that indicates if the weighted mean is used when calculating the weighted standard deviation
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>

<p>logical argument that whether NA values should be extracted or not
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function calculates the <em>variance</em> (var). Unlike the R base <code>var</code> function, the <code>var2</code> function allows to choose if the data is treated as sample (denominator of variance is <code class="reqn">n-1</code>)) or not (denominator of variance is <code class="reqn">n</code>))
</p>
<p>From a regional economic perspective, var and sd is closely linked to the concept of <em>sigma convergence</em> (<code class="reqn">\sigma</code>) which means a harmonization of regional economic output or income over time, while the other type of convergence, <em>beta convergence</em> (<code class="reqn">\beta</code>), means a decline of dispersion because poor regions have a stronger growth than rich regions (Capello/Nijkamp 2009). The sd allows to summarize regional disparities (e.g. disparities in regional GDP per capita) in one indicator. The coefficient of variation (see the function <code>cv</code>) is more frequently used for this purpose (e.g. Lessmann 2005, Huang/Leung 2009, Siljak 2015). But the sd can also be used for any other types of disparities or dispersion, such as disparities in supply (e.g. density of physicians or grocery stores). 
</p>
<p>The variance can be weighted by using a second weighting vector. As there is more than one way to weight measures of statistical dispersion, this function uses the formula for the weighted variance (<code class="reqn">\sigma_w</code>) from Sheret (1984). The vector <code>x</code> is automatically treated as a sample (such as in the base <code>sd</code> function), so the denominator of variance is <code class="reqn">n-1</code>, if it is not, set <code>is.sample = FALSE</code>.  
</p>


<h3>Value</h3>

<p>Single numeric value. If <code>weighting</code> is specified, the function returns a weighted variance (optionally using a weighted arithmetic mean if <code>wmean = TRUE</code>). 
</p>


<h3>Author(s)</h3>

<p>Thomas Wieland
</p>


<h3>References</h3>

<p>Bahrenberg, G./Giese, E./Mevenkamp, N./Nipper, J. (2010): “Statistische Methoden in der Geographie. Band 1: Univariate und bivariate Statistik”. Stuttgart: Borntraeger.
</p>
<p>Capello, R./Nijkamp, P. (2009): “Introduction: regional growth and development theories in the twenty-first century - recent theoretical advances and future challenges”. In: Capello, R./Nijkamp, P. (eds.): <em>Handbook of Regional Growth and Development Theories</em>. Cheltenham: Elgar. p. 1-16.
</p>
<p>Lessmann, C. (2005): “Regionale Disparitaeten in Deutschland und ausgesuchten OECD-Staaten im Vergleich”. <em>ifo Dresden berichtet</em>, <b>3/2005</b>. <a href="https://www.ifo.de/DocDL/ifodb_2005_3_25-33.pdf">https://www.ifo.de/DocDL/ifodb_2005_3_25-33.pdf</a>.
</p>
<p>Huang, Y./Leung, Y. (2009): “Measuring Regional Inequality: A Comparison of Coefficient of Variation and Hoover Concentration Index”. In: <em>The Open Geography Journal</em>, <b>2</b>, p. 25-34.
</p>
<p>Sheret, M. (1984): “The Coefficient of Variation: Weighting Considerations”. In: <em>Social Indicators Research</em>, <b>15</b>, 3, p. 289-295.
</p>
<p>Siljak, D. (2015): “Real Economic Convergence in Western Europe from 1995 to 2013”. In: <em>International Journal of Business and Economic Development</em>, <b>3</b>, 3, p. 56-67.
</p>


<h3>See Also</h3>

<p><code>sd2</code>, <code>cv</code>, <code>gini</code>, <code>herf</code>, <code>hoover</code>, <code>mean2</code>, <code>rca</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Regional disparities / sigma convergence in Germany
data(G.counties.gdp)
# GDP per capita for German counties (Landkreise)
vars &lt;- apply (G.counties.gdp[54:68], MARGIN = 2, FUN = var2)
# Calculating variance for the years 2000-2014
years &lt;- 2000:2014
plot(years, vars, "l", xlab = "year", 
ylab = "Variance of GDP per capita")
# Plot variance over time
</code></pre>


</div>