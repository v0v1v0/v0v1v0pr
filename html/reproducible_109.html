<div class="container">

<table style="width: 100%;"><tr>
<td>determineFilename</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Determine filename, either automatically or manually</h2>

<h3>Description</h3>

<p>Determine the filename, given various combinations of inputs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">determineFilename(
  filename2 = NULL,
  filename1 = NULL,
  destinationPath = getOption("reproducible.destinationPath", "."),
  verbose = getOption("reproducible.verbose", 1),
  prefix = "Small",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filename2</code></td>
<td>
<p><code>filename2</code> is optional, and is either
NULL (no writing of outputs to disk), or several options
for writing the object to disk. If
<code>TRUE</code> (the default), it will give it a file name determined by
<code>.prefix(basename(filename1), prefix)</code>. If
a character string, it will use this as its file name. See
<code>determineFilename()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename1</code></td>
<td>
<p>Character strings giving the file paths of
the <em>input</em> object (<code>filename1</code>) <code>filename1</code>
is only used for messaging (i.e., the object itself is passed
in as <code>x</code>) and possibly naming of output (see details
and <code>filename2</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>destinationPath</code></td>
<td>
<p>Optional. If <code>filename2</code> is a relative file path, then this
will be the directory of the resulting absolute file path.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Numeric, -1 silent (where possible), 0 being very quiet,
1 showing more messaging, 2 being more messaging, etc.
Default is 1. Above 3 will output much more information about the internals of
Caching, which may help diagnose Caching challenges. Can set globally with an
option, e.g., <code style="white-space: pre;">⁠options('reproducible.verbose' = 0) to reduce to minimal⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>The character string to prepend to <code>filename1</code>, if <code>filename2</code>
not provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Passed into <code>writeTo()</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The post processing workflow, which includes this function,
addresses several scenarios, and depending on which scenario, there are
several file names at play. For example, <code>Raster</code> objects may have
file-backed data, and so <em>possess a file name</em>, whereas <code>Spatial</code>
objects do not. Also, if post processing is part of a <code>prepInputs()</code>
workflow, there will always be a file downloaded. From the perspective of
<code>postProcess</code>, these are the "inputs" or <code>filename1</code>.
Similarly, there may or may not be a desire to write an
object to disk after all post processing, <code>filename2</code>.
</p>
<p>This subtlety means that there are two file names that may be at play:
the "input" file name (<code>filename1</code>), and the "output" filename (<code>filename2</code>).
When this is used within <code>postProcess</code>, it is straight forward.
</p>
<p>However, when <code>postProcess</code> is used within a <code>prepInputs</code> call,
the <code>filename1</code> file is the file name of the downloaded file (usually
automatically known following the downloading, and refered to as <code>targetFile</code>)
and the <code>filename2</code> is the file name of the of post-processed file.
</p>
<p>If <code>filename2</code> is <code>TRUE</code>, i.e., not an actual file name, then the cropped/masked
raster will be written to disk with the original <code>filenam1/targetFile</code>
name, with <code>prefix</code> prefixed to the basename(<code>targetFile</code>).
</p>
<p>If <code>filename2</code> is a character string, it will be the path of the saved/written
object e.g., passed to <code>writeOutput</code>. It will be tested whether it is an
absolute or relative path and used as is if absolute or
prepended with <code>destinationPath</code> if relative.
</p>
<p>If <code>filename2</code> is <code>logical</code>, then the output
filename will be <code>prefix</code> prefixed to the basename(<code>filename1</code>).
If a character string, it
will be the path returned. It will be tested whether it is an
absolute or relative path and used as is if absolute or prepended with
<code>destinationPath</code> if provided, and if <code>filename2</code> is relative.
</p>


</div>