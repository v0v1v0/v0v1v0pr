<div class="container">

<table style="width: 100%;"><tr>
<td>ci_heatmap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a heatmap showing issues with items</h2>

<h3>Description</h3>

<p>When conducting cognitive interviews, it can be useful to quickly inspect
the code distributions for each item. These heatmaps facilitate that
process.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ci_heatmap(
  x,
  nrmSpec = NULL,
  language = nrmSpec$defaultLanguage,
  wrapLabels = 80,
  itemOrder = NULL,
  itemLabels = NULL,
  itemIdentifier = "uiid",
  codingScheme = "peterson",
  itemlab = NULL,
  codelab = NULL,
  freqlab = "Count",
  plotTitle = "Cognitive Interview Heatmap",
  fillScale = ggplot2::scale_fill_viridis_c(),
  theme = ggplot2::theme_minimal()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The object with the parsed coded source(s) as resulting from a
call to <code>parse_source()</code> or <code>parse_sources()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrmSpec</code></td>
<td>
<p>Optionally, an imported Narrative Response Model
specification, as imported with <code>ci_import_nrm_spec()</code>, which will
then be used to obtain the item labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>language</code></td>
<td>
<p>If <code>nrmSpec</code> is specified, the language to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wrapLabels</code></td>
<td>
<p>Whether to wrap the labels; if not <code>NULL</code>, the
number of character to wrap at.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>itemOrder, itemLabels</code></td>
<td>
<p>Instead of specifying an NRM specification,
you can also directly specify the item order and item labels. <code>itemOrder</code>
is a character vector of item identifiers, and <code>itemLabels</code> is a named
character vector of item labels, where each value's name is the
corresponding item identifier. If <code>itemLabels</code> is provided but <code>itemOrder</code>
is not, the order of the <code>itemLabel</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>itemIdentifier</code></td>
<td>
<p>The column identifying the items; the class instance
identifier prefix, e.g. if item identifiers are specified as
<code style="white-space: pre;">⁠[[uiid:familySize_7djdy62d]]⁠</code>, the <code>itemIdentifier</code> to pass here
is <code>"uiid"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>codingScheme</code></td>
<td>
<p>The coding scheme, either as a string if it represents
one of the cognitive interviewig coding schemes provided with the <code>rock</code>
package, or as a coding scheme resulting from a call
to <code>create_codingScheme()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>itemlab, codelab, freqlab</code></td>
<td>
<p>Labels to use for the item and code axes
and for the frequency color legend (<code>NULL</code> to omit the label).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotTitle</code></td>
<td>
<p>The title to use for the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillScale</code></td>
<td>
<p>Convenient way to specify the fill scale (the colours)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theme</code></td>
<td>
<p>Convenient way to specify the <code>ggplot2::ggplot()</code> theme.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The heatmap as a ggplot2 plot.
</p>


<h3>Examples</h3>

<pre><code class="language-R">examplePath &lt;- file.path(system.file(package="rock"), 'extdata');
parsedCI &lt;- rock::parse_source(
  file.path(examplePath,
            "ci_example_1.rock")
);

rock::ci_heatmap(parsedCI,
                 codingScheme = "peterson");
</code></pre>


</div>