<div class="container">

<table style="width: 100%;"><tr>
<td>comp_freq_prob</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute frequencies from (3 essential) probabilities.</h2>

<h3>Description</h3>

<p><code>comp_freq_prob</code> computes frequency information
from a sufficient and valid set of 3 essential probabilities
(<code>prev</code>, and
<code>sens</code> or its complement <code>mirt</code>, and
<code>spec</code> or its complement <code>fart</code>).
It returns a list of 11 key frequencies (<code>freq</code>)
as its output.
</p>


<h3>Usage</h3>

<pre><code class="language-R">comp_freq_prob(
  prev = prob$prev,
  sens = prob$sens,
  mirt = NA,
  spec = prob$spec,
  fart = NA,
  tol = 0.01,
  N = freq$N,
  round = TRUE,
  sample = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prev</code></td>
<td>
<p>The condition's prevalence <code>prev</code>
(i.e., the probability of condition being <code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sens</code></td>
<td>
<p>The decision's sensitivity <code>sens</code>
(i.e., the conditional probability of a positive decision
provided that the condition is <code>TRUE</code>).
<code>sens</code> is optional when its complement <code>mirt</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mirt</code></td>
<td>
<p>The decision's miss rate <code>mirt</code>
(i.e., the conditional probability of a negative decision
provided that the condition is <code>TRUE</code>).
<code>mirt</code> is optional when its complement <code>sens</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spec</code></td>
<td>
<p>The decision's specificity value <code>spec</code>
(i.e., the conditional probability
of a negative decision provided that the condition is <code>FALSE</code>).
<code>spec</code> is optional when its complement <code>fart</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fart</code></td>
<td>
<p>The decision's false alarm rate <code>fart</code>
(i.e., the conditional probability
of a positive decision provided that the condition is <code>FALSE</code>).
<code>fart</code> is optional when its complement <code>spec</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>A numeric tolerance value for <code>is_complement</code>.
Default: <code>tol = .01</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>The number of individuals in the population.
If <code>N</code> is unknown (<code>NA</code>),
a suitable minimum value is computed by <code>comp_min_N</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>round</code></td>
<td>
<p>A Boolean value that determines whether frequencies are
rounded to the nearest integer.
Default: <code>round = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample</code></td>
<td>
<p>Boolean value that determines whether frequency values
are sampled from <code>N</code>, given the probability values of
<code>prev</code>, <code>sens</code>, and <code>spec</code>.
Default: <code>sample = FALSE</code>.
</p>
<p>Note: Sampling uses <code>sample()</code> and returns integer values.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>comp_freq_prob</code> is a wrapper function for the more basic
function <code>comp_freq</code>, which only accepts
3 essential probabilities (i.e., <code>prev</code>, <code>sens</code>,
and <code>spec</code>) as inputs.
</p>
<p>Defaults and constraints:
</p>

<ul>
<li>
<p> Initial values:
</p>
<p>By default, the values of <code>prev</code>, <code>sens</code>,
and <code>spec</code> are initialized to the probability information
currently contained in <code>prob</code>.
</p>
<p>Similarly, the population size <code>N</code> uses the frequency
information currently contained in <code>freq</code> as its default.
If <code>N</code> is unknown (<code>NA</code>),
a suitable minimum value is computed by <code>comp_min_N</code>.
</p>
</li>
<li>
<p> Constraints:
</p>
<p>When using <code>comp_freq_prob</code> with the arguments
<code>mirt</code> and <code>fart</code>, their complements
<code>sens</code> and <code>spec</code> must either be
valid complements (as in <code>is_complement</code>) or
set to <code>NA</code>.
</p>
<p>In addition to <code>prev</code>, both <code>sens</code>
and <code>spec</code> are necessary arguments.
If only their complements <code>mirt</code> or <code>fart</code>
are known, first use <code>comp_complement</code>,
<code>comp_comp_pair</code>, or <code>comp_complete_prob_set</code>
to compute the 3 essential probabilities.
</p>
</li>
<li>
<p> Rounding:
</p>
<p>By default, <code>comp_freq_prob</code> and its basic function
<code>comp_freq</code> round frequencies to nearest integers
to avoid decimal values in <code>freq</code>
(i.e., <code>round = TRUE</code> by default).
</p>
<p>When frequencies are rounded, probabilities computed from
<code>freq</code> may differ from exact probabilities.
</p>
<p>Using the option <code>round = FALSE</code> turns off rounding.
</p>
</li>
</ul>
<p>Key relationships between frequencies and probabilities
(see documentation of <code>comp_freq</code> or <code>comp_prob</code> for details):
</p>

<ul>
<li>
<p> Three perspectives on a population:
</p>
<p>by condition / by decision / by accuracy.
</p>
</li>
<li>
<p> Defining probabilities in terms of frequencies:
</p>
<p>Probabilities can be computed as ratios between frequencies,
but beware of rounding and sampling issues!
</p>
</li>
</ul>
<p>Functions translating between representational formats:
<code>comp_prob_prob</code>, <code>comp_prob_freq</code>,
<code>comp_freq_prob</code>, <code>comp_freq_freq</code>
(see documentation of <code>comp_prob_prob</code> for details).
</p>


<h3>Value</h3>

<p>A list <code>freq</code> containing 11 key frequency values.
</p>


<h3>See Also</h3>

<p><code>comp_freq_freq</code> computes current frequency information from (4 essential) frequencies;
<code>comp_prob_freq</code> computes current probability information from (4 essential) frequencies;
<code>comp_prob_prob</code> computes current probability information from (3 essential) probabilities;
<code>num</code> contains basic numeric variables;
<code>init_num</code> initializes basic numeric variables;
<code>freq</code> contains current frequency information;
<code>comp_freq</code> computes current frequency information;
<code>prob</code> contains current probability information;
<code>comp_prob</code> computes current probability information;
<code>comp_complement</code> computes a probability's complement;
<code>comp_comp_pair</code> computes pairs of complements;
<code>comp_complete_prob_set</code> completes valid sets of probabilities;
<code>comp_min_N</code> computes a suitable population size <code>N</code> (if missing).
</p>
<p>Other functions computing frequencies: 
<code>comp_freq_freq()</code>,
<code>comp_freq()</code>,
<code>comp_min_N()</code>,
<code>comp_prob_prob()</code>
</p>
<p>Other format conversion functions: 
<code>comp_freq_freq()</code>,
<code>comp_prob_freq()</code>,
<code>comp_prob_prob()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Basics:
comp_freq_prob(prev = .1, sens = .9, spec = .8, N = 100)  # ok: hi = 9, ... cr = 72.
# Same case with complements (using NAs to prevent defaults):
comp_freq_prob(prev = .1, sens = NA, mirt = .1, spec = NA, fart = .2, N = 100)  # same result

comp_freq_prob()                   # ok, using probability info currently contained in prob
length(comp_freq_prob())           # list of 11 key frequencies
all.equal(freq, comp_freq_prob())  # TRUE, unless prob has been changed after computing freq
freq &lt;- comp_freq_prob()           # computes frequencies and stores them in freq

# Ways to work:
comp_freq_prob(prev = 1, sens = 1, spec = 1, N = 101)  # ok + warning: N hits (TP)

# Same case with complements (note NAs to prevent default arguments):
comp_freq_prob(prev = 1, sens = NA, mirt = 0, spec = NA, fart = 0, N = 101)

comp_freq_prob(prev = 1, sens = 1, spec = 0, N = 102)  # ok + warning: N hits (TP)
comp_freq_prob(prev = 1, sens = 0, spec = 1, N = 103)  # ok + warning: N misses (FN)
comp_freq_prob(prev = 1, sens = 0, spec = 0, N = 104)  # ok + warning: N misses (FN)
comp_freq_prob(prev = 0, sens = 1, spec = 1, N = 105)  # ok + warning: N correct rejections (TN)

comp_freq_prob(prev = 0, sens = 1, spec = 0, N = 106)  # ok + warning: N false alarms (FP)
# Same case with complements (using NAs to prevent defaults):
comp_freq_prob(prev = 0, sens = NA, mirt = 0,
               spec = NA, fart = 1, N = 106)  # ok + warning: N false alarms (FP)

# Rounding:
comp_freq_prob(prev = .5, sens = .5, spec = .5, N = 1)   # yields fa = 1 (see ?round for reason)
comp_freq_prob(prev = .1, sens = .9, spec = .8, N = 10)  # 1 hit (TP, rounded)
comp_freq_prob(prev = .1, sens = .9, spec = .8, N = 10, round = FALSE)  # hi = .9

# Sampling (from probabilistic description):
comp_freq_prob(prev = .5, sens = .5, spec = .5, N = 100, sample = TRUE)  # freq values vary

# Watch out for:
comp_freq_prob(prev = 1, sens = 1, spec = 1, N = NA)  # ok + warning: N = 1 computed
comp_freq_prob(prev = 1, sens = 1, spec = 1, N =  0)  # ok, but all 0 + warning (NPV = NaN)
comp_freq_prob(prev = .5, sens = .5, spec = .5, N = 10, round = TRUE)  # ok, but all rounded
comp_freq_prob(prev = .5, sens = .5, spec = .5, N = 10, round = FALSE) # ok, but not rounded

# Ways to fail:
comp_freq_prob(prev = NA, sens = 1, spec = 1, 100)  # NAs + no warning (prev NA)
comp_freq_prob(prev = 1, sens = NA, spec = 1, 100)  # NAs + no warning (sens NA)
comp_freq_prob(prev = 1, sens = 1, spec = NA, 100)  # NAs + no warning (spec NA)
comp_freq_prob(prev = 8, sens = 1, spec = 1,  100)  # NAs + warning (prev beyond range)
comp_freq_prob(prev = 1, sens = 8, spec = 1,  100)  # NAs + warning (sens &amp; spec beyond range)

</code></pre>


</div>