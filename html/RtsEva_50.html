<div class="container">

<table style="width: 100%;"><tr>
<td>tsEvaTransformSeriesToStationaryPeakTrend</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>tsEvaTransformSeriesToStationaryPeakTrend</h2>

<h3>Description</h3>

<p><code>tsEvaTransformSeriesToStationaryPeakTrend</code>
transforms a time series to a stationary one by focusing on extremes.
The trend and slowly varying amplitude are computed on values above a
threshold defined by the user or automatically
with the function <code>tsEvaFindTrendThreshold</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tsEvaTransformSeriesToStationaryPeakTrend(
  timeStamps,
  series,
  timeWindow,
  TrendTh
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>timeStamps</code></td>
<td>
<p>A vector of time stamps corresponding to the observations in the series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>series</code></td>
<td>
<p>A vector of the time series data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeWindow</code></td>
<td>
<p>The size of the time window used for detrending.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TrendTh</code></td>
<td>
<p>The threshold for fitting the trend on the means above a
given quantile. Default is 0.5.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the following components:
</p>

<dl>
<dt><code>runningStatsMulteplicity</code></dt>
<dd>
<p>The multiplicity of running statistics.</p>
</dd>
<dt><code>stationarySeries</code></dt>
<dd>
<p>The stationary series after removing the trend.</p>
</dd>
<dt><code>trendSeries</code></dt>
<dd>
<p>The trend component of the series.</p>
</dd>
<dt><code>trendSeriesNonSeasonal</code></dt>
<dd>
<p>NULL (not used).</p>
</dd>
<dt><code>trendError</code></dt>
<dd>
<p>The error on the trend component.</p>
</dd>
<dt><code>stdDevSeries</code></dt>
<dd>
<p>The standard deviation series.</p>
</dd>
<dt><code>stdDevSeriesNonSeasonal</code></dt>
<dd>
<p>NULL (not used).</p>
</dd>
<dt><code>stdDevError</code></dt>
<dd>
<p>The error on the standard deviation series.</p>
</dd>
<dt><code>timeStamps</code></dt>
<dd>
<p>The time stamps.</p>
</dd>
<dt><code>nonStatSeries</code></dt>
<dd>
<p>The original non-stationary series.</p>
</dd>
<dt><code>statSer3Mom</code></dt>
<dd>
<p>The running mean of the third moment of the stationary series.</p>
</dd>
<dt><code>statSer4Mom</code></dt>
<dd>
<p>The running mean of the fourth moment of the stationary series.</p>
</dd>
</dl>
<h3>See Also</h3>

<p><code>tsEvaFindTrendThreshold()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">timeAndSeries &lt;- ArdecheStMartin
timeStamps &lt;- ArdecheStMartin[,1]
series &lt;- ArdecheStMartin[,2]
#select only the 5 latest years
yrs &lt;- as.integer(format(timeStamps, "%Y"))
tokeep &lt;- which(yrs&gt;=2015)
timeStamps &lt;- timeStamps[tokeep]
series &lt;- series[tokeep]
timeWindow &lt;- 365 # 1 year
TrendTh &lt;- NA
result &lt;- tsEvaTransformSeriesToStationaryPeakTrend(timeStamps,
series, timeWindow, TrendTh)
plot(result$trendSeries)

</code></pre>


</div>