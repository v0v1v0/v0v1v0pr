<div class="container">

<table style="width: 100%;"><tr>
<td>bi_write</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create (e.g., init or observation) files for LibBi</h2>

<h3>Description</h3>

<p>This function creates (or appends to) a NetCDF file for LibBi from the given
list of vectors and/or data frames. Since any files can be passed to
<code>libbi</code> directly via the <code>init</code>, <code>input</code> and
<code>obs</code> options, this is mostly used internally, this is mostly used
internally.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bi_write(
  filename,
  variables,
  append = FALSE,
  overwrite = FALSE,
  time_dim,
  coord_dims,
  dim_factors,
  value_column = "value",
  guess_time = FALSE,
  verbose
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>a path to a NetCDF file to write the variables into, which
will be overwritten if it already exists. If necessary, ".nc" will be added
to the file name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variables</code></td>
<td>
<p>a <code>list</code> object, the names of which should be the
variable names and values should be either single values or data frames</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>if TRUE, will append variables if file exists; default: FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>if TRUE, will overwrite variables if file exists; default:
FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_dim</code></td>
<td>
<p>the name of the time dimension, if one exists; default:
"time"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coord_dims</code></td>
<td>
<p>the names of the coordinate dimension, if any; should be a
named list of character vectors, they are matched to variables names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dim_factors</code></td>
<td>
<p>factors that dimensions have; this corresponds to the
<code>dims</code> element of a <code>libbi</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value_column</code></td>
<td>
<p>if any <code>variables</code> are data frames, which column
contains the values (default: "value")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>guess_time</code></td>
<td>
<p>whether to guess time dimension; this would be a numerical
column in the data frame given which is not the <code>value_column</code>; only
one such column must exist</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>if TRUE, will print variables as they are read</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The list of variables must follow the following rules. Each element
of the list must itself be one of:
</p>
<p>1) a data frame with a <code>value_column</code> column (see option 'value_column')
and any number of other columns indicating one or more dimensions
</p>
<p>2) a numeric vector of length one, with no dimensions
</p>
<p>The name of the list elements itself is used to create the
corresponding variable in the NetCDF file.
</p>


<h3>Value</h3>

<p>A list of the time and coord dims, and factors in extra dimensions,
if any
</p>


<h3>Examples</h3>

<pre><code class="language-R">filename &lt;- tempfile(pattern = "dummy", fileext = ".nc")
a &lt;- 3
b &lt;- data.frame(
  dim_a = rep(1:3, time = 2), dim_b = rep(1:2, each = 3), value = 1:6
)
variables &lt;- list(a = a, b = b)
bi_write(filename, variables)
bi_file_summary(filename)
</code></pre>


</div>