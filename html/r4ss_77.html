<div class="container">

<table style="width: 100%;"><tr>
<td>SS_doRetro</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run retrospective analyses</h2>

<h3>Description</h3>

<p>Do retrospective analyses by creating new directories, copying model files,
and iteratively changing the starter file to set the number of years of data
to exclude. Note that there was a  bug for retrospectives in 3.30.01;
the user should update their model to a newer version of Stock Synthesis to
run retrospectives
</p>


<h3>Usage</h3>

<pre><code class="language-R">SS_doRetro(
  masterdir,
  oldsubdir,
  newsubdir = "retrospectives",
  subdirstart = "retro",
  years = 0:-5,
  overwrite = TRUE,
  exefile = "ss",
  extras = "-nox",
  intern = FALSE,
  CallType = "system",
  RemoveBlocks = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>masterdir</code></td>
<td>
<p>Directory where everything takes place.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oldsubdir</code></td>
<td>
<p>Subdirectory within <code>masterdir</code> with existing model
files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newsubdir</code></td>
<td>
<p>Subdirectory within <code>masterdir</code> where retrospectives
will be run. Default is 'retrospectives'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subdirstart</code></td>
<td>
<p>First part of the pattern of names for the directories in
which the models will actually be run.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>years</code></td>
<td>
<p>Vector of values to iteratively enter into the starter file for
retrospective year. Should be zero or negative values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Overwrite any input files with matching names in the
subdirectories where models will be run.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exefile</code></td>
<td>
<p>Executable file found in directory with model files.
On Windows systems, this value will be automatically updated if a single
executable exists in the directory of model files. Input exefile=NULL if
the executable is in your path and doesn't need copying.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extras</code></td>
<td>
<p>Additional commands to use when running SS. Default = "-nox"
will reduce the amount of command-line output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intern</code></td>
<td>
<p>Display runtime information from SS in the R console (vs.
saving to a file).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CallType</code></td>
<td>
<p>Either "system" or "shell" (choice depends on how you're running
R. Default is "system".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RemoveBlocks</code></td>
<td>
<p>Logical switch determining whether specifications of
blocks is removed from top of control file. Blocks can cause problems for
retrospective analyses, but the method for removing them is overly
simplistic and probably won't work in most cases. Default=FALSE.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Ian Taylor, Jim Thorson
</p>


<h3>See Also</h3>

<p><code>SSgetoutput()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# note: don't run this in your main directory--make a copy in case something
# goes wrong
mydir &lt;- "C:/Simple"

## retrospective analyses
SS_doRetro(
  masterdir = mydir,
  oldsubdir = "",
  newsubdir = "retrospectives",
  years = 0:-5
)

retroModels &lt;- SSgetoutput(
  dirvec = file.path(mydir, "retrospectives", paste("retro", 0:-5, sep = ""))
)
retroSummary &lt;- SSsummarize(retroModels)
endyrvec &lt;- retroSummary[["endyrs"]] + 0:-5
SSplotComparisons(retroSummary,
  endyrvec = endyrvec,
  legendlabels = paste("Data", 0:-5, "years")
)

## End(Not run)

</code></pre>


</div>