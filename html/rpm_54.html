<div class="container">

<table style="width: 100%;"><tr>
<td>rpmpopulationpmf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute the population distribution of pairs and singles from a Revealed Preference Matchings Model</h2>

<h3>Description</h3>

<p><code>rpmpopulationpmf</code> computes the probability mass function for a population of the pairs and singles
from a Revealed Preference Matchings Model based on arbitary availability distribution and 
preferences. It is typically based on the estimate from a <code>rpm()</code> call.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rpmpopulationpmf(
  object,
  N = 2000,
  num_women = NULL,
  num_men = NULL,
  pmfW = NULL,
  pmfM = NULL,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>list; an object of class<code>rpm</code> that is typically the result of a call to <code>rpm()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>integer; The total population size. This must be set. The number of women and men are derived from the
(weighted) data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_women</code></td>
<td>
<p>integer; (Optional) The number of women in the population.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_men</code></td>
<td>
<p>integer; (Optional) The number of men in the population.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pmfW</code></td>
<td>
<p>vector; (Optional) The population proportions of the numbers of women of each type. 
This should be compatible with the type in the object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pmfM</code></td>
<td>
<p>vector; (Optional) The population proportions of the numbers of men of each type. 
This should be compatible with the type in the object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical; Should verbose messages be printed out.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>rpm</code> is used to fit a revealed preference model
for men and women of certain
characteristics (or shared characteristics) of people of the opposite sex.
The model assumes a one-to-one stable matching using an observed set of
matchings and a set of (possibly dyadic) covariates to 
estimate the parameters for
linear equations of utilities.
It does this using an large-population likelihood based on ideas from Dagsvik (2000), Menzel (2015) and Goyal et al (2023).
</p>
<p>The model represents the dyadic utility functions as deterministic linear utility functions of
dyadic variables. These utility functions are functions of observed characteristics of the women
and men.
These functions are entered as terms in the function call
to <code>rpm</code>. This function simulates from such a model.
</p>


<h3>Value</h3>

<p>A list of data.frame, each a simulation from the population.
</p>


<h3>References</h3>

<p>Goyal, Shuchi; Handcock, Mark S.; Jackson, Heide M.; Rendall, Michael S. and Yeung, Fiona C. (2023).
<em>A Practical Revealed Preference Model for Separating Preferences and Availability Effects in Marriage Formation</em>,
<em>Journal of the Royal Statistical Society</em>, A. <a href="https://doi.org/10.1093/jrsssa/qnad031">doi:10.1093/jrsssa/qnad031</a> 
</p>
<p>Dagsvik, John K. (2000) <em>Aggregation in Matching Markets</em> <em>International Economic Review</em>,, Vol. 41, 27-57.
JSTOR: https://www.jstor.org/stable/2648822, <a href="https://doi.org/10.1111/1468-2354.00054">doi:10.1111/1468-2354.00054</a>
</p>
<p>Menzel, Konrad (2015).
<em>Large Matching Markets as Two-Sided Demand Systems</em>
Econometrica, Vol. 83, No. 3 (May, 2015), 897-941. <a href="https://doi.org/10.3982/ECTA12299">doi:10.3982/ECTA12299</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(rpm)
data(fauxmatching)

fit &lt;- rpm(~match("edu") + WtoM_diff("edu",3),
          Xdata=fauxmatching$Xdata, Zdata=fauxmatching$Zdata,
          X_w="X_w", Z_w="Z_w",
          pair_w="pair_w", pair_id="pair_id", Xid="pid", Zid="pid",
          sampled="sampled")
a &lt;- rpmpopulationpmf(fit)

</code></pre>


</div>