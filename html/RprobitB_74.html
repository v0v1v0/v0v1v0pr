<div class="container">

<table style="width: 100%;"><tr>
<td>update.RprobitB_fit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Update and re-fit probit model</h2>

<h3>Description</h3>

<p>This function estimates a nested probit model based on a given
<code>RprobitB_fit</code> object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'RprobitB_fit'
update(
  object,
  form,
  re,
  alternatives,
  id,
  idc,
  standardize,
  impute,
  scale,
  R,
  B,
  Q,
  print_progress,
  prior,
  latent_classes,
  seed,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object of class <code>RprobitB_fit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>form</code></td>
<td>
<p>A <code>formula</code> object that is used to specify the model equation.
The structure is <code>choice ~ A | B | C</code>, where
</p>

<ul>
<li> <p><code>choice</code> is the name of the dependent variable (the choices),
</p>
</li>
<li> <p><code>A</code> are names of alternative and choice situation specific
covariates with a coefficient that is constant across alternatives,
</p>
</li>
<li> <p><code>B</code> are names of choice situation specific covariates with
alternative specific coefficients,
</p>
</li>
<li>
<p> and <code>C</code> are names of alternative and choice situation specific
covariates with alternative specific coefficients.
</p>
</li>
</ul>
<p>Multiple covariates (of one type) are separated by a <code>+</code> sign.
By default, alternative specific constants (ASCs) are added to the model.
They can be removed by adding <code>+0</code> in the second spot.
</p>
<p>In the ordered probit model (<code>ordered = TRUE</code>), the <code>formula</code>
object has the simple structure <code>choice ~ A</code>. ASCs are not estimated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>re</code></td>
<td>
<p>A character (vector) of covariates of <code>form</code> with random effects.
If <code>re = NULL</code> (the default), there are no random effects.
To have random effects for the ASCs, include <code>"ASC"</code> in <code>re</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternatives</code></td>
<td>
<p>A character vector with the names of the choice alternatives.
If not specified, the choice set is defined by the observed choices.
If <code>ordered = TRUE</code>, <code>alternatives</code> is assumed to be specified with
the alternatives ordered from worst to best.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>A character, the name of the column in <code>choice_data</code> that contains
unique identifier for each decision maker. The default is <code>"id"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idc</code></td>
<td>
<p>A character, the name of the column in <code>choice_data</code> that contains
unique identifier for each choice situation of each decision maker.
Per default, these identifier are generated by the order of appearance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standardize</code></td>
<td>
<p>A character vector of names of covariates that get standardized.
Covariates of type 1 or 3 have to be addressed by
<code>&lt;covariate&gt;_&lt;alternative&gt;</code>.
If <code>standardize = "all"</code>, all covariates get standardized.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>impute</code></td>
<td>
<p>A character that specifies how to handle missing covariate entries in
<code>choice_data</code>, one of:
</p>

<ul>
<li> <p><code>"complete_cases"</code>, removes all rows containing missing
covariate entries (the default),
</p>
</li>
<li> <p><code>"zero"</code>, replaces missing covariate entries by zero
(only for numeric columns),
</p>
</li>
<li> <p><code>"mean"</code>, imputes missing covariate entries by the mean
(only for numeric columns).
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>A character which determines the utility scale. It is of the form
<code style="white-space: pre;">⁠&lt;parameter&gt; := &lt;value&gt;⁠</code>, where <code style="white-space: pre;">⁠&lt;parameter&gt;⁠</code> is either the name of a fixed
effect or <code style="white-space: pre;">⁠Sigma_&lt;j&gt;,&lt;j&gt;⁠</code> for the <code style="white-space: pre;">⁠&lt;j&gt;⁠</code>th diagonal element of <code>Sigma</code>, and
<code style="white-space: pre;">⁠&lt;value&gt;⁠</code> is the value of the fixed parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>The number of iterations of the Gibbs sampler.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>The length of the burn-in period, i.e. a non-negative number of samples to
be discarded.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q</code></td>
<td>
<p>The thinning factor for the Gibbs samples, i.e. only every <code>Q</code>th
sample is kept.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print_progress</code></td>
<td>
<p>A boolean, determining whether to print the Gibbs sampler progress and the
estimated remaining computation time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior</code></td>
<td>
<p>A named list of parameters for the prior distributions. See the documentation
of <code>check_prior</code> for details about which parameters can be
specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>latent_classes</code></td>
<td>
<p>Either <code>NULL</code> (for no latent classes) or a list of parameters specifying
the number of latent classes and their updating scheme:
</p>

<ul>
<li> <p><code>C</code>: The fixed number (greater or equal 1) of latent classes,
which is set to 1 per default. If either <code>weight_update = TRUE</code>
or <code>dp_update = TRUE</code> (i.e. if classes are updated), <code>C</code>
equals the initial number of latent classes.
</p>
</li>
<li> <p><code>weight_update</code>: A boolean, set to <code>TRUE</code> to weight-based
update the latent classes. See ... for details.
</p>
</li>
<li> <p><code>dp_update</code>: A boolean, set to <code>TRUE</code> to update the latent
classes based on a Dirichlet process. See ... for details.
</p>
</li>
<li> <p><code>Cmax</code>: The maximum number of latent classes.
</p>
</li>
<li> <p><code>buffer</code>: The number of iterations to wait before a next
weight-based update of the latent classes.
</p>
</li>
<li> <p><code>epsmin</code>: The threshold weight (between 0 and 1) for removing
a latent class in the weight-based updating scheme.
</p>
</li>
<li> <p><code>epsmax</code>: The threshold weight (between 0 and 1) for splitting
a latent class in the weight-based updating scheme.
</p>
</li>
<li> <p><code>distmin</code>: The (non-negative) threshold in class mean difference
for joining two latent classes in the weight-based updating scheme.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Set a seed for the Gibbs sampling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Ignored.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>All parameters (except for <code>object</code>) are optional and if not specified
retrieved from the specification for <code>object</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>RprobitB_fit</code>.
</p>


</div>