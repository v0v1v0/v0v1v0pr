<div class="container">

<table style="width: 100%;"><tr>
<td>extract.gb.density</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generalized Beta Extraction</h2>

<h3>Description</h3>

<p><code>extract.gb.density</code> extracts the generalized beta density from market options.
</p>


<h3>Usage</h3>

<pre><code class="language-R">extract.gb.density(initial.values = c(NA, NA, NA, NA), r, te, y, s0, market.calls, 
  call.strikes, call.weights = 1, market.puts, put.strikes, put.weights = 1, 
  lambda = 1, hessian.flag = F, cl = list(maxit = 10000))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>initial.values</code></td>
<td>
<p>initial values for the optimization</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>risk free rate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>te</code></td>
<td>
<p>time to expiration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>dividend yield</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s0</code></td>
<td>
<p>current asset value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>market.calls</code></td>
<td>
<p>market calls (most expensive to cheapest)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call.strikes</code></td>
<td>
<p>strikes for the calls (smallest to largest)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call.weights</code></td>
<td>
<p>weights to be used for calls</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>market.puts</code></td>
<td>
<p>market calls (cheapest to most expensive)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>put.strikes</code></td>
<td>
<p>strikes for the puts (smallest to largest)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>put.weights</code></td>
<td>
<p>weights to be used for puts</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>Penalty parameter to enforce the martingale condition</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hessian.flag</code></td>
<td>
<p>if F, no hessian is produced</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl</code></td>
<td>
<p>list of parameter values to be passed to the optimization function</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function extracts the generalized beta density implied by the options.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>extracted power parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>extracted scale paramter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>extracted first beta paramter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>extracted second beta parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>converge.result </code></td>
<td>
<p>Did the result converge?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hessian</code></td>
<td>
<p> Hessian matrix</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Kam Hamidieh</p>


<h3>References</h3>

<p>R.M. Bookstaber and J.B. McDonald (1987)
A general distribution for describing security price returns.
<em>Journal of Business</em>, 60, 401-424 
</p>
<p>X. Liu and M.B. Shackleton and S.J. Taylor and X. Xu (2007)
Closed-form transformations from risk-neutral to real-world distributions
<em>Journal of Business</em>, 60, 401-424 
</p>
<p>E. Jondeau and S. Poon and M. Rockinger (2007):
<em>Financial Modeling Under Non-Gaussian Distributions</em> 
Springer-Verlag, London
</p>


<h3>Examples</h3>

<pre><code class="language-R">
#
# create some GB based calls and puts
#

r  = 0.03
te = 50/365
k  = seq(from = 800, to = 1200, by = 10)
a  = 10
b  = 1000
v  = 2.85
w  = 2.85
y  = 0.01
s0 = exp((y-r)*te) * b * beta(v + 1/a, w - 1/a)/beta(v,w) 
s0

call.strikes = seq(from = 800, to = 1200, by = 10)
market.calls = price.gb.option(r = r, te = te, y = y, s0 = s0, 
                               k = call.strikes, a = a, b = s0, v = v, w = w)$call

put.strikes  = seq(from = 805, to = 1200, by = 10)
market.puts  = price.gb.option(r = r, te = te, y = y, s0 = s0, 
                               k = put.strikes, a = a, b = s0, v = v, w = w)$put


#
# Extraction...should match the a,b,v,w above. You will also get warning messages.
# Weigths are automatically set to 1.
#

extract.gb.density(r=r, te=te, y = y, s0=s0, market.calls = market.calls, 
              call.strikes = call.strikes, market.puts = market.puts, 
              put.strikes = put.strikes, lambda = 1, hessian.flag = FALSE)

</code></pre>


</div>