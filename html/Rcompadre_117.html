<div class="container">

<table style="width: 100%;"><tr>
<td>string_representation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert vectors or square numeric matrices to and from string representation</h2>

<h3>Description</h3>

<p>Functions to convert vectors or square numeric matrices to and from string
representation, which is primarily useful for writing data frames with
list-columns containing vectors or matrices to a flat file format such as
csv.
</p>
<p>String representations of vectors and matrices begin with an open bracket
("[") and end with a closed bracket ("]"). Matrix elements are separated with
a space ("[0.2 0.3 0.1 0]") whereas vector elements are separate with two
vertical bars ("[Seedling||Juvenile||Reproductive]").
</p>


<h3>Usage</h3>

<pre><code class="language-R">mat_to_string(mat)

vec_to_string(vec)

string_to_mat(mat_str)

string_to_vec(vec_str, numeric = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mat</code></td>
<td>
<p>A square numeric matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vec</code></td>
<td>
<p>A vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mat_str</code></td>
<td>
<p>A square numeric matrix in string representation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vec_str</code></td>
<td>
<p>A vector in string representation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numeric</code></td>
<td>
<p>Logical value indicating whether a string representation of a
vector should be coerced to numeric (if FALSE remains character)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A square numeric matrix (<code>string_to_mat</code>), vector
(<code>string_to_vec</code>), or string (<code>mat_to_string</code> or
<code>vec_to_string</code>).
</p>


<h3>Author(s)</h3>

<p>Owen R. Jones &lt;jones@biology.sdu.dk&gt;
</p>
<p>Patrick M. Barks &lt;patrick.barks@gmail.com&gt;
</p>


<h3>See Also</h3>

<p>cdb_flatten cdb_unflatten
</p>
<p>Other data management: 
<code>cdb_flatten()</code>,
<code>cdb_id_stages()</code>,
<code>cdb_id_studies()</code>,
<code>cdb_id()</code>,
<code>cdb_mean_matF()</code>,
<code>cdb_rbind()</code>,
<code>cdb_unflatten()</code>,
<code>cdb_unnest()</code>,
<code>mpm_mean()</code>,
<code>mpm_median()</code>,
<code>mpm_sd()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">mat_str &lt;- "[3.3 5.2 6.1 0.1 NA 0.3 0.2 0.4 0.1]"
mat &lt;- string_to_mat(mat_str)

vec1_str &lt;- "[0.30||0.42||0.19||0.09]"
vec1 &lt;- string_to_vec(vec1_str, numeric = TRUE)

vec2_str &lt;- "[Seedling 1||Seedling 2||Juvenile||Reproductive]"
vec2 &lt;- string_to_vec(vec2_str)

# convert back to string format
mat_to_string(mat)
vec_to_string(vec1)
vec_to_string(vec2)

## Not run: 
# non-square matrix
mat_str &lt;- "[0.42 0.52 0.15 0.23 0.14]"
string_to_mat(mat_str)

## End(Not run)
</code></pre>


</div>