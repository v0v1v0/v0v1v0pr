<div class="container">

<table style="width: 100%;"><tr>
<td>ligerDataset-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ligerDataset class</h2>

<h3>Description</h3>

<p>Object for storing dastaset specific information. Will be embedded within a
higher level liger object
</p>


<h3>Usage</h3>

<pre><code class="language-R">rawData(x, dataset = NULL)

rawData(x, dataset = NULL, check = TRUE) &lt;- value

normData(x, dataset = NULL)

normData(x, dataset = NULL, check = TRUE) &lt;- value

scaleData(x, dataset = NULL)

scaleData(x, dataset = NULL, check = TRUE) &lt;- value

scaleUnsharedData(x, dataset = NULL)

scaleUnsharedData(x, dataset = NULL, check = TRUE) &lt;- value

getMatrix(x, slot = "rawData", dataset = NULL, returnList = FALSE)

h5fileInfo(x, info = NULL)

h5fileInfo(x, info = NULL, check = TRUE) &lt;- value

getH5File(x, dataset = NULL)

## S4 method for signature 'ligerDataset,missing'
getH5File(x, dataset = NULL)

featureMeta(x, check = NULL)

featureMeta(x, check = TRUE) &lt;- value

## S4 method for signature 'ligerDataset'
show(object)

## S4 method for signature 'ligerDataset'
dim(x)

## S4 method for signature 'ligerDataset'
dimnames(x)

## S4 replacement method for signature 'ligerDataset,list'
dimnames(x) &lt;- value

## S4 method for signature 'ligerDataset'
rawData(x, dataset = NULL)

## S4 replacement method for signature 'ligerDataset,ANY,ANY,matrixLike_OR_NULL'
rawData(x, dataset = NULL, check = TRUE) &lt;- value

## S4 replacement method for signature 'ligerDataset,ANY,ANY,H5D'
rawData(x, dataset = NULL, check = TRUE) &lt;- value

## S4 method for signature 'ligerDataset'
normData(x, dataset = NULL)

## S4 replacement method for signature 'ligerDataset,ANY,ANY,matrixLike_OR_NULL'
normData(x, dataset = NULL, check = TRUE) &lt;- value

## S4 replacement method for signature 'ligerDataset,ANY,ANY,H5D'
normData(x, dataset = NULL, check = TRUE) &lt;- value

## S4 method for signature 'ligerDataset,missing'
scaleData(x, dataset = NULL)

## S4 replacement method for signature 'ligerDataset,ANY,ANY,matrixLike_OR_NULL'
scaleData(x, dataset = NULL, check = TRUE) &lt;- value

## S4 replacement method for signature 'ligerDataset,ANY,ANY,H5D'
scaleData(x, dataset = NULL, check = TRUE) &lt;- value

## S4 replacement method for signature 'ligerDataset,ANY,ANY,H5Group'
scaleData(x, dataset = NULL, check = TRUE) &lt;- value

## S4 method for signature 'ligerDataset,missing'
scaleUnsharedData(x, dataset = NULL)

## S4 replacement method for signature 'ligerDataset,missing,ANY,matrixLike_OR_NULL'
scaleUnsharedData(x, check = TRUE) &lt;- value

## S4 replacement method for signature 'ligerDataset,missing,ANY,H5D'
scaleUnsharedData(x, check = TRUE) &lt;- value

## S4 replacement method for signature 'ligerDataset,missing,ANY,H5Group'
scaleUnsharedData(x, check = TRUE) &lt;- value

## S4 method for signature 'ligerDataset,ANY,missing,missing'
getMatrix(
  x,
  slot = c("rawData", "normData", "scaleData", "scaleUnsharedData", "H", "V", "U", "A",
    "B"),
  dataset = NULL
)

## S4 method for signature 'ligerDataset'
h5fileInfo(x, info = NULL)

## S4 replacement method for signature 'ligerDataset'
h5fileInfo(x, info = NULL, check = TRUE) &lt;- value

## S4 method for signature 'ligerDataset'
featureMeta(x, check = NULL)

## S4 replacement method for signature 'ligerDataset'
featureMeta(x, check = TRUE) &lt;- value

## S3 method for class 'ligerDataset'
cbind(x, ..., deparse.level = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, object</code></td>
<td>
<p>A <code>ligerDataset</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataset</code></td>
<td>
<p>Not applicable for <code>ligerDataset</code> methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>Whether to perform object validity check on setting new value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>See detail sections for requirements</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slot</code></td>
<td>
<p>The slot name when using <code>getMatrix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnList</code></td>
<td>
<p>Not applicable for <code>ligerDataset</code> methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>info</code></td>
<td>
<p>Name of the entry in <code>h5fileInfo</code> slot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>See detailed sections for explanation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deparse.level</code></td>
<td>
<p>Not used here.</p>
</td>
</tr>
</table>
<h3>Slots</h3>


<dl>
<dt><code>rawData</code></dt>
<dd>
<p>Raw data.</p>
</dd>
<dt><code>normData</code></dt>
<dd>
<p>Normalized data</p>
</dd>
<dt><code>scaleData</code></dt>
<dd>
<p>Scaled data, usually with subset variable features</p>
</dd>
<dt><code>scaleUnsharedData</code></dt>
<dd>
<p>Scaled data of features not shared with other
datasets</p>
</dd>
<dt><code>varUnsharedFeatures</code></dt>
<dd>
<p>Variable features not shared with other datasets</p>
</dd>
<dt><code>V</code></dt>
<dd>
<p>matrix</p>
</dd>
<dt><code>A</code></dt>
<dd>
<p>matrix</p>
</dd>
<dt><code>B</code></dt>
<dd>
<p>matrix</p>
</dd>
<dt><code>H</code></dt>
<dd>
<p>matrix</p>
</dd>
<dt><code>U</code></dt>
<dd>
<p>matrix</p>
</dd>
<dt><code>h5fileInfo</code></dt>
<dd>
<p>list</p>
</dd>
<dt><code>featureMeta</code></dt>
<dd>
<p>Feature metadata, DataFrame</p>
</dd>
<dt><code>colnames</code></dt>
<dd>
<p>character</p>
</dd>
<dt><code>rownames</code></dt>
<dd>
<p>character</p>
</dd>
</dl>
<h3>Matrix access</h3>

<p>For <code>ligerDataset</code> object, <code>rawData()</code>, <code>normData</code>,
<code>scaleData()</code> and <code>scaleUnsharedData()</code> methods are exported for
users to access the corresponding feature expression matrix. Replacement
methods are also available to modify the slots.
</p>
<p>For other matrices, such as the <code class="reqn">H</code> and <code class="reqn">V</code>, which are dataset
specific, please use <code>getMatrix()</code> method with specifying slot name.
Directly accessing slot with <code>@</code> is generally not recommended.
</p>


<h3>H5 file and information access</h3>

<p>A <code>ligerDataset</code> object has a slot called <code>h5fileInfo</code>, which is a
list object. The first element is called <code>$H5File</code>, which is an
<code>H5File</code> class object and is the connection to the input file. The
second element is <code>$filename</code> which stores the absolute path of the H5
file in the current machine. The third element <code>$formatType</code> stores the
name of preset being used, if applicable. The other following keys pair with
paths in the H5 file that point to specific data for constructing a feature
expression matrix.
</p>
<p><code>h5fileInfo()</code> method access the list described above and simply
retrieves the corresponding value. When <code>info = NULL</code>, returns the whole
list. When <code>length(info) == 1</code>, returns the requested list value. When
more info requested, returns a subset list.
</p>
<p>The replacement method modifies the list elements and corresponding slot
value (if applicable) at the same time. For example, running
<code>h5fileInfo(obj, "rawData") &lt;- newPath</code> not only updates the list, but
also updates the <code>rawData</code> slot with the <code>H5D</code> class data at
"newPath" in the <code>H5File</code> object.
</p>
<p><code>getH5File()</code> is a wrapper and is equivalent to
<code>h5fileInfo(obj, "H5File")</code>.
</p>


<h3>Feature metadata access</h3>

<p>A slot <code>featureMeta</code> is included for each <code>ligerDataset</code> object.
This slot requires a <code>DataFrame-class</code> object, which
is the same as <code>cellMeta</code> slot of a liger object. However,
the associated S4 methods only include access to the whole table for now.
Internal information access follows the same way as data.frame operation.
For example, <code>featureMeta(ligerD)$nCell</code> or
<code>featureMeta(ligerD)[varFeatures(ligerObj), "gene_var"]</code>.
</p>


<h3>Dimensionality</h3>

<p>For a <code>ligerDataset</code> object, the column orientation is assigned for
cells and rows are for features. Therefore, for <code>ligerDataset</code> objects,
<code>dim()</code> returns a numeric vector of two numbers which are number of
features and number of cells. <code>dimnames()</code> returns a list of two
character vectors, which are the feature names and the cell barcodes.
</p>
<p>For direct call of <code>dimnames&lt;-</code> method, <code>value</code> should be a list
with a character vector of feature names as the first element and cell
identifiers as the second element. For <code>colnames&lt;-</code> method, the
character vector of cell identifiers. For <code>rownames&lt;-</code> method, the
character vector of feature names.
</p>


<h3>Subsetting</h3>

<p>For more detail of subsetting a <code>liger</code> object or a
ligerDataset object, please check out <code>subsetLiger</code>
and <code>subsetLigerDataset</code>. Here, we set the S3 method
"single-bracket" <code>[</code> as a quick wrapper to subset a <code>ligerDataset</code>
object. <code>i</code> and <code>j</code> serves as feature and cell subscriptor,
respectively, which can be any valid index refering the available features
and cells in a dataset. <code>...</code> arugments are passed to
<code>subsetLigerDataset</code> so that advanced options are allowed.
</p>


<h3>Concatenate ligerDataset</h3>

<p><code>cbind()</code> method is implemented for concatenating <code>ligerDataset</code>
objects by cells. When applying, all feature expression matrix will be merged
with taking a union of all features for the rows.
</p>


<h3>Examples</h3>

<pre><code class="language-R">ctrl &lt;- dataset(pbmc, "ctrl")

# Methods for base generics
ctrl
print(ctrl)
dim(ctrl)
ncol(ctrl)
nrow(ctrl)
colnames(ctrl)[1:5]
rownames(ctrl)[1:5]
ctrl[1:5, 1:5]

# rliger generics
## raw data
m &lt;- rawData(ctrl)
class(m)
dim(m)
## normalized data
pbmc &lt;- normalize(pbmc)
ctrl &lt;- dataset(pbmc, "ctrl")
m &lt;- normData(ctrl)
class(m)
dim(m)
## scaled data
pbmc &lt;- selectGenes(pbmc)
pbmc &lt;- scaleNotCenter(pbmc)
ctrl &lt;- dataset(pbmc, "ctrl")
m &lt;- scaleData(ctrl)
class(m)
dim(m)
n &lt;- scaleData(pbmc, "ctrl")
identical(m, n)
## Any other matrices
if (requireNamespace("RcppPlanc", quietly = TRUE)) {
    pbmc &lt;- runOnlineINMF(pbmc, k = 20, minibatchSize = 100)
    ctrl &lt;- dataset(pbmc, "ctrl")
    V &lt;- getMatrix(ctrl, "V")
    V[1:5, 1:5]
    Vs &lt;- getMatrix(pbmc, "V")
    length(Vs)
    names(Vs)
    identical(Vs$ctrl, V)
}
</code></pre>


</div>