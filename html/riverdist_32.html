<div class="container">

<table style="width: 100%;"><tr>
<td>line2network</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a River Network Object from a Shapefile</h2>

<h3>Description</h3>

<p>Uses read_sf in package 'sf' to read a river 
shapefile, and establishes connectivity of segment endpoints based on 
spatial proximity.
</p>


<h3>Usage</h3>

<pre><code class="language-R">line2network(
  sf = NULL,
  path = ".",
  layer = NA,
  tolerance = 100,
  reproject = NULL,
  autofix = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sf</code></td>
<td>
<p>Optional input as an sf object, if shapefile has 
already been read into the R environment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>File path, default is the current working directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layer</code></td>
<td>
<p>Name of the shapefile, without the .shp extension.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tolerance</code></td>
<td>
<p>Snapping tolerance of segment endpoints to determine 
connectivity.  Default is 100, therefore care should be exercised when 
working with larger units of distance, such as km.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reproject</code></td>
<td>
<p>A valid projection, if the shapefile is to be 
re-projected.  Re-projection is done using st_transform in 
package 'sf'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>autofix</code></td>
<td>
<p>Whether to automatically apply two corrections: removal of 
duplicate segments, and segments with lengths shorter than the connectivity 
tolerance.  Defaults to 'TRUE'.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns an object of class <code>"rivernetwork"</code> containing all
spatial and topological information.  See rivernetwork-class.
</p>


<h3>Note</h3>

<p>Since distance can only be calculated using projected coordinates, 
<code>line2network()</code> will generate an error if a non-projected input 
shapefile is detected.  To resolve this, the shapefile can be re-projected 
in a GIS environment, or using <code>reproject=</code>, shown in the second 
example below.
</p>


<h3>Author(s)</h3>

<p>Matt Tyers, Jemma Stachelek
</p>


<h3>Examples</h3>

<pre><code class="language-R">filepath &lt;- system.file("extdata", package="riverdist")

Gulk_UTM5 &lt;- line2network(path=filepath, layer="Gulk_UTM5")
plot(Gulk_UTM5)

## Reading directly from an sf object

sf &lt;- sf::read_sf(dsn = filepath, layer = "Gulk_UTM5")
Gulk_UTM5 &lt;- line2network(sf=sf)
plot(Gulk_UTM5)

## Re-projecting in Alaska Albers Equal Area projection:

AKalbers &lt;- "+proj=aea +lat_1=55 +lat_2=65 +lat_0=50 +lon_0=-154 
    +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs +ellps=GRS80"
    
Gulk_AKalbers &lt;- line2network(path=filepath, layer="Gulk_UTM5", reproject=AKalbers)
plot(Gulk_AKalbers)

</code></pre>


</div>