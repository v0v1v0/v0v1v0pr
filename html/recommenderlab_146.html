<div class="container">

<table style="width: 100%;"><tr>
<td>dissimilarity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Dissimilarity and Similarity Calculation Between Rating Data
</h2>

<h3>Description</h3>

<p>Calculate dissimilarities/similarities between ratings by users and for items.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'binaryRatingMatrix'
dissimilarity(x, y = NULL, method = NULL, args = NULL, which = "users")
## S4 method for signature 'realRatingMatrix'
dissimilarity(x, y = NULL, method = NULL, args = NULL, which = "users")

similarity(x, y = NULL, method = NULL, args = NULL, ...)
## S4 method for signature 'ratingMatrix'
similarity(x, y = NULL, method = NULL, args = NULL, which = "users",
  min_matching = 0, min_predictive = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a ratingMatrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p><code>NULL</code> or a second ratingMatrix to calculate
cross-(dis)similarities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>(dis)similarity measure to use. Available measures
are typically <code>"cosine"</code>, <code>"pearson"</code>, <code>"jaccard"</code>, etc.
See <code>dissimilarity</code> for
class <code>itemMatrix</code> in <span class="pkg">arules</span> for details about measures
for <code>binaryRatingMatrix</code> and <code>dist</code> in <span class="pkg">proxy</span> for
<code>realRatingMatrix</code>.
Default for <code>realRatingMatrix</code> is cosine and for <code>binaryRatingMatrix</code> is jaccard.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args</code></td>
<td>
<p>a list of additional arguments for the methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>a character string indicating if the (dis)similarity should be
calculated between <code>"users"</code> (rows) or <code>"items"</code> (columns).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_matching, min_predictive</code></td>
<td>
<p> Thresholds on the minimum number of ratings used to
calculate the similarity and the minimum number of ratings that can be used for prediction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Most dissimlarites and similarities are calculated using the <span class="pkg">proxy</span> package.
Similarities are typically converted into dissimilarities using <code class="reqn">s = 1 / (1 + d)</code>
or <code class="reqn">s = 1 - d</code> (used for Jaccard, Cosine and Pearson correlation) depending on the measure.
</p>
<p>Similarities are usually defined in the range of <code class="reqn">[0, 1]</code>, however,
Cosine similarity and Pearson correlation are defined in the interval <code class="reqn">[-1, 1]</code>. We rescale these
measures with <code class="reqn">s' = 1 / 2 (s + 1)</code> to the interval <code class="reqn">[0, 1]</code>.
</p>
<p>Similarities are calculated using only the ratings that are available for both
users/items. This can lead to calculating the measure using only a very small number (maybe only one)
of ratings. <code>min_matching</code> is the required number of shared ratings to calculate similarities.
To predict ratings, there need to be additional ratings in argument <code>y</code>.
<code>min_predictive</code>  is the  required number of additional ratings to calculate similarities. If
<code>min_matching</code> or <code>min_predictive</code> fails, then <code>NA</code> is reported instead of the calculated similarity.
</p>


<h3>Value</h3>

<p>returns an object of class <code>"dist"</code>, <code>"simil"</code>
or an appropriate object (e.g.,
a matrix with class <code>"crossdist"</code> o <code>"crosssimil"</code>) to represent
a cross-(dis)similarity.
</p>


<h3>See Also</h3>

<p><code>ratingMatrix</code>,
<code>dissimilarity</code> in <span class="pkg">arules</span>, and
<code>dist</code> in <span class="pkg">proxy</span>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(MSWeb)

## between 5 users
dissimilarity(MSWeb[1:5,], method = "jaccard")
similarity(MSWeb[1:5,], method = "jaccard")

## between first 3 items
dissimilarity(MSWeb[,1:3], method = "jaccard", which = "items")
similarity(MSWeb[,1:3], method = "jaccard", which = "items")

## cross-similarity between first 2 users and users 10-20
similarity(MSWeb[1:2,], MSWeb[10:20,], method="jaccard")
</code></pre>


</div>