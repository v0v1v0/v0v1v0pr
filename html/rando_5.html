<div class="container">

<table style="width: 100%;"><tr>
<td>default_n</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find the Default Value for n in Context</h2>

<h3>Description</h3>

<p>Checks for various information surrounding the call to this function
to figure out what value for n should be used
</p>


<h3>Usage</h3>

<pre><code class="language-R">default_n(...)

blueprint_n()

tibble_n()

dplyr_n()

args_n(...)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>parameters to check the lengths of</p>
</td>
</tr></table>
<h3>Details</h3>

<p>The <code>default_n()</code> function will run through the other
functions found here until it finds a viable value for n. <br><br>
It first checks for contxt to see if calls external to <code>default_n()</code>
indicate which value should be used:
</p>

<ul>
<li> <p><code>blueprint_n()</code> - Checks if the function is being called
within a blueprinting function, and returns the value supplied to
that function, see <code>blueprint()</code>.
</p>
</li>
<li> <p><code>tibble_n()</code> - Checks if the function is being called
within the declaration of a tibble. It then checks the lengths of
the other arguments being passed to the call. If you want to
specify how many rows should be generate you can use the <code>.rows</code>
argument in your <code>tibble()</code> call, see <code>tibble()</code>
</p>
</li>
<li> <p><code>dplyr_n()</code> - Checks if the function is being used within a
<code>dplyr</code> verb, if so, it returns the value of
<code>n()</code>
</p>
</li>
</ul>
<p>It then checks the lengths of the arguments supplied via <code>...</code>,
if there is a discrepancy between these arguments and the context
aware value found above, it will throw an error.
</p>
<p>If all the above values return <code>1</code> or <code>NULL</code>, we then check for
a global n assigned by <code>set_n()</code>, if none is set then <code>default_n()</code>
will return <code>1</code>.
</p>


<h3>Value</h3>

<p>The context aware value for n
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Global Values:
set_n(NULL)
default_n()
set_n(10)
default_n()

# In a blueprint:
bp &lt;- blueprint(x=r_norm(),n=default_n())
bp(n=7)
bp &lt;- blueprint(x=r_norm(),n=blueprint_n())
bp(n=8)

# In a tibble:
tibble::tibble(id = 1:3, n = default_n())
tibble::tibble(id = 1:5, n = tibble_n())

# In a dplyr verb:
df &lt;- tibble::tibble(id = 1:4)
dplyr::mutate(df, n = default_n())
dplyr::mutate(df, n = dplyr_n())

# From arguments:
default_n(1:5)
default_n(1:5,c("a","b","c","d","e"))
args_n(1:3,c("a","b","d"))
args_n(1:3, 1:4)

## Not run: 
default_n(1:3, 1:4)
tibble::tibble(id=1:5,n=default_n(1:4))

## End(Not run)

</code></pre>


</div>