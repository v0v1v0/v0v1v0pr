<div class="container">

<table style="width: 100%;"><tr>
<td>sienaCompositionChange</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Functions to create a Siena composition change object
</h2>

<h3>Description</h3>

<p>Used to create a list of events describing the changes    
over time of a Siena actor set.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sienaCompositionChange(changelist, nodeSet = "Actors", option = 1)
sienaCompositionChangeFromFile(filename, nodeSet = "Actors",
    fileobj=NULL, option = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>changelist</code></td>
<td>

<p>A list with an entry for each actor in the node set. Each entry a
vector of numbers (may be as characters) indicating intervals during
which the corresponding actor was present.
Each entry must have an even number of digits.
The actor is assumed to be present from the first to the second,
third to fourth, etc., time points.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>

<p>Name of file containing change information. One line per actor, each
line a series
of space delimited numbers indicating intervals.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fileobj</code></td>
<td>

<p>The result of <code>readLines</code> on filename.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nodeSet</code></td>
<td>

<p>Character string containing the name of a Siena node set.
If the entire data set contains more than one node set,
then the node sets must be specified in all data objects.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>option</code></td>
<td>

<p>Integer controlling the processing of the tie variables for the
actors not currently present. Values (default is 1)
</p>

<table>
<tr>
<td style="text-align: right;">
1 </td>
<td style="text-align: left;">  0 before entry, final value carried forward after leaving,</td>
</tr>
<tr>
<td style="text-align: right;">
  </td>
<td style="text-align: left;">  and used for calculating statistics in Method of Moments estimation</td>
</tr>
<tr>
<td style="text-align: right;">
2 </td>
<td style="text-align: left;">  0 before entry, missing after (final value carried forward, but
          treated as missing) </td>
</tr>
<tr>
<td style="text-align: right;">
3 </td>
<td style="text-align: left;">  missing whenever not in the network. Previous values will be used
        where available, </td>
</tr>
<tr>
<td style="text-align: right;">
  </td>
<td style="text-align: left;">  but always treated as missing values.</td>
</tr>
<tr>
<td style="text-align: right;">
4 </td>
<td style="text-align: left;">  Convert to structural zeros (not available at present).
</td>
</tr>
</table>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If there is a composition change object for the first node set in the
data object, then this will be used in estimation by the Method of Moments
to make actors active
(able to send and receive ties) only for the time intervals
when this is indicated in the composition change object.
This is done according to the procedure of Huisman and Snijders (2003).
See the manual for further details.<br>
For bipartite networks, composition change objects for the second node set
have no effect and will lead to an error message.<br>
For <code>M</code> waves, time starts at 1 and ends at <code>M</code>;
so all numbers must be between 1 and the number of waves (bounds included).
Intervals are treated as closed at each end.
For example, an entry <code>(2, 4)</code> means that the actor corresponding
to this entry arrived at wave 2 and left at wave 4, but did give
valid date for both of these waves. An entry <code>(1.01, 2.99)</code> means that
the actor arrived just after wave 1 and left just before wave 3, and gave
valid data only for wave 2. An entry <code>(1, 2), (3.5, 4)</code> means that the
actor was there at the start and left at wave 2 (giving valid data for wave 2),
came back halfway between waves 3 and 4, and gave valid data still at wave 4;
if there would be more than 4 waves in the data set, this entry would also
mean that the actor left at wave 4.
<br>
For data sets including a composition change object, estimation
by Method of Moments is forced to be unconditional, overriding
the specification in the <code>sienaAlgorithm</code> object.
</p>


<h3>Value</h3>

<p>An object of class "compositionChange", a list of numeric vectors,
with attributes:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>NodeSet</code></td>
<td>
<p>Name of node set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Option</code></td>
<td>
<p>Option</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Ruth Ripley </p>


<h3>References</h3>

<p>Huisman, M.E. and Snijders, T.A.B. (2003),
Statistical analysis of longitudinal network data with changing composition.
<em>Sociological Methods &amp; Research</em>, <b>32</b>, 253â€“287.
</p>
<p>See also <a href="https://www.stats.ox.ac.uk/~snijders/siena/RSiena_Manual.pdf">https://www.stats.ox.ac.uk/~snijders/siena/RSiena_Manual.pdf</a>
</p>
<p>Further see <a href="https://www.stats.ox.ac.uk/~snijders/siena/">https://www.stats.ox.ac.uk/~snijders/siena/</a>
</p>


<h3>See Also</h3>

<p><code>sienaNodeSet</code>,
<code>sienaDataCreate</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  clist &lt;- list(c(1, 3), c(1.4, 2.5))
  #or
  clist &lt;- list(c("1", "3"), c("1.4", "2.5"))

  compChange &lt;- sienaCompositionChange(clist)

  s50net &lt;- sienaDependent(array(c(s501, s502, s503), dim=c(50, 50, 3)))
  s50list &lt;- rep(list(c(1,3)), 50)
  # This is a trivial composition change: all actors are present in all waves.
  compChange &lt;- sienaCompositionChange(s50list)
  s50data &lt;- sienaDataCreate(s50net, compChange)
  s50data

  ## Not run: 
  filedata &lt;- c("1 3", "1.4 2.5")
  write.table(filedata, "cc.dat",row.names=FALSE, col.names=FALSE,
          quote=FALSE)
  ## file will be
  ## 1 3
  ## 1.4 2.5
  compChange &lt;- sienaCompositionChangeFromFile("cc.dat")
  
## End(Not run)
</code></pre>


</div>