<div class="container">

<table style="width: 100%;"><tr>
<td>R</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a Result Descriptor by Recording Effects of an Expression Evaluation</h2>

<h3>Description</h3>

<p>Evaluates an expression and records its direct and indirect effects:
the resulting value as well as the information whether any errors,
warnings, or messages are generated and if anything is printed on
<code>stdout</code> or <code>stderr</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">R(expr, ..., envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>expression to be evaluated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to be passed to <code>P</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>environment where <code>expr</code> is to be evaluated</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that messages, warnings, and errors are typically written to
<code>stderr</code>, but these are considered separately here.
In other words, when testing expectations with <code>E</code>,
e.g., the reference <code>stderr</code> should not include the anticipated
diagnostic messages.
</p>
<p>There may be other side effects, such as changing the state of
the random number generator, modifying options or environment variables,
modifying the calling or global environment (e.g., creating new global
variables), attaching objects onto the search part (e.g., loading
package namespaces), or plotting, but these will not be captured,
at least, not by the current version of the <span class="pkg">realtest</span> package.
</p>


<h3>Value</h3>

<p>A list of class <code>realtest_descriptor</code>,
see <code>P</code>, which this function calls.
The additional named component <code>expr</code> gives the
expression that generated the <code>value</code>.
Moreover, <code>args</code> gives a named list of objects
that appeared in <code>expr</code> (not including functions called).
</p>
<p>If an effect of particular kind does not occur,
it is not included in the resulting list.
<code>stdout</code>, <code>stderr</code>, and <code>error</code> are at most single strings.
</p>
<p>When an error occurs, <code>value</code> is <code>NULL</code>.
</p>


<h3>Author(s)</h3>

<p><a href="https://www.gagolewski.com/">Marek Gagolewski</a>
</p>


<h3>See Also</h3>

<p>The official online manual of <span class="pkg">realtest</span> at <a href="https://realtest.gagolewski.com/">https://realtest.gagolewski.com/</a>
</p>
<p>Related functions:
<code>E</code>, <code>P</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">y &lt;- 1:10; R(sum(y^2))
R(cat("a bit talkative, innit?"))
R(sqrt(c(-1, 0, 1, 2, 4)))
R(log("aaaargh"))
R({
    cat("STDOUT"); cat("STDERR", file=stderr()); message("MESSAGE");
    warning("WARNING"); warning("WARNING AGAIN"); cat("MORE STDOUT");
    message("ANOTHER MESSAGE"); stop("ERROR"); y; "NO RETURN VALUE"
})

</code></pre>


</div>