<div class="container">

<table style="width: 100%;"><tr>
<td>r2mlm_long_manual</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute R-squared values for longitudinal multilevel models, manually
inputting parameter estimates.</h2>

<h3>Description</h3>

<p><code>r2mlm_long_manual</code> takes as input raw data and  multilevel model (MLM)
parameter estimates and outputs all relevant R-squared measures as well as an
accompanying bar chart. This function extends the <code>r2mlm_manual</code>
function by allowing researchers to input heteroscedastic variance estimates,
and by providing level-specific measures for non-cluster-mean-centered
models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">r2mlm_long_manual(
  data,
  covs,
  random_covs,
  clusterID,
  gammas,
  Tau,
  sigma2,
  bargraph = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Dataset with rows denoting observations and columns denoting
variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covs</code></td>
<td>
<p>list of predictors in the dataset that have fixed components of
slopes included in the model (if none, set to NULL)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random_covs</code></td>
<td>
<p>list of predictors in the dataset that have random
components of slopes included in the model (if none, set to NULL)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clusterID</code></td>
<td>
<p>variable name in dataset corresponding to cluster (e.g.,
person) identification</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gammas</code></td>
<td>
<p>vector containing estimated fixed components of all slopes,
listed in the order specified in covs (if none, set to NULL)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tau</code></td>
<td>
<p>random effect covariance matrix; the first row and the first
column denote the intercept variance and covariances and each subsequent
row/column denotes a given random slope’s variance and covariances (to be
entered in the order listed by random_covs)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma2</code></td>
<td>
<p>level-1 residual variance; can be entered as a single number,
or as a set of numbers, for example corresponding to different residual
variances at individual timepoints; if entered as a set of numbers,
function will assume equal weights and take the raw average of these to
estimate the expectation of the error variance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bargraph</code></td>
<td>
<p>Optional bar graph output, default is TRUE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function reads in raw data as well as parameter estimates from the
researcher’s previously fit longitudinal growth model (hence, any software
program can have been used to fit the researcher’s longitudinal growth model
prior to the use of this R function, so long as parameter estimates from the
fitted model are recorded; note that this function accommodates
non-longitudinal models as well). This function then outputs R-squared
measures as well as variance decompositions and associated bar charts
outlined in Rights &amp; Sterba (2021). This function allows researchers to input
heteroscedastic residual variance by including multiple estimates, for
example, corresponding to individual timepoints. Users need not specify if
predictors are person-mean-centered or not—the function will automatically
output total, within-person, and between-person variance attributable to each
potential source of explained variance (f1, f2, v1, v2, and m). Note,
however, that the interpretations of these sources differ for
person-mean-centered versus non-person-mean-centered models and that variance
attributable to v2 will necessarily be 0 for person-mean-centered models.
</p>


<h3>Value</h3>

<p>If the input is valid, then the output will be a list and associated
graphical representation of R-squared decompositions. If the input is not
valid, it will return an error.
</p>


<h3>See Also</h3>

<p>Rights, J. D., &amp; Sterba, S. K. (2021). Effect size measures for
longitudinal growth analyses: Extending a framework of multilevel model
R-squareds to accommodate heteroscedasticity, autocorrelation,
nonlinearity, and alternative centering strategies. New Directions for
Child and Adolescent Development, 2021, 65– 110. &lt;doi:10.1002/cad.20387&gt;
</p>
<p>Other r2mlm single model functions: 
<code>r2mlm3_manual()</code>,
<code>r2mlm_ci()</code>,
<code>r2mlm_manual()</code>,
<code>r2mlm()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Removing cluster-mean-centering from the teachsat dataset, for
# demonstration purposes

teachsat$salary &lt;- teachsat$salary_c + 2
uncentered_model &lt;- lmer(satisfaction ~ salary + (1 | schoolID), data = teachsat)

r2mlm_long_manual(data = teachsat,
                  covs = c("salary"),
                  random_covs = NULL,
                  clusterID = "schoolID",
                  gammas = c(0.07430),
                  Tau = as.matrix(Matrix::bdiag(VarCorr(uncentered_model))),
                  sigma2 = getME(uncentered_model, "sigma")^2,
                  bargraph = TRUE)

</code></pre>


</div>