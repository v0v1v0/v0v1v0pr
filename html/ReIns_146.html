<div class="container">

<table style="width: 100%;"><tr>
<td>SpliceLL</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
LL-plot with fitted and empirical survival function
</h2>

<h3>Description</h3>

<p>This function plots the logarithm of the empirical survival function (determined using the Empirical CDF (ECDF)) versus the logarithm of the data.
Moreover, the logarithm of the fitted survival function of the spliced distribution is added.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SpliceLL(x = sort(X), X, splicefit, plot = TRUE, main = "Splicing LL-plot", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>Vector of points to plot the fitted survival function at. By default we plot it at the data points.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>

<p>Data used for fitting the distribution.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>splicefit</code></td>
<td>

<p>A <code>SpliceFit</code> object, e.g. output from <code>SpliceFitPareto</code> or <code>SpliceFitGPD</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>

<p>Logical indicating if the splicing LL-plot should be made, default is <code>TRUE</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>

<p>Title for the plot, default is <code>"Splicing LL-plot"</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Additional arguments for the <code>plot</code> function, see <code>plot</code> for more details.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The LL-plot consists of the points
</p>
<p style="text-align: center;"><code class="reqn">(\log(x_{i,n}), \log(1-\hat{F}(x_{i,n})))</code>
</p>

<p>for <code class="reqn">i=1,\ldots,n</code> with <code class="reqn">n</code> the length of the data, <code class="reqn">x_{i,n}</code> the <code class="reqn">i</code>-th smallest observation
and <code class="reqn">\hat{F}</code> the empirical distribution function.
Then, the line 
</p>
<p style="text-align: center;"><code class="reqn">(\log(x), \log(1-\hat{F}_{spliced}(x))),</code>
</p>

<p>with <code class="reqn">\hat{F}_{spliced}</code> the fitted spliced distribution function, is added.
</p>
<p>Use <code>SpliceLL_TB</code> for censored data.
</p>
<p>See Reynkens et al. (2017) and Section 4.3.1 in Albrecher et al. (2017) for more details.
</p>


<h3>Value</h3>

<p>A list with following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>logX</code></td>
<td>
<p>Vector of the logarithms of the sorted data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sll.the</code></td>
<td>
<p>Vector of the theoretical log-probabilities <code class="reqn">\log(1-\hat{F}_{spliced}(x))</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logx</code></td>
<td>
<p>Vector of the logarithms of the points to plot the fitted survival function at.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sll.emp</code></td>
<td>
<p>Vector of the empirical log-probabilities <code class="reqn">\log(1-\hat{F}(x_{i,n}))</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Tom Reynkens
</p>


<h3>References</h3>

<p>Albrecher, H., Beirlant, J. and Teugels, J. (2017). <em>Reinsurance: Actuarial and Statistical Aspects</em>, Wiley, Chichester.
</p>
<p>Reynkens, T., Verbelen, R., Beirlant, J. and Antonio, K. (2017). "Modelling Censored Losses Using Splicing:
a Global Fit Strategy With Mixed Erlang and Extreme Value Distributions". <em>Insurance: Mathematics and Economics</em>, 77, 65–77.
</p>
<p>Verbelen, R., Gong, L., Antonio, K., Badescu, A. and Lin, S. (2015). "Fitting Mixtures of
Erlangs to Censored and Truncated Data Using the EM Algorithm." <em>Astin Bulletin</em>, 45, 729–758
</p>


<h3>See Also</h3>

<p><code>SpliceLL_TB</code>, <code>pSplice</code>, <code>ecdf</code>, <code>SpliceFitPareto</code>, <code>SpliceFitGPD</code>, <code>SpliceECDF</code>, <code>SplicePP</code>, <code>SpliceQQ</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# Pareto random sample
X &lt;- rpareto(1000, shape = 2)

# Splice ME and Pareto
splicefit &lt;- SpliceFitPareto(X, 0.6)



x &lt;- seq(0, 20, 0.01)

# Plot of spliced CDF
plot(x, pSplice(x, splicefit), type="l", xlab="x", ylab="F(x)")

# Plot of spliced PDF
plot(x, dSplice(x, splicefit), type="l", xlab="x", ylab="f(x)")



# Fitted survival function and empirical survival function 
SpliceECDF(x, X, splicefit)

# Log-log plot with empirical survival function and fitted survival function
SpliceLL(x, X, splicefit)

# PP-plot of empirical survival function and fitted survival function
SplicePP(X, splicefit)

# PP-plot of empirical survival function and 
# fitted survival function with log-scales
SplicePP(X, splicefit, log=TRUE)

# Splicing QQ-plot
SpliceQQ(X, splicefit)

## End(Not run)
</code></pre>


</div>