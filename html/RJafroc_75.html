<div class="container">

<table style="width: 100%;"><tr>
<td>UtilFigureOfMerit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate empirical figures of merit (FOMs) for specified dataset</h2>

<h3>Description</h3>

<p>Calculate the specified empirical figure of merit
for each treatment-reader combination in the 
ROC, FROC, ROI or LROC dataset
</p>


<h3>Usage</h3>

<pre><code class="language-R">UtilFigureOfMerit(dataset, FOM = "wAFROC", FPFValue = 0.2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataset</code></td>
<td>
<p>The dataset to be analyzed, <code>RJafroc-package</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FOM</code></td>
<td>
<p>The figure of merit; the default is <code>"wAFROC"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FPFValue</code></td>
<td>
<p>Only needed for <code>LROC</code> data <strong>and</strong> FOM = "PCL" or "ALROC";
where to evaluate a partial curve based figure of merit. The default is 0.2.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The allowed FOMs depend on the <code>dataType</code> field of the 
<code>dataset</code> object.  
</p>
<p><strong>For <code>dataset$descriptions$design = "SPLIT-PLOT-C"</code>, end-point based 
FOMs (e.g., "MaxLLF") are not allowed</strong>.
<strong>For <code>dataset$descriptions$type = "ROC"</code> only <code>FOM = "Wilcoxon"</code> is allowed</strong>.
<strong>For <code>dataset$descriptions$type = "FROC"</code> the following FOMs are allowed</strong>:
</p>
 
<ul>
<li> <p><code>FOM = "AFROC1"</code> (use only if zero normal cases)
</p>
</li>
<li> <p><code>FOM = "AFROC"</code> 
</p>
</li>
<li> <p><code>FOM = "wAFROC1"</code> (use only if zero normal cases)
</p>
</li>
<li> <p><code>FOM = "wAFROC"</code> (the default) 
</p>
</li>
<li> <p><code>FOM = "HrAuc"</code> 
</p>
</li>
<li> <p><code>FOM = "SongA1"</code> 
</p>
</li>
<li> <p><code>FOM = "SongA2"</code>  
</p>
</li>
<li> <p><code>FOM = "HrSe"</code> (an example of an end-point based FOM)
</p>
</li>
<li> <p><code>FOM = "HrSp"</code> (another example)
</p>
</li>
<li> <p><code>FOM = "MaxLLF"</code> (do:)
</p>
</li>
<li> <p><code>FOM = "MaxNLF"</code> (do:)
</p>
</li>
<li> <p><code>FOM = "MaxNLFAllCases"</code> (do:) 
</p>
</li>
<li> <p><code>FOM = "ExpTrnsfmSp"</code>  
</p>
</li>
</ul>
<p><code>"MaxLLF"</code>, <code>"MaxNLF"</code> and <code>"MaxNLFAllCases"</code>
correspond to ordinate, and abscissa, respectively, of the highest point 
on the FROC operating characteristic obtained by counting all the marks. 
The <code>"ExpTrnsfmSp"</code> FOM is described in the paper by Popescu. 
Given the large number of FOMs possible with FROC data, it is appropriate 
to make a recommendation: <strong>it is recommended that one use the wAFROC FOM
whenever possible.</strong>
</p>
<p>For <strong><code>dataType = "ROI"</code> dataset only <code>FOM = "ROI"</code> is allowed</strong>.
</p>
<p>For <strong><code>dataType = "LROC"</code></strong> dataset the following FOMs are allowed:
</p>

<ul>
<li> <p><code>FOM = "Wilcoxon"</code> for ROC data inferred from LROC data 
</p>
</li>
<li> <p><code>FOM = "PCL"</code> the probability of correct localization at specified <code>FPFValue</code>
</p>
</li>
<li> <p><code>FOM = "ALROC"</code> the area under the LROC from zero to specified <code>FPFValue</code> 
</p>
</li>
</ul>
<p><code>FPFValue</code> The FPF at which to evaluate <code>PCL</code> or <code>ALROC</code>; 
the default is 0.2; only needed for LROC data.
</p>


<h3>Value</h3>

<p>An <code>c(I, J)</code> dataframe, where the row names are <code>modalityID</code>'s of the 
treatments and column names are the <code>readerID</code>'s of the readers.
</p>


<h3>References</h3>

<p>Chakraborty DP (2017) <em>Observer Performance Methods for Diagnostic Imaging - Foundations, 
Modeling, and Applications with R-Based Examples</em>, CRC Press, Boca Raton, FL. 
<a href="https://www.routledge.com/Observer-Performance-Methods-for-Diagnostic-Imaging-Foundations-Modeling/Chakraborty/p/book/9781482214840">https://www.routledge.com/Observer-Performance-Methods-for-Diagnostic-Imaging-Foundations-Modeling/Chakraborty/p/book/9781482214840</a>
</p>
<p>Chakraborty DP, Berbaum KS (2004) Observer studies involving detection and localization: modeling, analysis, and validation, 
Medical Physics, 31(8), 1–18.
</p>
<p>Song T, Bandos AI, Rockette HE, Gur D (2008) On comparing methods for discriminating between actually negative and actually positive subjects 
with FROC type data, Medical Physics 35 1547–1558.
</p>
<p>Popescu LM (2011) Nonparametric signal detectability evaluation using an exponential transformation of the FROC curve, 
Medical Physics, 38(10), 5690. 
</p>
<p>Obuchowski NA, Lieber ML, Powell KA (2000) Data Analysis for Detection and Localization of Multiple Abnormalities 
with Application to Mammography, Acad Radiol, 7:7 553–554.
</p>
<p>Swensson RG (1996) Unified measurement of observer performance in detecting and localizing target objects on images, 
Med Phys 23:10, 1709–1725.
</p>


<h3>Examples</h3>

<pre><code class="language-R">UtilFigureOfMerit(dataset02, FOM = "Wilcoxon") # ROC data
UtilFigureOfMerit(DfFroc2Roc(dataset01), FOM = "Wilcoxon") # FROC dataset, converted to ROC
UtilFigureOfMerit(dataset01) # FROC dataset, default wAFROC FOM
UtilFigureOfMerit(datasetCadLroc, FOM = "Wilcoxon") #LROC data
UtilFigureOfMerit(datasetCadLroc, FOM = "PCL") #LROC data
UtilFigureOfMerit(datasetCadLroc, FOM = "ALROC") #LROC data
UtilFigureOfMerit(datasetROI, FOM = "ROI") #ROI data
 # these are meant to illustrate conditions which will throw an error
## UtilFigureOfMerit(dataset02, FOM = "wAFROC") #error
## UtilFigureOfMerit(dataset01, FOM = "Wilcoxon") #error


</code></pre>


</div>