<div class="container">

<table style="width: 100%;"><tr>
<td>get_columns</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Retrieve Macrostrat column data</h2>

<h3>Description</h3>

<p>A function to retrieve independent, hexagonal, vertical columns
which contain chronostratigraphically organised Macrostrat units.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_columns(
  column_id = NULL,
  section_id = NULL,
  unit_id = NULL,
  strat_name = NULL,
  strat_name_id = NULL,
  interval_name = NULL,
  interval_id = NULL,
  age = NULL,
  age_top = NULL,
  age_bottom = NULL,
  lat = NULL,
  lng = NULL,
  lithology = NULL,
  lithology_id = NULL,
  lithology_type = NULL,
  lithology_class = NULL,
  lithology_att = NULL,
  lithology_att_id = NULL,
  lithology_att_type = NULL,
  environ = NULL,
  environ_id = NULL,
  environ_type = NULL,
  environ_class = NULL,
  pbdb_collection_no = NULL,
  econ = NULL,
  econ_id = NULL,
  econ_type = NULL,
  econ_class = NULL,
  project_id = NULL,
  adjacents = FALSE,
  sf = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>column_id</code></td>
<td>
<p><code>integer</code>. Filter columns by their unique
identification number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>section_id</code></td>
<td>
<p><code>integer</code>. Filter columns to those containing
section(s) as specified by their unique identification number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit_id</code></td>
<td>
<p><code>integer</code>. Filter columns to those containing unit(s) as
specified by their unique identification number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strat_name</code></td>
<td>
<p><code>character</code>. Filter columns to those containing a unit
that fuzzy matches a stratigraphic name (e.g., "Hell Creek").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strat_name_id</code></td>
<td>
<p><code>integer</code>. Filter columns to those containing a
unit that matches one or more stratigraphic name(s) as specified by their
unique identification number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval_name</code></td>
<td>
<p><code>character</code>. Filter columns to those that overlap
with a named chronostratigraphic time interval (e.g., "Permian").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval_id</code></td>
<td>
<p><code>integer</code>. Filter columns to those that overlap with
a chronostratigraphic time interval as specified by their unique
identification number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age</code></td>
<td>
<p><code>numeric</code>. Filter columns to those that overlap with the
specified numerical age, in millions of years before present.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age_top</code></td>
<td>
<p><code>numeric</code>. Filter columns to those that overlap with the
age range between the specified numerical age and <code>age_bottom</code>. Should be
in millions of years before present. <code>age_bottom</code> must also be specified,
and this must be younger than <code>age_bottom</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age_bottom</code></td>
<td>
<p><code>numeric</code>. Filter columns to those that overlap with
the age range between the specified numerical age and <code>age_top</code>. Should be
in millions of years before present. <code>age_top</code> must also be specified, and
this must be older than <code>age_top</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat</code></td>
<td>
<p><code>numeric</code>. Return the column at the specified decimal degree
latitude. Must also specify <code>lng</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lng</code></td>
<td>
<p><code>numeric</code>. Return the column at the specified decimal degree
longitude. Must also specify <code>lat</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lithology</code></td>
<td>
<p><code>character</code>. Filter columns to those containing a named
lithology (e.g., "shale", "sandstone").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lithology_id</code></td>
<td>
<p><code>integer</code>. Filter columns to those containing one or
more lithology(ies) identified by their unique identification number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lithology_type</code></td>
<td>
<p><code>character</code>. Filter columns to those containing a
named lithology type (e.g., "carbonate", "siliciclastic").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lithology_class</code></td>
<td>
<p><code>character</code>. Filter columns to those containing a
named lithology class (e.g., "sedimentary", "igneous", "metamorphic").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lithology_att</code></td>
<td>
<p><code>character</code>. Filter columns to those containing a
named lithology attribute (e.g., "fine", "olivine", "poorly washed").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lithology_att_id</code></td>
<td>
<p><code>integer</code>. Filter columns to those containing
one or more lithology attribute(s) as specified by their unique
identification number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lithology_att_type</code></td>
<td>
<p><code>character</code>. Filter columns to those
containing a named category of lithology attribute (e.g., "grains",
"lithology", "bedform").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>environ</code></td>
<td>
<p><code>character</code>. Filter columns to those containing a named
environment (e.g., "delta plain", "pond").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>environ_id</code></td>
<td>
<p><code>integer</code>. Filter columns to those containing one or
more environment(s) as specified by their unique identification number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>environ_type</code></td>
<td>
<p><code>character</code>. Filter columns to those containing a
named environment type (e.g., "fluvial", "eolian", "glacial").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>environ_class</code></td>
<td>
<p><code>character</code>. Filter columns to those containing a
named environment class (e.g., "marine", "non-marine").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pbdb_collection_no</code></td>
<td>
<p><code>integer</code>. Filter columns to those containing
one or more Paleobiology Database collection(s) as specified by their
unique identification number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>econ</code></td>
<td>
<p><code>character</code>. Filter columns to those containing a named
economic attribute (e.g., "brick", "ground water", "gold").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>econ_id</code></td>
<td>
<p><code>integer</code>. Filter columns to those containing one or more
economic attribute(s) as specified by their unique identification
number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>econ_type</code></td>
<td>
<p><code>character</code>. Filter columns to those containing a named
economic attribute type (e.g., "construction", "aquifer", "mineral").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>econ_class</code></td>
<td>
<p><code>character</code>. Filter columns to those containing a
named economic attribute class (e.g., "material", "water", "precious
commodity").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>project_id</code></td>
<td>
<p><code>integer</code>. Filter columns to those contained within a
Macrostrat project as specified by its unique identification number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjacents</code></td>
<td>
<p><code>logical</code>. If <code>column_id</code> or <code>lat</code>/<code>lng</code> is specified,
should all columns that touch the specified column be returned? Defaults to
<code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sf</code></td>
<td>
<p><code>logical</code>. Should the results be returned as an <code>sf</code> object?
Defaults to <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>More information can be found for the inputs for this function using
the definition functions (beginning with <code>def_</code>).
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> containing the following columns:
</p>

<ul>
<li> <p><code>col_id</code>: The unique identification number of the Macrostrat
column.
</p>
</li>
<li> <p><code>col_name</code>: The name of the Macrostrat column.
</p>
</li>
<li> <p><code>col_group</code>: Name of the group the column belongs to. Generally
corresponds to geologic provinces.
</p>
</li>
<li> <p><code>col_group_id</code>: The unique identification number of the group to
which the column belongs.
</p>
</li>
<li> <p><code>group_col_id</code>: The original column ID assigned to the column
(used in the original source).
</p>
</li>
<li> <p><code>lat</code>: Decimal degree latitude of the column centroid.
</p>
</li>
<li> <p><code>lng</code>: Decimal degree longitude of the column centroid.
</p>
</li>
<li> <p><code>col_area</code>: The area of the Macrostrat column in
km<sup>2</sup>.
</p>
</li>
<li> <p><code>project_id</code>: The unique identification number for project.
Corresponds to general geographic region.
</p>
</li>
<li> <p><code>col_type</code>: The type of column.
</p>
</li>
<li> <p><code>refs</code>: The unique identification number(s) for the reference(s)
associated with the column.
</p>
</li>
<li> <p><code>max_thick</code>: The maximum unit thickness in meters.
</p>
</li>
<li> <p><code>max_min_thick</code>: The maximum possible minimum thickness in
meters.
</p>
</li>
<li> <p><code>min_min_thick</code>: The minimum possible minimum thickness in
meters.
</p>
</li>
<li> <p><code>b_age</code>: The age of the bottom of the column, estimated using
the continuous time age model, in millions of years before present.
</p>
</li>
<li> <p><code>t_age</code>: The age of the top of the column, estimated using the
continuous time age model, in millions of years before present.
</p>
</li>
<li> <p><code>b_int_name</code>: The name of the time interval represented at the
bottom of the column.
</p>
</li>
<li> <p><code>t_int_name</code>: The name of the time interval represented at the
top of the column.
</p>
</li>
<li> <p><code>pbdb_collections</code>: The number of PBDB collections contained
within the column.
</p>
</li>
<li> <p><code>lith</code>: a <code>data.frame</code> containing the lithologies present
within the column, with the following columns:
</p>

<ul>
<li> <p><code>name</code>: The named lithology (e.g., "sandstone").
</p>
</li>
<li> <p><code>type</code>: The named lithology type (e.g., "siliciclastic").
</p>
</li>
<li> <p><code>class</code>: The named lithology class (e.g., "sedimentary").
</p>
</li>
<li> <p><code>prop</code>: The proportion of the lithology within the column,
calculated from the individual Macrostrat units within the column.
</p>
</li>
<li> <p><code>lith_id</code>: The unique identification number of the lithology.
</p>
</li>
</ul>
</li>
</ul>
<ul><li> <p><code>environ</code>: a <code>data.frame</code> containing the environments
present within the column, with the following columns:
</p>

<ul>
<li> <p><code>name</code>: The named environment (e.g., "delta plain").
</p>
</li>
<li> <p><code>type</code>: The named environment type (e.g., "siliciclastic").
</p>
</li>
<li> <p><code>class</code>: The named environment class (e.g., "marine").
</p>
</li>
<li> <p><code>prop</code>: The proportion of the environment within the column,
calculated from the individual Macrostrat units within the column.
</p>
</li>
<li> <p><code>environ_id</code>: The unique identification number of the
environment.
</p>
</li>
</ul>
</li></ul>
<ul>
<li> <p><code>econ</code>: a <code>data.frame</code> containing the economic attributes
present within the column, with the following columns:
</p>

<ul>
<li> <p><code>name</code>: The named economic attribute (e.g., "gold").
</p>
</li>
<li> <p><code>type</code>: The named economic attribute type (e.g., "mineral").
</p>
</li>
<li> <p><code>class</code>: The named economic attribute class (e.g., "precious
commodity").
</p>
</li>
<li> <p><code>prop</code>: The proportion of the economic attribute out of
all economic attributes contained within the column, calculated
from the individual Macrostrat units within the column.
</p>
</li>
<li> <p><code>econ_id</code>: The unique identification number of the economic
attribute.
</p>
</li>
</ul>
</li>
<li> <p><code>t_units</code>: The total number of units contained within the
column.
</p>
</li>
<li> <p><code>t_sections</code>: The total number of sections contained within the
column.
</p>
</li>
</ul>
<p>If <code>sf</code> is <code>TRUE</code>, an <code>sf</code> object is returned instead, with the same
columns plus a "geometry" column that contains the spatial data.
</p>


<h3>Developer(s)</h3>

<p>William Gearty
</p>


<h3>Reviewer(s)</h3>

<p>Christopher D. Dean
</p>


<h3>See Also</h3>

<p>Macrostrat data entities:
<code>def_columns()</code>,
<code>get_age_model()</code>,
<code>get_sections()</code>,
<code>get_units()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Return columns that overlap with a named chronostratigraphic interval
ex1 &lt;- get_columns(interval_name = "Permian")
# Return columns that overlap with a specified age range
ex2 &lt;- get_columns(age_top = 200, age_bottom = 250)
# Return columns that contain a specific stratigraphic unit, in `sf` format
ex3 &lt;- get_columns(strat_name = "mancos", sf = TRUE)
# Return the columns at a specific geographic coordinate
ex4 &lt;- get_columns(lat = 43, lng = -89, adjacents = TRUE)

</code></pre>


</div>