<div class="container">

<table style="width: 100%;"><tr>
<td>saveCoxConfidential</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Save confidential Cox objects</h2>

<h3>Description</h3>

<p>Save confidential Cox objects
</p>


<h3>Usage</h3>

<pre><code class="language-R">saveCoxConfidential(object, times)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object of class <code>coxph</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>The times at which we want to predict risk.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function can save <code>coxph</code> objects such that we do not need to export 
the data on which it was fitted at given times.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(survival)
library(lava)
set.seed(18)
trainSurv &lt;- sampleData(300,outcome="survival")
testSurv &lt;- sampleData(40,outcome="survival")
fit = coxph(Surv(time,event)~X1+X2+X3+X7+X9,data=trainSurv, y=TRUE, x = TRUE)
u=saveCoxConfidential(fit,times=3)
## Not run: 
# write object as plain text file
sink("~/tmp/u.R")
cat("U &lt;- ")
dput(u)
sink(NULL)
# reload object
source("~/tmp/u.R")
class(u) &lt;- "CoxConfidential"

## End(Not run)
predictRisk(u,newdata=testSurv)
cox1 = coxph(Surv(time,event)~strata(X1)+X2+X3+X7+X9,data=trainSurv, y=TRUE, x = TRUE)
z&lt;-saveCoxConfidential(cox1,c(2,5))

dput(z) ## get output to copy object

all.equal(predictRisk(z,newdata=testSurv),
          predictRisk(cox1,newdata=testSurv,times=c(2,5)))

cox2 = coxph(Surv(time,event)~X1+X2+X7+X9,data=trainSurv, y=TRUE, x = TRUE)
z&lt;-saveCoxConfidential(cox2,c(2,5))

all.equal(predictRisk(z,testSurv),predictRisk(z,testSurv,c(2,5)))
</code></pre>


</div>