<div class="container">

<table style="width: 100%;"><tr>
<td>embed_sentencespace</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build a Starspace model to be used for sentence embedding</h2>

<h3>Description</h3>

<p>Build a Starspace model to be used for sentence embedding
</p>


<h3>Usage</h3>

<pre><code class="language-R">embed_sentencespace(
  x,
  model = "sentencespace.bin",
  early_stopping = 0.75,
  useBytes = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a data.frame with sentences containg the columns doc_id, sentence_id and token
The doc_id is just an article or document identifier,
the sentence_id column is a character field which contains words which are separated by a space and should not contain any tab characters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>name of the model which will be saved, passed on to <code>starspace</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>early_stopping</code></td>
<td>
<p>the percentage of the data that will be used as training data. If set to a value smaller than 1, 1-<code>early_stopping</code> percentage of the data which will be used as the validation set and early stopping will be executed. Defaults to 0.75.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useBytes</code></td>
<td>
<p>set to TRUE to avoid re-encoding when writing out train and/or test files. See <code>writeLines</code> for details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed on to <code>starspace</code> except file, trainMode and fileFormat</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an object of class <code>textspace</code> as returned by <code>starspace</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(udpipe)
data(brussels_reviews_anno, package = "udpipe")
x &lt;- subset(brussels_reviews_anno, language == "nl")
x$token &lt;- x$lemma
x &lt;- x[, c("doc_id", "sentence_id", "token")]
set.seed(123456789)
model &lt;- embed_sentencespace(x, dim = 15, epoch = 15,
                             negSearchLimit = 1, maxNegSamples = 2)
plot(model)
sentences &lt;- c("ook de keuken zijn zeer goed uitgerust .",
               "het appartement zijn met veel smaak inrichten en zeer proper .")
predict(model, sentences, type = "embedding")
starspace_embedding(model, sentences)

## Not run: 
library(udpipe)
data(dekamer, package = "ruimtehol")
x &lt;- udpipe(dekamer$question, "dutch", tagger = "none", parser = "none", trace = 100)
x &lt;- x[, c("doc_id", "sentence_id", "sentence", "token")]
set.seed(123456789)
model &lt;- embed_sentencespace(x, dim = 15, epoch = 5, minCount = 5)
plot(model)
predict(model, "Wat zijn de cijfers qua doorstroming van 2016?",
        basedoc = unique(x$sentence))

embeddings &lt;- starspace_embedding(model, unique(x$sentence), type = "document")
dim(embeddings)

sentence &lt;- "Wat zijn de cijfers qua doorstroming van 2016?"
embedding_sentence &lt;- starspace_embedding(model, sentence, type = "document")
mostsimilar &lt;- embedding_similarity(embeddings, embedding_sentence)
head(sort(mostsimilar[, 1], decreasing = TRUE), 3)

## clean up for cran
file.remove(list.files(pattern = ".udpipe$"))

## End(Not run)
</code></pre>


</div>