<div class="container">

<table style="width: 100%;"><tr>
<td>role_playing_dimension</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Define a role playing dimension and its associated dimensions</h2>

<h3>Description</h3>

<p>The same dimension can play several roles in relation to the facts. We can
define the main dimension and the dimensions that play different roles.
</p>


<h3>Usage</h3>

<pre><code class="language-R">role_playing_dimension(db, rpd, roles, rpd_att_names, att_names)

## S3 method for class 'star_database'
role_playing_dimension(db, rpd, roles, rpd_att_names = FALSE, att_names = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rpd</code></td>
<td>
<p>A string, dimension name (role playing dimension).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>roles</code></td>
<td>
<p>A vector of strings, dimension names (dimension roles).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rpd_att_names</code></td>
<td>
<p>A boolean, common attribute names taken from rpd dimension.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>att_names</code></td>
<td>
<p>A vector of strings, common attribute names.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>As a result, all the dimensions will have the same instances and, if we deem
it necessary, also the same name of their attributes (except the surrogate key).
</p>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p><code>star_schema</code>, <code>flat_table</code>
</p>
<p>Other star database definition functions: 
<code>get_dimension_names()</code>,
<code>get_dimension_table()</code>,
<code>get_fact_names()</code>,
<code>get_role_playing_dimension_names()</code>,
<code>get_table_names()</code>,
<code>group_dimension_instances()</code>,
<code>star_database()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
s &lt;- star_schema() |&gt;
  define_facts(fact_schema(
    name = "mrs_cause",
    measures = c(
      "Pneumonia and Influenza Deaths",
      "All Deaths"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "When",
    attributes = c(
      "Year",
      "WEEK",
      "Week Ending Date"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "When Available",
    attributes = c(
      "Data Availability Year",
      "Data Availability Week",
      "Data Availability Date"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "When Received",
    attributes = c(
      "Reception Year",
      "Reception Week",
      "Reception Date"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "where",
    attributes = c(
      "REGION",
      "State",
      "City"
    )
  ))

db &lt;- star_database(s, ft_cause_rpd) |&gt;
  role_playing_dimension(
    rpd = "When",
    roles = c("When Available", "When Received"),
    rpd_att_names = TRUE
  )

db &lt;- star_database(s, ft_cause_rpd) |&gt;
  role_playing_dimension("When",
                         c("When Available", "When Received"),
                         att_names = c("Year", "Week", "Date"))

</code></pre>


</div>