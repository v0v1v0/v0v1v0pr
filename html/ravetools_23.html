<div class="container">

<table style="width: 100%;"><tr>
<td>check_filter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Check 'Arma' filter</h2>

<h3>Description</h3>

<p>Check 'Arma' filter
</p>


<h3>Usage</h3>

<pre><code class="language-R">check_filter(b, a, w = NULL, r_expected = NULL, fs = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>moving average (<code>MA</code>) polynomial coefficients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>auto-regressive (<code>AR</code>) polynomial coefficients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>normalized frequency, ranging from 0 to 1, where 1 is 'Nyquist'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r_expected</code></td>
<td>
<p>attenuation in decibel of each <code>w</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fs</code></td>
<td>
<p>sample rate, used to infer the frequencies and formatting print
message, not used in calculation; leave it blank by default</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of power estimation and the reciprocal condition number
of the <code>AR</code> coefficients.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# create a butterworth filter with -3dB (half-power) at [1, 5] Hz
# and -60dB stop-band attenuation at [0.5, 6] Hz

sample_rate &lt;- 20
nyquist &lt;- sample_rate / 2

specs &lt;- buttord(
  Wp = c(1, 5) / nyquist,
  Ws = c(0.5, 6) / nyquist,
  Rp = 3,
  Rs = 60
)
filter &lt;- butter(specs)

# filter quality is poor because the AR-coefficients
# creates singular matrix with unstable inverse,
# this will cause `filtfilt` to fail
check_filter(
  b = filter$b, a = filter$a,

  # frequencies (normalized) where power is evaluated
  w = c(1, 5, 0.5, 6) / nyquist,

  # expected power
  r_expected = c(3, 3, 60, 60)

)


</code></pre>


</div>