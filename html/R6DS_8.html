<div class="container">

<table style="width: 100%;"><tr>
<td>RSet</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The RSet reference class</h2>

<h3>Description</h3>

<p>The RSet reference class implements the data structure set.
</p>


<h3>Usage</h3>

<pre><code class="language-R">RSet
</code></pre>


<h3>Format</h3>

<p>An object of class <code>R6ClassGenerator</code> of length 24.</p>


<h3>Details</h3>

<p>A set is a collection of items or elements equipped with the "=" operators
such that any two elements in the set cannot be equal.
The set data structure does not care the order of the elements.
</p>
<p>It should be noticed that, in your design, if any two elements in the set can be easily compared,
by simply, for example, keys, numbers, and etc.,
the RSet should not be recommended due to efficiency reason.
The RSet is suitable for the cases when you have a relatively complex "=" operation
between two elements in the set.
</p>
<p>The class <code>RSet</code> inherits the <code>RDLL</code> class,
and therefor it has all the methods that <code>RDLL</code> has.
</p>
<p>Note that the methods <code>insert_at</code>, <code>appendleft</code>, <code>append</code>
in the super class still works without checking if the new element equals
any other elements in the set.
Normally they should be depreciated in the <code>RSet</code> class,
but this is not done in the current version of the package.
It is strongly recommended that the user should use the <code>add</code> method
to add a new element when using the <code>RSet</code> class.
</p>
<p>The elements in the set are not necessarily to be of the same type,
and they can be any R objects.
</p>


<h3>References</h3>

<p>For the details about the set data structure, see <a href="https://en.wikipedia.org/wiki/Set_(abstract_data_type)">Set at Wikipedia</a>.
</p>


<h3>Class Method</h3>

<p>The class method belongs to the class.
</p>

<dl>
<dt><code>new(equal, ..., collapse=NULL)</code></dt>
<dd>
<p>The <code>new</code> method creates a new instance of the RSet class
containing the values in <code>...</code> and <code>collapse</code> as its elements.
</p>
<p>The argument <code>equal</code> takes a function defining the "=" operation,
The function set to <code>equal</code> takes two values of the elements in the set and return
a boolean.
It can be, for example, of the form
</p>
<p><code>equal &lt;- function(x, y) return(x$num == y$num)</code>
</p>
<p>where <code>x</code> and <code>y</code> are values of two elements in the set
with the attribute <code>num</code>.
</p>
</dd>
</dl>
<h3>Immutable Methods</h3>

<p>The immutable methods do not change the elements of the instance.
</p>

<dl>
<dt><code>has(val)</code></dt>
<dd>
<p>The method <code>has</code> returns a boolean indicating
if the set contains <code>val</code>.
</p>
</dd>
<dt><code>union(rset)</code></dt>
<dd>
<p>The method <code>union</code> merges the elements in <code>rset</code>, an instance of some class in the package,
with its elements, and returns a new union set of the two.
</p>
</dd>
<dt><code>intersection(rset)</code></dt>
<dd>
<p>The method <code>intersection</code> returns a new intersection set (RSet) of
the current set and <code>rset</code>, an instance of some class in the package.
</p>
</dd>
<dt><code>difference(rset)</code></dt>
<dd>
<p>The method <code>difference</code> returns a new difference set (RSet) of
the current set and <code>rset</code>, an instance of some class in the package
(current instance minus <code>rset</code>).
</p>
</dd>
<dt><code>subset(rset)</code></dt>
<dd>
<p>The method <code>subset</code> returns a boolean indicating
if the current set is a subset of <code>rset</code>,
an instance of some class in the package.
</p>
</dd>
<dt><code>contains(rset)</code></dt>
<dd>
<p>The method <code>contains</code> returns a boolean indicating
if the current set contains <code>rset</code>,
an instance of some class in the package.
</p>
</dd>
</dl>
<h3>Mutable Methods</h3>

<p>The mutable methods change the instance.
</p>

<dl>
<dt><code>add(val)</code></dt>
<dd>
<p>The method <code>add</code> adds a new element into the set and returns a booleank
showing if the insertion is successful.
</p>
</dd>
<dt><code>add_multiple(..., collapse=NULL)</code></dt>
<dd>
<p>The method <code>add_multiple</code> adds new elements in <code>...</code> and <code>collapse</code> into the set.
</p>
</dd>
<dt><code>delete(val)</code></dt>
<dd>
<p>The method <code>delete</code> removes the element which is <code>equal</code> to <code>val</code> in the set.
It returns a boolean showing if the deletion is successful (if the element is not found in the set).
</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Yukai Yang, <a href="mailto:yukai.yang@statistik.uu.se">yukai.yang@statistik.uu.se</a>
</p>


<h3>See Also</h3>

<p>RDLL and R6DS for the introduction of the reference class and some common methods
</p>


<h3>Examples</h3>

<pre><code class="language-R">
### create a new instance

# you have to define "="
equal &lt;- function(x, y) return(x$key == y$key)
# remember that the elements in the set must have the "key" attribute

# to create a new instance of the class
set &lt;- RSet$new(equal=equal)

# of course you can start to add elements when creating the instance
set &lt;- RSet$new(equal=equal,
    list(key=5, val="5"), collapse=list(list(key=3,val="3"), list(key=9,val="9")))
# the following sentence is equivalent to the above
set &lt;- RSet$new(equal=equal,
    list(key=5, val="5"), list(key=3,val="3"), list(key=9,val="9"))
# where the three lists are inserted into the set

### immutable methods

set$has(list(key=5, num=10))
# TRUE as it has the key attribute

### mutable methods

set$add(list(key=5, num=10))
# FALSE

set$add(list(key=10, val="10"))
# TRUE

set$delete(list(key=10))
# TRUE and list(key=10, val="10") is removed

# union
another_set &lt;- RSet$new(equal=equal,
    list(key=5, val="5"), list(key=11,val="11"))
set$union(another_set)$show()

# intersection
set$intersection(another_set)$show()

# difference
set$difference(another_set)$show()

# subset
set$subset(another_set)

# contains
set$contains(another_set)

</code></pre>


</div>