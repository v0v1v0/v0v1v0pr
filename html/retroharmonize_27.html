<div class="container">

<table style="width: 100%;"><tr>
<td>metadata_create</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a metadata table</h2>

<h3>Description</h3>

<p>Create a metadata table from the survey data files.
</p>


<h3>Usage</h3>

<pre><code class="language-R">metadata_create(survey)

metadata_waves_create(survey_list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>survey</code></td>
<td>
<p>A survey data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>survey_list</code></td>
<td>
<p>A list containing surveys of class survey.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A data frame like tibble ojbect is returned. 
In case you are working with a list of surveys (waves), call 
<code>metadata_waves_create</code>, which is a wrapper around 
a list of  <code>metadata_create</code> calls.
</p>
<p>The structure of the returned tibble:
</p>

<dl>
<dt>filename</dt>
<dd>
<p>The original file name; if present; <code>missing</code>, if a non-<code>survey</code> data frame is used as input <code>survey</code>.</p>
</dd>
<dt>id</dt>
<dd>
<p>The ID of the survey, if present; <code>missing</code>, if a non-<code>survey</code> data frame is used as input <code>survey</code>.</p>
</dd>
<dt>var_name_orig</dt>
<dd>
<p>The original variable name in SPSS.</p>
</dd>
<dt>class_orig</dt>
<dd>
<p>The original variable class after importing with<code>read_spss</code>.</p>
</dd>
<dt>label_orig</dt>
<dd>
<p>The original variable label in SPSS.</p>
</dd>
<dt>labels</dt>
<dd>
<p>A list of the value labels.</p>
</dd>
<dt>valid_labels</dt>
<dd>
<p>A list of the value labels that are not marked as missing values.</p>
</dd>
<dt>na_labels</dt>
<dd>
<p>A list of the value labels that refer to user-defined missing values.</p>
</dd>
<dt>na_range</dt>
<dd>
<p>An optional range of a continuous missing range, if present in the vector.</p>
</dd>
<dt>n_labels</dt>
<dd>
<p>Number of categories or unique levels, which may be different from the sum of missing and category labels.</p>
</dd>
<dt>n_valid_labels</dt>
<dd>
<p>Number of categories in the non-missing range.</p>
</dd>
<dt>n_na_labels</dt>
<dd>
<p>Number of categories of the variable, should be the sum of the former two.</p>
</dd>
<dt>na_levels</dt>
<dd>
<p>A list of the user-defined missing values.</p>
</dd>
</dl>
<h3>Value</h3>

<p>A nested data frame with metadata and the range of 
labels, na_values and the na_range itself.
</p>


<h3>See Also</h3>

<p>Other metadata functions: 
<code>create_codebook()</code>
</p>
<p>Other metadata functions: 
<code>create_codebook()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">metadata_create (
 survey = read_rds (
          system.file("examples", "ZA7576.rds",
                      package = "retroharmonize")
          )
)
examples_dir &lt;- system.file( "examples", package = "retroharmonize")

my_rds_files &lt;- dir( examples_dir)[grepl(".rds", 
                                        dir(examples_dir))]

example_surveys &lt;- read_surveys(file.path(examples_dir, my_rds_files))
metadata_waves_create (example_surveys)
</code></pre>


</div>