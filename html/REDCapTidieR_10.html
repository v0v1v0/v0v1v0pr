<div class="container">

<table style="width: 100%;"><tr>
<td>apply_labs_haven</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Apply haven value labels to a vector</h2>

<h3>Description</h3>

<p>Apply haven value labels to a vector
</p>


<h3>Usage</h3>

<pre><code class="language-R">apply_labs_haven(x, labels, ptype, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a vector to label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>a named vector of labels in the format <code>c(value = label)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptype</code></td>
<td>
<p>vector to serve as prototype for label values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>unused, needed to ignore extra arguments that may be passed</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Assumes a check_installed() has been run for <code>labelled</code>. Since <code>haven</code> preserves the
underlying data values we need to make sure the data type of the value options in the metadata matches
the data type of the values in the actual data. This function accepts a prototype, usually a column
from db_data, and uses <code>force_cast()</code> to do a best-effort casting of the value options in the metadata
to the same data type as <code>ptype</code>. The fallback is to convert <code>x</code> and the value labels to character.
</p>


<h3>Value</h3>

<p><code>haven_labelled</code> vector
</p>


</div>