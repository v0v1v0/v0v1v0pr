<div class="container">

<table style="width: 100%;"><tr>
<td>cast_text</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cast annotations to text</h2>

<h3>Description</h3>

<p>Cast labeled tokens to sentences.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cast_text(tokens, annotation, ..., text_col = "token", na.rm = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tokens</code></td>
<td>
<p>A tokenIndex</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>annotation</code></td>
<td>
<p>The name of annotations (the "column" argument in annotate_tqueries)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optionally, group annotations together. Named arguments can be given
where the name is the new group, and the value is a character vector with
values in the annotation column. For example, text = c('verb','predicate') would 
group the 'verb' and 'predicate' nodes together under the name 'text'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text_col</code></td>
<td>
<p>The name of the column in tokens with the text. Usually this is "token",
but some parsers use alternatives such as 'word'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>If true (default), drop tokens where annotation id is NA (i.e. tokens without labels)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a data.table
</p>


<h3>Examples</h3>

<pre><code class="language-R">tokens = tokens_spacy[tokens_spacy$doc_id == 'text3',]

## two simple example tqueries
passive = tquery(pos = "VERB*", label = "verb", fill=FALSE,
                 children(relation = "agent",
                          children(label="subject")),
                 children(relation = "nsubjpass", label="object"))
active =  tquery(pos = "VERB*", label = "verb", fill=FALSE,
                 children(relation = c("nsubj", "nsubjpass"), label = "subject"),
                 children(relation = "dobj", label="object"))

tokens = annotate_tqueries(tokens, "clause", pas=passive, act=active, overwrite=T)

cast_text(tokens, 'clause')

## group annotations
cast_text(tokens, 'clause', text = c('verb','object'))

## use grouping to sort
cast_text(tokens, 'clause', subject = 'subject', 
                            verb = 'verb', object = 'object')
</code></pre>


</div>