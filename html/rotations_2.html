<div class="container">

<table style="width: 100%;"><tr>
<td>Arithmetic</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Arithmetic operators on SO(3)</h2>

<h3>Description</h3>

<p>These binary operators perform arithmetic on rotations in quaternion or rotation matrix form
(or objects which can be coerced into them).
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'SO3'
x + y

## S3 method for class 'SO3'
x - y = NULL

## S3 method for class 'Q4'
x + y

## S3 method for class 'Q4'
x - y = NULL
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>first argument</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>second argument (optional for subtraction)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The rotation group SO(3) is a multiplicative group so â€œadding" rotations <code class="reqn">R_1</code> and <code class="reqn">R_2</code>
results in <code class="reqn">R_1+R_2=R_2R_1</code>.  Similarly, the difference between rotations <code class="reqn">R_1</code> and <code class="reqn">R_2</code> is
<code class="reqn">R_1-R_2=R_2^\top R_1</code>.  With this definition it is clear that
<code class="reqn">R_1+R_2-R_2=R_2^\top R_2R_1=R_1</code>.
If only one rotation is provided to subtraction then the inverse (transpose) it returned,
e.g. <code class="reqn">-R_2=R_2^\top</code>.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>+</code></td>
<td>
<p>the result of rotating the identity frame through x then y</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>-</code></td>
<td>
<p>the difference of the rotations, or the inverse rotation of only one argument is provided</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">U &lt;- c(1, 0, 0)          #Rotate about the x-axis
R1 &lt;- as.SO3(U, pi/8)    #Rotate pi/8 radians about the x-axis
R2 &lt;- R1 + R1            #Rotate pi/8 radians about the x-axis twice
mis.axis(R2)             #x-axis: (1,0,0)
mis.angle(R2)            #pi/8 + pi/8 = pi/4

R3 &lt;- R1 - R1            #Rotate pi/8 radians about x-axis then back again
R3                       #Identity matrix

R4 &lt;- -R1                #Rotate in the opposite direction through pi/8
R5 &lt;- as.SO3(U, -pi/8)   #Equivalent to R4

M1 &lt;- matrix(R1, 3, 3)   #If element-wise addition is requred,
M2 &lt;- matrix(R2, 3, 3)   #translate them to matrices then treat as usual
M3 &lt;- M1 + M2

M1 %*% M1                #Equivalent to R2
t(M1) %*% M1             #Equivalent to R3
t(M1)                    #Equivalent to R4 and R5

#The same can be done with quaternions: the identity rotation is (1, 0, 0, 0)
#and the inverse rotation of Q=(a, b, c, d) is -Q=(a, -b, -c, -d)

Q1 &lt;- as.Q4(R1)
Q2 &lt;- Q1 + Q1
mis.axis(Q2)
mis.angle(Q2)

Q1 - Q1                  #id.Q4 = (1, 0, 0, 0)
</code></pre>


</div>