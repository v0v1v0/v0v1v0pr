<div class="container">

<table style="width: 100%;"><tr>
<td>test_homogeneity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Inspects disease incidence for its compatibility with a homogeneous Poisson process.</h2>

<h3>Description</h3>

<p>Calculates incidence by year of the registry data, along with mean incidence
with confidence intervals. A smoothed cumulative incidence function is fit to
the data for inspecting deviations in the registry data from a homogeneous
Poisson process.
</p>


<h3>Usage</h3>

<pre><code class="language-R">test_homogeneity(
  entry,
  year_start = "01-01",
  truncate_start = FALSE,
  truncate_end = FALSE,
  population_size = NULL,
  df = 4,
  proportion = 1e+05,
  level = 0.95,
  precision = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>entry</code></td>
<td>
<p>Vector of diagnosis dates for each patient in the registry in
the format YYYY-MM-DD.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year_start</code></td>
<td>
<p>Date which to use to delimit years in the format MM-DD.
See details for how this is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>truncate_start</code></td>
<td>
<p>See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>truncate_end</code></td>
<td>
<p>See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>population_size</code></td>
<td>
<p>The population of the area covered by the registry. If not provided
then only absolute incidence can be calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>The desired degrees of freedom of the smooth.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proportion</code></td>
<td>
<p>The denominator of the incidence rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>The desired confidence interval width.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>precision</code></td>
<td>
<p>The number of decimal places required.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Annual incidence rates are calculated for every year that is present in
<code>entry</code>, with years being delimited by the date specified in <code>year_start</code>
that include every incident case.
For example, under the default values, if the earliest incident date in <code>entry</code>
is 1981-04-28, and the latest is 2016-12-16, then annual incidence rates will be
calculated with the boundaries [1981-01-01, 1982-01-01), ..., [2016-01-01, 2017-01-01).
</p>
<p>If <code>year_start</code> was specified as '09-01' then the boundaries would be
[1980-09-01, 1981-09-01), ..., [2016-09-01, 2017-09-01).
</p>
<p>The <code>truncate_start</code> and <code>truncate_end</code> arguments remove incident
cases in the first and last years before and after the yearly boundaries
respectively.
</p>
<p>So if they were both <code>TRUE</code>, with <code>year_start</code> as '09-01' as before, then the
boundaries would be [1981-09-01, 1982-09-01), ..., [2015-09-01, 2016-09-01),
i.e. the incident cases in [1981-04-28, 1981-09-01) are discarded by <code>truncate_start</code>
and those in [2016-09-01, 2016-12-16] removed by <code>truncate_end</code>.
</p>
<p>This helps to ensure that annual incidence is measured on a time-scale appropriate
for your registry.
</p>


<h3>Value</h3>

<p>An S3 object of class <code>incidence</code> with the following attributes:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>yearly_incidence</code></td>
<td>
<p>Vector of absolute incidence values for each included
year of the registry</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ordered_diagnoses</code></td>
<td>
<p>Vector of times (days) between diagnosis date and
the earliest date of inclusion in the registry, ordered shortest to
longest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>Smooth fitted to the cumulative incidence data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index_dates</code></td>
<td>
<p>Dates delimiting the years in which incidence is
calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean</code></td>
<td>
<p>List containing absolute yearly incidence as well as relative
rates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvals</code></td>
<td>
<p>p-values resulting to a test of over and under dispersion on the
incidence data respectively. Used to test the suitability of the homogeneous
Poission process assumption.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dof</code></td>
<td>
<p>Degrees of freedom of the smooth.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">data(prevsim)

## Not run: 
test_homogeneity(prevsim$entrydate)

## End(Not run)

</code></pre>


</div>