<div class="container">

<table style="width: 100%;"><tr>
<td>bootstrap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
One and two sample bootstrap sampling and permutation tests.
</h2>

<h3>Description</h3>

<p>Basic resampling. Supply the data and statistic to resample.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bootstrap(data, statistic, R = 10000,
          args.stat = NULL, seed = NULL, sampler = samp.bootstrap,
          label = NULL, statisticNames = NULL, block.size = 100,
          trace = FALSE)
bootstrap2(data, statistic, treatment, data2 = NULL, R = 10000,
          ratio = FALSE,
          args.stat = NULL, seed = NULL, sampler = samp.bootstrap,
          label = NULL, statisticNames = NULL, block.size = 100,
          trace = FALSE)
permutationTest(data, statistic, R = 9999,
          alternative = "two.sided", resampleColumns = NULL,
          args.stat = NULL, seed = NULL, sampler = samp.permute,
          label = NULL, statisticNames = NULL, block.size = 100,
          trace = FALSE, tolerance = .Machine$double.eps ^ 0.5)
permutationTest2(data, statistic, treatment, data2 = NULL, R = 9999,
          alternative = "two.sided", ratio = FALSE, paired = FALSE,
          args.stat = NULL, seed = NULL, sampler = samp.permute,
          label = NULL, statisticNames = NULL, block.size = 100,
          trace = FALSE, tolerance = .Machine$double.eps ^ 0.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>vector, matrix, or data frame.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statistic</code></td>
<td>

<p>a function, or expression (e.g. <code>mean(myData, trim = .2)</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>

<p>number of replicates (bootstrap samples or permutation resamples).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment</code></td>
<td>

<p>a vector with two unique values.
For two-sample applications, suppy either <code>treatment</code> or
<code>data2</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data2</code></td>
<td>

<p>an object like <code>data</code>; the second sample.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>

<p>one of <code>"two.sided"</code>, <code>"greater"</code>, or <code>"less"</code>.
If <code>statistic</code> returns a vector, this may be a vector
of the same length.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratio</code></td>
<td>

<p>logical, if <code>FALSE</code> then statistics for two samples are combined using
statistic1 - statistic2 (the statistics from the two samples).
If <code>TRUE</code>, it uses statistic1 / statistic2.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resampleColumns</code></td>
<td>

<p>integer, or character (a subset of the column names of <code>data</code>);
if supplied then only these columns of the data are permuted.
For example, for a permutation test of the correlation of x and y,
only one of the variables should be permuted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args.stat</code></td>
<td>

<p>a list of additional arguments to pass to <code>statistic</code>, if
it is a function.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paired</code></td>
<td>

<p>logical, if <code>TRUE</code> then observations in <code>data</code> and
<code>data2</code> are paired, and permutations are done within each pair.
Not yet implemented.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>

<p>old value of .Random.seed, or argument to set.seed.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampler</code></td>
<td>

<p>a function for resampling, see <code>help(samp.bootstrap)</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>

<p>used for labeling plots (in a future version).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statisticNames</code></td>
<td>

<p>a character vector the same length as the vector returned by
<code>statistic</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>block.size</code></td>
<td>

<p>integer. The <code>R</code> replicates are done this many at a time.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trace</code></td>
<td>

<p>logical, if <code>TRUE</code> an indication of progress is printed.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tolerance</code></td>
<td>

<p>when computing P-values, differences smaller than <code>tolerance</code>
(absolute or relative)
between the observed value and the replicates are considered equal.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>There is considerable flexibility in how you specify the data and statistic.
</p>
<p>For the <code>statistic</code>, you may supply a function, or an expression.
For example, if <code>data = x</code>, you may specify any of
</p>

<ul>
<li>
<p><code>statistic = mean</code>
</p>
</li>
<li>
<p><code>statistic = mean(x)</code>
</p>
</li>
<li>
<p><code>statistic = mean(data)</code>
</p>
</li>
</ul>
<p>If <code>data</code> is a data frame, the expression may refer to columns in
the data frame, e.g.
</p>

<ul>
<li>
<p><code>statistic = mean(x)</code>
</p>
</li>
<li>
<p><code>statistic = mean(myData$x)</code>
</p>
</li>
<li>
<p><code>statistic = mean(myData[, "x"])</code>
</p>
</li>
</ul>
<p>If <code>data</code> is not just the name of an object, e.g.
<code>data = subset(myData, age &gt; 17)</code>, or if <code>data2</code>
is supplied, then use the name 'data', e.g.
</p>

<ul><li>
<p><code>statistic = colMeans(data)</code>
</p>
</li></ul>
<h3>Value</h3>

<p>a list with class
<code>"bootstrap"</code>, <code>"bootstrap2"</code>,
<code>"permutationTest"</code>, <br>
or <code>"permutationTest2"</code>,
that inherits from <code>"resample"</code>,
with components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>observed</code></td>
<td>
<p>the value of the statistic for the original data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replicates</code></td>
<td>
<p>a matrix with <code>R</code> rows and <code>p</code> columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>number of observations in the original data, or vector of
length 2 in two-sample problems.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p><code>length(observed)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>number of replications.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>the value of the seed at the start of sampling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>the matched call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statistics</code></td>
<td>
<p>a data frame with <code>p</code> rows, with columns
<code>"observed"</code>, <code>"mean"</code> (the mean of the replicates),
and other columns appropriate to resampling; e.g. the bootstrap
objects have columns <code>"SE"</code> and <code>"Bias"</code>,
while the permutation test objects have <code>"Alternative"</code>
and <code>"PValue"</code>.</p>
</td>
</tr>
</table>
<p>The two-sample versions have an additional component:
</p>
<table><tr style="vertical-align: top;">
<td><code>resultsBoth</code></td>
<td>
<p>containing resampling results from each data set.
containing two components,
the results from resampling each of the two samples. These are
<code>bootstrap</code> objects; in the <code>permutationTest2</code> case
they are the result of sampling without replacement.</p>
</td>
</tr></table>
<p>There are functions for printing and plotting these objects,
in particular <code>print</code>, <code>hist</code>, <code>qqnorm</code>,
<code>plot</code> (currently the same as <code>hist</code>),
<code>quantile</code>.
</p>


<h3>Author(s)</h3>

<p>Tim Hesterberg <a href="mailto:timhesterberg@gmail.com">timhesterberg@gmail.com</a>,<br><a href="https://www.timhesterberg.net/bootstrap-and-resampling">https://www.timhesterberg.net/bootstrap-and-resampling</a>
</p>


<h3>See Also</h3>

<p><code>resample-package</code>,
<code>samp.bootstrap</code>,
<code>CI.percentile</code>,
<code>CI.t</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# See full set of examples in resample-package, including different
# ways to call the functions depending on the structure of the data.
data(Verizon)
CLEC &lt;- with(Verizon, Time[Group == "CLEC"])
bootC &lt;- bootstrap(CLEC, mean)
bootC
hist(bootC)
qqnorm(bootC)

</code></pre>


</div>