<div class="container">

<table style="width: 100%;"><tr>
<td>imp.rfnode.prox</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform multiple imputation based on the conditional distribution formed
using node proximity</h2>

<h3>Description</h3>

<p><code>RfNodeProx</code> multiple imputation method is for mixed types of variables,
using conditional distributions formed by proximity measures of random
forests (both in-bag and out-of-bag observations will be used for imputation).
</p>


<h3>Usage</h3>

<pre><code class="language-R">imp.rfnode.prox(
  data,
  num.imp = 5,
  max.iter = 5,
  num.trees = 10,
  pre.boot = TRUE,
  print.flag = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame or a matrix containing the incomplete data. Missing
values should be coded as <code>NA</code>s.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.imp</code></td>
<td>
<p>Number of multiple imputations. The default is
<code>num.imp = 5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.iter</code></td>
<td>
<p>Number of iterations. The default is <code>max.iter = 5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.trees</code></td>
<td>
<p>Number of trees to build. The default is
<code>num.trees = 10</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pre.boot</code></td>
<td>
<p>If <code>TRUE</code>, bootstrapping prior to imputation will be
performed to perform 'proper' multiple imputation, for accommodating sampling
variation in estimating population regression parameters
(see Shah et al. 2014).
It should be noted that if <code>TRUE</code>, this option is in effect even if the
number of trees is set to one.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.flag</code></td>
<td>
<p>If <code>TRUE</code>, details will be sent to console. The
default is <code>print.flag = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments to pass down.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>During imputation using <code>imp.rfnode.prox</code>, for missing observations, the
candidate non-missing observations will be found by whether two observations
can be retrieved from the same predicting node during prediction. The
observations used for imputation may not be necessarily be contained in the
terminal node of random forest model.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>mids</code>.
</p>


<h3>Author(s)</h3>

<p>Shangzhi Hong
</p>


<h3>References</h3>

<p>Hong, Shangzhi, et al. "Multiple imputation using chained random forests."
Preprint, submitted April 30, 2020. https://arxiv.org/abs/2004.14823.
</p>
<p>Zhang, Haozhe, et al. "Random Forest Prediction Intervals."
The American Statistician (2019): 1-20.
</p>
<p>Shah, Anoop D., et al. "Comparison of random forest and parametric
imputation models for imputing missing data using MICE: a CALIBER study."
American journal of epidemiology 179.6 (2014): 764-774.
</p>
<p>Malley, James D., et al. "Probability machines." Methods of information
in medicine 51.01 (2012): 74-81.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Prepare data: convert categorical variables to factors
nhanes.fix &lt;- nhanes
nhanes.fix[, c("age", "hyp")] &lt;- lapply(nhanes[, c("age", "hyp")], as.factor)
# Perform imputation using imp.rfnode.prox
imp &lt;- imp.rfnode.prox(nhanes.fix)
# Do repeated analyses
anl &lt;- with(imp, lm(chl ~ bmi + hyp))
# Pool the results
pool &lt;- pool(anl)
# Get pooled estimates
reg.ests(pool)

</code></pre>


</div>