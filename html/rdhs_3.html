<div class="container">

<table style="width: 100%;"><tr>
<td>as_factor.labelled</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Archived dataset capable as_factor</h2>

<h3>Description</h3>

<p>Changes in 'haven' have meant that 'labelled' class are now referred to as
'haven_labelled' classes. If 'haven::as_factor' is used on old datasets they
will fail to find the suitable method. rdhs::as_factor.labelled will work on
old archived datasets that have a 'labelled' class.
</p>


<h3>Usage</h3>

<pre><code class="language-R">as_factor.labelled(
  x,
  levels = c("default", "labels", "values", "both"),
  ordered = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object to coerce to a factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levels</code></td>
<td>
<p>How to create the levels of the generated factor:
</p>

<ul>
<li>
<p> "default": uses labels where available, otherwise the values.
Labels are sorted by value.
</p>
</li>
<li>
<p> "both": like "default", but pastes together the level and value
</p>
</li>
<li>
<p> "label": use only the labels; unlabelled values become <code>NA</code>
</p>
</li>
<li>
<p> "values: use only the values
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ordered</code></td>
<td>
<p>If <code>TRUE</code> create an ordered (ordinal) factor, if
<code>FALSE</code> (the default) create a regular (nominal) factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed down to method.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For more details see <code>haven::as_factor</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# create a data.frame using the new haven_labelled class
df1 &lt;- data.frame(
area = haven::labelled(c(1L, 2L, 3L), c("reg 1"=1,"reg 2"=2,"reg 3"=3)),
climate = haven::labelled(c(0L, 1L, 1L), c("cold"=0,"hot"=1))
)

# manually change it to the old style
class(df1$area) &lt;- "labelled"
class(df1$climate) &lt;- "labelled"

# with rdhs attached, i.e. library(rdhs), we can now do the following
haven::as_factor(df1$area)

# we can also use this on the data.frame by using the only_labelled argument
haven::as_factor(df1, only_labelled = TRUE)

## End(Not run)
</code></pre>


</div>