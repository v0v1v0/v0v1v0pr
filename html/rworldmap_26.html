<div class="container">

<table style="width: 100%;"><tr>
<td>mapCountryData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Map country-level data.</h2>

<h3>Description</h3>

<p>Draw a map of country-level data, allowing countries to be coloured, from an
object created in <code>joinCountryData2Map</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mapCountryData(
  mapToPlot = "",
  nameColumnToPlot = "",
  numCats = 7,
  xlim = NA,
  ylim = NA,
  mapRegion = "world",
  catMethod = "quantiles",
  colourPalette = "heat",
  addLegend = TRUE,
  borderCol = "grey",
  mapTitle = "columnName",
  oceanCol = NA,
  aspect = 1,
  missingCountryCol = NA,
  add = FALSE,
  nameColumnToHatch = "",
  lwd = 0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mapToPlot</code></td>
<td>
<p>a spatial polygons dataframe from joinCountryData2Map()
containing country polygons and data, if none specified an internal example
data is used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nameColumnToPlot</code></td>
<td>
<p>name of column containing the data you want to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numCats</code></td>
<td>
<p>number of categories to put the data in, may be modified if
this number is incompatible with the catMethod chosen</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>map extents c(west,east), can be overidden by mapRegion</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>map extents c(south,north), can be overidden by mapRegion</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mapRegion</code></td>
<td>
<p>a country name from getMap()[['NAME']] or
'world','africa','oceania','eurasia','uk' sets map extents, overrides
xlim,ylim</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>catMethod</code></td>
<td>
<p>method for categorisation of data : </p>

<ol>
<li>
<p> "categorical" - each unique value is treated as a separate category
</p>
</li>
<li>
<p> for numeric data : "pretty", "fixedWidth", "diverging",
"logFixedWidth", "quantiles" </p>
</li>
<li>
<p> a numeric vector defining breaks e.g.
c(0:5), note that a value of 2 goes into 1-2 not 2-3, uses
cut(include.lowest=TRUE) </p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colourPalette</code></td>
<td>
<p>string describing the colour palette to use, choice of:
</p>
 <ol>
<li>
<p> "palette" for the current palette </p>
</li>
<li>
<p> a vector of valid
colours, e.g. =c('red','white','blue') or output from RColourBrewer </p>
</li>
<li>
<p> one
of "heat", "diverging", "white2Black", "black2White", "topo", "rainbow",
"terrain", "negpos8", "negpos9" </p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addLegend</code></td>
<td>
<p>whether to add a legend or not</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>borderCol</code></td>
<td>
<p>the colour for country borders</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mapTitle</code></td>
<td>
<p>title to add to the map, any string or 'columnName' to set
it to the name of the data column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oceanCol</code></td>
<td>
<p>a colour for the ocean</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aspect</code></td>
<td>
<p>aspect for the map, defaults to 1, if set to 'variable' uses
same method as plot.Spatial in sp</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missingCountryCol</code></td>
<td>
<p>a colour for missing countries</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>whether to add this map on top of an existing map, TRUE/FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nameColumnToHatch</code></td>
<td>
<p>allows hatching of country fills (e.g. to represent
uncertainty) , specify a column containing numeric data , highest values
will be solid and lower values will have a decreasing density of hatching ,
new feature more documentation will be added soon</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>line width for country borders</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Certain catMethod and colourPalette options go well together. e.g.
"diverging" and "diverging", "categorical" and "rainbow"
</p>
<p>There are two styles of legend available.  If catMethod='categorical' or the
packages fields and spam are not installed a simple legend with coloured
boxes is created. Otherwise a colour bar legend is created. Finer control
can be achieved by <code>addMapLegendBoxes</code> or
<code>addMapLegend</code> repectively.
</p>


<h3>Value</h3>

<p>invisibly returns a list containing the data and main options used
for the map, the list can be passed to <code>addMapLegend</code> or
<code>addMapLegendBoxes</code> along with additional options to allow
greater flexibility in legend creation.
</p>


<h3>Warning</h3>

<p>will generate unhelpful errors in data categorisation if
inappropriate options are chosen, e.g. with catMethod:Quantiles if numCats
too high so that unique breaks cannot be defined.
</p>


<h3>Author(s)</h3>

<p>andy south
</p>


<h3>See Also</h3>

<p>classInt, RColorBrewer
</p>


<h3>Examples</h3>

<pre><code class="language-R">
mapCountryData()
data("countryExData",envir=environment(),package="rworldmap")
sPDF &lt;- joinCountryData2Map(countryExData
              , joinCode = "ISO3"
              , nameJoinColumn = "ISO3V10"
              )
mapCountryData( sPDF
              , nameColumnToPlot="BIODIVERSITY" 
              )
              
#user defined map colour scheme for categorical data              
mapParams &lt;- mapCountryData(nameColumnToPlot='GEO3major'
              , catMethod='categorical'
              , addLegend='FALSE'
              , colourPalette=c('white','green','red','yellow','blue','black') 
              )
#changing legendText
mapParams$legendText &lt;- c('antarctic','africa','oceania'
                         ,'americas','s.asia','eurasia')              
do.call( addMapLegendBoxes, c(mapParams,x='bottom',title="Region",horiz=TRUE))

##showing how rworldmap can be used with the classInt and RColorBrewer packages
library(classInt)
library(RColorBrewer)
#getting example data and joining to a map
data("countryExData",envir=environment(),package="rworldmap")
sPDF &lt;- joinCountryData2Map(countryExData,joinCode = "ISO3"
                           ,nameJoinColumn = "ISO3V10")
#getting class intervals using a 'jenks' classification in classInt package
classInt &lt;- classIntervals( sPDF$EPI, n=5, style="jenks")
catMethod = classInt$brks
#getting a colour scheme from the RColorBrewer package
colourPalette &lt;- brewer.pal(5,'RdPu')
#calling mapCountryData with the parameters from classInt and RColorBrewer
mapParams &lt;- mapCountryData( sPDF, nameColumnToPlot="EPI", addLegend=FALSE
                           , catMethod = catMethod, colourPalette=colourPalette )
do.call(addMapLegend, c(mapParams
                       ,legendLabels="all"
                       ,legendWidth=0.5
                       ,legendIntervals="data"))

              


</code></pre>


</div>