<div class="container">

<table style="width: 100%;"><tr>
<td>rRule</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rule for running R scripts</h2>

<h3>Description</h3>

<p>This rule is for execution of R scripts in order to create various file outputs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rRule(target, script, depends = NULL, params = list(), task = "all")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>Name of output files to be created</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>script</code></td>
<td>
<p>Name of the R script to be executed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>depends</code></td>
<td>
<p>A vector of file names that the R script depends on, or <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>A list of R values that become available within the <code>script</code> in
a <code>params</code> variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>task</code></td>
<td>
<p>A character vector of parent task names. The mechanism of tasks allows to
group rules. Anything different from <code>'all'</code> will
cause creation of a new task depending on the given rule. Executing <code>make taskname</code>
will then force building of this rule.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In detail, this rule executes the following command in a separate R process:
<code>params &lt;- params; source(script)</code>
</p>
<p>That is, parameters given in the <code>params</code> argument are stored into the global variable
and then the <code>script</code> is sourced. That is, the re-generation of the <code>Makefile</code> with any change
to <code>params</code> will not cause the re-execution of the recipe unless any other script dependencies change.
</p>
<p>Issuing <code>make clean</code> from the shell causes removal of all files specified in <code>target</code> parameter.
</p>


<h3>Value</h3>

<p>Instance of S3 class <code>rmake.rule</code>
</p>


<h3>Author(s)</h3>

<p>Michal Burda
</p>


<h3>See Also</h3>

<p><code>rule()</code>, <code>makefile()</code>, <code>markdownRule()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">r &lt;- rRule(target='cleandata.csv',
           script='clean.R',
           depends=c('data1.csv', 'data2.csv'))

# generate the content of a makefile (as character vector)
makefile(list(r))

# generate to file
tmp &lt;- tempdir()
makefile(list(r), file.path(tmp, "Makefile"))
</code></pre>


</div>