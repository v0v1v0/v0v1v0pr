<div class="container">

<table style="width: 100%;"><tr>
<td>itis_search</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ITIS Solr search</h2>

<h3>Description</h3>

<p>ITIS Solr search
</p>


<h3>Usage</h3>

<pre><code class="language-R">itis_search(..., proxy = NULL, callopts = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed on to the <code>params</code> parameter of
the <code>solrium::solr_search()</code> function. See solr_fields for possible
parameters, and examples below</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proxy</code></td>
<td>
<p>List of arguments for a proxy connection,
including one or more of: url, port, username, password,
and auth. See <code>crul::proxy()</code> for  help, which is used to
construct the proxy connection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>callopts</code></td>
<td>
<p>Curl options passed on to crul::HttpClient</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The syntax for this function can be a bit hard to grasp. See
https://itis.gov/solr_examples.html for help on generating the
syntax ITIS wants for specific searches.
</p>


<h3>References</h3>

<p><a href="https://www.itis.gov/solr_documentation.html">https://www.itis.gov/solr_documentation.html</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
itis_search(q = "tsn:182662")

# get all orders within class Aves (birds)
z &lt;- itis_search(q = "rank:Class AND nameWOInd:Aves")
hierarchy_down(z$tsn)

# get taxa "downstream" from a target taxon
## taxize and taxizedb packages have downstream() fxns, but
## you can do a similar thing here by iteratively drilling down
## the taxonomic hierarchy
## here, we get families within Aves
library(data.table)
aves &lt;- itis_search(q = "rank:Class AND nameWOInd:Aves")
aves_orders &lt;- hierarchy_down(aves$tsn)
aves_families &lt;- lapply(aves_orders$tsn, hierarchy_down)
rbindlist(aves_families)

# the tila operator
itis_search(q = "nameWOInd:Liquidamber\\ styraciflua~0.4")

# matches only monomials
itis_search(q = "nameWOInd:/[A-Za-z0-9]*[ ]{0,0}*/")

# matches only binomials
itis_search(q = "nameWOInd:/[A-Za-z0-9]*[ ]{1,1}[A-Za-z0-9]*/")

# matches only trinomials
itis_search(q = "nameWOInd:/[A-Za-z0-9]*[ ]{1,1}[A-Za-z0-9]*[ ]{1,1}[A-Za-z0-9]*/")

# matches binomials or trinomials
itis_search(q = "nameWOInd:/[A-Za-z0-9]*[ ]{1,1}[A-Za-z0-9]*[ ]{0,1}[A-Za-z0-9]*/")

itis_search(q = "nameWOInd:Poa\\ annua")

# pagination
itis_search(q = "nameWOInd:/[A-Za-z0-9]*[ ]{0,0}*/", rows = 2)
itis_search(q = "nameWOInd:/[A-Za-z0-9]*[ ]{0,0}*/", rows = 200)

# select fields to return
itis_search(q = "nameWOInd:/[A-Za-z0-9]*[ ]{0,0}*/",
   fl = c('nameWInd', 'tsn'))

## End(Not run)
</code></pre>


</div>