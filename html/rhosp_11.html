<div class="container">

<table style="width: 100%;"><tr>
<td>mainSimul</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> simulate many times the first model and calculate the risk constant </h2>

<h3>Description</h3>

<p>main simulates nbBed times the first model with the function simul
and calculates the risk constant R and CR by solving the renewal equation (star).
this renewal equation is only valid if the Xi forms a poisson process.
R and CR are defined such that the equivalent survival function is <code class="reqn">CR *exp(-R*x)</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mainSimul(nbBed, nbPatient, disXi, disP, toplot = FALSE, calc = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nbBed</code></td>
<td>
<p> the number of beds </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nbPatient</code></td>
<td>
<p> the number of patient in each bed  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>disXi</code></td>
<td>
<p> the distribution of the variable Xi :
disXi is a 3 elements list : rangen stands for  a random positive variable generator
; nbparam for number of parameter of this distribution and param for a list of parameters
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>disP</code></td>
<td>
<p> the distribution of the success probability of Zi : p :
disP is a 3 elements list : disfun stands for a distribution function
; nbparam for number of parameter of this distribution and param for a list of parameters
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>toplot</code></td>
<td>
<p> a logical variable to plot the variable Zi</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calc</code></td>
<td>
<p> should the risk constants calculate? </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>make simulation and estimation on the sample
</p>


<h3>Value</h3>

<p>Describe the value returned
If it is a LIST, use
</p>
<table>
<tr style="vertical-align: top;">
<td><code>CR </code></td>
<td>
<p>CR constant used in the exponential bound</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R </code></td>
<td>
<p>the risk constant</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T</code></td>
<td>
<p>the vector of durations between two declared side effects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambdaEmp</code></td>
<td>
<p>estimate of lambda</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>muEmp</code></td>
<td>
<p>estimate of mu</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p> Christophe Dutang and Julie Barthes </p>


<h3>Examples</h3>

<pre><code class="language-R">arg1Exp &lt;- list(rangen=rexp,nbparam=1,param=list(1/3));
arg1Bin &lt;- list(rangen=rbinom,nbparam=2,param=list(1,1/20));
arg1Unif &lt;- list(rangen=runif,nbparam=2,param=list(0,20));
arg1Lnorm &lt;- list(rangen=rlnorm,nbparam=2,param=list(1/4,1));

arg2Exp &lt;- list(disfun=pexp,nbparam=1,param=list(1/5));
arg2Cst &lt;- list(disfun=pcst &lt;- function(x,p) p ,nbparam=1,param=list(1/3));
arg2Comp &lt;- list(disfun=pcomp &lt;- function(x,mu1,mu2,mu3)
{1-1/3*exp(-mu1* x)-1/2*exp(-mu2 *x)-1/6*exp(-mu3 *x)}
,nbparam=3,param=list(1/3,1/5,1/10));
arg2Gamma &lt;- list(disfun=pgamma,nbparam=2,param=list(3,1/3));
arg2Lnorm &lt;- list(disfun=plnorm,nbparam=2,param=list(1/20,2));

T &lt;- mainSimul(100,100,arg1Exp,arg2Exp)

</code></pre>


</div>