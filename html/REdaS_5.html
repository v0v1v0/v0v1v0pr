<div class="container">

<table style="width: 100%;"><tr>
<td>Density-Box-Plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Density-Box-Plots</h2>

<h3>Description</h3>

<p>This function draws a (grouped) boxplot-like plot with with kernel density estimators.</p>


<h3>Usage</h3>

<pre><code class="language-R">densbox(formula, data, rug = FALSE, from, to, gsep = .5, kernel, bw, main, ylab,
    var_names, box_out = TRUE, horizontal = FALSE, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a <code>formula</code> object that references elements in <code>data</code>, see Details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame containing the variables specified in formula</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rug</code></td>
<td>
<p>a logical value to add a rug to the individual density-boxes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>an optional lower boundary for the kernel density estimation (see <code>density</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>an optional upper boundary for the kernel density estimation (see <code>density</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gsep</code></td>
<td>
<p>a numeric value <code class="reqn">\geq0</code> that specifies the length of group separation if two or more grouping variables are used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kernel</code></td>
<td>
<p>a string specifying the type of the kernel (default: <code>"gaussian"</code>, see <code>density</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bw</code></td>
<td>
<p>the bandwidth for kernel density estimation (see <code>density</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>a character object for the title</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>a character object for the <code class="reqn">y</code>-axis label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_names</code></td>
<td>
<p>a character object to print grouping variables' names in the lower left margin – grouping variables are treated in the order they are given in the formula</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>box_out</code></td>
<td>
<p>if <code>TRUE</code>, outliers treated as in standard boxplots (plotted as stars outside the boxplot's whiskers; default), if <code>FALSE</code>, outliers are not treated differently, i.e., minimum and maximum will be over the full range, no matter how far individual observations may be from the median with respect to the <abbr><span class="acronym">IQR</span></abbr> (<em>interquartile range</em>; see <code>boxplot.stats</code> and <code>fivenum</code> for details on the computation of boxplot statistics).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horizontal</code></td>
<td>
<p>not implemented yet...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments, see Details</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function plots a combination of boxplots and kernel density plots to get a more informative graphic of a metric dependent variable with respect to grouped data. The central element is the <code>formula</code> argument that defines the dependent variable (<abbr><span class="acronym">dv</span></abbr>) and grouping variables (independent variables, <abbr><span class="acronym">iv</span></abbr>). For a meaningful plot, the <abbr><span class="acronym">iv</span></abbr>s should be categorical variables (they are treated as factors).
</p>
<p>In the simplest case, there is no grouping, so <code>formula</code> is <code>DV ~ 1</code>.
As grouping variables are added, the plot will be split up accordingly.
Note that the ordering of <abbr><span class="acronym">iv</span></abbr>s in the formula defines how the plot is split up – the first variable is the most general grouping, the second will form subgroups in the first variable's groups and so on ...
</p>
<p>If there are cases where a level of a factor is completely missing ab initio, the level will be dropped.
Subgroups with less than 5 observations will be dropped and “<code class="reqn">&lt;5</code>” will be plotted instead.
</p>


<h3>Author(s)</h3>

<p>Marco J. Maier</p>


<h3>See Also</h3>

<p><code>density</code>,
<code>boxplot</code>,
<span class="pkg">grid</span> (Package)
</p>


<h3>Examples</h3>

<pre><code class="language-R"># plot a density-box-plot of one (log-normal) variable
set.seed(5L)
data1 &lt;- rlnorm(100, 1, .5)
densbox(data1 ~ 1, from = 0, rug = TRUE)

# plots a continuous variable in (0, 1) with 2 grouping variables
data2 &lt;- data.frame(y  = rnorm(400, rep(c(0, 1, -1, 0), each = 100), 1),
                    x1 = rep(c("A", "B"), each = 200),
                    x2 = rep(c("X", "Y", "X", "Y"), each = 100))
with(data2, tapply(y, list(x1, x2), mean))

# a density-box-plot of the data with the kernel density
# estimator constrained to the interval 0 to 1
densbox(y ~ x2 + x1, data2, main = "Plot with some\nSpecials",
  var_names = c("Second\nVariable", "First Variable"))

# the same plot with a rug and ignoring outliers in the boxplot
densbox(y ~ x2 + x1, data2, rug = TRUE, box_out = FALSE)

# density-box-plot with the same data, but no additional space between groups
# by setting gsep = 0.
# the kernel density plots have a rectangular kernel with a bandwidth of 0.25
# which results in a "jagged" appearance.
densbox(y ~ x2 + x1, data2, gsep = 0, kernel = "rectangular", bw = 0.25)
</code></pre>


</div>