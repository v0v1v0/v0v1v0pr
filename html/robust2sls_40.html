<div class="container">

<table style="width: 100%;"><tr>
<td>selection</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create selection (non-outlying) vector from model</h2>

<h3>Description</h3>

<p><code>selection</code> uses the data and model objects to create a list with five
elements that are used to determine whether the observations are judged as
outliers or not.
</p>


<h3>Usage</h3>

<pre><code class="language-R">selection(data, yvar, model, cutoff, bias_correction = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A dataframe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yvar</code></td>
<td>
<p>A character vector of length 1 that refers to the name of the
dependent variable in the data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A model object of class <code>ivreg</code> whose
parameters are used to calculate the residuals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p>A numeric cutoff value used to judge whether an observation
is an outlier or not. If its absolute value is larger than the cutoff value,
the observations is classified as being an outlier.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bias_correction</code></td>
<td>
<p>A numeric factor used to correct the estimate of
sigma under the null hypothesis of no outliers or <code>NULL</code> if no
correction should be done.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with five elements. The first four are vectors whose length
equals the number of observations in the data set. Unlike the residuals
stored in a model object (usually accessible via <code>model$residuals</code>), it
does not ignore observations where any of y, x or z are missing. It instead
sets their values to <code>NA</code>.
</p>
<p>The first element is a double vector containing the residuals for each
observation based on the model estimates. The second element contains the
standardised residuals, the third one a logical vector with <code>TRUE</code> if
the observation is judged as not outlying, <code>FALSE</code> if it is an outlier,
and <code>NA</code> if any of y, x, or z are missing. The fourth element of the
list is an integer vector with three values: 0 if the observations is judged
to be an outlier, 1 if not, and -1 if missing. The fifth and last element
stores the <code>ivreg</code> model object based on which the four
vectors were calculated.
</p>


<h3>Warning</h3>

<p>Unlike the residuals stored in a model object (usually accessible via
<code>model$residuals</code>), this function returns vectors of the same length as
the original data set even if any of the y, x, or z variables are missing.
The residuals for those observations are set to <code>NA</code>.
</p>


</div>