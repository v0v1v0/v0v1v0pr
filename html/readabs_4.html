<div class="container">

<table style="width: 100%;"><tr>
<td>download_abs_data_cube</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Experimental helper function to download ABS data cubes that are not compatible with read_abs.</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
<code>download_abs_data_cube()</code> downloads the latest ABS data cubes based on the catalogue name (from the website url) and cube.
The function downloads the file to disk.
</p>
<p>Unlike <code>read_abs()</code>, this function doesn't import or tidy the data.
Convenience functions are provided to import and tidy key data cubes; see
<code>?read_payrolls()</code> and <code>?read_lfs_grossflows()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">download_abs_data_cube(
  catalogue_string,
  cube,
  path = Sys.getenv("R_READABS_PATH", unset = tempdir())
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>catalogue_string</code></td>
<td>
<p>ABS catalogue name as a string from the ABS website.
For example, Labour Force, Australia, Detailed is "labour-force-australia-detailed".
The possible catalogues can be obtained using the helper function <code>show_available_catalogues()</code>;
or search these catalogues using <code>search_catalogues()</code>,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cube</code></td>
<td>
<p>character. A character string that is either the complete filename or (uniquely) in the filename of the data cube you want to
download, e.g. "EQ09". The available filenames can be obtained using the helper function <code>get_available_files()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>Local directory in which downloaded files should be stored. By default, <code>path</code>
takes the value set in the environment variable "R_READABS_PATH".
If this variable is not set, any files downloaded
will be stored in a temporary directory (<code>tempdir()</code>).
See <code>Details</code> below for  more information.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>download_abs_data_cube()</code> downloads an Excel spreadsheet from the ABS.
</p>
<p>The file need to be saved somewhere on your disk.
This local directory can be controlled using the <code>path</code> argument to
<code>read_abs()</code>. If the <code>path</code> argument is not set, <code>read_abs()</code> will store
the files in a directory set in the "R_READABS_PATH" environment variable.
If this variable isn't set, files will be saved in a temporary directory.
</p>
<p>To check the value of the "R_READABS_PATH" variable, run
<code>Sys.getenv("R_READABS_PATH")</code>. You can set the value of this variable
for a single session using <code>Sys.setenv(R_READABS_PATH = &lt;path&gt;)</code>.
If you would like to change this variable for all future R sessions, edit
your <code>.Renviron</code> file and add <code>R_READABS_PATH = &lt;path&gt;</code> line.
The easiest way to edit this file is using <code>usethis::edit_r_environ()</code>.
</p>
<p>The filepath is returned invisibly which enables piping to <code>unzip()</code> or <code>readxl::read_excel</code>.
</p>


<h3>See Also</h3>

<p>Other data cube functions: 
<code>search_catalogues()</code>,
<code>show_available_catalogues()</code>,
<code>show_available_files()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
download_abs_data_cube(
  catalogue_string = "labour-force-australia-detailed",
  cube = "EQ09"
)

## End(Not run)

</code></pre>


</div>