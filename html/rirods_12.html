<div class="container">

<table style="width: 100%;"><tr>
<td>iquery</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Query Data Objects and Collections in iRODS</h2>

<h3>Description</h3>

<p>Use SQL-like expressions to query data objects and collections based on
different properties. Read more about queries by looking at the iCommands
equivalent <code>iquest</code> in the <a href="https://docs.irods.org/master/icommands/user/#iquest">iRODS Docs</a>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">iquery(
  query,
  limit = 100,
  offset = 0,
  type = c("general", "specific"),
  case_sensitive = TRUE,
  distinct = TRUE,
  parser = c("genquery1", "genquery2"),
  sql_only = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>GeneralQuery for searching the iCAT database.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit</code></td>
<td>
<p>Maximum number of rows to return.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>Number of rows to skip for paging. Deprecated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of query: 'general' (the default) or 'specific'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>case_sensitive</code></td>
<td>
<p>Whether the string matching in the query is case
sensitive. Defaults to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distinct</code></td>
<td>
<p>Whether only distinct rows should be listed. Defaults to
<code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parser</code></td>
<td>
<p>Which parser to use: genquery1 or genquery2. Defaults to
genquery1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sql_only</code></td>
<td>
<p>Whether to dry-run query and return SQL syntax query as
return. Defaults to <code>FALSE</code>. Needs <a href="https://github.com/irods/irods_api_plugin_genquery2/?#api-plugin">Genquery2</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Whether information should be printed about the HTTP request
and response.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A dataframe with one row per result and one column per requested
attribute, with "size" and "time" columns parsed to the right type.
</p>
<p>Invisibly, the HTTP response.
</p>


<h3>References</h3>

<p>https://docs.irods.org/master/icommands/user/#iquest
</p>
<p>Use SQL-like expressions to query data objects and collections based on
different properties.
</p>


<h3>See Also</h3>

<p><code>imeta()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
is_irods_demo_running()

# connect project to server
create_irods("http://localhost:9001/irods-http-api/0.2.0")

# authentication
iauth("rods", "rods")

# some data
foo &lt;- data.frame(x = c(1, 8, 9), y = c("x", "y", "z"))

# store
isaveRDS(foo, "foo.rds")

# add metadata
imeta(
  "foo.rds",
  operations =
    list(
      list(operation = "add", attribute = "bar", value = "baz")
  )
)

# search for objects by metadata
iquery("SELECT COLL_NAME, DATA_NAME WHERE META_DATA_ATTR_NAME LIKE 'bar%'")

# delete object
irm("foo.rds", force = TRUE)


</code></pre>


</div>