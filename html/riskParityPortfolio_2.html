<div class="container">

<table style="width: 100%;"><tr>
<td>barplotPortfolioRisk</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create portfolio barplots with the capital allocation and the risk allocation</h2>

<h3>Description</h3>

<p>Creates a barplot on top with the portfolio capital allocation and another
at the bottom with the risk contribution allocation whose profile is the target of the
risk parity portfolio design with <code>riskParityPortfolio</code>.
By default the plot is based on the package <code>ggplot2</code>, but the user
can also specify a simple base plot.
</p>


<h3>Usage</h3>

<pre><code class="language-R">barplotPortfolioRisk(w, Sigma, type = c("ggplot2", "simple"), colors = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>Vector or matrix containing the portfolio(s) weights. 
For multiple portfolios, they should be columnwise and named for the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sigma</code></td>
<td>
<p>Covariance matrix of the assets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of plot. Valid options: <code>"ggplot2", "simple"</code>. Default is 
<code>"ggplot2"</code> (the packages <code>ggplot2</code> and <code>gridExtra</code> must be installed).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colors</code></td>
<td>
<p>Vector of colors for the portfolios (optional).</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Daniel P. Palomar and Ze Vinicius
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(riskParityPortfolio)

# generate random covariance matrix
set.seed(42)
N &lt;- 10
V &lt;- matrix(rnorm(N^2), nrow = N)
Sigma &lt;- cov(V)

# generate random portfolio vectors
w_single &lt;- runif(N)
w_single &lt;- w_single/sum(w_single)  # normalize
names(w_single) &lt;- LETTERS[1:N]

w_multiple &lt;- matrix(runif(4*N), ncol = 4)
w_multiple &lt;- sweep(w_multiple,  # normalize each column
                    MARGIN = 2, 
                    STATS = colSums(w_multiple), FUN = "/")
rownames(w_multiple) &lt;- LETTERS[1:N]

# plot
barplotPortfolioRisk(w_single, Sigma)
barplotPortfolioRisk(w_multiple, Sigma)
barplotPortfolioRisk(w_multiple, Sigma, colors = viridisLite::viridis(4))
barplotPortfolioRisk(w_multiple, Sigma) + ggplot2::scale_fill_viridis_d()

</code></pre>


</div>