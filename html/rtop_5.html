<div class="container">

<table style="width: 100%;"><tr>
<td>createRtopObject</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create an object for interpolation within the rtop package</h2>

<h3>Description</h3>

<p>This is a help function for creating an object (see <code>rtop-package</code>
to be used for interpolation within the rtop package
</p>


<h3>Usage</h3>

<pre><code class="language-R">createRtopObject(observations, predictionLocations,
   formulaString, params=list(), overlapObs,
   overlapPredObs, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>observations</code></td>
<td>
<p><code>SpatialPolygonsDataFrame</code> or <code>sf</code>-polygons with observations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictionLocations</code></td>
<td>
<p>a <code>SpatialPolygons</code>,  
<code>SpatialPolygonsDataFrame</code>-object or 
<code>sf</code>-polygons with 
prediction locations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formulaString</code></td>
<td>
<p>formula that defines the dependent variable as a linear model 
of independent variables; suppose the dependent variable has name <code>z</code>, 
for ordinary and simple kriging use the formula <code>z~1</code>; 
for universal kriging, suppose <code>z</code> is linearly dependent on 
<code>x</code> and <code>y</code>, use the formula <code>z~x+y</code>. The formulaString defaults
to <code>"value~1"</code> if <code>value</code> is a part of the data set. 
If not, the first column of the data set is used. Universal kriging 
is not yet properly implemented in the <code>rtop</code>-package, this 
element is mainly used for defining the dependent variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>parameters to modify the default parameters of the rtop-package, 
set internally in this function by a call to <code>getRtopParams</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overlapObs</code></td>
<td>
<p>matrix with observations that overlap each other</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overlapPredObs</code></td>
<td>
<p>matrix with <code>observations</code> and <code>predictionLocations</code>
that overlap each other</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra parameters to <code>getRtopParams</code> and possibility
to pass depreceted arguments</p>
</td>
</tr>
</table>
<h3>Value</h3>

 
<p>An object of class <code>rtop</code> with observations, prediction locations, 
parameters and possible other elements useful for interpolation in the rtop-package.
Most other externally visible functions in the package will be able to 
work with this object, and add the results as a new element.
</p>


<h3>Author(s)</h3>

<p> Jon Olav Skoien </p>


<h3>References</h3>

 
<p>Skoien J. O., R. Merz, and G. Bloschl. Top-kriging - geostatistics on stream networks.
Hydrology and Earth System Sciences, 10:277-287, 2006.
</p>
<p>Skoien, J. O., Bloschl, G., Laaha, G., Pebesma, E., Parajka, J., Viglione, A., 2014. Rtop: An R package for interpolation of data with a variable spatial support, with an example from river networks. Computers &amp; Geosciences, 67.
</p>


<h3>See Also</h3>

<p><code>getRtopParams</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
rpath = system.file("extdata",package="rtop")
library(sf)
observations = st_read(rpath, "observations")
predictionLocations = st_read(rpath,"predictionLocations")

# Create a column with the specific runoff:
observations$obs = observations$QSUMMER_OB/observations$AREASQKM

# Setting some parameters 
params = list(gDist = TRUE, cloud = FALSE)
# Create a column with the specific runoff:
observations$obs = observations$QSUMMER_OB/observations$AREASQKM
# Build an object
rtopObj = createRtopObject(observations, predictionLocations, 
                           params = params)


</code></pre>


</div>