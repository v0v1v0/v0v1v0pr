<div class="container">

<table style="width: 100%;"><tr>
<td>XYSETUP</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set up matrix for hypocenter inversion
</h2>

<h3>Description</h3>

<p>Set up matrix for hypocenter inversion
</p>


<h3>Usage</h3>

<pre><code class="language-R">XYSETUP(STAS, init, vel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>STAS</code></td>
<td>
<p>station information from pickfile
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init</code></td>
<td>
<p>initial event location
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vel</code></td>
<td>
<p>list, velocity
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This sets up the matrix used for nonlinear inversion.
The code does not include
information on the weighting.
Station corrections are included.
</p>
<p>The STAS are an internal component of the pickfile.
</p>


<h3>Value</h3>

<p>matrix
</p>


<h3>Note</h3>

<p>Need scheme for weighting according to errors
in picks and distance weighting.
</p>


<h3>Author(s)</h3>

<p>Jonathan M. Lees&lt;jonathan.lees@unc.edu&gt;
</p>


<h3>See Also</h3>

<p>setPROJ, GLOB.XY,NLSlocate
</p>


<h3>Examples</h3>

<pre><code class="language-R">
##  start with the location of the closest station
data(GH, package='RSEIS')

g1 = GH$pickfile
data(VELMOD1D, package='RSEIS')

vel= VELMOD1D

STAS = GH$pickfile$STAS
w1 = STAS$phase == 'P'
initz = 6
t0a = GH$pickfile$LOC$sec


XY = XYSETUP(STAS, c(STAS$lat[w1],STAS$lon[w1], initz,  STAS$sec[w1]-t0a  ) , vel  )



</code></pre>


</div>