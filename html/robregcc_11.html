<div class="container">

<table style="width: 100%;"><tr>
<td>robregcc_sim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulation data</h2>

<h3>Description</h3>

<p>Simulate data for the robust regression with compositional covariates
</p>


<h3>Usage</h3>

<pre><code class="language-R">robregcc_sim(n, betacc, beta0, O, Sigma, levg, snr, shft, m, C, out = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>sample size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>betacc</code></td>
<td>
<p>model parameter satisfying compositional covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta0</code></td>
<td>
<p>intercept</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>O</code></td>
<td>
<p>number of outlier</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sigma</code></td>
<td>
<p>covariance matrix of simulated predictors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levg</code></td>
<td>
<p>1/0 whether to include leveraged observation or not</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>snr</code></td>
<td>
<p>noise to signal ratio</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shft</code></td>
<td>
<p>multiplying factor to model variance for creating outlier</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>test sample size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>C</code></td>
<td>
<p>subcompositional matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out</code></td>
<td>
<p>list for obtaining output with simulated data structure</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list containing simulated output.
</p>


<h3>References</h3>

<p>Mishra, A., Mueller, C.,(2019) <em>Robust regression with compositional covariates. In prepration.</em> arXiv:1909.04990.
</p>


<h3>Examples</h3>

<pre><code class="language-R"> 
## Simulation example:
library(robregcc)
library(magrittr)

## n: sample size 
## p: number of predictors
## o: fraction of observations as outliers
## L: {0,1} =&gt; leveraged {no, yes}, 
## s: multiplicative factor 
## ngrp: number of subgroup in the model 
## snr: noise to signal ratio for computing true std_err

## Define parameters to simulate example
p &lt;- 80                # number of predictors  
n &lt;- 300               # number of sample   
O &lt;- 0.10*n            # number of outlier
L &lt;- 1                             
s &lt;- 8                          
ngrp &lt;- 4              # number of sub-composition
snr &lt;- 3               # Signal to noise ratio
example_seed &lt;- 2*p+1  # example seed
set.seed(example_seed) 
# Simulate subcomposition matrix
C1 &lt;- matrix(0,ngrp,23)
tind &lt;- c(0,10,16,20,23)
for (ii in 1:ngrp)
  C1[ii,(tind[ii] + 1):tind[ii + 1]] &lt;- 1
C &lt;- matrix(0,ngrp,p)
C[,1:ncol(C1)] &lt;- C1            
# model parameter beta
beta0 &lt;- 0.5
beta &lt;- c(1, -0.8, 0.4, 0, 0, -0.6, 0, 0, 0, 0, -1.5, 0, 1.2, 0, 0, 0.3)
beta &lt;- c(beta,rep(0,p - length(beta)))
# Simulate response and predictor, i.e., X, y
Sigma  &lt;- 1:p %&gt;% outer(.,.,'-') %&gt;% abs(); Sigma  &lt;- 0.5^Sigma
data.case &lt;- vector("list",1)
set.seed(example_seed)
data.case &lt;- robregcc_sim(n,beta,beta0, O = O,
      Sigma,levg = L, snr,shft = s,0, C,out = data.case)
data.case$C &lt;- C                         
# We have saved a copy of simulated data in the package 
# with name simulate_robregcc 
# simulate_robregcc = data.case;
# save(simulate_robregcc, file ='data/simulate_robregcc.rda')

X &lt;- data.case$X                 # predictor matrix
y &lt;- data.case$y                 # model response 


</code></pre>


</div>