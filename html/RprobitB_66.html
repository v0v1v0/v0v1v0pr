<div class="container">

<table style="width: 100%;"><tr>
<td>sufficient_statistics</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute sufficient statistics</h2>

<h3>Description</h3>

<p>This function computes sufficient statistics from an <code>RprobitB_data</code>
object for the Gibbs sampler to save computation time.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sufficient_statistics(data, normalization)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An object of class <code>RprobitB_data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalization</code></td>
<td>
<p>An object of class <code>RprobitB_normalization</code>, which can be created
via <code>RprobitB_normalization</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of sufficient statistics on the data for Gibbs sampling, containing
</p>

<ul>
<li>
<p> the elements <code>N</code>, <code>T</code>, <code>J</code>, <code>P_f</code> and <code>P_r</code>
from <code>data</code>,
</p>
</li>
<li> <p><code>Tvec</code>, the vector of choice occasions for each decider of
length <code>N</code>,
</p>
</li>
<li> <p><code>csTvec</code>, a vector of length <code>N</code> with the cumulated sums of
<code>Tvec</code> starting from <code>0</code>,
</p>
</li>
<li> <p><code>W</code>, a list of design matrices differenced with respect to
alternative number <code>normalization$level$level</code>
for each decider in each choice occasion with covariates that
are linked to a fixed coefficient (or <code>NA</code> if <code>P_f = 0</code>),
</p>
</li>
<li> <p><code>X</code>, a list of design matrices differenced with respect to
alternative number <code>normalization$level$level</code>
for each decider in each choice occasion with covariates that
are linked to a random coefficient (or <code>NA</code> if <code>P_r = 0</code>),
</p>
</li>
<li> <p><code>y</code>, a matrix of dimension <code>N</code> x <code>max(Tvec)</code> with the
observed choices of deciders in rows and choice occasions in columns,
decoded to numeric values with respect to their appearance in
<code>data$alternatives</code>, where rows are filled with <code>NA</code> in
case of an unbalanced panel,
</p>
</li>
<li> <p><code>WkW</code>, a matrix of dimension <code>P_f^2</code> x <code>(J-1)^2</code>, the
sum over Kronecker products of each transposed element in <code>W</code>
with itself,
</p>
</li>
<li> <p><code>XkX</code>, a list of length <code>N</code>, each element is constructed in
the same way as <code>WkW</code> but with the elements in <code>X</code> and
separately for each decider,
</p>
</li>
<li> <p><code>rdiff</code> (for the ranked case only), a list of matrices that
reverse the base differencing and instead difference in such a way
that the resulting utility vector is negative.
</p>
</li>
</ul>
</div>