<div class="container">

<table style="width: 100%;"><tr>
<td>db_td</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Construct a table description from a database source.</h2>

<h3>Description</h3>

<p>Build structures (table name, column names, and quoting
strategy) needed to represent data from a remote table.
</p>


<h3>Usage</h3>

<pre><code class="language-R">db_td(db, table_name, ..., qualifiers = NULL, limit_was = 6L)

dbi_table(db, table_name, ..., qualifiers = NULL, limit_was = 6L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>db</code></td>
<td>
<p>database connection</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>table_name</code></td>
<td>
<p>name of table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not used, force later argument to bind by name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qualifiers</code></td>
<td>
<p>optional named ordered vector of strings carrying additional db hierarchy terms, such as schema.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit_was</code></td>
<td>
<p>optional, row limit used to produce head_sample.  If NULL no head_sample is produced and rq_colnames is used to get column names.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note: in examples we use <code>rq_copy_to()</code> to create data.  This is only for the purpose of having
easy portable examples.  With big data the data is usually already in the remote database or
Spark system. The task is almost always to connect and work with this pre-existing remote data
and the method to do this is <code>db_td</code>
which builds a reference to a remote table given the table name.
</p>


<h3>Value</h3>

<p>a relop representation of the data
</p>


<h3>Functions</h3>


<ul><li> <p><code>dbi_table()</code>: old name for db_td
</p>
</li></ul>
<h3>See Also</h3>

<p><code>mk_td</code>, <code>local_td</code>, <code>rq_copy_to</code>, <code>materialize</code>, <code>execute</code>, <code>to_sql</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
if (requireNamespace("DBI", quietly = TRUE) &amp;&amp; requireNamespace("RSQLite", quietly = TRUE)) {
  my_db &lt;- DBI::dbConnect(RSQLite::SQLite(), ":memory:")
  rq_copy_to(my_db,
              'd',
              data.frame(AUC = 0.6, R2 = 0.2),
              overwrite = TRUE,
              temporary = TRUE)
  d &lt;- db_td(my_db, 'd')
  print(d)
  sql &lt;- to_sql(d, my_db)
  cat(sql)
  print(DBI::dbGetQuery(my_db, sql))
  cols &lt;- columns_used(d)
  print(cols)

  sql2 &lt;- to_sql(d, my_db, using = "AUC")
  cat(sql2)
  print(DBI::dbGetQuery(my_db, sql2))
  DBI::dbDisconnect(my_db)
}

</code></pre>


</div>