<div class="container">

<table style="width: 100%;"><tr>
<td>fromFileRepositoryMethods</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Export, Import, and Delete Individual Files from the File Repository</h2>

<h3>Description</h3>

<p>These methods enable the user to export, import, or delete
individual files from a REDCap project's file repository.
</p>


<h3>Usage</h3>

<pre><code class="language-R">exportFromFileRepository(rcon, doc_id, dir = getwd(), dir_create = FALSE, ...)

importToFileRepository(rcon, file, folder_id = numeric(0), ...)

deleteFromFileRepository(rcon, doc_id, ...)

## S3 method for class 'redcapApiConnection'
exportFromFileRepository(
  rcon,
  doc_id,
  dir = getwd(),
  dir_create = FALSE,
  ...,
  error_handling = getOption("redcap_error_handling"),
  config = list(),
  api_param = list()
)

## S3 method for class 'redcapApiConnection'
importToFileRepository(
  rcon,
  file,
  folder_id = numeric(0),
  ...,
  error_handling = getOption("redcap_error_handling"),
  config = list(),
  api_param = list()
)

## S3 method for class 'redcapApiConnection'
deleteFromFileRepository(
  rcon,
  doc_id,
  ...,
  error_handling = getOption("redcap_error_handling"),
  config = list(),
  api_param = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rcon</code></td>
<td>
<p>A <code>redcapConnection</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doc_id</code></td>
<td>
<p><code>integerish(1)</code>. The document ID to be downloaded.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>folder_id</code></td>
<td>
<p><code>integerish(0/1)</code>. The ID of the folder into which
the file is to be imported. If length is zero, it is imported to the
top-level folder.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p><code>character(1)</code>. A file on the local system to be imported
to the File Repository.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p><code>character(1)</code>. A directory on the local system to which
the file is to be saved. Defaults to the working directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir_create</code></td>
<td>
<p><code>logical(1)</code>. Create the directory <code>dir</code>
if it does not already exist. Defaults to <code>FALSE</code>.
If <code>dir</code> does not exist and <code>create = FALSE</code>, an error is thrown.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to pass to other methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error_handling</code></td>
<td>
<p><code>character(1)</code>. One of <code>c("error", "null")</code>.
An option for how to handle errors returned by the API.
see <code>redcapError()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>config</code></td>
<td>
<p>A named <code>list</code>. Additional configuration parameters to pass to
<code>httr::POST()</code>. These are appended to any parameters in
<code>rcon$config</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_param</code></td>
<td>
<p>A named <code>list</code>. Additional API parameters to pass into the
body of the API call. This provides users to execute calls with options
that may not otherwise be supported by <code>redcapAPI</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When a file is deleted, the file will remain in the Recycle Bin
folder for up to 30 days.
</p>


<h3>Value</h3>

<p><code>exportFromFileRepository</code>, <code>importToFileRepository</code>,
and <code>deleteFromFileRepository</code> each return a data frame
with the columns:</p>

<table>
<tr>
<td style="text-align: left;">
    </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>directory</code> </td>
<td style="text-align: left;"> The directory in which the file is saved. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>filename</code> </td>
<td style="text-align: left;"> The name of the saved file. </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>Functions</h3>


<ul>
<li> <p><code>exportFromFileRepository()</code>: Export a file from the file repository.
</p>
</li>
<li> <p><code>importToFileRepository()</code>: Import a file to the file repository.
</p>
</li>
<li> <p><code>deleteFromFileRepository()</code>: Delete a file from the file repository.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>exportFileRepository()</code>, <br><code>importFileRepository()</code>, <br><code>deleteFileRepository()</code>, <br><code>exportFileRepositoryListing()</code>, <br><code>createFileRepositoryFolder()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
unlockREDCap(connections = c(rcon = "project_alias"), 
             url = "your_redcap_url", 
             keyring = "API_KEYs", 
             envir = globalenv())
             
 
write_to_path &lt;- tempdir()            
             
# Export a file from the repository
exportFromFileRepository(rcon, 
                         doc_id = 12345, 
                         dir = write_to_path)
                         
# Export a file and create the target directory if it does not exist
exportFromFileRepository(rcon, 
                         doc_id = 12345, 
                         dir = write_to_path, 
                         dir_create = TRUE)
                         
# Import a file to the top-level directory of the file repository
importFileToRepository(rcon, 
                       file = "file_to_import.txt")
                       
# Import a file to a specific directory of the file repository
importFileToRepository(rcon, 
                       file = "file_to_import.txt", 
                       folder_id = 678)
                       
# Delete a file from the file repository
deleteFileFromRepository(rcon, 
                         doc_id = 12345)

## End(Not run)
  
</code></pre>


</div>