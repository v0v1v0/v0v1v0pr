<div class="container">

<table style="width: 100%;"><tr>
<td>mk_td</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make a table description directly.</h2>

<h3>Description</h3>

<p>Build minimal structures (table name and column names) needed to represent data from a remote table.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mk_td(
  table_name,
  columns,
  ...,
  qualifiers = NULL,
  q_table_name = NULL,
  head_sample = NULL,
  limit_was = NULL
)

table_source(
  table_name,
  columns,
  ...,
  qualifiers = NULL,
  q_table_name = NULL,
  head_sample = NULL,
  limit_was = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>table_name</code></td>
<td>
<p>character, name of table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columns</code></td>
<td>
<p>character, column names of table (non-empty and unique values).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not used, force later argument to bind by name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qualifiers</code></td>
<td>
<p>optional named ordered vector of strings carrying additional db hierarchy terms, such as schema.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q_table_name</code></td>
<td>
<p>optional character, qualified table name, note: has to be re-generated for different DB connections.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>head_sample</code></td>
<td>
<p>optional, head_sample of table as an example</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit_was</code></td>
<td>
<p>optional, row limit used to produce head_sample.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Generate a query that returns contents of a table, we
could try to eliminate this (replace the query with the table name),
but there are features one can work with with the query in place and
SQL optimizers likely make this zero-cost anyway.
</p>


<h3>Value</h3>

<p>a relop representation of the data
</p>


<h3>Functions</h3>


<ul><li> <p><code>table_source()</code>: old name for mk_td
</p>
</li></ul>
<h3>See Also</h3>

<p><code>db_td</code>, <code>local_td</code>
</p>
<p><code>db_td</code>, <code>local_td</code>, <code>rq_copy_to</code>, <code>materialize</code>, <code>execute</code>, <code>to_sql</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
if (requireNamespace("DBI", quietly = TRUE) &amp;&amp; requireNamespace("RSQLite", quietly = TRUE)) {
  my_db &lt;- DBI::dbConnect(RSQLite::SQLite(), ":memory:")
  rq_copy_to(my_db,
             'd',
             data.frame(AUC = 0.6, R2 = 0.2),
             overwrite = TRUE,
             temporary = TRUE)
  d &lt;- mk_td('d',
                    columns = c("AUC", "R2"))
  print(d)
  sql &lt;- to_sql(d, my_db)
  cat(sql)
  print(DBI::dbGetQuery(my_db, sql))
  DBI::dbDisconnect(my_db)
}

</code></pre>


</div>