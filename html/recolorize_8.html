<div class="container">

<table style="width: 100%;"><tr>
<td>backgroundCondition</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate a background condition for masking</h2>

<h3>Description</h3>

<p>Internal function for parsing potential background conditions. Prioritizes
transparency masking if conflicting options are provided. See details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">backgroundCondition(
  lower = NULL,
  upper = NULL,
  center = NULL,
  radius = NULL,
  transparent = NULL,
  alpha_channel = FALSE,
  quietly = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>lower, upper</code></td>
<td>
<p>RGB triplet ranges for setting a bounding box of pixels to mask.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center, radius</code></td>
<td>
<p>RGB triplet and radius (as a proportion) for masking
pixels within a spherical range.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transparent</code></td>
<td>
<p>Logical or <code>NULL</code>. Use transparency to mask? Requires an
alpha channel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_channel</code></td>
<td>
<p>Logical. Is there an alpha channel?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quietly</code></td>
<td>
<p>Logical. Print a message about background masking parameters?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Prioritizes transparency. If <code>transparency = TRUE</code> but other options (such as
<code>lower</code> and <code>upper</code>) are specified, then only transparent pixels will be masked.
If <code>transparency = TRUE</code> but there is no alpha channel (as in a JPEG image),
this flag is ignored and other options (<code>lower</code> and <code>upper</code> or <code>center</code> and <code>radius</code>)
are used instead.
</p>
<p>This is an internal convenience function sourced by <code>backgroundIndex</code>.
</p>


<h3>Value</h3>

<p>A list with background masking parameters. Can be one of 4 classes:
</p>

<ol>
<li> <p><code>bg_rect</code>: If <code>lower</code> and <code>upper</code> are specified.
</p>
</li>
<li> <p><code>bg_sphere</code>: If <code>center</code> and <code>radius</code> are specified.
</p>
</li>
<li> <p><code>bg_t</code>: If <code>transparent</code> is <code>TRUE</code> and there is an alpha channel
with transparent pixels.
</p>
</li>
<li> <p><code>bg_none</code>: If no background masking is specified (or transparency
was specified but there are no transparent pixels).
</p>
</li>
</ol>
<h3>Examples</h3>

<pre><code class="language-R">
# masking a white background:
backgroundCondition(lower = rep(0.9, 3), upper = rep(1, 3), quietly = FALSE)

# masking transparent pixels:
backgroundCondition(transparent = TRUE, alpha_channel = TRUE, quietly = FALSE)

# oops, no alpha channel:
backgroundCondition(transparent = TRUE, alpha_channel = FALSE, quietly = FALSE)

# oops, no alpha channel, but with white background as a fallback:
backgroundCondition(lower = rep(0.9, 3), upper = rep(1, 3),
                    transparent = TRUE, alpha_channel = FALSE,
                    quietly = FALSE)

</code></pre>


</div>