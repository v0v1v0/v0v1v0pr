<div class="container">

<table style="width: 100%;"><tr>
<td>retry</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A wrapper around <code>try</code> that retries on failure</h2>

<h3>Description</h3>

<p>This is useful for functions that are "flaky", such as <code>curl</code>, which may fail for unknown
reasons that do not persist.
</p>


<h3>Usage</h3>

<pre><code class="language-R">retry(
  expr,
  envir = parent.frame(),
  retries = 5,
  exponentialDecayBase = 1.3,
  silent = TRUE,
  exprBetween = NULL,
  messageFn = message
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>An expression to run, i.e., <code>rnorm(1)</code>, similar to what is passed to <code>try</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>The environment in which to evaluate the quoted expression, default
to <code>parent.frame(1)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>retries</code></td>
<td>
<p>Numeric. The maximum number of retries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exponentialDecayBase</code></td>
<td>
<p>Numeric &gt; 1.0. The delay between
successive retries will be <code>runif(1, min = 0, max = exponentialDecayBase ^ i - 1)</code>
where <code>i</code> is the retry number (i.e., follows <code>seq_len(retries)</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>Logical indicating whether to <code>try</code> silently.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exprBetween</code></td>
<td>
<p>Another expression that should be run after a failed attempt
of the <code>expr</code>. This should return a named list, where the names indicate the object names
to update in the main expr, and the return value is the new value. (previous versions allowed
a non-list return, but where the final line had to be an assignment operator,
specifying what object (that is used in <code>expr</code>) will be updated prior to running
the <code>expr</code> again. For backwards compatibility, this still works).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>messageFn</code></td>
<td>
<p>A function for messaging to console. Defaults to <code>message</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Based on <a href="https://github.com/jennybc/googlesheets/issues/219#issuecomment-195218525">https://github.com/jennybc/googlesheets/issues/219#issuecomment-195218525</a>.
</p>


<h3>Value</h3>

<p>As with <code>try</code>, so the successfully returned <code>return()</code> from the <code>expr</code> or a <code>try-error</code>.
</p>


</div>