<div class="container">

<table style="width: 100%;"><tr>
<td>rlr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculating Running Logrank Test</h2>

<h3>Description</h3>

<p><code>rlr</code> is used to calculate a logrank test for every two groups
obtained from dichotomizing a continuous covariate x at a particular point.
It will examine all values in x except the first and last <code>ns</code> points.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rlr(times, status, x, ns = 15, trend = "decrease", method = "approximate")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>Survival outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status</code></td>
<td>
<p>Censoring indicator which takes 1 when an event occurs at the
end of a study and 0 otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A continuous covariate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ns</code></td>
<td>
<p>Minimum number of subjects in each group, whether it is the group
with <code>x &lt; cutpoint</code>, or the group with <code>x &gt;= cutpoint</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trend</code></td>
<td>
<p>A character that takes either <code>"decrease"</code> or <code>"increase"</code>
to represent a positive or negative relationship between the covariate
and survival.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>A character that takes either <code>"approximate"</code> or <code>"exact"</code>
where an approximate or exact method will be used to calculate the running
logrank test.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When the association is positive, that is, larger covariate values
leading to worse survival, and you enter <code>trend = "decrease"</code>, the test
statistics will be positive, but if you enter <code>trend = "increase"</code> the
test statistics will be negative. Opposite is true when the association
is negative. You want to make sure to enter the option so that the
resulting test statistics are positive.
</p>


<h3>Value</h3>

<p>A matrix of four columns as the following -
</p>
<p>xcutoff - All cutpoints that have been used to dichotomize the sample
(that is, all values of the covariate x except the first and last <code>ns</code> points)
</p>
<p>L - Numerators of the logrank z tests for all cutpoints considered.
</p>
<p>V - Denominators of the logrank z tests for all cutpoints considered.
</p>
<p>logrank.stat - The logrank z tests for all cutpoints considered.
</p>


<h3>References</h3>

<p>See main package help page.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(rolr)

##### -------- Example 1

#simulate survival where hazard increases as covariate increases
d=simdata(nn = 150, hr.linear = 2, hazard.func = "linear", censoring.rate = 0)

#using trend = 'decrease', the test statistics are positive, which is good
res=rlr(times=d$times, status=d$status, x=d$x, ns=15, trend='decrease')
head(res)

#do it again with trend = 'increase', now the test statistics are negative.
#So you want to switch to trend='decrease'.
res2=rlr(times=d$times, status=d$status, x=d$x, ns=15, trend='increase')
head(res2)

#Note that the test statistics are the same except the signs
res[,'logrank.stat']+res2[,'logrank.stat']

#do it with exact method, how close is it to the approximate method?
res3=rlr(times=d$times, status=d$status, x=d$x, ns=15, trend='decrease',
         method="exact")
cor(res[,'logrank.stat'], res3[,'logrank.stat'])

##### -------- Example 2

#Simulate survival where hazard decreases as covariate increases
d=simdata(nn = 150, hr.linear = 1/3, hazard.func = "linear", censoring.rate = 0)

#using trend = 'decrease', and the test statistics are negative, which
#is not good
res=rlr(times=d$times, status=d$status, x=d$x, ns=15, trend='decrease')
head(res)

#do it again with trend = 'increase', now the test statistics are positive,
#which is good
res2=rlr(times=d$times, status=d$status, x=d$x, ns=15, trend='increase')
head(res2)

#Note that the test statistics are the same except the signs
res[,'logrank.stat']+res2[,'logrank.stat']

#do it with exact method, how close is it to the approximate method?
res3=rlr(times=d$times, status=d$status, x=d$x, ns=15, trend='increase',
         method="exact")
cor(res[,'logrank.stat'], res3[,'logrank.stat'])

</code></pre>


</div>