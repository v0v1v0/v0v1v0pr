<div class="container">

<table style="width: 100%;"><tr>
<td>rfile</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Evaluates and postprocesses an RSP document and outputs the final RSP document file</h2>

<h3>Description</h3>

<p>Evaluates and postprocesses an RSP document and outputs the final RSP document file.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## Default S3 method:
rfile(file, path=NULL, output=NULL, workdir=NULL, type=NA, envir=parent.frame(),
  args="*", postprocess=TRUE, ..., verbose=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file, path</code></td>
<td>
<p>Specifies the RSP file to processed, which can
be a file, a URL or a <code>connection</code>.
If a file, the <code>path</code> is prepended to the file, iff given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>A <code>character</code> string or a <code>connection</code> specifying where
output should be directed.
The default is a file with a filename where the file extension
(typically <code>".rsp"</code>) has been dropped from <code>file</code>
in the directory given by the <code>workdir</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>workdir</code></td>
<td>
<p>The working directory to use after parsing and
preprocessing, but while <em>evaluating</em> and <em>postprocessing</em>
the RSP document.
If argument <code>output</code> specifies an absolute pathname,
then the directory of <code>output</code> is used, otherwise the
current directory is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The default content type of the RSP document.  By default, it
is inferred from the <code>output</code> filename extension, iff possible.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>The <code>environment</code> in which the RSP document is
preprocessed and evaluated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args</code></td>
<td>
<p>A named <code>list</code> of arguments assigned to the environment
in which the RSP string is parsed and evaluated.
See <code>cmdArgs</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>postprocess</code></td>
<td>
<p>If <code>TRUE</code>, and a postprocessing method exists for
the generated RSP product, it is postprocessed as well.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to the RSP engine.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>See <code>Verbose</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns an <code>RspProduct</code>.
If argument <code>output</code> specifies a file, then this is
an <code>RspFileProduct</code>.
</p>


<h3>Processing RSP files from the command line</h3>

<p>Using <code>Rscript</code> and <code>rfile()</code>, it is possible to process
an RSP file from the command line.  For example,
</p>
<p><code>Rscript -e "R.rsp::rfile('RSP_refcard.tex.rsp')"</code>
</p>
<p>parses and evaluates ‘<span class="file">RSP_refcard.tex.rsp</span>’ and output ‘<span class="file">RSP_refcard.pdf</span>’ in the current directory.
A CLI-friendly alternative to the above is:
</p>
<p><code>Rscript -e R.rsp::rfile RSP_refcard.tex.rsp</code>
</p>


<h3>Author(s)</h3>

<p>Henrik Bengtsson</p>


<h3>See Also</h3>

<p><code>rstring</code>() and <code>rcat</code>().
</p>


<h3>Examples</h3>

<pre><code class="language-R">path &lt;- system.file("exData", package="R.rsp")
pathname &lt;- rfile("random.txt.rsp", path=path,
                  output=file.path(tempdir(), "random.txt"))
print(pathname)

lines &lt;- readLines(pathname, warn=FALSE)
cat(lines, collapse="\n")

file.remove(pathname)


# Passing arguments
path &lt;- system.file("exData", package="R.rsp")
pathname &lt;- rfile("random-args.txt.rsp", path=path, args=list(K=50),
                  output=file.path(tempdir(), "random-args.txt"))
print(pathname)

lines &lt;- readLines(pathname, warn=FALSE)
cat(lines, collapse="\n")

file.remove(pathname)


## Not run: 
# Compile and display the main vignette (requires LaTeX)
if (isCapableOf(R.rsp, "latex")) {
  path &lt;- system.file("doc", package="R.rsp")
  pdf &lt;- rfile("Dynamic_document_creation_using_RSP.tex.rsp", path=path)
  cat("Created document: ", pdf, "\n", sep="")
  if (interactive()) browseURL(pdf)
}

## End(Not run)
</code></pre>


</div>