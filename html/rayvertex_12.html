<div class="container">

<table style="width: 100%;"><tr>
<td>construct_mesh</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Manually construct a mesh</h2>

<h3>Description</h3>

<p>Manually construct a mesh
</p>


<h3>Usage</h3>

<pre><code class="language-R">construct_mesh(
  vertices,
  indices,
  normals = NULL,
  norm_indices = NULL,
  texcoords = NULL,
  tex_indices = NULL,
  material = material_list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>vertices</code></td>
<td>
<p>Nx3 matrix of vertex coordinates..</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indices</code></td>
<td>
<p>Nx3 integer matrix, where each row defines a triangle using the
vertices defined in <code>vertices</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normals</code></td>
<td>
<p>Default <code>NULL</code>.  Nx3 matrix of normals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>norm_indices</code></td>
<td>
<p>Nx3 integer matrix, where each row defines the normal for a vertex using the
normals defined in <code>normals</code> for the corresponding triangle in <code>indices</code>.
Required to be the same number of rows as <code>indices</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>texcoords</code></td>
<td>
<p>Default <code>NULL</code>. Nx2 matrix of texture coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tex_indices</code></td>
<td>
<p>Nx3 integer matrix, where each row defines the texture coordinates for a triangle
using the tex coords defined in <code>texcoors</code> for the corresponding triangle in <code>indices</code>.
Required to be the same number of rows as <code>indices</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>material</code></td>
<td>
<p>Default <code>material_list()</code> (default values). Specify the material of the object.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List containing mesh info.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(run_documentation()) {
#Let's construct a mesh from the volcano dataset
#Build the vertex matrix
vertex_list = list()
counter = 1
for(i in 1:nrow(volcano)) {
  for(j in 1:ncol(volcano)) {
    vertex_list[[counter]] = matrix(c(j,volcano[i,j],i), ncol=3)
    counter = counter + 1
  }
}
vertices = do.call(rbind,vertex_list)

#Build the index matrix
index_list = list()
counter = 0
for(i in 1:(nrow(volcano)-1)) {
  for(j in 1:(ncol(volcano)-1)) {
    index_list[[counter+1]] = matrix(c(counter,counter+ncol(volcano),counter+1,
                                       counter+ncol(volcano),counter+ncol(volcano)+1,counter + 1), 
                                     nrow=2, ncol=3, byrow=TRUE)
    counter = counter + 1
  }
  counter = counter + 1
}
indices = do.call(rbind,index_list)

#Construct the mesh
volc_mesh = construct_mesh(vertices = vertices, indices = indices,
                           material = material_list(type="phong", diffuse="darkred", 
                                                    ambient = "darkred", ambient_intensity=0.2))

#Rasterize the scene
rasterize_scene(volc_mesh, lookfrom=c(-50,230,100),fov=60,width=1200,height=1200,
                light_info = directional_light(c(0,1,1)) |&gt;
                  add_light(directional_light(c(1,1,-1))))
}
</code></pre>


</div>