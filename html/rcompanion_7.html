<div class="container">

<table style="width: 100%;"><tr>
<td>blom</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Normal scores transformation</h2>

<h3>Description</h3>

<p>Normal scores transformation
(Inverse normal transformation)
by Elfving, Blom, van der Waerden, Tukey, 
and rankit methods,
as well as z score transformation
(standardization)
and scaling to a range (normalization).
</p>


<h3>Usage</h3>

<pre><code class="language-R">blom(
  x,
  method = "general",
  alpha = pi/8,
  complete = FALSE,
  na.last = "keep",
  na.rm = TRUE,
  adjustN = TRUE,
  min = 1,
  max = 10,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector of numeric values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Any one <code>"general"</code> (the default), 
<code>"blom"</code>, <code>vdw</code>,
<code>"tukey"</code>, <code>"elfving"</code>,
<code>"rankit"</code>,
<code>zscore</code>, or <code>scale</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A value used in the <code>"general"</code> method.
If alpha=pi/8 (the default), the <code>"general"</code> method reduces  
to the <code>"elfving"</code> method.
If alpha=3/8, the <code>"general"</code> method reduces 
to the <code>"blom"</code> method.
If alpha=1/2, the <code>"general"</code> method reduces to the 
<code>"rankit"</code> method.
If alpha=1/3, the <code>"general"</code> method reduces to the 
<code>"tukey"</code> method.
If alpha=0, the <code>"general"</code> method reduces to the 
<code>"vdw"</code> method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>complete</code></td>
<td>
<p>If <code>TRUE</code>, <code>NA</code> values are removed
before transformation. The default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.last</code></td>
<td>
<p>Passed to <code>rank</code> in the normal scores methods. 
See the documentation for the
<code>rank</code> function.
The default is <code>"keep"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>Used in the <code>"zscore"</code> and <code>"scale"</code> methods.
Passed to <code>mean</code>, <code>min</code>, and <code>max</code>
functions in those methods.
The default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjustN</code></td>
<td>
<p>If <code>TRUE</code>, the default, the normal scores methods 
use only non-<code>NA</code> values to determine the sample size,
<code>N</code>.  This seems to work well under default conditions
where <code>NA</code> values are retained, even if there are
a high percentage of <code>NA</code> values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min</code></td>
<td>
<p>For the <code>"scale"</code> method, the minimum value of the
transformed values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p>For the <code>"scale"</code> method, the maximum value of the
transformed values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to <code>rank</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default, <code>NA</code> values are retained in the output.
This behavior can be changed with the <code>na.rm</code> argument
for <code>"zscore"</code> and <code>"scale"</code> methods, or
with <code>na.last</code> for the normal scores methods.
Or <code>NA</code> values can be removed from the input with
<code>complete=TRUE</code>.
</p>
<p>For normal scores methods, if there are <code>NA</code> values
or tied values,
it is helpful to look up 
the documentation for <code>rank</code>.
</p>
<p>In general, for normal scores methods, either of the arguments
<code>method</code> or <code>alpha</code> can be used.
With the current algorithms, there is no need to use both.
</p>
<p>Normal scores transformation will return a
normal distribution with a mean of 0 and
a standard deviation of 1.
</p>
<p>The <code>"scale"</code> method coverts values to the range specified
in <code>max</code> and <code>min</code> without transforming the distribution
of values. By default, the <code>"scale"</code> method converts values
to a 1 to 10 range.
Using the <code>"scale"</code> method with
<code>min = 0</code> and <code>max = 1</code> is
sometimes called "normalization".
</p>
<p>The <code>"zscore"</code> method converts values by the usual method
for z scores: <code>(x - mean(x)) / sd(x)</code>. The transformed
values with have a mean of 0 and a standard deviation of
1 but won't be coerced into a normal distribution.
Sometimes this method is called "standardization".
</p>


<h3>Value</h3>

<p>A vector of numeric values.
</p>


<h3>Author(s)</h3>

<p>Salvatore Mangiafico, <a href="mailto:mangiafico@njaes.rutgers.edu">mangiafico@njaes.rutgers.edu</a>
</p>


<h3>References</h3>

<p>Conover, 1995, Practical Nonparametric Statistics, 3rd.
</p>
<p>Solomon &amp; Sawilowsky, 2009, 
Impact of rank-based normalizing transformations 
on the accuracy of test scores.
</p>
<p>Beasley and Erickson, 2009, Rank-based inverse normal 
transformations are increasingly used, but are they merited?
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(12345)
A = rlnorm(100)
## Not run: hist(A)
### Convert data to normal scores by Elfving method
B = blom(A)
## Not run: hist(B)
### Convert data to z scores 
C = blom(A, method="zscore")
## Not run: hist(C)
### Convert data to a scale of 1 to 10 
D = blom(A, method="scale")
## Not run: hist(D)

### Data from Sokal and Rohlf, 1995, 
### Biometry: The Principles and Practice of Statistics
### in Biological Research
Value = c(709,679,699,657,594,677,592,538,476,508,505,539)
Sex   = c(rep("Male",3), rep("Female",3), rep("Male",3), rep("Female",3))
Fat   = c(rep("Fresh", 6), rep("Rancid", 6))
ValueBlom = blom(Value)
Sokal = data.frame(ValueBlom, Sex, Fat)
model = lm(ValueBlom ~ Sex * Fat, data=Sokal)
anova(model)
## Not run: 
hist(residuals(model))
plot(predict(model), residuals(model))

## End(Not run)

</code></pre>


</div>