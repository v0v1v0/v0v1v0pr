<div class="container">

<table style="width: 100%;"><tr>
<td>m_add_unit_cell</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Unit cell visualization</h2>

<h3>Description</h3>

<p>Use <code>m_add_unit_cell</code> to create and add unit cell visualization,
and <code>m_remove_unit_cell</code> to remove it from model. Use
<code>m_replicate_unit_cell</code> to replicate atoms in model to form a
super cell of the specified dimensions. Original cell will be centered as
much as possible.
</p>


<h3>Usage</h3>

<pre><code class="language-R">m_add_unit_cell(id, model, spec)

m_replicate_unit_cell(id, a, b, c, model)

m_remove_unit_cell(id, model)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>R3dmol <code>id</code> or a <code>r3dmol</code> object (the output from
<code>r3dmol()</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Model with unit cell information (e.g., pdb derived).
If omitted uses most recently added model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spec</code></td>
<td>
<p>Visualization style.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>number of times to replicate cell in X dimension.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>number of times to replicate cell in Y dimension. If absent, X value
is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c</code></td>
<td>
<p>number of times to replicate cell in Z dimension. If absent, Y value
is used.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>R3dmol <code>id</code> or a <code>r3dmol</code> object (the output from
<code>r3dmol()</code>)
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(r3dmol)

# Create model
mol &lt;- r3dmol() %&gt;%
  m_add_model(
    data = cif_254385,
    "cif",
    options = list(doAssembly = TRUE, normalizeAssembly = TRUE)
  ) %&gt;%
  m_set_style(style = c(
    m_style_sphere(colorScheme = "Jmol", scale = 0.25),
    m_style_stick(colorScheme = "Jmol")
  )) %&gt;%
  m_add_unit_cell(spec = list(
    alabel = "x",
    blabel = "y",
    clabel = "z",
    box = list(hidden = TRUE)
  )) %&gt;%
  m_zoom_to()

# Render model
mol

# Remove unit cell
mol %&gt;%
  m_remove_unit_cell()

# Replicate atoms in model to form a super cell
r3dmol() %&gt;%
  m_add_model(data = cif_254385, format = "cif") %&gt;%
  m_set_style(style = m_style_sphere(scale = 0.25)) %&gt;%
  m_add_unit_cell() %&gt;%
  m_zoom_to() %&gt;%
  m_replicate_unit_cell(a = 3, b = 2, c = 1)
</code></pre>


</div>