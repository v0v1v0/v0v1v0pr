<div class="container">

<table style="width: 100%;"><tr>
<td>cutFancy</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create an ordinal variable by grouping numeric data input.</h2>

<h3>Description</h3>

<p>This is a convenience function for usage of R's <code>cut</code>
function. Users can specify cutpoints or category labels or
desired proportions of groups in various ways. In that way, it has
a more flexible interface than <code>cut</code>. It also tries to notice
and correct some common user errors, such as omitting the outer
boundaries from the probs argument. The returned values are
labeled by their midpoints, rather than cut's usual boundaries.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cutFancy(y, cutpoints = "quantile", probs, categories)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>The input data from which the categorized variable will
be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutpoints</code></td>
<td>
<p>Optional paramter, a vector of thresholds at
which to cut the data. If it is not supplied, the default
value <code>cutpoints="quantile"</code> will take effect. Users can
supplement with <code>probs</code> and/or <code>categories</code> as shown
in examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>This is an optional parameter, relevant only when the
R function <code>quantile</code> function is used to
calculate cutpoints. The length should be number of desired
categories PLUS ONE, as in <code>c(0, .3, .6, 1)</code>. That will
create categories that represent 1) less than .3, between .3
and .6, and above .6.  A common user error is to specify only
the internal divider values, such as <code>probs = c(.3,
.6)</code>. To anticipate and correct that error, this function will
insert the lower limit of 0 and the upper limit of 1 if they
are not already present in <code>probs</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>categories</code></td>
<td>
<p>Can be a number to designate the number of
sub-groups created, or it can be a vector of names used. If
<code>cutpoints</code> and <code>probs</code> are not specified, the
parameter <code>categories</code> should be an integer to specify
how many data groups to create.It is required if
cutpoints="quantile" and probs is not specified. Can also be a
vector of names to be used for the categories that are
created. If category names are not provided, the names for the
ordinal variable will be the midpoint of the numeric range
from which they are constructed.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The dividing points, thought of as "thresholds" or "cutpoints",
can be specified in several ways.  <code>cutFancy</code> will
automatically create equally-sized sets of observations for a
given number of categories if neither <code>probs</code> nor
<code>cutpoints</code> is specified. The bare minimum input needed is
<code>categories=5</code>, for example, to ask for 5 equally sized
groups. More user control can be had by specifying either
<code>cutpoints</code> or <code>probs</code>. If <code>cutpoints</code> is not
specified at all, or if <code>cutpoints="quantile"</code>, then
<code>probs</code> can be used to specify the proportions of the data
points that are to fall within each range. On the other hand, one
can specify <code>cutpoints = "quantile"</code> and then <code>probs</code> will
be used to specify the proportions of the data points that are to
fall within each range.
</p>
<p>If <code>categories</code> is not specified, the category names will be
created. Names for ordinal categories will be the numerical
midpoints for the outcomes.  Perhaps this will deviate from your
expectation, which might be ordinal categories name "0", "1", "2",
and so forth.  The numerically labeled values we provide can be
used in various ways during the analysis process. Read "?factor"
to learn ways to convert the ordinal output to other
formats. Examples include various ways of converting the ordinal
output to numeric.
</p>
<p>The <code>categories</code> parameter works together with
<code>cutpoints</code>.  <code>cutpoints</code> allows a character string
"quantile". If <code>cutpoints</code> is not specified, or if the user
specifies a character string <code>cutpoints="quantile"</code>, then the
<code>probs</code> would be used to determine the cutpoints.  However,
if <code>probs</code> is not specified, then the <code>categories</code>
argument can be used. If <code>cutpoints="quantile"</code>, then
</p>

<ul>
<li>
<p> if <code>categories</code> is one integer, then it is interpreted
as the number of "equally sized" categories to be created, or
</p>
</li>
<li> <p><code>categories</code> can be a vector of names. The length
of the vector is used to determine the number of categories, and
the values are put to use as factor labels.
</p>
</li>
</ul>
<h3>Value</h3>

<p>an ordinal vector with attributes "cutpoints" and "props"
(proportions)
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(234234)
y &lt;- rnorm(1000, m = 35, sd = 14)
yord &lt;- cutFancy(y, cutpoints = c(30, 40, 50))
table(yord)
attr(yord, "props")
attr(yord, "cutpoints")
yord &lt;- cutFancy(y, categories = 4L)
table(yord, exclude = NULL)
attr(yord, "props")
attr(yord, "cutpoints")
yord &lt;- cutFancy(y, probs = c(0, .1, .3, .7, .9, 1.0),
                  categories = c("A", "B", "C", "D", "E"))
table(yord, exclude = NULL)
attr(yord, "props")
attr(yord, "cutpoints")
yord &lt;- cutFancy(y, probs = c(0, .1, .3, .7, .9, 1.0))
table(yord, exclude = NULL)
attr(yord, "props")
attr(yord, "cutpoints")
yasinteger &lt;- as.integer(yord)
table(yasinteger, yord)
yasnumeric &lt;- as.numeric(levels(yord))[yord]
table(yasnumeric, yord)
barplot(attr(yord, "props"))
hist(yasnumeric)
X1a &lt;-
   genCorrelatedData3("y ~ 1.1 + 2.1 * x1 + 3 * x2 + 3.5 * x3 + 1.1 * x1:x3",
                       N = 10000, means = c(x1 = 1, x2 = -1, x3 = 3),
                       sds = 1, rho = 0.4)
## Create cutpoints from quantiles
probs &lt;- c(.3, .6)
X1a$yord &lt;- cutFancy(X1a$y, probs = probs)
attributes(X1a$yord)
table(X1a$yord, exclude = NULL)
</code></pre>


</div>