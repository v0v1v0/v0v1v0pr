<div class="container">

<table style="width: 100%;"><tr>
<td>aqs_monitors_by_cbsa</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>aqs_monitors_by_cbsa</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
Returns a table of monitors at all sites with the provided
parameter, aggregated by Core Based Statistical Area (CBSA) for
bdate - edate time frame.
</p>


<h3>Usage</h3>

<pre><code class="language-R">aqs_monitors_by_cbsa(
  parameter,
  bdate,
  edate,
  cbsa_code,
  cbdate = NA_Date_,
  cedate = NA_Date_,
  return_header = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>parameter</code></td>
<td>
<p>a character list or a single character string
which represents the parameter code of the air
pollutant related to the data being requested.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bdate</code></td>
<td>
<p>a R date object which represents that begin date of the data
selection. Only data on or after this date will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edate</code></td>
<td>
<p>a R date object which represents that end date of the data
selection. Only data on or before this date will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cbsa_code</code></td>
<td>
<p>a R character object which represents the 5 digit AQS Core
Based Statistical Area code (the same as the census code,
with leading zeros)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cbdate</code></td>
<td>
<p>a R date object which represents a "beginning
date of last change" that indicates when the data was last
updated. cbdate is used to filter data based on the change
date. Only data that changed on or after this date will be
returned. This is an optional variable which defaults
to NA_Date_.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cedate</code></td>
<td>
<p>a R date object which represents an "end
date of last change" that indicates when the data was last
updated. cedate is used to filter data based on the change
date. Only data that changed on or before this date will be
returned. This is an optional variable which defaults
to NA_Date_.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_header</code></td>
<td>
<p>If FALSE (default) only returns data requested. If TRUE
returns a AQSAPI_v2 object which is a two item list
that contains header information returned from the
API server mostly used for debugging purposes in
addition to the data requested.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a tibble or an AQS_Data Mart_APIv2 S3 object that is the return value
from the AQS API. A AQS_Data Mart_APIv2 object is a 2 item named
list in which the first item ($Header) is a tibble of header
information from the AQS API and the second item ($Data) is a
tibble of the data returned.
</p>


<h3>by_cbsa (By Core Based Statistical Area, as defined by the US Census Bureau) aggregate functions</h3>

<p>NA
</p>


<h3>Note</h3>

<p>All monitors that operated between the bdate and edate will be returned
</p>


<h3>See Also</h3>

<p>Other Aggregate _by_cbsa functions: 
<code>aqs_annualsummary_by_cbsa()</code>,
<code>aqs_dailysummary_by_cbsa()</code>,
<code>aqs_sampledata_by_cbsa()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># returns a tibble of $NO_{2}$ monitors
          #  for Charlotte-Concord-Gastonia, NC cbsa that were operating
          #  on Janurary 01, 2017
          ## Not run: aqs_monitors_by_cbsa(parameter="42602",
                                               bdate=as.Date("20170101",
                                                           format="%Y%m%d"),
                                               edate=as.Date("20170101",
                                                            format="%Y%m%d"),
                                               cbsa_code="16740"
                                                   )
                   
## End(Not run)
</code></pre>


</div>