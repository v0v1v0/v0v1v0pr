<div class="container">

<table style="width: 100%;"><tr>
<td>read_forecast</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read in forecast file</h2>

<h3>Description</h3>

<p>This function reads a probabilistic ("quantile") forecast csv file and prepares it for the to_signal function and downstream plausibility analysis. The quantile forecast file can be either a "legacy" or "hubverse" format (see Details for more information). The object returned is a <code>tibble</code> with summarized forecast data (i.e., prediction interval) for each location and horizon in the original file.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_forecast(file, pi_width = 95, format = "legacy")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Path to csv file containing quantile forecasts</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi_width</code></td>
<td>
<p>Width of prediction interval as integer; default <code>95</code> corresponds to 95% prediction interval</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>Format of the probabilistic format file; must be one of <code>"legacy"</code> or <code>"hubverse"</code> (see Details for more information); default is <code>"legacy"</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The probabilistic forecast format has been used by multiple forecasting hubs. In general, this format includes one row per combination of quantile, location, target, and horizon. At each row the forecasted value is provided. The specific format, including columns required, has changed over time. This function accommodates the "legacy" as well as more recent "hubverse" formats. For more details on specific columns and see the links in the References.
</p>


<h3>Value</h3>

<p>A <code>tibble</code> with the following columns:
</p>

<ul>
<li> <p><strong>location</strong>: Geographic unit such as FIPS code
</p>
</li>
<li> <p><strong>date</strong>: Date corresponding the forecast horizon
</p>
</li>
<li> <p><strong>horizon</strong>: Forecast horizon
</p>
</li>
<li> <p><strong>lower</strong>: Lower limit of the prediction interval for the forecast
</p>
</li>
<li> <p><strong>point</strong>: Point estimate for the forecast
</p>
</li>
<li> <p><strong>upper</strong>: Upper limit of the prediction interval for the forecast
</p>
</li>
</ul>
<h3>References</h3>

<p>Hubverse: <a href="https://hubdocs.readthedocs.io/en/latest/user-guide/model-output.html">https://hubdocs.readthedocs.io/en/latest/user-guide/model-output.html</a>
</p>
<p>Legacy: <a href="https://github.com/cdcepi/Flusight-forecast-data/tree/master/data-forecasts#forecast-file-format">https://github.com/cdcepi/Flusight-forecast-data/tree/master/data-forecasts#forecast-file-format</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## read in example forecast and prep forecast signal (legacy format)
fp &lt;- system.file("extdata/forecast/2022-10-31-SigSci-TSENS.csv", package = "rplanes")
read_forecast(fp)

fp2 &lt;- system.file("extdata/forecast/2023-11-04-SigSci-TSENS.csv", package = "rplanes")
read_forecast(fp2, format = "hubverse")

</code></pre>


</div>