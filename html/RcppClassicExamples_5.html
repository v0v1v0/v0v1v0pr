<div class="container">

<table style="width: 100%;"><tr>
<td>RcppDate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>C++ classes for interfacing date and datetime R objects â€“ deprecated API</h2>

<h3>Description</h3>

<p><code>RcppDate</code>, <code>RcppDatetime</code>, <code>RcppDateVector</code> and
<code>RcppDatetimeVector</code> are C++ classes defined in their respective
headers files.  They are part of the 'classic' Rcpp API. These classes
pass scalars and vectors of <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> objects of types <code>Date</code> and
<code>POSIXct</code>, respectively, to C++ via the <code>.Call()</code> function
interface.  
</p>
<p>Member functions are provided to query the dimension of the vector or
matrix object, convert it in a corresponding <code>C</code> representation.
</p>
<p><span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> objects of type <code>Date</code>, and hence the <code>RcppDate</code> and
<code>RcppDateVector</code> objects, are internally represented as an
integer counting days since the epoch, i.e. January 1,
1970. Similarly, <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> objects of type <code>POSIXct</code> and the
<code>RcppDatetime</code> and <code>RcppDatetimeVector</code> objects, are
internally represented as seconds since the epoch.  However, <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>
extends the POSIX standard by using a double leading to microsecond
precision in timestamps. This is fully supported by <code>Rcpp</code> as
well.
</p>
<p>The new API currently has the classes <code>Rcpp::Date</code>, <code>Rcpp::Datetime</code>, 
<code>Rcpp::DateVector</code> and <code>Rcpp::DatetimeVector</code> which are preferred
for new developments, as is the rest of the new API in the <span class="pkg">Rcpp</span> package
while the <span class="pkg">RcppClassic</span> package has been deprecated since
2010.
</p>


<h3>Details</h3>

<p>Usage of the <code>RcppDate</code>, <code>RcppDatetime</code> (and their vector
extensions) in <code>C++</code> is fully defined in the respective header
files <code>RcppDate.h</code> and <code>RcppDatetime.h</code>. 
</p>
<p>As example, consider a call from <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> to <code>C++</code> such as
</p>
<pre>
  # an R example passing one type of each class to a function
  # someFunction in package somePackage
  val &lt;- .Call("someFunction",
               Sys.Date(),      # current date
	           Sys.time(), 	    # current timestamp
	           as.Date("2000-02-25")
	             + 0:5,         # date vector
	           ISOdatetime(1999,12,31,23,59,0)
	             + (0:5)*0.250, # datetime vector
   	           PACKAGE="somePackage")
  </pre>
<p>At the <code>C++</code> level, the corresponding code to assign these parameter to
<code>C++</code> objects is can be as follows::
</p>
<pre>
  SEXP someFunction(SEXP ds, SEXP dts,
                    SEXP dvs, SEXP dtvs) {

    RcppDate           d(ds);  		      
    RcppDatetime       dt(dts);
    RcppDateVector     dv(dvs);
    RcppDatetimeVector dtv(dtvs);
  }
  </pre>
<p>Standard accessor functions are defined, see <code>RcppDate.h</code> and
<code>RcppDatetime.h</code> for details.
</p>
<p>Objects of these types can also be returned via <code>RcppResultSet</code>. 
</p>


<h3>Author(s)</h3>

<p>Dominick Samperi wrote the initial versions of Rcpp (and
RcppTemplate) during 2005 and 2006.  Dirk Eddelbuettel made some
additions, and became maintainer in 2008. Dirk Eddelbuettel and Romain
Francois have been extending Rcpp since 2009.
</p>


<h3>References</h3>

<p><em>Writing R Extensions</em>, available at <a href="https://www.r-project.org">https://www.r-project.org</a>.
</p>


<h3>See Also</h3>

<p><code>RcppResultSet</code>.
</p>
<p>See the RcppExamples-package for examples of the
recommended <span class="pkg">Rcpp</span> API and Rcpp-package for
documentation on the recommended API to extend R with C++ code, while
the deprecated RcppClassic-package documents the
older, deprecated API.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# set up date and datetime vectors
dvec &lt;- Sys.Date() + -2:2
dtvec &lt;- Sys.time() + (-2:2)*0.5

# call the underlying  C++ function
result &lt;- RcppDateExample(dvec, dtvec)

# inspect returned object
result
</code></pre>


</div>