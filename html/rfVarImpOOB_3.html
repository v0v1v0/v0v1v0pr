<div class="container">

<table style="width: 100%;"><tr>
<td>GiniImportanceForest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>computes inbag and OOB Gini importance averaged over all trees in a forest</h2>

<h3>Description</h3>

<p>workhorse function of this package</p>


<h3>Usage</h3>

<pre><code class="language-R">GiniImportanceForest(RF, data, ylabel = "Survived", zeroLeaf = TRUE, 


    agg = c("mean", "median", "none")[1], score = c("PMDI21", 


        "MDI", "MDA", "MIA")[1], Predictor = Mode, verbose = 0)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>RF</code></td>
<td>
<p>object returned by call to randomForest()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data which was used to train the RF. NOTE: assumes setting of inbag=TRUE while training</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylabel</code></td>
<td>
<p>name of dependent variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeroLeaf</code></td>
<td>
<p>if TRUE discard the information gain due to splits resulting in n=1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agg</code></td>
<td>
<p>method of aggregating importance scores across trees. If "none" return the raw arrays (for debugging)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>score</code></td>
<td>
<p>scoring method:MDI=mean decrease impurity (Gini),MDA=mean decrease accuracy (permutation),MIA=mean increase accuracy</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Predictor</code></td>
<td>
<p>function to estimate node prediction, such as Mode or mean or median. Alternatively, pass an array of numbers as replacement for the yHat column of tree</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>level of verbosity</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>matrix with variable importance scores and their stdevs</p>


<h3>Author(s)</h3>

<p>Markus Loecher &lt;Markus.Loecher@gmail.com&gt;</p>


<h3>Examples</h3>

<pre><code class="language-R">




data("titanic_train", package = "rfVarImpOOB",  envir = environment())


set.seed(123)


ranRows=sample(nrow(titanic_train), 300)


data=titanic_train[ranRows,]





RF = randomForest::randomForest(formula = Survived ~ Sex + Pclass + PassengerId,


                                data=data,


                                ntree=5,importance=TRUE,


                                mtry=3,keep.inbag=TRUE, 


                                nodesize = 20)


data$Survived = as.numeric(data$Survived)-1


VI_Titanic = GiniImportanceForest(RF, data,ylab="Survived")


</code></pre>


</div>