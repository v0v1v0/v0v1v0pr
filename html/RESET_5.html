<div class="container">

<table style="width: 100%;"><tr>
<td>randomColumnSpace</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Implementation of a sparse powered randomized algorithm for computing a basis for the column space of a matrix.</h2>

<h3>Description</h3>

<p>Computes a rank <code>k</code> approximation of the column space of an n-by-p input matrix <code>X</code> using a sparse randomized embedding with optional subspace power iterations.
Specifically, a p-by-k random text matrix <code>O</code> is created where all elements are generated as independent N(0,1) or U(0,1) random variables except for elements designated as sparse via the specified <code>sparsity.structure</code>, which are set to 0. If a sparse structure is used, the non-zero elements can alternatively be set to the constant value of 1 for a non-random embedding. The test matrix is used to create an n-by-k sketch matrix <code>Y</code> as <code>Y=XO</code>. If <code>q&gt;0</code>, subspace power iterations are performed on <code>Y</code> via algorithm 2 in the paper by Erichson, et al. associated with the <code>rsvd</code> R package (https://doi.org/10.18637/jss.v089.i11). The returned rank <code>k</code> column space approximation of <code>X</code> is then generated via a column-pivoted QR decomposition of <code>Y</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">    randomColumnSpace(X, k=2, q=0, sparsity.structure=NULL, test.dist="normal")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>An n-by-p target matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Target rank. Defaults to 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>Number of power iterations. Defaults to 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sparsity.structure</code></td>
<td>
<p>Optional sparsity structure. Should be specified as a vector whose elements are 
the indices (in column-oriented format) of the non-sparse elements in the p x k random test matrix <code>O</code>. If not specified, <code>O</code> will be dense.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test.dist</code></td>
<td>
<p>Type of random variable used to populate non-sparse elements of random test matrix <code>O</code>. Must be either 'normal' for N(0,1) RVs, 'uniform' for U(0,1) RVs or 'constant' for the value of 1. Note that 'constant' should only be used if <code>sparsity.structure</code> is specified.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A n-by-k estimate of the column space of <code>X</code>.</p>


<h3>See Also</h3>

<p><code>randomSVD</code></p>


<h3>Examples</h3>

<pre><code class="language-R">  # Simulate a 100-by-100 matrix of random Poisson data
  X = matrix(rpois(10000, lambda=2), nrow=100)
  # Create a random sparsity structure for 100-by-5 random test matrix; half elements will be 0
  sparsity.structure = sample(1:500, 250, replace=TRUE)
  # Compute rank 5 estimate of column space of X using a sparse test matrix
  Q = randomColumnSpace(X,k=5,sparsity.structure=sparsity.structure)
  # Compute using a dense test matrix with U(0,1) RVs
  Q = randomColumnSpace(X,k=5,test.dist="uniform")
</code></pre>


</div>