<div class="container">

<table style="width: 100%;"><tr>
<td>plot_curve</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot curves of selected values (e.g., PPV or NPV)
as a function of prevalence.</h2>

<h3>Description</h3>

<p><code>plot_curve</code> draws curves of selected values
(including <code>PPV</code>, <code>NPV</code>)
as a function of the prevalence (<code>prev</code>)
for given values of
sensitivity <code>sens</code> (or
miss rate <code>mirt</code>) and
specificity <code>spec</code> (or
false alarm rate <code>fart</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_curve(
  prev = num$prev,
  sens = num$sens,
  mirt = NA,
  spec = num$spec,
  fart = NA,
  what = c("prev", "PPV", "NPV"),
  p_lbl = "def",
  p_lwd = 2,
  what_col = pal,
  uc = 0,
  show_points = TRUE,
  log_scale = FALSE,
  prev_range = c(0, 1),
  lbl_txt = txt,
  main = txt$scen_lbl,
  sub = "type",
  title_lbl = NULL,
  cex_lbl = 0.85,
  col_pal = pal,
  mar_notes = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prev</code></td>
<td>
<p>The condition's prevalence <code>prev</code>
(i.e., the probability of condition being <code>TRUE</code>).
If <code>prev = NA</code>, the curves in <code>what</code>
are plotted without points (i.e., <code>show_points = FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sens</code></td>
<td>
<p>The decision's sensitivity <code>sens</code>
(i.e., the conditional probability of a positive decision
provided that the condition is <code>TRUE</code>).
<code>sens</code> is optional when its complement <code>mirt</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mirt</code></td>
<td>
<p>The decision's miss rate <code>mirt</code>
(i.e., the conditional probability of a negative decision
provided that the condition is <code>TRUE</code>).
<code>mirt</code> is optional when its complement <code>sens</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spec</code></td>
<td>
<p>The decision's specificity <code>spec</code>
(i.e., the conditional probability
of a negative decision provided that the condition is <code>FALSE</code>).
<code>spec</code> is optional when its complement <code>fart</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fart</code></td>
<td>
<p>The decision's false alarm rate <code>fart</code>
(i.e., the conditional probability
of a positive decision provided that the condition is <code>FALSE</code>).
<code>fart</code> is optional when its complement <code>spec</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what</code></td>
<td>
<p>Vector of character codes that specify the
selection of curves to be plotted. Currently available
options are <code>c("prev", "PPV", "NPV", "ppod", "acc")</code>
(shortcut: <code>what = "all"</code>).
Default: <code>what = c("prev", "PPV", "NPV")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_lbl</code></td>
<td>
<p>Type of label for shown probability values,
with the following options:
</p>

<ol>
<li> <p><code>"abb"</code>: show abbreviated probability names;
</p>
</li>
<li> <p><code>"def"</code>: show abbreviated probability names and values (default);
</p>
</li>
<li> <p><code>"nam"</code>: show only probability names (as specified in code);
</p>
</li>
<li> <p><code>"num"</code>: show only numeric probability values;
</p>
</li>
<li> <p><code>"namnum"</code>: show names and numeric probability values;
</p>
</li>
<li> <p><code>"no"</code>: hide labels (same for <code>p_lbl = NA</code> or <code>NULL</code>).
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_lwd</code></td>
<td>
<p>Line widths of probability curves plotted.
Default: <code>p_lwd = 2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what_col</code></td>
<td>
<p>Vector of colors corresponding to the elements
specified in <code>what</code>.
Default: <code>what_col = pal</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uc</code></td>
<td>
<p>Uncertainty range, given as a percentage of the current
<code>prev</code>, <code>sens</code>, and <code>spec</code> values
(added in both directions).
Default: <code>uc = .00</code> (i.e., no uncertainty).
Plausible ranges are <code>0 &lt; uc &lt; .25</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_points</code></td>
<td>
<p>Boolean value for showing the point of
intersection with the current prevalence <code>prev</code>
in all selected curves.
Default: <code>show_points = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_scale</code></td>
<td>
<p>Boolean value for switching from a linear
to a logarithmic x-axis.
Default: <code>log_scale = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prev_range</code></td>
<td>
<p>Range (minimum and maximum) of <code>prev</code> values
on x-axis (i.e., values in <code>c(0, 1)</code> range).
Default: <code>prev_range = c(0, 1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lbl_txt</code></td>
<td>
<p>Labels and text elements.
Default: <code>lbl_txt = txt</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Text label for main plot title.
Default: <code>main = txt$scen_lbl</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub</code></td>
<td>
<p>Text label for plot subtitle (on 2nd line).
Default: <code>sub = "type"</code> shows information on current plot type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title_lbl</code></td>
<td>
<p><strong>Deprecated</strong> text label for current plot title.
Replaced by <code>main</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex_lbl</code></td>
<td>
<p>Scaling factor for the size of text labels
(e.g., on axes, legend, margin text).
Default: <code>cex_lbl = .85</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_pal</code></td>
<td>
<p>Color palette (if what_col is unspecified).
Default: <code>col_pal = pal</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mar_notes</code></td>
<td>
<p>Boolean value for showing margin notes.
Default: <code>mar_notes = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other (graphical) parameters.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If no prevalence value is provided (i.e., <code>prev = NA</code>),
the desired probability curves are plotted without showing
specific points (i.e., <code>show_points = FALSE</code>).
</p>
<p>Note that a population size <code>N</code> is not needed for
computing probability information <code>prob</code>.
(An arbitrary value can be used when computing frequency information
<code>freq</code> from current probabilities <code>prob</code>.)
</p>
<p><code>plot_curve</code> is a generalization of
<code>plot_PV</code> (see legacy code)
that allows plotting additional dependent values.
</p>


<h3>See Also</h3>

<p><code>comp_prob</code> computes current probability information;
<code>prob</code> contains current probability information;
<code>comp_freq</code> computes current frequency information;
<code>freq</code> contains current frequency information;
<code>num</code> for basic numeric parameters;
<code>txt</code> for current text settings;
<code>pal</code> for current color settings.
</p>
<p>Other visualization functions: 
<code>plot.riskyr()</code>,
<code>plot_area()</code>,
<code>plot_bar()</code>,
<code>plot_crisk()</code>,
<code>plot_fnet()</code>,
<code>plot_icons()</code>,
<code>plot_mosaic()</code>,
<code>plot_plane()</code>,
<code>plot_prism()</code>,
<code>plot_tab()</code>,
<code>plot_tree()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Basics:
plot_curve()  # default curve plot, same as:
# plot_curve(what = c("prev", "PPV", "NPV"), uc = 0, prev_range = c(0, 1))

# Showing no/multiple prev values/points and uncertainty ranges:
plot_curve(prev = NA)  # default curves without prev value (and point) shown
plot_curve(show_points = FALSE, uc = .10)  # curves w/o points, 10% uncertainty range
plot_curve(prev = c(.10, .33, .75))  # 3 prev values, with numeric point labels
plot_curve(prev = c(.10, .33, .75), p_lbl = "no", uc = .10) # 3 prev, no labels, 10% uc

# Provide local parameters and select curves:
plot_curve(prev = .2, sens = .8, spec = .6, what = c("PPV", "NPV", "acc"), uc = .2)

# Selecting curves: what = ("prev", "PPV", "NPV", "ppod", "acc") = "all"
plot_curve(prev = .3, sens = .9, spec = .8, what = "all")  # all curves
# plot_curve(what = c("PPV", "NPV"))                  # PPV and NPV
plot_curve(what = c("prev", "PPV", "NPV", "acc"))     # prev, PPV, NPV, and acc
# plot_curve(what = c("prev", "PPV", "NPV", "ppod"))  # prev, PPV, NPV, and ppod

# Visualizing uncertainty (uc as percentage range):
plot_curve(prev = .2, sens = .9, spec = .8, what = "all",
           uc = .10)  # all with a 10% uncertainty range
# plot_curve(prev = .3, sens = .9, spec = .8, what = c("prev", "PPV", "NPV"),
#            uc = .05)  # prev, PPV and NPV with a 5% uncertainty range

# X-axis on linear vs. log scale:
plot_curve(prev = .01, sens = .9, spec = .8)                    # linear scale
plot_curve(prev = .01, sens = .9, spec = .8, log_scale = TRUE)  # log scale
# Several small prev values:
plot_curve(prev = c(.00001, .0001, .001, .01, .05),
           sens = .9, spec = .8, log_scale = TRUE)

# Zooming in by setting prev_range (of prevalence values):
plot_curve(prev = c(.25, .33, .40), prev_range = c(.20, .50),
           what = "all", uc = .05)

# Probability labels:
plot_curve(p_lbl = "abb", what = "all")     # abbreviated names
plot_curve(p_lbl = "nam", what = "all")     # names only
plot_curve(p_lbl = "num", what = "all")     # numeric values only
plot_curve(p_lbl = "namnum", what = "all")  # names and values

# Text and color settings:
plot_curve(main = "Tiny text labels", p_lbl = "namnum", cex_lbl = .60)
plot_curve(main = "Specific colors", what = "all",
           uc = .1, what_col = c("grey", "red3", "green3", "blue3", "gold"))
plot_curve(main = "Black-and-white print version",
           what = "all", col_pal = pal_bwp)


</code></pre>


</div>