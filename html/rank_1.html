<div class="container">

<table style="width: 100%;"><tr>
<td>smartrank</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rank a vector based on either alphabetical or frequency order</h2>

<h3>Description</h3>

<p>This function acts as a drop-in replacement for the base <code>rank()</code> function with the added option to:
</p>

<ol>
<li>
<p> Rank categorical factors based on frequency instead of alphabetically
</p>
</li>
<li>
<p> Rank in descending or ascending order
</p>
</li>
</ol>
<h3>Usage</h3>

<pre><code class="language-R">smartrank(
  x,
  sort_by = c("alphabetical", "frequency"),
  desc = FALSE,
  ties.method = "average",
  na.last = TRUE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric, character, or factor vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort_by</code></td>
<td>
<p>Sort ranking either by "alphabetical" or "frequency" . Default is "alphabetical"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>desc</code></td>
<td>
<p>A logical indicating whether the ranking should be in descending ( TRUE ) or ascending ( FALSE ) order.
When input is numeric, ranking is always based on numeric order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ties.method</code></td>
<td>
<p>a character string specifying how ties are treated,
see ‘Details’; can be abbreviated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.last</code></td>
<td>
<p>a logical or character string controlling the treatment
of <code>NA</code>s. If <code>TRUE</code>, missing values in the data are
put last; if <code>FALSE</code>, they are put first; if <code>NA</code>, they
are removed; if <code>"keep"</code> they are kept with rank <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>verbose (flag)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The ranked vector
</p>


<h3>Note</h3>

<p>When <code>sort_by = "frequency"</code>, ties based on frequency are broken by alphabetical order of the terms
</p>
<p>When <code>sort_by = "frequency"</code> and input is character, ties.method is ignored. each distinct element level gets its own rank, and each rank is 1 unit away from the next element, irrespective of how many duplicates
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## CATEGORICAL INPUT -----------------------
fruits &lt;- c("Apple", "Orange", "Apple", "Pear", "Orange")

# rank alphabetically
smartrank(fruits)
#&gt; [1] 1.5 3.5 1.5 5.0 3.5

# rank based on frequency
smartrank(fruits, sort_by = "frequency")
#&gt; smartrank: Sorting a categorical variable by frequency: ignoring ties.method
#&gt; [1] 2 3 2 1 3

# rank based on descending order of frequency
smartrank(fruits,sort_by = "frequency", desc = TRUE)
#&gt; smartrank: Sorting a categorical variable by frequency: ignoring ties.method
#&gt; [1] 1 2 1 3 2


## NUMERICAL INPUT -----------------------

# rank numerically
smartrank(c(1, 3, 2))
#&gt; [1] 1 3 2

# rank numerically based on descending order
smartrank(c(1, 3, 2), desc = TRUE)
#&gt; [1] 3 1 2

# always rank numerically, irrespective of sort_by
smartrank(c(1, 3, 2), sort_by = "frequency")
#&gt; smartrank: Sorting a numeric variable. Ignoring `sort_by` and sorting numerically
#&gt; [1] 1 3 2
</code></pre>


</div>