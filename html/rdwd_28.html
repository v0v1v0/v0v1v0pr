<div class="container">

<table style="width: 100%;"><tr>
<td>plotRadar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>plot radar products on a pretty map</h2>

<h3>Description</h3>

<p>Convenience function to plot radar products on a pretty map.
Creates a separate plot for each layer, a selection is possible.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotRadar(
  x,
  layer = NULL,
  main = names(x),
  land = "gray80",
  sea = "cadetblue1",
  de = "grey80",
  eu = "black",
  col = berryFunctions::seqPal(),
  xlim = NULL,
  ylim = NULL,
  zlim = NULL,
  axes = TRUE,
  las = 1,
  mar = c(2.5, 3.5, 2.5, 5),
  keeppar = TRUE,
  project = TRUE,
  proj = "radolan",
  extent = "radolan",
  adjust05 = FALSE,
  targetproj = "ll",
  quiet = rdwdquiet(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>terra raster oject, e.g. 'dat' element of object returned by <code>readDWD()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layer</code></td>
<td>
<p>Optional: selected layer(s) to be plotted. DEFAULT: NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Graph title(s). Use "" to suppress.
DEFAULT: names(x)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>land</code></td>
<td>
<p>Color of land areas in the map. DEFAULT: "gray80"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sea</code></td>
<td>
<p>Color of sea areas in the map. DEFAULT: "cadetblue1"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>de</code></td>
<td>
<p>Color of Deutschland Bundesland borders. DEFAULT: "grey80"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eu</code></td>
<td>
<p>Color of Europe country borders . DEFAULT: "black"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Color palette for the data itself.
DEFAULT: <code>berryFunctions::seqPal()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>xlim. DEFAULT: NULL, i.e. taken from x extent (after reprojection if <code>project=TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>ylim. DEFAULT: NULL, i.e. taken from y extent (after reprojection if <code>project=TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zlim</code></td>
<td>
<p>zlim. 3 Options: two-number vector,
<code>zlim="ind"</code> for individual zlim per layer,
or NULL for <code>range</code> of selected layer(s).
DEFAULT: NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axes</code></td>
<td>
<p>Draw axes? DEFAULT: TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>las</code></td>
<td>
<p>LabelAxisStyle for axes. DEFAULT: 1 (all upright)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mar</code></td>
<td>
<p>Vector with plot margins. DEFAULT: c(2.5, 3.5, 2.5, 5)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keeppar</code></td>
<td>
<p>Logical: keep the margins set with par, so later points etc are
added in the right location?
DEFAULT: TRUE, opposite to <code>sf::plot</code> with reset=TRUE, see
<a href="https://github.com/cran/sf/blob/master/R/plot.R">https://github.com/cran/sf/blob/master/R/plot.R</a></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>project</code></td>
<td>
<p>Project the data before plotting? Not needed if
<code>projectRasterDWD()</code> has already been called. DEFAULT: TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proj</code></td>
<td>
<p>current projection, see <code>projectRasterDWD()</code>,
used only if <code>project=TRUE</code>. DEFAULT: "radolan"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extent</code></td>
<td>
<p>current extent, see <code>projectRasterDWD()</code>,
used only if <code>project=TRUE</code>. DEFAULT: "radolan"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjust05</code></td>
<td>
<p>Logical: Adjust extent by 0.5m to match edges? DEFAULT: FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targetproj</code></td>
<td>
<p>target projection, see <code>projectRasterDWD()</code>,
used only if <code>project=TRUE</code>. DEFAULT: "ll"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>suppress progress messages? DEFAULT: FALSE through <code>rdwdquiet()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to <code>terra::plot()</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>terra object, (re)projected (if <code>project=TRUE</code>).
If <code>length(layer)==1</code>, only that selected layer is returned.
</p>


<h3>Author(s)</h3>

<p>Berry Boessenkool, <a href="mailto:berry-b@gmx.de">berry-b@gmx.de</a>, Feb 2020, June 2023
</p>


<h3>See Also</h3>

<p><code>projectRasterDWD()</code>, <code>addBorders()</code>, <code>readDWD()</code>,
<a href="https://bookdown.org/brry/rdwd/raster-data.html">website raster chapter</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># See https://bookdown.org/brry/rdwd/raster-data.html
## Not run:  ## Excluded from CRAN checks: requires internet connection
link &lt;- "seasonal/air_temperature_mean/16_DJF/grids_germany_seasonal_air_temp_mean_188216.asc.gz"
rad &lt;- dataDWD(link, base=gridbase, joinbf=TRUE)
radp &lt;- plotRadar(rad, proj="seasonal", extent=NULL, main="plotRadar ex")
plotRadar(radp, ylim=c(52,54), project=FALSE)

# plotRadar equivalent, map only country borders:
radpm &lt;- projectRasterDWD(rad[[1]], proj="seasonal", extent=NULL)
terra::plot(radpm)
addBorders()

# several layers
url &lt;- "daily/Project_TRY/pressure/PRED_199606_daymean.nc.gz"  #  5 MB
nc &lt;- dataDWD(url, base=gridbase, joinbf=TRUE)

ncp3 &lt;- plotRadar(nc, main=paste(terra::longnames(nc), terra::time(nc)), layer=1:3,
                  col=terrain.colors(100), proj="nc", extent="nc")
plotRadar(ncp3, layer=3:4, project=FALSE) # still has all layers
plotRadar(ncp3, layer=4:5, project=FALSE, zlim="ind") # individual zlims per layer
plotRadar(ncp3, layer=1, project=FALSE, zlim=c(1016,1020))

ncp1 &lt;- plotRadar(nc, layer=1, proj="nc", extent="nc") # much faster projection
# no longer has layers 2-4:
berryFunctions::is.error(plotRadar(ncp1, layer=1:4, project=FALSE), TRUE, TRUE)

## End(Not run)

</code></pre>


</div>