<div class="container">

<table style="width: 100%;"><tr>
<td>connectsegs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Connect Segments</h2>

<h3>Description</h3>

<p>Provides a method to manually connect unconnected segments
within a river network.  The nearest endpoint (or vertex) of the second segment is
added as a new vertex to the first, and the network topology is then updated.
</p>


<h3>Usage</h3>

<pre><code class="language-R">connectsegs(
  connect,
  connectto,
  nearestvert = TRUE,
  rivers,
  calcconnections = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>connect</code></td>
<td>
<p>The segment(s) to connect to the network.  Typically, this is the
segment that is disconnected from the rest of the river network.  A vector of segments may be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>connectto</code></td>
<td>
<p>The segment(s) to connect it (them) to.  Typically, this is a segment
that is connected to the rest of the river network.  A vector of segments may be used, corresponding to that used in <code>connect=</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nearestvert</code></td>
<td>
<p>Whether to connect at the nearest vertex and split the
segment (<code>FALSE</code>), or connect at the nearest endpoint (<code>TRUE</code>). 
Defaults to <code>TRUE</code>.  A vector may be used, corresponding to those used in <code>connect=</code> and <code>connectto=</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rivers</code></td>
<td>
<p>The river network object to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calcconnections</code></td>
<td>
<p>Whether to recalculate all connections. 
Defaults to <code>TRUE</code>.  Setting to <code>FALSE</code> is not recommended unless many connections are to be made, in which case connections can be calculated afterward.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A new river network object with the specified segments connected (see
rivernetwork)
</p>


<h3>Note</h3>

<p>This function is called within cleanup, which is recommended in
most cases.
</p>


<h3>Author(s)</h3>

<p>Matt Tyers
</p>


<h3>See Also</h3>

<p>line2network
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Koyukuk0)
plot(Koyukuk0, ylim=c(1930500,1931500), xlim=c(194900,195100))
topologydots(Koyukuk0, add=TRUE)

Koyukuk0.1 &lt;- connectsegs(connect=21, connectto=20, rivers=Koyukuk0)
plot(Koyukuk0.1,ylim=c(1930500,1931500), xlim=c(194900,195100))
topologydots(Koyukuk0.1, add=TRUE)

# or the vector version
zoomtoseg(seg=21:23, rivers=Koyukuk0)
Koyukuk0.2 &lt;- connectsegs(connect=c(20,21,22), connectto=c(21,22,23), 
    nearestvert=c(FALSE,FALSE,TRUE), rivers=Koyukuk0)
zoomtoseg(seg=21:23, rivers=Koyukuk0.2)
topologydots(Koyukuk0.2, add=TRUE)
</code></pre>


</div>