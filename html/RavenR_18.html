<div class="container">

<table style="width: 100%;"><tr>
<td>rvn_calc_runoff_coeff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate runoff coefficients upstream of gauges</h2>

<h3>Description</h3>

<p>Uses the rvh, custom precipitation, and hydrograph information to determine runoff coefficients.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rvn_calc_runoff_coeff(
  rvhfile,
  custfile = "PRECIP_Daily_Average_BySubbasin.csv",
  hydfile = "Hydrographs.csv",
  correct = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rvhfile</code></td>
<td>
<p>file path to Raven rvh file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>custfile</code></td>
<td>
<p>file path to Raven-generated custom output precip-by-subbasin file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hydfile</code></td>
<td>
<p>file path to Raven-generated hydrographs file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correct</code></td>
<td>
<p>(optional) if <code>TRUE</code>, tries to correct runoff coefficient for missing data (assumes missing~0 flow)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Reads model.rvh file and daily avg subbasin precip file (usually PRECIP_Daily_Average_BySubbasin.csv)
and generates data frame describing runoff coefficients of gauged basins and observation data coverage.
Uses precipitation from entire model run history.
Only determines runoff coefficient from available data - prone to overestimation with poor observation coverage.
</p>


<h3>Value</h3>

<p>data frame with runoff coefficients of gauged basins
</p>


<h3>Author(s)</h3>

<p>James R. Craig, University of Waterloo
</p>


<h3>See Also</h3>

<p><code>rvn_rvh_read</code> for reading and processing Raven rvh file
</p>


<h3>Examples</h3>

<pre><code class="language-R"> myrvh &lt;- system.file("extdata","Nith.rvh", package="RavenR")
 mycust &lt;- system.file("extdata", "run1_PRECIP_Daily_Average_BySubbasin.csv", package="RavenR")
 myhyd &lt;- system.file("extdata", "run1_Hydrographs.csv", package="RavenR")

 rcs &lt;- rvn_calc_runoff_coeff(myrvh, mycust, myhyd, correct=TRUE)
 rcs

 # create a bar plot
 runcoefs &lt;- subset(rcs,select=c(runoff_coeff_sim,runoff_coeff_obs))

 bp &lt;- barplot(t(as.matrix(runcoefs)),
  main="Runoff Coefficient Comparison (w/ rough data coverage correction)",
  ylab = "Runoff coeff", ylim=c(0,1),beside=TRUE,
  col=c("blue","deepskyblue"),legend.text=c("sim","obs"),las=2)

</code></pre>


</div>