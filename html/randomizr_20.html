<div class="container">

<table style="width: 100%;"><tr>
<td>obtain_inclusion_probabilities</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Obtain inclusion probabilities</h2>

<h3>Description</h3>

<p>You can either give obtain_inclusion_probabilities() an declaration, as created by <code>declare_rs</code> or you can specify the other arguments to describe a random sampling procedure.<br><br>
This function is especially useful when units have different inclusion probabilities and the analyst plans to use inverse-probability weights.
</p>


<h3>Usage</h3>

<pre><code class="language-R">obtain_inclusion_probabilities(
  declaration = NULL,
  N = NULL,
  strata = NULL,
  clusters = NULL,
  n = NULL,
  n_unit = NULL,
  prob = NULL,
  prob_unit = NULL,
  strata_n = NULL,
  strata_prob = NULL,
  simple = FALSE,
  check_inputs = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>declaration</code></td>
<td>
<p>A random sampling declaration, created by <code>declare_rs</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>The number of units. N must be a positive integer. (required)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata</code></td>
<td>
<p>A vector of length N that indicates which stratum each unit belongs to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clusters</code></td>
<td>
<p>A vector of length N that indicates which cluster each unit belongs to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Use for a design in which n units (or clusters) are sampled. In a stratified design, exactly n units in each stratum will be sampled. (optional)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_unit</code></td>
<td>
<p>Under complete random sampling, must be constant across units. Under stratified random sampling, must be constant within strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>Use for a design in which either floor(N*prob) or ceiling(N*prob) units (or clusters) are sampled. The probability of being sampled is exactly prob because with probability 1-prob, floor(N*prob) units (or clusters) will be sampled and with probability prob, ceiling(N*prob) units (or clusters) will be sampled. prob must be a real number between 0 and 1 inclusive. (optional)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob_unit</code></td>
<td>
<p>Must of be of length N. Under simple random sampling, can be different for each unit or cluster.  Under complete random sampling, must be constant across units. Under stratified random sampling, must be constant within strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata_n</code></td>
<td>
<p>Use for a design in which strata_n describes the number of units to sample within each stratum.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata_prob</code></td>
<td>
<p>Use for a design in which strata_prob describes the probability of being sampled within each stratum. Differs from prob in that the probability of being sampled can vary across strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simple</code></td>
<td>
<p>logical, defaults to FALSE. If TRUE, simple random sampling is used. When <code>simple = TRUE</code>, please do not specify n or strata_n. When <code>simple = TRUE</code>, <code>prob</code> may vary by unit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_inputs</code></td>
<td>
<p>logical. Defaults to TRUE.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">
# Draw a stratified random sample
strata &lt;- rep(c("A", "B","C"), times=c(50, 100, 200))

declaration &lt;- declare_rs(strata = strata)

observed_probabilities &lt;-
   obtain_inclusion_probabilities(declaration = declaration)

table(strata, observed_probabilities)


# Sometimes it is convenient to skip the declaration step
observed_probabilities &lt;-
   obtain_inclusion_probabilities(strata = strata)

table(strata, observed_probabilities)

</code></pre>


</div>