<div class="container">

<table style="width: 100%;"><tr>
<td>ManaClash</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The Mana Clash distributions (just for fun!)</h2>

<h3>Description</h3>

<p>Density and random-number functions for distributions pertinent to <a href="http://gatherer.wizards.com/Pages/Card/Details.aspx?multiverseid=83159">"Mana Clash"</a>, a card from the <em>Magic: The Gathering</em> trading-card game.  As of 08/29/2014, the official card text read: "You and target opponent each flip a coin. Mana Clash deals 1 damage to each player whose coin comes up tails. Repeat this process until both players' coins come up heads on the same flip."
</p>


<h3>Usage</h3>

<pre><code class="language-R">dmanaclash.dmg(x,y,N=NULL,pA=0.25,pB=0.25,pC=0.25,pD=0.25,log=FALSE)
dmanaclash.xyN(x,y,N,pA=0.25,pB=0.25,pC=0.25,pD=0.25,log=FALSE)
dmanaclash.net(z,pA=0.25,pB=0.25,pC=0.25,pD=0.25,rel.eps=1e-8,log=FALSE)
rmanaclash(n,pA=0.25,pB=0.25,pC=0.25,pD=0.25,N=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Numeric amount of damage dealt to opponent.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Numeric amount of damage dealt to Mana Clash's controller (hereinafter, "you").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>Numeric.  Number of rounds of coin-tossing that <em>precede</em> the last round, when double heads occurs.  That is, <code>N</code> is the number of rounds of coin-tossing in which at least one player takes damage.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>Numeric; <em>net</em> damage dealt to opponent; negative values are allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Integer number of random vectors to generate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pA</code></td>
<td>
<p>Numeric; probability that both players take damage in a round of coin-tossing (i.e., double tails).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pB</code></td>
<td>
<p>Numeric; probability that you take damage but opponent does not in a round of coin-tossing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pC</code></td>
<td>
<p>Numeric; probability that opponent takes damage but you do not in a round of coin-tossing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pD</code></td>
<td>
<p>Numeric; probability that neither player takes damage in a round of coin-tossing (i.e., double heads).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>Logical; should the natural log of the probability be returned?  Defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rel.eps</code></td>
<td>
<p>Numeric; when computing the sum of an infinite series, how small should the relative change in the sum get before stopping?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The probability arguments–<code>pA</code>, <code>pB</code>, <code>pC</code>, and <code>pD</code>–are named as in a two-way contingency table.  They cannot be negative, although <code>rmanaclash</code> accepts values of zero for <code>pA</code>, <code>pB</code>, and <code>pC</code>.  If they do not sum to 1, they are automatically normalized.  They default to the scenario of two independent fair coins.
</p>
<p>Vectors of numeric arguments other than <code>rel.eps</code> are cycled, whereas only the first element of logical and integer arguments is used.
</p>
<p>Function <code>dmanaclash.dmg()</code> is the bivariate PMF of the amount of damage dealt to opponent and you.  If <code>N = NULL</code> (default), the probabilities are marginal with respect to the number of rounds of damage-dealing.  Otherwise, the probabilities are conditioned upon the given value of <code>N</code>.
</p>
<p>Function <code>dmanaclash.xyN()</code> is the trivariate joint PMF of the amount of damage dealt to opponent, the amount dealt to you, and the number of rounds of damage-dealing.
</p>
<p>Function <code>dmanaclash.net</code> is the univariate PMF of the <em>net</em> amount of damage dealt to opponent, i.e. damage dealt to opponent minus damage dealt to you.  This distribution has support on the set of integers–including negative values.
</p>
<p>Function <code>rmanaclash()</code> generates random draws from the trivariate joint distribution of <code class="reqn">x</code>, <code class="reqn">y</code>, and <code class="reqn">N</code>; if a non-<code>NULL</code> value for <code>N</code> is supplied, the random draws are generated conditionally on that number of damage-dealing rounds.
</p>


<h3>Value</h3>

<p><code>dmanaclash.dmg()</code>, <code>dmanaclash.xyN()</code>, and <code>dmanaclash.net()</code> all return numeric vectors of probabilities.  <code>rmanaclash()</code> returns a numeric matrix, with <code>n</code> rows, and three columns, named "x", "y", and "N".  Each row is a random draw.
</p>


<h3>Derivation</h3>

<p>Note:  This section is only displayed in the PDF of the package documentation.

</p>


<h3>Author(s)</h3>

<p>Robert M. Kirkpatrick <a href="mailto:rkirkpatrick2@vcu.edu">rkirkpatrick2@vcu.edu</a></p>


<h3>References</h3>

<p><em>Magic: The Gathering</em> is a trademark of Wizards of the Coast, LLC, a subsidiary of Hasbro, Inc.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Same outcome, with and without conditioning on N:
dmanaclash.dmg(x=1,y=1,N=1)
dmanaclash.dmg(x=1,y=1)

## Same damage amounts, with N fixed versus random:
dmanaclash.dmg(x=1,y=1,N=2)
dmanaclash.xyN(x=1,y=1,N=2)

## Net damage distribution is symmetric with defaults:
dmanaclash.net(z=c(-3,-2,-1,0,1,2,3))
## But if coins are biased against opponent...:
dmanaclash.net(z=c(-3,-2,-1,0,1,2,3),pA=0.1,pB=0.1,pC=0.7,pD=0.1)

## Random draws:
rmanaclash(n=10)
rmanaclash(n=10,pA=0.1,pB=0.1,pC=0.7,pD=0.1)
rmanaclash(n=10,N=5)
</code></pre>


</div>