<div class="container">

<table style="width: 100%;"><tr>
<td>trimmed_test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Two-sample trimmed t-test (Yuen's t-Test)</h2>

<h3>Description</h3>

<p><code>trimmed_test</code> performs the two-sample trimmed t-test.
</p>


<h3>Usage</h3>

<pre><code class="language-R">trimmed_test(
  x,
  y,
  gamma = 0.2,
  alternative = c("two.sided", "less", "greater"),
  method = c("asymptotic", "permutation", "randomization"),
  delta = ifelse(scale.test, 1, 0),
  n.rep = 1000,
  na.rm = FALSE,
  scale.test = FALSE,
  wobble.seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a (non-empty) numeric vector of data values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a (non-empty) numeric vector of data values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>a numeric value in [0, 0.5] specifying the fraction of observations
to be trimmed from each end of the sample before calculating the
mean. The default value is 0.2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>a character string specifying the alternative hypothesis,
must be one of "two.sided" (default), "greater", or "less".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>a character string specifying how the p-value is computed with
possible values <code>"asymptotic"</code> for an asymptotic test
based on a normal approximation, <code>"permutation"</code> for a
permutation test, and <code>"randomization"</code> for a randomization
test. The permutation test uses all splits of the joint sample
into two samples of sizes <code>m</code> and <code>n</code>, while the
randomization test draws <code>n.rep</code> random splits with
replacement. The values <code>m</code> and <code>n</code> denote the
sample sizes.
If not specified explicitly, defaults to
<code>"permutation"</code>  if <code>m &lt; 30</code>, <code>n &lt; 30</code> and
<code>n.rep &gt;= choose(m + n, m)</code>,
<code>"randomization"</code> if <code>m &lt; 30</code>, <code>n &lt; 30</code> and
<code>n.rep &lt; choose(m + n, m)</code>, and
<code>"asymptotic"</code> if <code>m &gt;= 30</code> and <code>n &gt;= 30</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta</code></td>
<td>
<p>a numeric value indicating the true difference in the location or
scale parameter, depending on whether the test should be performed
for a difference in location or in scale. The default is
<code>delta = 0</code> for a location test and <code>delta = 1</code> for a scale
test. In case of <code>scale.test = TRUE</code>, <code>delta</code> represents
the ratio of the squared scale parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.rep</code></td>
<td>
<p>an integer value specifying the number of random splits used to
calculate the randomization distribution if <code>method = "randomization"</code>.
This argument is ignored if <code>method = "permutation"</code> or <code>method = "asymptotic"</code>.
The default is <code>n.rep = 10000</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>a logical value indicating whether NA values in <code>x</code> and
<code>y</code> should be stripped before the computation proceeds. The
default is <code>na.rm = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale.test</code></td>
<td>
<p>a logical value to specify if the samples should be compared
for a difference in scale. The default is <code>scale.test = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wobble.seed</code></td>
<td>
<p>an integer value used as a seed for the random number
generation in case of <code>wobble = TRUE</code> or when
<code>scale.test = TRUE</code> with one of the vectors <code>x</code> and
<code>y</code> containing zeros. When no seed is specified, it
is chosen randomly and printed in a message. The argument
is ignored if <code>scale.test = FALSE</code> and/or <code>wobble = FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function performs Yuen's t-test based on the trimmed mean and winsorized
variance (Yuen and Dixon 1973).
The amount of trimming/winsorization is set in <code>gamma</code> and
defaults to 0.2, i.e. 20% of the values are removed/replaced.
In addition to the asymptotic distribution a permutation and a
randomization version of the test are implemented.
</p>
<p>When computing a randomization distribution based on randomly drawn splits
with replacement, the function <code>permp</code> (Phipson and Smyth 2010)
is used to calculate the p-value.
</p>
<p>For <code>scale.test = TRUE</code>, the test compares the two samples for a difference
in scale. This is achieved by log-transforming the original squared observations,
i.e. <code>x</code> is replaced by <code>log(x^2)</code> and <code>y</code> by <code>log(y^2)</code>.
A potential scale difference then appears as a location difference between
the transformed samples, see Fried (2012).
Note that the samples need to have equal locations. The sample should not
contain zeros to prevent problems with the necessary log-transformation. If
it contains zeros, uniform noise is added to all variables in order to remove
zeros and a message is printed.
</p>
<p>If the sample has been modified because of zeros when <code>scale.test = TRUE</code>,
the modified samples can be retrieved using
</p>
<p><code>set.seed(wobble.seed); wobble(x, y)</code>
</p>
<p>Both samples need to contain at least 5 non-missing values.
</p>


<h3>Value</h3>

<p>A named list with class "<code>htest</code>" containing the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>statistic</code></td>
<td>
<p>the value of the test statistic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter</code></td>
<td>
<p>the degrees of freedom for the test statistic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.value</code></td>
<td>
<p>the p-value for the test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimate</code></td>
<td>
<p>the trimmed means of <code>x</code> and <code>y</code>
(if <code>scale.test = FALSE</code>) or of <code>log(x^2)</code> and
<code>log(y^2)</code> (if <code>scale.test = TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>null.value</code></td>
<td>
<p>the specified hypothesized value of the mean difference/squared
scale ratio.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>a character string describing the alternative hypothesis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>a character string indicating how the p-value was computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.name</code></td>
<td>
<p>a character string giving the names of the data.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Yuen KK, Dixon WT (1973).
“The approximate behaviour and performance of the two-sample trimmed t.”
<em>Biometrika</em>, <b>60</b>(2), 369–374.
<a href="https://doi.org/10.2307/2334550">doi:10.2307/2334550</a>.
</p>
<p>Yuen KK (1974).
“The two-sample trimmed t for unequal population variances.”
<em>Biometrika</em>, <b>61</b>(1), 165–170.
<a href="https://doi.org/10.2307/2334299">doi:10.2307/2334299</a>.
</p>
<p>Fried R (2012).
“On the online estimation of piecewise constant volatilities.”
<em>Computational Statistics &amp; Data Analysis</em>, <b>56</b>(11), 3080–3090.
<a href="https://doi.org/10.1016/j.csda.2011.02.012">doi:10.1016/j.csda.2011.02.012</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Generate random samples
set.seed(108)
x &lt;- rnorm(20); y &lt;- rnorm(20)

# Trimmed t-test
trimmed_test(x, y, gamma = 0.1)

</code></pre>


</div>