<div class="container">

<table style="width: 100%;"><tr>
<td>transitions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Count and format stages transitions.</h2>

<h3>Description</h3>

<p>Count and format stages transitions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">transitions(
  hypnogram,
  stages = c("AWA", "REM", "N1", "N2", "N3", "NREM"),
  format = "vector"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>hypnogram</code></td>
<td>
<p>A hypnogram dataframe. Dataframe must contain <code>begin</code> (<code>POSIXt</code>), <code>end</code> (<code>POSIXt</code>) and <code>event</code> (<code>character</code>) columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stages</code></td>
<td>
<p>Stages to include in transitions Defaults to <code>c("N1", "N2", "N3", "N4", "REM")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>Set the return format. 'vector', 'dataframe' or 'heatmap'.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Count of stages transitions in selected format.
</p>


<h3>References</h3>

<p>Swihart BJ, Punjabi NM, Crainiceanu CM. Modeling sleep fragmentation in sleep hypnograms: An instance of fast, scalable discrete-state, discrete-time analyses. Comput Stat Data Anal. 2015 Sep;89:1-11. doi: 10.1016/j.csda.2015.03.001. PMID: 27182097; PMCID: PMC4865264.
</p>


<h3>Examples</h3>

<pre><code class="language-R">tryCatch({
download.file("https://rsleep.org/data/hypnodensity.csv", "hypnodensity.csv")

hypnodensity &lt;- read.csv2("hypnodensity.csv")

unlink("hypnodensity.csv")

events &lt;- hypnogram(hypnodensity)

transitions(events)

transitions(events, format = "dataframe")

transitions(events, format = "heatmap")

# 3 Dimensions sleep transitions
levels(events$event)[levels(events$event)=="N1"] &lt;- "NREM"
levels(events$event)[levels(events$event)=="N2"] &lt;- "NREM"
levels(events$event)[levels(events$event)=="N3"] &lt;- "NREM"

round(
  transitions(
    events, 
    format = "dataframe")/(
      sum(transitions(events)))*100,2)
}, error = function(e) {
  print("Error executing this example, check your internet connection.")
  })
</code></pre>


</div>