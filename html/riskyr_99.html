<div class="container">

<table style="width: 100%;"><tr>
<td>plot_crisk</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot a cumulative risk curve.</h2>

<h3>Description</h3>

<p><code>plot_crisk</code> creates visualizations of cumulative risks.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_crisk(
  x,
  y = NULL,
  x_from = NA,
  x_to = NA,
  fit_curve = FALSE,
  show_pas = FALSE,
  show_rem = FALSE,
  show_pop = FALSE,
  show_aux = FALSE,
  show_num = FALSE,
  show_inc = FALSE,
  show_grid = FALSE,
  col_pal = pal_crisk,
  arr_c = -3,
  main = txt$scen_lbl,
  sub = "type",
  title_lbl = NULL,
  x_lbl = "Age (in years)",
  y_lbl = "Population risk",
  y2_lbl = "",
  mar_notes = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Data or values of an x-dimension on which risk is expressed
(required).
If <code>x</code> but not <code>y</code> is provided,
<code>xy.coords</code> from <strong>grDevices</strong>
is used to determine <code>x</code>- and <code>y</code>-values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Values of cumulative risks on a y-dimension
(optional, if <code>x</code> is an appropriate structure),
as monotonically increasing percentage values
(ranging from 0 to 100).
Default: <code>y = NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_from</code></td>
<td>
<p>Start value of risk increment.
Default: <code>x_from = NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_to</code></td>
<td>
<p>End value of risk increment.
Default: <code>x_to = NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit_curve</code></td>
<td>
<p>Boolean: Fit a curve to <code>x</code>-<code>y</code>-data?
Default: <code>fit_curve = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_pas</code></td>
<td>
<p>Boolean: Show past/passed risk?
Default: <code>show_pas = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_rem</code></td>
<td>
<p>Boolean: Show remaining risk?
Default: <code>show_rem = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_pop</code></td>
<td>
<p>Boolean: Show population partitions?
Default: <code>show_pop = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_aux</code></td>
<td>
<p>Boolean: Show auxiliary elements
(i.e., explanatory lines, points, and labels)?
Default: <code>show_aux = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_num</code></td>
<td>
<p>Boolean: Show numeric values,
provided that <code>show_aux = TRUE</code>.
Default: <code>show_num = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_inc</code></td>
<td>
<p>Boolean: Show risk increments?
Default: <code>show_inc = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_grid</code></td>
<td>
<p>Boolean: Show grid lines?
Default: <code>show_grid = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_pal</code></td>
<td>
<p>Color palette (as a named vector).
Default: <code>col_pal = pal_crisk</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arr_c</code></td>
<td>
<p>Arrow code for symbols at ends of population links
(as a numeric value <code>-3 &lt;= arr_c &lt;= +6</code>),
with the following options:
</p>

<ul>
<li> <p><code>-1</code> to <code>-3</code>: points at one/other/both end/s;
</p>
</li>
<li> <p><code>0</code>: no symbols;
</p>
</li>
<li> <p><code>+1</code> to <code>+3</code>: V-arrow at one/other/both end/s;
</p>
</li>
<li> <p><code>+4</code> to <code>+6</code>: T-arrow at one/other/both end/s.
</p>
</li>
</ul>
<p>Default: <code>arr_c = -3</code> (points at both ends).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Text label for main plot title.
Default: <code>main = txt$scen_lbl</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub</code></td>
<td>
<p>Text label for plot subtitle (on 2nd line).
Default: <code>sub = "type"</code> shows information on current plot type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title_lbl</code></td>
<td>
<p><strong>Deprecated</strong> text label for current plot title.
Replaced by <code>main</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_lbl</code></td>
<td>
<p>Text label of x-axis (at bottom).
Default: <code>x_lbl = "Age (in years)"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_lbl</code></td>
<td>
<p>Text label of y-axis (on left).
Default: <code>y_lbl = "Population risk"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y2_lbl</code></td>
<td>
<p>Text label of 2nd y-axis (on right).
Default: <code>y2_lbl = ""</code> (formerly "Remaining risk").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mar_notes</code></td>
<td>
<p>Boolean option for showing margin notes.
Default: <code>mar_notes = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other (graphical) parameters.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>plot_crisk</code> assumes data inputs <code>x</code> and <code>y</code>
that correspond to each other so that <code>y</code> is a
(monotonically increasing) probability density function
(over cumulative risk amounts represented by <code>y</code>
as a function of <code>x</code>).
</p>
<p>Inputs to <code>x</code> and <code>y</code> must typically be of the same length.
If <code>x</code> but not <code>y</code> is provided,
<code>xy.coords</code> from <strong>grDevices</strong>
is used to determine <code>x</code>- and <code>y</code>-values.
</p>
<p>The risk events quantified by the cumulative risk values in <code>y</code>
are assumed to be uni-directional, non-reversible, and
expressed as percentages (ranging from 0 to 100).
Thus, an element in the population can only switch its status once
(from 'unaffected' to 'affected' by the risk factor).
</p>
<p>A cumulative risk increment is computed for
an interval ranging from <code>x_from</code> to <code>x_to</code>.
If risk values for <code>x_from</code> or <code>x_to</code> are not provided
(i.e., in <code>x</code> and <code>y</code>),
a curve is fitted to predict <code>y</code> by <code>x</code>
(by <code>fit_curve = TRUE</code>).
</p>
<p>Note that naive interpretations allow for both
overestimation (e.g., reading off population values)
and underestimation (e.g., reading off future risk increases without
re-scaling to remaining population).
</p>
<p>For instructional purposes, <code>plot_crisk</code> provides
options for showing/hiding various elements required
for computing or comprehending cumulative risk increments.
</p>
<p>Color information is based on a vector with named
colors <code>col_pal = pal_crisk</code>.
</p>


<h3>Value</h3>

<p>Nothing (NULL).
</p>


<h3>See Also</h3>

<p><code>pal_crisk</code> corresponding color palette.
</p>
<p>Other visualization functions: 
<code>plot.riskyr()</code>,
<code>plot_area()</code>,
<code>plot_bar()</code>,
<code>plot_curve()</code>,
<code>plot_fnet()</code>,
<code>plot_icons()</code>,
<code>plot_mosaic()</code>,
<code>plot_plane()</code>,
<code>plot_prism()</code>,
<code>plot_tab()</code>,
<code>plot_tree()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Data:
x &lt;- seq(0, 100, by = 10)
y &lt;- c(0, 0, 0, 8, 24, 50, 70, 80, 83, 85, 85)

# Basic versions:
plot_crisk(x, y)  # using data provided
plot_crisk(x, y, x_from = 40)  # use and mark 1 provided point
plot_crisk(x, y, x_from = 44)  # use and mark 1 predicted point
plot_crisk(x, y, x_from = 40, x_to = 60)  # use 2 provided points
plot_crisk(x, y, x_from = 44, x_to = 64)  # use 2 predicted points
plot_crisk(x, y, fit_curve = TRUE)  # fitting curve to provided data

# Training versions:
plot_crisk(x, y, 44, 64, show_pas = TRUE)  # past/passed risk only
plot_crisk(x, y, 44, 64, show_rem = TRUE)  # remaining risk only
plot_crisk(x, y, 44, 64, show_pas = TRUE, show_rem = TRUE) # both risks
plot_crisk(x, y, 44, 64, show_aux = TRUE)  # auxiliary lines + axis
plot_crisk(x, y, 44, 64, show_aux = TRUE, show_pop = TRUE)  # + population parts
plot_crisk(x, y, 44, 64, show_aux = TRUE, show_num = TRUE)  # + numeric values
plot_crisk(x, y, 44, 85, show_aux = TRUE, show_pop = TRUE, show_num = TRUE) # + aux/pop/num

# Note: Showing ALL is likely to overplot/overwhelm:
plot_crisk(x, y, x_from = 47, x_to = 67, fit_curve = TRUE,
           main = "The main title", sub = "Some subtitle",
           show_pas = TRUE, show_rem = TRUE, show_aux = TRUE, show_pop = TRUE,
           show_num = TRUE, show_inc = TRUE, show_grid = TRUE, mar_notes = TRUE)

# Small x- and y-values and linear increases:
plot_crisk(x = 2:10, y = seq(12, 28, by = 2), x_from = 4.5, x_to = 8.5,
           show_pas = TRUE, show_rem = TRUE, show_aux = TRUE, show_pop = TRUE,
           show_num = TRUE, show_inc = TRUE)

</code></pre>


</div>