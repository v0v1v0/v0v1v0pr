<div class="container">

<table style="width: 100%;"><tr>
<td>visualize_relationship</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Visualizing the relationship between y and x in a partition model
</h2>

<h3>Description</h3>

<p>Attempts to show how the relationship between y and x is being modeled in a partition or random forest model
</p>


<h3>Usage</h3>

<pre><code class="language-R">visualize_relationship(TREE,interest,on,smooth=TRUE,marginal=TRUE,nplots=5,
  seed=NA,pos="topright",...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>TREE</code></td>
<td>

<p>A partition or random forest model (though it works with many regression models as well)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interest</code></td>
<td>

<p>The name of the predictor variable for which the plot of y vs. x is to be made.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>on</code></td>
<td>

<p>A dataframe giving the values of the other predictor variables for which the relationship is to be visualized.  Typically this is the dataframe on which the partition model was built.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>

<p>If <code>TRUE</code>, the relationship is plotted using a <code>loess</code> to smooth out the relationship
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marginal</code></td>
<td>

<p>If <code>TRUE</code>, the modeled value of y at a particular value of x is the average of the predicted values of y over all rows which have that common value of x.  If <code>FALSE</code>, then <code>nplots</code> rows from <code>on</code> will be selected and all other predictors will be fixed, showing the relationship between y and x for that particular set of characteristics.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nplots</code></td>
<td>

<p>The number of rows of <code>on</code> for which the relationship is plotted (if <code>marginal</code> is set to <code>FALSE</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>the seed for the random number seed if reproducibility is required</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos</code></td>
<td>
<p>the location of the legend</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments past to <code>plot</code>, namely <code>xlim</code> and <code>ylim</code> </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function shows a scatterplot of y vs. x in the <code>on</code> dataframe, then shows how <code>TREE</code> is modeling the relationship between y and x with predicted values of y for each row in the data and also a curve illustrating the relationship.  It is useful for seeing what the relationship between y and x as modeled by <code>TREE</code> "looks like", both as a whole and for particular combinations of other variables.  If <code>marginal</code> is <code>FALSE</code>, then differences  in the curves indicate the presence of some interaction between x and another variable.
</p>


<h3>Author(s)</h3>

<p>Adam Petrie
</p>


<h3>References</h3>

<p>Introduction to Regression and Modeling
</p>


<h3>See Also</h3>

 <p><code>loess</code>, <code>lm</code>, <code>glm</code></p>


<h3>Examples</h3>

<pre><code class="language-R">  data(SALARY)
  FOREST &lt;- randomForest(Salary~.,data=SALARY)
  visualize_relationship(FOREST,interest="Experience",on=SALARY)
  visualize_relationship(FOREST,interest="Months",on=SALARY,xlim=c(1,15),ylim=c(2500,4500))

  data(WINE)
  TREE &lt;- rpart(Quality~.,data=WINE)
  visualize_relationship(TREE,interest="alcohol",on=WINE,smooth=FALSE)
  visualize_relationship(TREE,interest="alcohol",on=WINE,marginal=FALSE,nplots=7,smooth=FALSE)
</code></pre>


</div>