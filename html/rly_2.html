<div class="container">

<table style="width: 100%;"><tr>
<td>lex</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build a lexer</h2>

<h3>Description</h3>

<p>Build all of the regular expression rules from definitions in the supplied module
</p>


<h3>Usage</h3>

<pre><code class="language-R">lex(module = NA, args = list(), debug = FALSE, debuglog = NA,
  errorlog = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>module</code></td>
<td>
<p>R6 class containing lex rules</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args</code></td>
<td>
<p>list of arguments that should be passed to constructor</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debug</code></td>
<td>
<p>on and off debug mode</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debuglog</code></td>
<td>
<p>custom logger for debug messages</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>errorlog</code></td>
<td>
<p>custom logger for error messages</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Lexer ready to use
</p>


<h3>Examples</h3>

<pre><code class="language-R">TOKENS = c('NAME', 'NUMBER')
LITERALS = c('=','+','-','*','/', '(',')')

Lexer &lt;- R6::R6Class("Lexer",
  public = list(
    tokens = TOKENS,
    literals = LITERALS,
    t_NAME = '[a-zA-Z_][a-zA-Z0-9_]*',
    t_NUMBER = function(re='\\d+', t) {
      t$value &lt;- strtoi(t$value)
      return(t)
    },
    t_ignore = " \t",
    t_newline = function(re='\\n+', t) {
       t$lexer$lineno &lt;- t$lexer$lineno + nchar(t$value)
       return(NULL)
    },
    t_error = function(t) {
      cat(sprintf("Illegal character '%s'", t$value[1]))
      t$lexer$skip(1)
      return(t)
    }
  )
)

lexer  &lt;- rly::lex(Lexer)
lexer$input("5 + 3")
print(lexer$token()$value)
# [1] 5
print(lexer$token()$value)
# [1] "+"
print(lexer$token()$value)
# [1] 3
</code></pre>


</div>