<div class="container">

<table style="width: 100%;"><tr>
<td>plot.reconstruction</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot the results of SSA reconstruction</h2>

<h3>Description</h3>

<p>Plot the result of SSA Reconstruction step
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class '1d.ssa.reconstruction'
plot(x, ...,
     type = c("raw", "cumsum"),
     plot.method = c("native", "matplot", "xyplot"),
     base.series = NULL,
     add.original = TRUE,
     add.residuals = TRUE)
## S3 method for class 'toeplitz.ssa.reconstruction'
plot(x, ...,
     type = c("raw", "cumsum"),
     plot.method = c("native", "matplot", "xyplot"),
     base.series = NULL,
     add.original = TRUE,
     add.residuals = TRUE)
## S3 method for class 'mssa.reconstruction'
plot(x,
     slice = list(),
     ...,
     type = c("raw", "cumsum"),
     plot.method = c("native", "matplot", "xyplot"),
     na.pad = c("left", "right"),
     base.series = NULL,
     add.original = TRUE,
     add.residuals = TRUE)
## S3 method for class '2d.ssa.reconstruction'
plot(x, ...,
     type = c("raw", "cumsum"),
     base.series = NULL,
     add.original = TRUE,
     add.residuals = TRUE,
     add.ranges,
     col = grey(c(0, 1)),
     zlim,
     at)
## S3 method for class 'nd.ssa.reconstruction'
plot(x, slice, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>SSA object holding the decomposition</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slice</code></td>
<td>
<p>for ‘mssa’: list with elements named 'series' and 'components';
for ‘nd.ssa’: list with elements named 'i', 'j', 'k' or 'x', 'y', 'z', 't'
or 'd1', 'd2', ... or ‘1', '2', ...; works like ’['-operator,
allows one to select which components from the reconstruction of
multivariate time series or which subarray from reconstruction of
multidimentional array to draw.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of the plot (see 'Details' for more information)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed to methods, such as graphical
parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.method</code></td>
<td>
<p>Plotting method to use: either ordinary all-in-one
via matplot or xyplot, or native plotting method of the input time
series</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.pad</code></td>
<td>
<p>select how to pad the series of unequal length with NA's</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base.series</code></td>
<td>
<p>another SSA reconstruction object, the series of
which should be considered as an original. Useful for plotting the
results of sequential SSA</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.original</code></td>
<td>
<p>logical, if 'TRUE' then the original series are added
to the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.residuals</code></td>
<td>
<p>logical, if 'TRUE' then the residuals are added
to the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>color vector for colorscale,
given by two or more colors,
the first color corresponds to the minimal value,
while the last one corresponds to the maximal value (will be interpolated by <code>colorRamp</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zlim</code></td>
<td>
<p>for 2d-plot, range of displayed values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>at</code></td>
<td>
<p>for 2d-eigenvectors-plot, a numeric vector giving breakpoints along the range of <code>z</code>,
a list of such vectors
or a character string.
If a list is given, corresponding list element (with recycling) will be used for each
plot panel.
For character strings, values 'free' and 'same' are allowed: 'free' means
special breakpoints' vectors (will be evaluated automatically, see description of <code>cuts</code>
argument in 'Details') for each component. 'same' means one breakpoints' vector for all
component (will be evaluated automatically too)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.ranges</code></td>
<td>
<p>logical, if 'TRUE', the range of the components values
will be printed in panels captions</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Additional (non-standard) graphical parameters applicable to 2D SSA plots can be transfered via ...:
</p>

<dl>
<dt>cuts</dt>
<dd>
<p>the number of levels the range of image would be divided into.</p>
</dd>
<dt>ref</dt>
<dd>
<p>logical, whether to plot zero-level isolines</p>
</dd>
<dt>symmetric</dt>
<dd>
<p>logical, whether to use symmetric image range scale</p>
</dd>
<dt>useRaster</dt>
<dd>
<p>logical, indicates whether raster representations should be used. 'TRUE' by default.</p>
</dd>
<dt>fill.uncovered</dt>
<dd>
<p>single number, matrix, one of the following strings: 'mean', 'original', 'void'
or a list of such objects.
For shaped 2d-reconstruction-plot this argument defines filling
method for uncovered by window array elements on components and residuals plots.
If number, all uncovered elements will be replaced by it. If matrix, all uncovered elements will be replaced by
corresponding matrix elements. If 'mean', they will be replaced by mean value of current component. If 'original',
they will be replaced by corresponding elements of original array. 'void' (by default) means no filling.
If list is given, corresponding list element (with recycling) will be used for each plot panel.</p>
</dd>
<dt>fill.color</dt>
<dd>
<p>color or 'NULL'. Defines background color for shaped 2d-reconstruction plot. If 'NULL', standard white
background will be used.</p>
</dd>
</dl>
<h3>See Also</h3>

<p><code>ssa-object</code>,
<code>ssa</code>
<code>reconstruct</code>,
<code>plot</code>,
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Decompose 'co2' series with default parameters
s &lt;- ssa(co2)
r &lt;- reconstruct(s, groups = list(c(1, 4), c(2, 3), c(5, 6)))
# Plot full 'co2' reconstruction into trend, periodic components and noise
plot(r)

# Artificial image for 2dSSA
mx &lt;- outer(1:50, 1:50,
            function(i, j) sin(2*pi * i/17) * cos(2*pi * j/7) + exp(i/25 - j/20)) +
      rnorm(50^2, sd = 0.1)
# Decompose 'mx' with default parameters
s &lt;- ssa(mx, kind = "2d-ssa")
# Reconstruct
r &lt;- reconstruct(s, groups = list(1, 2:5))
# Plot components, original image and residuals
plot(r)
# Plot cumulative sum of components only
plot(r, type = "cumsum", add.residuals = FALSE, add.original = FALSE)

# Real example: Mars photo
data(Mars)
# Decompose only Mars image (without backgroud)
s &lt;- ssa(Mars, mask = Mars != 0, wmask = circle(50), kind = "2d-ssa")
# Reconstruct and plot trend
plot(reconstruct(s, 1), fill.uncovered = "original")
# Reconstruct and plot texture pattern
plot(reconstruct(s, groups = list(c(13, 14, 17, 18))))

# Decompose 'EuStockMarkets' series with default parameters
s &lt;- ssa(EuStockMarkets, kind = "mssa")
r &lt;- reconstruct(s, groups = list(Trend = 1:2))
# Plot original series, trend and residuals superimposed
plot(r, plot.method = "xyplot", superpose = TRUE,
     auto.key = list(columns = 3),
     col = c("blue", "green", "red", "violet"),
     lty = c(rep(1, 4), rep(2, 4), rep(3, 4)))
# Plot the series separately
plot(r, plot.method = "xyplot", add.residuals = FALSE,
     screens = list(colnames(EuStockMarkets)),
     col = c("blue", "green", "red", "violet"),
     lty = c(rep(1, 4), rep(2, 4), rep(3, 4)))

# 3D-SSA example (2D-MSSA)
data(Barbara)
ss &lt;- ssa(Barbara, L = c(50, 50, 1))
plot(reconstruct(ss, groups = 1), slice = list(k = 1))

</code></pre>


</div>