<div class="container">

<table style="width: 100%;"><tr>
<td>regression</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Linear Regression</h2>

<h3>Description</h3>

<p>Perform linear regression on variables of a data set.  The output is printed
as a LaTeX table that mimics the look of SPSS output, and plots of the
results mimic the look of SPSS graphs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">regression(..., data, labels = NULL)

## S3 method for class 'regression_SPSS'
to_SPSS(
  object,
  statistics = c("estimates", "anova", "summary"),
  change = FALSE,
  version = r2spss_options$get("version"),
  ...
)

## S3 method for class 'regression_SPSS'
print(
  x,
  statistics = c("summary", "anova", "estimates"),
  change = FALSE,
  version = r2spss_options$get("version"),
  ...
)

## S3 method for class 'regression_SPSS'
coef(object, ...)

## S3 method for class 'regression_SPSS'
df.residual(object, ...)

## S3 method for class 'regression_SPSS'
fitted(object, standardized = FALSE, ...)

## S3 method for class 'regression_SPSS'
residuals(object, standardized = FALSE, ...)

## S3 method for class 'regression_SPSS'
plot(
  x,
  y,
  which = c("histogram", "scatter"),
  version = r2spss_options$get("version"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>for <code>regression</code>, at least one formula specifying a
regression model.  Different models can be compared by supplying multiple
formulas.  For  the <code>to_SPSS</code> and <code>print</code> methods, additional
arguments to be passed down to <code>format_SPSS</code>.  For the
<code>plot</code> method, additional arguments to be passed down to
<code>histSPSS</code> or <code>plotSPSS</code>, in particular graphical
parameters.  For other methods, this is currently ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame containing the variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>a character or numeric vector giving labels for the
regression models in the output tables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object, x</code></td>
<td>
<p>an object of class <code>"regression_SPSS"</code> as returned by
function <code>regression</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statistics</code></td>
<td>
<p>a character string or vector specifying which SPSS tables
to produce.  Available options are <code>"summary"</code> for model summaries,
<code>"anova"</code> for ANOVA results, and <code>"estimates"</code> for estimated
coefficients.  For the <code>to_SPSS</code> method, only one option is allowed
(the default is the table of ANOVA results), but the <code>print</code> method
allows several options (the default is to print all tables).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>change</code></td>
<td>
<p>a logical indicating whether tests on the
<code class="reqn">R^2</code> change should be included in the table with model
summaries (if <code>statistics = "summary"</code>).  The default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>version</code></td>
<td>
<p>a character string specifying whether the table or plot
should mimic the content and look of recent SPSS versions (<code>"modern"</code>)
or older versions (&lt;24; <code>"legacy"</code>).  For the table, the main
difference in terms of content is that small p-values are displayed
differently.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standardized</code></td>
<td>
<p>a logical indicating whether to return standardized
residuals and fitted values (<code>TRUE</code>), or residuals and fitted values on
their original scale (<code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>ignored (only included because it is defined for the generic
function <code>plot</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>a character string specifying which plot to produce.  Possible
values are <code>"histogram"</code> for a histogram of the residuals, or
<code>"scatter"</code> for a scatterplot of the standardized residuals against the
standardized fitted values.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>print</code> method first calls the <code>to_SPSS</code> method followed
by <code>to_latex</code>.  Further customization can be done by calling
those two functions separately, and modifying the object returned by
<code>to_SPSS</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>"regression_SPSS"</code> with the following
components:
</p>

<dl>
<dt><code>models</code></dt>
<dd>
<p>a list in which each component is an ojbect of class
<code>"lm"</code> as returned by function <code>lm</code>.</p>
</dd>
<dt><code>summaries</code></dt>
<dd>
<p>a list in which each component is an ojbect of
class <code>"summary.lm"</code> as returned by the
<code>summary</code> method for objects of class
<code>"lm"</code>.</p>
</dd>
<dt><code>response</code></dt>
<dd>
<p>a character string containing the name of the
response variable.</p>
</dd>
<dt><code>method</code></dt>
<dd>
<p>a character string specifying whether the nested
models are increasing in dimension by entering additional variables
(<code>"enter"</code>) or decreasing in dimension by removing variables
(<code>"remove"</code>).</p>
</dd>
</dl>
<p>The <code>to_SPSS</code> method returns an object of class <code>"SPSS_table"</code>
which contains all relevant information in the required format to produce
the LaTeX table.  See <code>to_latex</code> for possible components and
how to further customize the LaTeX table based on the returned object.
</p>
<p>The <code>print</code> method produces a LaTeX table that mimics the look of SPSS
output.
</p>
<p>The <code>coef</code>, <code>df.residual</code>, <code>fitted</code> and <code>residuals</code>
methods return the coefficients, residual degrees of freedom, fitted
values and residuals, respectively, of the <em>last</em> model (to mimic
SPSS functionality).
</p>
<p>Similarly, the <code>plot</code> method returns the specified plot for the
<em>last</em> model as an object of class <code>"ggplot"</code>,
which produces the plot when printed.
</p>


<h3>Note</h3>

<p>LaTeX tables that mimic recent versions of SPSS (<code>version = "modern"</code>)
may require several LaTeX compilations to be displayed correctly.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load data
data("Eredivisie")
# log-transform market values
Eredivisie$logMarketValue &lt;- log(Eredivisie$MarketValue)
# squared values of age
Eredivisie$AgeSq &lt;- Eredivisie$Age^2

# simple regression model of log market value on age
fit1 &lt;- regression(logMarketValue ~ Age, data = Eredivisie)
fit1                           # print LaTeX table
plot(fit1, which = "scatter")  # diagnostic plot

# add a squared effect for age
fit2 &lt;- regression(logMarketValue ~ Age + AgeSq,
                   data = Eredivisie, labels = 2)
fit2                           # print LaTeX table
plot(fit2, which = "scatter")  # diagnostic plot

# more complex models with model comparison
fit3 &lt;- regression(logMarketValue ~ Age + AgeSq,
                   logMarketValue ~ Age + AgeSq + Contract +
                                    Foreign,
                   logMarketValue ~ Age + AgeSq + Contract +
                                    Foreign + Position,
                   data = Eredivisie, labels = 2:4)
print(fit3, change  = TRUE)      # print LaTeX table
plot(fit3, which = "histogram")  # diagnostic plot

</code></pre>


</div>