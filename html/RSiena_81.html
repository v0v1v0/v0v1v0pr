<div class="container">

<table style="width: 100%;"><tr>
<td>sienaGroupCreate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to group together several Siena data objects </h2>

<h3>Description</h3>

<p>Creates an object of class "sienaGroup" from a list of  
Siena data objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sienaGroupCreate(objlist, singleOK = FALSE, getDocumentation=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>objlist</code></td>
<td>
<p> List of objects of class <code>siena</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>singleOK</code></td>
<td>
<p> Boolean: is it OK to only have one object?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>getDocumentation</code></td>
<td>
<p>Flag to allow documentation of internal
functions, not for use by users.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function creates a Siena group object from several Siena data
objects ('groups'), all of which use networks, covariates and actor sets
with the same names. The variables must correspond exactly
between all data objects; the numbers of waves may differ.
It can be used as data input to <code>siena07</code> for the
multigroup option.
Also used internally for convenience with a single Siena data object.
</p>
<p>Each covariate should either be centered in all groups, or non-centered
in all groups.
Centered actor covariates are re-centered at the overall mean.
This means that the original values are used, and the overall
mean of all non-missing observations is subtracted. Note that this implies
that group-dependent variables that are constant for all actors in each
group, can be used as centered actor covariates.
</p>
<p>For combining two-wave with more-wave groups in one group object,
covariates that are changing covariates for the more-wave groups have to
be specified as changing covariates also for the two-wave groups.
This can be done by specifying them with values for the two waves;
for actor covariates this will be by using an <code class="reqn">n \times 2</code> matrix,
for dyadic covariates an <code class="reqn">n \times n \times 2</code> array
(or <code class="reqn">n \times m \times 2</code> for the two-mode case).
The values for the second wave should be identical to those for the
first wave (they will be used only for centering operations).
</p>
<p>For later use in <code>siena07</code>,
it will often (but not always...) be helpful when creating the
Siena data objects in <code>objlist</code>
to use <code>allowOnly=FALSE</code> in the call of
<code>sienaDependent</code>; see the help page for this function.
</p>
<p>If there are multiple dependent networks, it may be necessary to run
<code>sienaDataConstraint</code> before <code>sienaGroupCreate</code>
to ensure that these constraints are equal for all groups.
</p>


<h3>Value</h3>

<p>An object of class <code>sienaGroup</code>; this is a list
containing the input objects, with attributes:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>netnames</code></td>
<td>
<p>names of the dependent variables in each set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symmetric</code></td>
<td>
<p>vector of booleans, one for each dependent
variable. TRUE if all occurrences of the network are symmetric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>structural</code></td>
<td>
<p>vector of booleans, indicating whether structurally
fixed values occur in this network</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allUpOnly</code></td>
<td>
<p>vector of booleans, indicating whether changes are
all upwards in all the occurrences of this network</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allDownOnly</code></td>
<td>
<p>similar to previous, but for downward changes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anyUpOnly</code></td>
<td>
<p>vector of booleans, indicating whether changes are
all upwards in any of the occurrences of this network</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anyDownOnly</code></td>
<td>
<p>similar to previous, but for downward changes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>types</code></td>
<td>
<p>vector of network types of the dependent variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>observations</code></td>
<td>
<p>Total number of periods to process</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>periodNos</code></td>
<td>
<p>Sequence of numbers of periods which are not skipped
in multigroup processing</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>netnodeSets</code></td>
<td>
<p>list of names of the node sets corresponding to the
dependent variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cCovars</code></td>
<td>
<p>names of the constant covariates, if any</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vCovars</code></td>
<td>
<p>names of the changing  covariates, if any</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dycCovars</code></td>
<td>
<p>names of the constant dyadic covariates, if any</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dyvCovars</code></td>
<td>
<p>names of the changing dyadic covariates, if any</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ccnodeSets</code></td>
<td>
<p>list of the names of the node sets corresponding to
the constant covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cvnodeSets</code></td>
<td>
<p>list of the names of the node sets corresponding to
the changing covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dycnodeSets</code></td>
<td>
<p>list of the names of the node sets corresponding to
the constant dyadic covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dyvcnodeSets</code></td>
<td>
<p>list of the names of the node sets corresponding to
the changing dyadic covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compositionChange</code></td>
<td>
<p>boolean: any composition change at all?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exooptions</code></td>
<td>
<p>named vector of composition change options for the
node sets</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p>Either from the input objects or "Data1", "Data2" etc</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class</code></td>
<td>
<p>"sienaGroup" inheriting from "siena"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>balmean</code></td>
<td>
<p>vector of means for balance calculations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bRange</code></td>
<td>
<p>vector of difference between maximum and minimum values
for behavior variables, NA for other dependent variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>behRange</code></td>
<td>
<p>matrix of  maximum and minimum values
for behavior variables, NA for other dependent variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bSim</code></td>
<td>
<p>vector of similarity means for behavior variables, NA for
other dependent variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bPoszvar</code></td>
<td>
<p>vector of booleans indicating positive variance for
behavior variables. NA for other dependent variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bMoreThan2</code></td>
<td>
<p>vector of booleans indicating whether the behavior
variables take more than 2 distinct values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cCovarPoszvar</code></td>
<td>
<p>vector of booleans indicating positive variance for
constant covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cCovarMoreThan2</code></td>
<td>
<p>vector of booleans indicating whether the
constant covariates take more than 2 distinct values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cCovarRange</code></td>
<td>
<p>vector of difference between maximum and minimum
values for constant covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cCovarRange2</code></td>
<td>
<p>matrix of maximum and minimum values for constant
covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cCovarSim</code></td>
<td>
<p>vector of similarity means for constant covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cCovarMean</code></td>
<td>
<p>vector of means for constant covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vCovarRange</code></td>
<td>
<p>vector of difference between maximum and minimum
values for changing covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vCovarSim</code></td>
<td>
<p>vector of similarity means for changing covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vCovarMoreThan2</code></td>
<td>
<p>vector of booleans indicating whether the
changing covariates take more than 2 distinct values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vCovarPoszvar</code></td>
<td>
<p>vector of booleans indicating positive variance for
changing covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vCovarMean</code></td>
<td>
<p>vector of means for changing covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dycCovarMean</code></td>
<td>
<p>vector of means for constant dyadic covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dycCovarRange</code></td>
<td>
<p>vector of ranges for constant dyadic covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dycCovarRange2</code></td>
<td>
<p>matrix of maximum and minimum values
for constant dyadic covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dyvCovarRange</code></td>
<td>
<p>vector of ranges for changing dyadic covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dyvCovarMean</code></td>
<td>
<p>vector of means for changing dyadic covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anyMissing</code></td>
<td>
<p>vector of booleans, one for each dependent variable,
indicating the presence of any missing values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>netRanges</code></td>
<td>
<p>matrix of maximum and minimum values for dependent
networks, NA for behavior variables</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p> Ruth Ripley, Modification by Tom Snijders </p>


<h3>References</h3>

<p>See the Section on Multi-group Siena analysis in the manual
available from <a href="https://www.stats.ox.ac.uk/~snijders/siena/">https://www.stats.ox.ac.uk/~snijders/siena/</a>.</p>


<h3>See Also</h3>

<p><code>sienaDataCreate</code>, <code>sienaDataConstraint</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">Group1 &lt;- sienaDependent(array(c(N3401, HN3401), dim=c(45, 45, 2)))
Group3 &lt;- sienaDependent(array(c(N3403, HN3403), dim=c(37, 37, 2)))
Group4 &lt;- sienaDependent(array(c(N3404, HN3404), dim=c(33, 33, 2)))
Group6 &lt;- sienaDependent(array(c(N3406, HN3406), dim=c(36, 36, 2)))
# Illustration of the use of group-level variables:
# dum1 is a dummy variable for group 1,
# having constant value 1 in group 1, and constant value 0 in the other groups.
dum1.1  &lt;- coCovar(c(rep(1,45)), warn = FALSE)
dum1.3  &lt;- coCovar(c(rep(0,37)), warn = FALSE)
dum1.4  &lt;- coCovar(c(rep(0,33)), warn = FALSE)
dum1.6  &lt;- coCovar(c(rep(0,36)), warn = FALSE)
# In a similar way, dummies for the other groups can be defined.
dataset.1 &lt;- sienaDataCreate(Friends = Group1, dum1 = dum1.1)
dataset.3 &lt;- sienaDataCreate(Friends = Group3, dum1 = dum1.3)
dataset.4 &lt;- sienaDataCreate(Friends = Group4, dum1 = dum1.4)
dataset.6 &lt;- sienaDataCreate(Friends = Group6, dum1 = dum1.6)
(FourGroups &lt;- sienaGroupCreate(list(dataset.1, dataset.3, dataset.4,
                                     dataset.6)))
class(FourGroups)
# The main effect of the group-level variable is the \code{egoX} effect:
myeff &lt;- getEffects(FourGroups)
(myeff &lt;- includeEffects(myeff, egoX, interaction1 = "dum1"))
</code></pre>


</div>