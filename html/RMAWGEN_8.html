<div class="container">

<table style="width: 100%;"><tr>
<td>continuity_ratio</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculates the continuity ratio of a set of precipitation measured or generated data in several sites as defined by Wilks, 1998 (see reference link)</h2>

<h3>Description</h3>

<p>Calculates the continuity ratio of a set of precipitation measured or generated data in several sites as defined by Wilks, 1998 (see reference link)
</p>


<h3>Usage</h3>

<pre><code class="language-R">continuity_ratio(data, lag = 0, valmin = 0.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>containing daily precipitation time series for several gauges (one gauge time series per column)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag</code></td>
<td>
<p>numeric lag (expressed as number of days) used for computation for "cross" continuity ratio and joint probability of prercipitation (no)occurrence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valmin</code></td>
<td>
<p>threshold precipitation value [mm] for wet/dry day indicator. 
If precipitation is lower than <code>valmin</code>, day is considered dry. Default is 0.5 mm.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the following matrices: 
</p>
<p><code>continuity_ratio</code> : <code>lag</code>-day lagged  continuity ratio , 
</p>
<p><code>occurrence</code>  : joint probability of <code>lag</code>-day lagged precipitation occurrence  
</p>
<p><code>nooccurrence</code> : joint probability of <code>lag</code>-day lagged no precipitation occurrence.
</p>
<p><code>nooccurrence_occurrence</code> : joint probability of <code>lag</code>-day lagged no precipitation and precipitation occurrence respectively.
</p>
<p><code>occurrence_nooccurrence</code> : joint probability of <code>lag</code>-day lagged precipitation and no precipitation occurrence respectively.
</p>
<p><code>probability_continuity_ratio</code>: <code>lag</code>-day lagged ratio about precipitation probability contitioned to no precipitation/preciitation occurrence in the other site
</p>


<h3>Note</h3>

<p>If <code>lag==0</code> the function returns the continuity ratio and joint probability as described by Wilks, 1998. Otherwise the precipitation values for each couple of rain gauges are taken with <code>lag</code>-day lag.
</p>


<h3>References</h3>

<p>see the following URL references:  <a href="http://onlinelibrary.wiley.com/doi/10.1002/joc.2305/abstract">http://onlinelibrary.wiley.com/doi/10.1002/joc.2305/abstract</a> 
and <a href="http://www.sciencedirect.com/science/article/pii/S0022169498001863">http://www.sciencedirect.com/science/article/pii/S0022169498001863</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(trentino)

year_min &lt;- 1961
year_max &lt;- 1990
origin &lt;- paste(year_min,1,1,sep="-")

period &lt;- PRECIPITATION$year&gt;=year_min &amp; PRECIPITATION$year&lt;=year_max
station &lt;- names(PRECIPITATION)[!(names(PRECIPITATION) %in% c("day","month","year"))]
prec_mes &lt;- PRECIPITATION[period,station]  

## removing nonworking stations (e.g. time series with NA)
accepted &lt;- array(TRUE,length(names(prec_mes)))
names(accepted) &lt;- names(prec_mes)
for (it in names(prec_mes)) {
		 accepted[it]  &lt;- (length(which(!is.na(prec_mes[,it])))==length(prec_mes[,it]))
}

prec_mes &lt;- prec_mes[,accepted]
## the dateset is reduced!!! 
prec_mes &lt;- prec_mes[,1:2]

continuity_ratio &lt;-continuity_ratio(data=prec_mes,lag=0,valmin=0.5)
continuity_ratio1 &lt;-continuity_ratio(data=prec_mes,lag=-1,valmin=0.5)


</code></pre>


</div>