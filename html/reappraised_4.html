<div class="container">

<table style="width: 100%;"><tr>
<td>cohort_fn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compares proportions of matching summary statistics in different cohorts</h2>

<h3>Description</h3>

<p>Creates flextable of probability of matching mean, SD, and mean and SD for each variable in different cohorts in the
specified number of simulations<br></p>


<h3>Usage</h3>

<pre><code class="language-R">cohort_fn(
  df = cohort_data,
  seed = 0,
  sims = -1,
  n_vars = 10,
  popn = "",
  title = "",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>data frame generated from load_clean function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>the seed to use for random number generation, default 0 = current date and time. Specify seed to make repeatable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sims</code></td>
<td>
<p>number of simulations, default -1 = function selects based on number of variables and sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_vars</code></td>
<td>
<p>restrict analyses to variables in at least (&gt;=) this number of cohorts, default = 10 (ie variable has mean in 10 or more cohorts).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>popn</code></td>
<td>
<p>if dataset contains studies in different sub-populations, code this in cohort_data$population and studies are subsetted if match in this variable. 'All' overrides this and uses all data regardless of information in this variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>title name for plots (optional)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>TRUE or FALSE indicates whether progress bar and comments show and flextable is printed</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Reference data is from Bolland 2021<br>
Bolland MJ, Gamble GD, Avenell A, Grey A. Identical summary statistics were uncommon in randomized trials and cohort studies. J Clin Epidemiol 2021;136:180-188.
</p>
<p>Returns a list containing 6 objects and (if verbose = TRUE) prints the flextable cohort_ft
</p>


<h3>Value</h3>

<p>list containing 6 objects as described
</p>

<ul>
<li>
<p> cohort_ft = flextable of results
</p>
</li>
<li>
<p> cohort_graph = plot of observed to expected numbers of matches per cohort for mean; SD; and mean and SD
</p>
</li>
<li>
<p> all_graphs = list containing
</p>

<ul>
<li>
<p> all_graphs = all plots on single plot
</p>
</li>
<li>
<p> both_graphs = list of 3 plots row by row used to form all_graphs
</p>
</li>
<li>
<p> individual_graphs= list of 6 individual plots used to form all_graphs
</p>
</li>
</ul>
</li>
<li>
<p> cohort_cohort_data = data frame used to generate results data
</p>
</li>
<li>
<p> cohort_prob_data = data frame used to make flextable
</p>
</li>
<li>
<p> cohort_oe_data= data frame used to make observed to expected plots
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R"># load example data
cohort_data &lt;- load_clean(import= "no", file.cont = "SI_cohort", cohort= "yes",
format.cont = "long")$cohort_data


# run function (takes close to 5 seconds)
cohort_fn(seed=10, sims = 100)$cohort_ft

# to import an excel spreadsheet (modify using local path,
# file and sheet name, range, and format):

# get path for example files
path &lt;- system.file("extdata", "reappraised_examples.xlsx", package = "reappraised",
                     mustWork = TRUE)
# delete file name from path
path &lt;- sub("/[^/]+$", "", path)

# load data
cohort_data &lt;- load_clean(import= "yes", cohort = "yes", dir = path,
     file.name.cont = "reappraised_examples.xlsx", sheet.name.cont = "SI_cohort",
     range.name.cont = "A1:F101", format.cont = "long")$cohort_data

</code></pre>


</div>