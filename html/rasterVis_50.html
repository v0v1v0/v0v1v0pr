<div class="container">

<table style="width: 100%;"><tr>
<td>plot3D</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Interactive 3D plot of a RasterLayer</h2>

<h3>Description</h3>

<p>Make an interactive 3D plot (map) of a RasterLayer. This is a wrapper around <code>surface3d</code> in the rgl package. You can use <code>decorate3d</code> to add axes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'RasterLayer'
plot3D(x, maxpixels=1e5, 
   zfac=1, drape=NULL, col=terrain.colors,
   at=100, rev=FALSE,
   useLegend=TRUE, adjust=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a RasterLayer object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxpixels</code></td>
<td>
<p>Maximum number of pixels to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zfac</code></td>
<td>
<p>Numeric, to set the elevation scale relative to x and y</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drape</code></td>
<td>
<p>RasterLayer, to 'drape' colors representing the values of
this layer on the 3D representation of layer <code>x</code>. In this
case<code>x</code> typically has elevation data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>A color palette generating function such as <code>rainbow</code>,
<code>heat.colors</code>, and <code>topo.colors</code>, or one or your own making</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>at</code></td>
<td>
<p>A numeric variable of breakpoints defining intervals along
the range of <code>x</code> or a number definining the number of
intervals the range of <code>x</code> will be divided into.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rev</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the color palette values are
reversed in order</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useLegend</code></td>
<td>
<p>Logical. If <code>TRUE</code> (default) the content of the
slot <code>x@legend@colortable</code> is used instead of <code>col</code> and
<code>at</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjust</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the x and y axes are scaled
relative to the cell (z) values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Any argument that can be passed to
<code>surface3d</code></p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Previous versions opened a new device with each call of
<code>plot3D</code>. This behaviour has been modified, and now a new device is
opened only if none is active. Thus, you should use <code>rgl::open3d()</code>
if you need to display a new scene without modifying the current one.</p>


<h3>Author(s)</h3>

<p> Robert J. Hijmans and Oscar Perpiñán</p>


<h3>Examples</h3>

<pre><code class="language-R"> ## Not run: 
library(raster)

## rgl is needed to use plot3D
library(rgl)

data(volcano)
r &lt;- raster(volcano)
extent(r) &lt;- c(0, 610, 0, 870)

## level plot as reference
levelplot(r, col.regions=terrain.colors)

plot3D(r)
## Use different colors with a predefined function
plot3D(r, col = rainbow)
## or with a custom function using colorRampPalette
myPal &lt;- colorRampPalette(RColorBrewer::brewer.pal(11, 'PuOr'))
plot3D(r, col = myPal)

## With at you can define an homogeneus color table for different Rasters

r2 &lt;- r + 100
r3 &lt;- r + 200
s &lt;- stack(r, r2, r3)

maxVal &lt;- max(maxValue(s))
minVal &lt;- min(minValue(s))
N &lt;- 40
breaks &lt;- seq(minVal, maxVal, length=N)

plot3D(r, at=breaks)
plot3D(r2, at=breaks)
plot3D(r3, at=breaks)

## Default: x-axis and y-axis are adjusted with z-values. Therefore,
## labels with decorate3d() are useless
plot3D(r, adjust=TRUE)
decorate3d()
## Compare the graphic limits
par3d('bbox')
## with the extent of the Raster
extent(r)

## Set adjust=FALSE to fix it
plot3D(r, adjust=FALSE)
decorate3d()
## Once again, compare the graphic limits
par3d('bbox')
## with the extent of the Raster
extent(r)

## zfac controls the z values so z-axis will be distorted
plot3D(r, adjust=FALSE, zfac=2)
decorate3d()
par3d('bbox')


## With drape you can disconnect the z-axis from the colors
drape &lt;- cut(r^4, 4)
plot3D(r, drape=drape)
## Compare with:
plot3D(r, at=4)

## End(Not run)
</code></pre>


</div>