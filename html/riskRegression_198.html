<div class="container">

<table style="width: 100%;"><tr>
<td>simPBC</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>simulating data alike the pbc data</h2>

<h3>Description</h3>

<p>This function can be used to simulate data alike the pbc data from the survival package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simPBC(n)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Sample size</p>
</td>
</tr></table>
<h3>Details</h3>

<p>using lava to synthesize data
</p>


<h3>Value</h3>

<p>The simulated data.
</p>


<h3>Author(s)</h3>

<p>Thomas A. Gerds &lt;tag@biostat.ku.dk&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(survival)
library(lava)
# simulate data alike pbc data
set.seed(98)
d=simPBC(847)
d$protimegrp1 &lt;- d$protimegrp=="10-11"
d$protimegrp2 &lt;- d$protimegrp=="&gt;11"
d$sex &lt;- factor(d$sex,levels=0:1,labels=c("m","f"))
sF1 &lt;- survreg(Surv(time,status==1)~sex+age+logbili+protimegrp1+protimegrp2+stage3+stage4,
data=d)
coxF1 &lt;- coxph(Surv(time,status==1)~sex+age+logbili+protimegrp1+protimegrp2+stage3+stage4,
data=d)
# load real pbc data
data(pbc,package="survival")
pbc &lt;- na.omit(pbc[,c("time","status","age","sex","stage","bili","protime","trt")])
pbc$stage &lt;- factor(pbc$stage)
levels(pbc$stage) &lt;- list("1/2"=c(1,2),"3"=3,"4"=4)
pbc$logbili &lt;- log(pbc$bili)
pbc$logprotime &lt;- log(pbc$protime)
pbc$stage3 &lt;- 1*(pbc$stage=="3")
pbc$stage4 &lt;- 1*(pbc$stage=="4")
pbc$protimegrp &lt;- cut(pbc$protime,c(-Inf,10,11,Inf),labels=c("&lt;=10","10-11","&gt;11"))
pbc$protimegrp1 &lt;- pbc$protimegrp=="10-11"
pbc$protimegrp2 &lt;- pbc$protimegrp=="&gt;11"
form1=Surv(time,status==1)~sex+age+logbili+protimegrp1+protimegrp2+stage3+stage4
F1 &lt;- survival::survreg(form1,data=pbc)
form2=Surv(time,status==2)~sex+age+logbili+protimegrp1+protimegrp2+stage3+stage4
F2 &lt;- survival::survreg(form1,data=pbc)
sF2 &lt;- survreg(Surv(time,status==2)~sex+age+logbili+protimegrp1+protimegrp2+stage3+stage4,
data=d)
G &lt;- survreg(Surv(time,status==0)~sex+age+logbili+protimegrp1+protimegrp2+stage3+stage4,
data=pbc)
sG &lt;- survreg(Surv(time,status==0)~sex+age+logbili+protimegrp1+protimegrp2+stage3+stage4,
data=d)
# compare fits in real and simulated pbc data
cbind(coef(F1),coef(sF1))
cbind(coef(F2),coef(sF2))
cbind(coef(G),coef(sG))
cbind(coef(glm(protimegrp1~age+sex+logbili,data=pbc,family="binomial")),
coef(glm(protimegrp1~age+sex+logbili,data=d,family="binomial")))
cbind(coef(lm(logbili~age+sex,data=pbc)),coef(lm(logbili~age+sex,data=d)))
</code></pre>


</div>