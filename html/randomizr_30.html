<div class="container">

<table style="width: 100%;"><tr>
<td>strata_and_cluster_rs_probabilities</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Inclusion Probabilities: Stratified and Clustered Random Sampling</h2>

<h3>Description</h3>

<p>Inclusion Probabilities: Stratified and Clustered Random Sampling
</p>


<h3>Usage</h3>

<pre><code class="language-R">strata_and_cluster_rs_probabilities(
  strata = NULL,
  clusters = NULL,
  prob = NULL,
  prob_unit = NULL,
  n = NULL,
  n_unit = NULL,
  strata_n = NULL,
  strata_prob = NULL,
  check_inputs = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>strata</code></td>
<td>
<p>A vector of length N that indicates which stratum each unit belongs to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clusters</code></td>
<td>
<p>A vector of length N that indicates which cluster each unit belongs to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>Use for a design in which either floor(N_clusters_stratum*prob) or ceiling(N_clusters_stratum*prob) clusters are sampled within each stratum. The probability of being sampled is exactly prob because with probability 1-prob, floor(N_clusters_stratum*prob) clusters will be sampled and with probability prob, ceiling(N_clusters_stratum*prob) clusters will be sampled. prob must be a real number between 0 and 1 inclusive. (optional)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob_unit</code></td>
<td>
<p>Must of be of length N. tapply(prob_unit, blocks, unique) will be passed to <code>strata_prob</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Use for a design in which the scalar n describes the fixed number of units to sample in each stratum. This number does not vary across strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_unit</code></td>
<td>
<p>Must be of length N. tapply(m_unit, blocks, unique) will be passed to <code>strata_n</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata_n</code></td>
<td>
<p>Use for a design in which strata_n describes the number of units to sample within each stratum.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata_prob</code></td>
<td>
<p>Use for a design in which strata_prob describes the probability of being sampled within each stratum. Differs from prob in that the probability of being sampled can vary across strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_inputs</code></td>
<td>
<p>logical. Defaults to TRUE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector length N indicating the probability of being sampled.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
clusters &lt;- rep(letters, times = 1:26)

strata &lt;- rep(NA, length(clusters))
strata[clusters %in% letters[1:5]] &lt;- "stratum_1"
strata[clusters %in% letters[6:10]] &lt;- "stratum_2"
strata[clusters %in% letters[11:15]] &lt;- "stratum_3"
strata[clusters %in% letters[16:20]] &lt;- "stratum_4"
strata[clusters %in% letters[21:26]] &lt;- "stratum_5"

table(strata, clusters)

probs &lt;- strata_and_cluster_rs_probabilities(strata = strata,
                                         clusters = clusters)

table(probs, strata)
table(probs, clusters)


probs &lt;- strata_and_cluster_rs_probabilities(clusters = clusters,
                                         strata = strata,
                                         prob = .5)

table(probs, clusters)
table(probs, strata)

probs &lt;- strata_and_cluster_rs_probabilities(clusters = clusters,
                                         strata = strata,
                                         strata_n = c(2, 3, 2, 3, 2))

table(probs, clusters)
table(probs, strata)

probs &lt;- strata_and_cluster_rs_probabilities(clusters = clusters,
                                         strata = strata,
                                         strata_prob = c(.1, .2, .3, .4, .5))

table(probs, clusters)
table(probs, strata)


</code></pre>


</div>