<div class="container">

<table style="width: 100%;"><tr>
<td>bbd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate a Box-Behnken design</h2>

<h3>Description</h3>

<p>This function can generate a Box-Behnken design in 3 to 7 factors, and optionally will block it orthogonally if there are 4 or 5 factors.  It can also randomize the design.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bbd(k, n0 = 4, block = (k == 4 | k == 5), randomize = TRUE, coding)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>A formula, or an integer giving the number of variables.  If the formula has a left-hand side, the variables named there are appended to the design and initialized to <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n0</code></td>
<td>
<p>Number of center points in each block.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>block</code></td>
<td>
<p>Logical value specifying whether or not to block the design; or a character string (taken as <code>TRUE</code>) giving the desired name for the blocking factor.
Only BBDs with 4 or 5 factors can be blocked.  A 4-factor BBD has three orthogonal blocks, and a 5-factor BBD has two.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>randomize</code></td>
<td>
<p>Logical value determining whether or not to randomize the design.  If <code>block</code> is <code>TRUE</code>, each block is randomized separately.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coding</code></td>
<td>
<p>Optional list of formulas.  If this is provided, it overrides the default coding formulas.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Box-Behnken designs (BBDs) are useful designs for fitting second-order response-surface models.  They use only three levels of each factor (compared with 5 for central-composite designs) and sometimes fewer runs are required than a CCD.
This function uses an internal table of BBDs; it only works for 3 to 7 factors.
</p>
<p>If <code>k</code> is specified as a formula, the names in the formula determine the names of the factors in the generated design.  Otherwise, the names will be <code>x1, x2, ...</code>. If <code>coding</code> is not specified, default codings are created in the form ‘<span class="samp">⁠x ~ x.as.is⁠</span>’.
</p>


<h3>Value</h3>

<p>A <code>coded.data</code> object with the generated design and the additional valiables <code>run.order</code> and <code>std.order</code>.  The blocking variable, if present, will be a <code>factor</code>; all other variables will be numeric.
</p>


<h3>Note</h3>

<p>To avoid aliasing the pure-quadratic terms, you must use a positive value of <code>n0</code>.
</p>
<p>The non-exported function <code>rsm:::.bbd.1.41</code> is provided in case it is needed by other packages for compatibility with old versions of <span class="pkg">rsm</span> (version 1.41 or earlier). Given the same seed, it will also reproduce the randomization as a previously generated design from an old version.
</p>


<h3>Author(s)</h3>

<p>Russell V. Lenth</p>


<h3>References</h3>

<p>Lenth RV (2009) “Response-Surface Methods in R, Using rsm”, 
<em>Journal of Statistical Software</em>, 32(7), 1–17. 
<a href="https://doi.org/10.18637/jss.v032.i07">doi:10.18637/jss.v032.i07</a>
</p>
<p>Myers, RH, Montgomery, DC, and Anderson-Cook, CM (2009) 
<em>Response Surface Methodology</em> (3rd ed.), Wiley.
</p>


<h3>See Also</h3>

<p><code>ccd</code>, <code>coded.data</code></p>


<h3>Examples</h3>

<pre><code class="language-R">library(rsm)

### Simple 3-factor case, not randomized so structure is evident
bbd(3, randomize=FALSE)

### 5-factor BBD, divided between two plants
bbd(y1 + y2 ~ A + B + C + D + E,  n0 = 5,  block = "Plant")
</code></pre>


</div>