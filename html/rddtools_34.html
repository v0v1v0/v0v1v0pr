<div class="container">

<table style="width: 100%;"><tr>
<td>rdd_gen_reg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>General polynomial estimator of the regression discontinuity</h2>

<h3>Description</h3>

<p>Compute RDD estimate allowing a locally kernel weighted version of any estimation function
possibly on the range specified by bandwidth
</p>


<h3>Usage</h3>

<pre><code class="language-R">rdd_gen_reg(
  rdd_object,
  fun = glm,
  covariates = NULL,
  order = 1,
  bw = NULL,
  slope = c("separate", "same"),
  covar.opt = list(strategy = c("include", "residual"), slope = c("same", "separate"),
    bw = NULL),
  weights,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rdd_object</code></td>
<td>
<p>Object of class rdd_data created by <code>rdd_data</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>The function to estimate the parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariates</code></td>
<td>
<p>Formula to include covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>Order of the polynomial regression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bw</code></td>
<td>
<p>A bandwidth to specify the subset on which the kernel weighted regression is estimated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slope</code></td>
<td>
<p>Whether slopes should be different on left or right (separate), or the same.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covar.opt</code></td>
<td>
<p>Options for the inclusion of covariates. Way to include covariates, either in the main regression (<code>include</code>) or as regressors of y in a first step (<code>residual</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>Optional weights to pass to the lm function. Note this cannot be entered together with <code>bw</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to fun. See the example.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function allows the user to use a custom estimating function, instead of the traditional <code>lm()</code>. 
It is assumed that the custom funciton has following behaviour:
</p>

<ol>
<li>
<p> A formula interface, together with a <code>data</code> argument
</p>
</li>
<li>
<p> A <code>weight</code> argument
</p>
</li>
<li>
<p> A coef(summary(x)) returning a data-frame containing a column Estimate
</p>
</li>
</ol>
<p>Note that for the last requirement, this can be accomodated by writing a specific <code>rdd_coef</code> 
function for the class of the object returned by <code>fun</code>.
</p>


<h3>Value</h3>

<p>An object of class rdd_reg_lm and class lm, with specific print and plot methods
</p>


<h3>References</h3>

<p>TODO
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Step 0: prepare data
data(house)
house_rdd &lt;- rdd_data(y=house$y, x=house$x, cutpoint=0)

## Estimate a local probit:
house_rdd$y &lt;- with(house_rdd, ifelse(y&lt;quantile(y, 0.25), 0,1))
reg_bin_glm &lt;- rdd_gen_reg(rdd_object=house_rdd, fun= glm, family=binomial(link='probit'))
print(reg_bin_glm)
summary(reg_bin_glm)

</code></pre>


</div>