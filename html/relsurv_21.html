<div class="container">

<table style="width: 100%;"><tr>
<td>rs.surv.rsadd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute a Relative Survival Curve from an additive relative survival model</h2>

<h3>Description</h3>

<p>Computes the predicted relative survival function for an additive relative
survival model fitted with maximum likelihood.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rs.surv.rsadd(formula, newdata)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a <code>rsadd</code> object (Implemented only for models fitted
with the codemax.lik (default) option.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>a data frame with the same variable names as those that
appear in the <code>rsadd</code> formula.  a predicted curve for each individual
in this data frame shall be calculated</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Does not work with factor variables - you have to form dummy variables
before calling the rsadd function.
</p>


<h3>Value</h3>

<p>a <code>survfit</code> object; see the help on <code>survfit.object</code> for
details.  The <code>survfit</code> methods are used for <code>print</code>, <code>plot</code>,
<code>lines</code>, and <code>points</code>.
</p>


<h3>References</h3>

<p>Package. Pohar M., Stare J. (2006) "Relative survival analysis
in R." Computer Methods and Programs in Biomedicine, <b>81</b>: 272â€“278
</p>


<h3>See Also</h3>

<p><code>survfit</code>, <code>survexp</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(slopop)
data(rdata)
#fit a relative survival model
fit &lt;- rsadd(Surv(time,cens)~sex+age+year,rmap=list(age=age*365.241),
	ratetable=slopop,data=rdata,int=c(0:10,15))

#calculate the predicted curve for a male individual, aged 65, diagnosed in 1982
d &lt;- rs.surv.rsadd(fit,newdata=data.frame(sex=1,age=65,year=as.date("1Jul1982")))
#plot the curve (will result in a step function since the baseline is assumed piecewise constant)
plot(d,xscale=365.241)

#calculate the predicted survival curves for each individual in the data set
d &lt;- rs.surv.rsadd(fit,newdata=rdata)
#calculate the average over all predicted survival curves
p.surv &lt;- apply(d$surv,1,mean)
#plot the relative survival curve
plot(d$time/365.241,p.surv,type="b",ylim=c(0,1),xlab="Time",ylab="Relative survival")

</code></pre>


</div>