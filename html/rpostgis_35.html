<div class="container">

<table style="width: 100%;"><tr>
<td>pgSRID</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find (or create) PostGIS SRID based on CRS object.</h2>

<h3>Description</h3>

<p>This function takes <code>st_crs</code>-class object and a
PostgreSQL database connection (with PostGIS extension), and
returns the matching SRID(s) for that CRS. If a match is not
found, a new entry can be created in the PostgreSQL
<code>spatial_ref_sys</code> table using the parameters specified by the
CRS. New entries will be created with <code>auth_name =
'rpostgis_custom'</code>, with the default value being the next open value
between 880001-889999 (a different SRID value can be entered if desired.)
</p>


<h3>Usage</h3>

<pre><code class="language-R">pgSRID(conn, crs, create.srid = FALSE, new.srid = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>conn</code></td>
<td>
<p>A connection object to a PostgreSQL database.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crs</code></td>
<td>
<p>crs object, created through a call to
<code>st_crs</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>create.srid</code></td>
<td>
<p>Logical. If no matching SRID is found, should a new
SRID be created? User must have write access on
<code>spatial_ref_sys</code> table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new.srid</code></td>
<td>
<p>Integer. Optional SRID to give to a newly created
SRID. If left NULL (default), the next open value of
<code>srid</code> in <code>spatial_ref_sys</code> between 880001 and
889999 will be used.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>SRID code (integer).
</p>


<h3>Author(s)</h3>

<p>David Bucklin <a href="mailto:david.bucklin@gmail.com">david.bucklin@gmail.com</a> and Adrián Cidre 
González <a href="mailto:adrian.cidre@gmail.com">adrian.cidre@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
drv &lt;- dbDriver("PostgreSQL")
conn &lt;- dbConnect(drv, dbname = "dbname", host = "host", port = "5432",
    user = "user", password = "password")
(crs &lt;- sf::st_crs("+proj=longlat"))
pgSRID(conn, crs)
(crs2 &lt;- sf::st_crs(paste("+proj=stere", "+lat_0=52.15616055555555 +lon_0=5.38763888888889",
    "+k=0.999908 +x_0=155000 +y_0=463000", "+ellps=bessel",
    "+towgs84=565.237,50.0087,465.658,-0.406857,0.350733,-1.87035,4.0812",
    "+units=m")))
pgSRID(conn, crs2, create.srid = TRUE)

## End(Not run)
</code></pre>


</div>