<div class="container">

<table style="width: 100%;"><tr>
<td>write_sky_points</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Write sky points</h2>

<h3>Description</h3>

<p>Create a special file to interface with the HSP software.
</p>


<h3>Usage</h3>

<pre><code class="language-R">write_sky_points(sky_points, path_to_HSP_project, img_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sky_points</code></td>
<td>
<p>An object of the class <em>data.frame</em>. The result of a
calling to <code>extract_sky_points()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path_to_HSP_project</code></td>
<td>
<p>Character vector of length one. Path to the HSP
project folder. For instance,
"C:/Users/johndoe/Documents/HSP/Projects/my_prj/".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>img_name</code></td>
<td>
<p>Character vector of length one. For instance, "DSCN6342.pgm"
or "DSCN6342". See details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is part of a workflow that connects this package with the HSP
software package (Lang et al. 2013).
</p>
<p>This function was designed to be called after
<code>extract_sky_points()</code>. The <code>r</code> argument provided to
<code>extract_sky_points()</code> should be an image pre-processed by the HSP
software. Those images are stored as PGM files in the subfolder "manipulate"
of the project folder (which will be in turn a subfolder of the
"project<strong>s</strong>" folder). Those PGM files can be read with
<code>read_caim()</code>.
</p>
<p>The <code>img_name</code> argument of <code>write_sky_points()</code> should be the name
of the file associated to the aforementioned <code>r</code> argument.
</p>
<p>The following code exemplifies how this package can be used in conjunction
with the HSP software. The code assumes that the user is working within an
RStudio project located in the HSP project folder.
</p>
<pre>
r &lt;- read_caim("manipulate/IMG_1014.pgm") 
plot(r)
z &lt;- zenith_image(ncol(r), lens())
a &lt;- azimuth_image(z)
g &lt;- sky_grid_segmentation(z, a, 10)
mblt &lt;- ootb_mblt(r, z, a)$bin
bin &lt;- mask_hs(z, 0, 85) &amp; bin

sun_coord &lt;- extract_sun_coord(r, z, a, bin, g)
write_sun_coord(sun_coord$row_col, ".", "IMG_1014")

sky_points &lt;- extract_sky_points(r, bin, g)
write_sky_points(sky_points, ".", "IMG_1014")
</pre>


<h3>Value</h3>

<p>None. A file will be written in the HSP project folder.
</p>


<h3>References</h3>

<p>Lang M, Kodar A, Arumäe T (2013).
“Restoration of above canopy reference hemispherical image from below canopy measurements for plant area index estimation in forests.”
<em>Forestry Studies</em>, <b>59</b>(1), 13–27.
<a href="https://doi.org/10.2478/fsmu-2013-0008">doi:10.2478/fsmu-2013-0008</a>.
</p>


<h3>See Also</h3>

<p>Other HSP Functions: 
<code>read_manual_input()</code>,
<code>read_opt_sky_coef()</code>,
<code>row_col_from_zenith_azimuth()</code>,
<code>write_sun_coord()</code>,
<code>zenith_azimuth_from_row_col()</code>
</p>


</div>