<div class="container">

<table style="width: 100%;"><tr>
<td>HorvitzUB</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Horvitz-UB model</h2>

<h3>Description</h3>

<p>Computes the randomized response estimation, its variance estimation and its confidence interval through the Horvitz model (Horvitz et al., 1967, and Greenberg et al., 1969)
when the proportion of people bearing the innocuous attribute is unknown.
The function can also return the transformed variable.
The Horvitz-UB model can be seen in Chaudhuri (2011, page 42).
</p>


<h3>Usage</h3>

<pre><code class="language-R">HorvitzUB(I,J,p1,p2,pi,type=c("total","mean"),cl,N=NULL,pij=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>I</code></td>
<td>
<p>first vector of the observed variable; its length is equal to <code class="reqn">n</code> (the sample size)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>J</code></td>
<td>
<p>second vector of the observed variable; its length is equal to <code class="reqn">n</code> (the sample size)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p1</code></td>
<td>
<p>proportion of marked cards with the sensitive attribute in the first box</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p2</code></td>
<td>
<p>proportion of marked cards with the sensitive attribute in the second box</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi</code></td>
<td>
<p>vector of the first-order inclusion probabilities</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>the estimator type: total or mean</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl</code></td>
<td>
<p>confidence level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>size of the population. By default it is NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pij</code></td>
<td>
<p>matrix of the second-order inclusion probabilities. By default it is NULL</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In the Horvitz model, when the population proportion <code class="reqn">\alpha</code> is not known, two independent samples are taken. Two boxes are filled with a large number of similar
cards except that in the first box a proportion <code class="reqn">p_1(0&lt;p_1&lt;1)</code> of them is marked <code class="reqn">A</code> and the complementary proportion <code class="reqn">(1-p_1)</code> each bearing the mark <code class="reqn">B</code>,
while in the second box these proportions are <code class="reqn">p_2</code> and <code class="reqn">1-p_2</code>, maintaining <code class="reqn">p_2</code> different from <code class="reqn">p_1</code>. A sample is chosen and every person sampled is requested
to draw one card randomly from the first box and to repeat this independently with the second box. In the first case, a randomized response should be given, as
</p>
<p style="text-align: center;"><code class="reqn">I_i=\left\{\begin{array}{lcc}
1 &amp; \textrm{if card type draws "matches" the sensitive trait } A \textrm{ or the innocuous trait } B \\
0 &amp; \textrm{if there is "no match" with the first box }
\end{array}
\right.</code>
</p>

<p>and the second case given a randomized response as
</p>
<p style="text-align: center;"><code class="reqn">J_i=\left\{\begin{array}{lcc}
1 &amp; \textrm{if there is "match" for the second box} \\
0 &amp; \textrm{if there is "no match" for the second box}
\end{array}
\right.</code>
</p>

<p>The transformed variable is <code class="reqn">r_i=\frac{(1-p_2)I_i-(1-p_1)J_i}{p_1-p_2}</code> and the estimated variance is <code class="reqn">\widehat{V}_R(r_i)=r_i(r_i-1)</code>.
</p>


<h3>Value</h3>

<p>Point and confidence estimates of the sensitive characteristics using the Horvitz-UB model. The transformed variable is also reported, if required.
</p>


<h3>References</h3>

<p>Chaudhuri, A. (2011).
<em>Randomized response and indirect questioning techniques in surveys.</em>
Boca Raton: Chapman and Hall, CRC Press.
</p>
<p>Greenberg, B.G., Abul-Ela, A.L., Simmons, W.R., Horvitz, D.G. (1969).
<em>The unrelated question RR model: Theoretical framework.</em>
Journal of the American Statistical Association, 64, 520-539.
</p>
<p>Horvitz, D.G., Shah, B.V., Simmons, W.R. (1967).
<em>The unrelated question RR model.</em>
Proceedings of the Social Statistics Section of the American Statistical Association. 65-72. Alexandria, VA: ASA.
</p>


<h3>See Also</h3>

<p><code>HorvitzUBData</code>
</p>
<p><code>Horvitz</code>
</p>
<p><code>ResamplingVariance</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">N=802
data(HorvitzUBData)
dat=with(HorvitzUBData,data.frame(I,J,Pi))
p1=0.6
p2=0.7
cl=0.95
HorvitzUB(dat$I,dat$J,p1,p2,dat$Pi,"mean",cl,N)
</code></pre>


</div>