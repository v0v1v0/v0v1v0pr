<div class="container">

<table style="width: 100%;"><tr>
<td>rgcca_stability</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Identify the most stable variables with SGCCA</h2>

<h3>Description</h3>

<p>This function can be used to identify the most stable variables
identified as relevant by SGCCA. A Variable Importance in the Projection
(VIP) based criterion is used to identify the most stable variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rgcca_stability(
  rgcca_res,
  keep = vapply(rgcca_res$a, function(x) mean(x != 0), FUN.VALUE = 1),
  n_boot = 100,
  n_cores = 1,
  verbose = TRUE,
  balanced = TRUE,
  keep_all_variables = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rgcca_res</code></td>
<td>
<p>A fitted RGCCA object (see <code>rgcca</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep</code></td>
<td>
<p>A numeric vector indicating the proportion of variables per
block to select.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_boot</code></td>
<td>
<p>The number of bootstrap samples (default: 100).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_cores</code></td>
<td>
<p>The number of cores for parallelization.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>A logical value indicating if the progress of the procedure
is reported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>balanced</code></td>
<td>
<p>A logical value indicating if a balanced bootstrap procedure
is performed or not (default is TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_all_variables</code></td>
<td>
<p>A logical value indicating if all variables have
to be kept even when some of them have null variance for at least one
bootstrap sample (default is FALSE).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A rgcca_stability object that can be printed and plotted.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>top</code></td>
<td>
<p>A data.frame giving the indicator (VIP)
on which the variables are ranked.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_boot</code></td>
<td>
<p>The number of bootstrap samples, returned
for further use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keepVar</code></td>
<td>
<p>The indices of the most stable variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bootstrap</code></td>
<td>
<p>A data.frame with the block weight vectors
computed on each bootstrap sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rgcca_res</code></td>
<td>
<p>An RGCCA object fitted on the most stable
variables.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
 ###########################
 # stability and bootstrap #
 ###########################

 data("ge_cgh_locIGR", package = "gliomaData")
 blocks &lt;- ge_cgh_locIGR$multiblocks
 Loc &lt;- factor(ge_cgh_locIGR$y)
 levels(Loc) &lt;- colnames(ge_cgh_locIGR$multiblocks$y)
 blocks[[3]] &lt;- Loc

 fit_sgcca &lt;- rgcca(blocks,
    sparsity = c(.071, .2, 1),
    ncomp = c(1, 1, 1),
    scheme = "centroid",
    verbose = TRUE, response = 3
)

 boot_out &lt;- rgcca_bootstrap(fit_sgcca, n_boot = 100, n_cores = 1)

 fit_stab &lt;- rgcca_stability(fit_sgcca,
   keep = sapply(fit_sgcca$a, function(x) mean(x != 0)),
   n_cores = 1, n_boot = 10,
   verbose = TRUE
 )

 boot_out &lt;- rgcca_bootstrap(
   fit_stab, n_boot = 500, n_cores = 1, verbose = TRUE
 )

 plot(boot_out, block = 1:2, n_mark = 2000, display_order = FALSE)

## End(Not run)
</code></pre>


</div>