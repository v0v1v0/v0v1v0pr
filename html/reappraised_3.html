<div class="container">

<table style="width: 100%;"><tr>
<td>cat_fn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compares observed and expected distribution of a categorical (binomial) variable</h2>

<h3>Description</h3>

<p>Creates plots of observed to expected numbers and ratios for the specified binomial variable <br></p>


<h3>Usage</h3>

<pre><code class="language-R">cat_fn(
  df = cat_data,
  x_title = "",
  prefix = "",
  del.disparate = "yes",
  title = "",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>data frame generated from load_clean function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_title</code></td>
<td>
<p>name of the variable for use on the x-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>letter for variable columns in data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>del.disparate</code></td>
<td>
<p>if yes, data in which the absolute difference between group sizes is &gt;20% are deleted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>title name for plots (optional)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>TRUE or FALSE indicates whether to print plot</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>An example is for trial withdrawls in Bolland 2021<br>
Bolland MJ, Gamble GD, Avenell A, Cooper DJ, Grey A. Participant withdrawals were unusually distributed in randomized trials with integrity concerns: a statistical investigation. J Clin Epidemiol 2021;131:22-29.
</p>
<p>Returns a list containing 4 objects and (if verbose = TRUE) prints the plot cat_graph
</p>


<h3>Value</h3>

<p>list containing 4 objects as described
</p>

<ul>
<li>
<p> cat_graph = plot of observed to expected numbers and differences between groups, top panels are the absolute numbers, bottom panels are the differences between trial arms in two arm studies
</p>
</li>
<li>
<p> cat_data_abs = data frame of data for absolute numbers
</p>
</li>
<li>
<p> cat_data_df = data frame of data for difference between groups in two arm studies
</p>
</li>
<li>
<p> cat_all_graphs = list containing
</p>

<ul>
<li>
<p> abs = plot for absolute numbers only
</p>
</li>
<li>
<p> df = plot for difference between groups in two arm studies only
</p>
</li>
<li>
<p> individual_graphs list of 4 individual plots making up composite figures
</p>
</li>
</ul>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R"># load example data
cat_data &lt;- load_clean(import= "no", file.cat = "SI_cat", cat= "yes",
format.cat = "wide", cat.names = c("n", "w"))$cat_data


# run function (takes only a few seconds)
cat_fn(x_title= "withdrawals", prefix="w", del.disparate = "yes")$cat_graph


# to import an excel spreadsheet (modify using local path,
# file and sheet name, range, and format):

# get path for example files
path &lt;- system.file("extdata", "reappraised_examples.xlsx", package = "reappraised",
                    mustWork = TRUE)
# delete file name from path
path &lt;- sub("/[^/]+$", "", path)

# load data
cat_data &lt;- load_clean(import= "yes", cat = "yes", dir = path,
    file.name.cat = "reappraised_examples.xlsx", sheet.name.cat = "SI_cat",
    range.name.cat = "A:G", cat.names = c("n", "w"), format.cat = "wide")$cat_data

</code></pre>


</div>