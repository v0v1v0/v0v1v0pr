<div class="container">

<table style="width: 100%;"><tr>
<td>work_group</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Athena Work Groups</h2>

<h3>Description</h3>

<p>Lower level API access, allows user to create and delete Athena Work Groups.
</p>

<dl>
<dt>create_work_group</dt>
<dd>
<p>Creates a workgroup with the specified name (<a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/athena.html#Athena.Client.create_work_group">link</a>). 
The work group utilises parameters from the <code>dbConnect</code> object, to determine the encryption and output location of the work group.
The s3_staging_dir, encryption_option and kms_key parameters are gotten from <code>dbConnect</code></p>
</dd>
<dt>tag_options</dt>
<dd>
<p>Helper function to create tag options for function <code>create_work_group()</code></p>
</dd>
<dt>delete_work_group</dt>
<dd>
<p>Deletes the workgroup with the specified name (<a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/athena.html#Athena.Client.delete_work_group">link</a>). 
The primary workgroup cannot be deleted.</p>
</dd>
<dt>list_work_groups</dt>
<dd>
<p>Lists available workgroups for the account (<a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/athena.html#Athena.Client.list_work_groups">link</a>).</p>
</dd>
<dt>get_work_group</dt>
<dd>
<p>Returns information about the workgroup with the specified name (<a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/athena.html#Athena.Client.get_work_group">link</a>).</p>
</dd>
<dt>update_work_group</dt>
<dd>
<p>Updates the workgroup with the specified name (<a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/athena.html#Athena.Client.update_work_group">link</a>). 
The workgroup's name cannot be changed. The work group utilises parameters from the <code>dbConnect</code> object, to determine the encryption and output location of the work group.
The s3_staging_dir, encryption_option and kms_key parameters are gotten from <code>dbConnect</code></p>
</dd>
</dl>
<h3>Usage</h3>

<pre><code class="language-R">create_work_group(
  conn,
  work_group = NULL,
  enforce_work_group_config = FALSE,
  publish_cloud_watch_metrics = FALSE,
  bytes_scanned_cut_off = 10000000L,
  requester_pays = FALSE,
  description = NULL,
  tags = tag_options(key = NULL, value = NULL)
)

tag_options(key = NULL, value = NULL)

delete_work_group(conn, work_group = NULL, recursive_delete_option = FALSE)

list_work_groups(conn)

get_work_group(conn, work_group = NULL)

update_work_group(
  conn,
  work_group = NULL,
  remove_output_location = FALSE,
  enforce_work_group_config = FALSE,
  publish_cloud_watch_metrics = FALSE,
  bytes_scanned_cut_off = 10000000L,
  requester_pays = FALSE,
  description = NULL,
  state = c("ENABLED", "DISABLED")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>conn</code></td>
<td>
<p>A <code>dbConnect</code> object, as returned by <code>dbConnect()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>work_group</code></td>
<td>
<p>The Athena workgroup name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enforce_work_group_config</code></td>
<td>
<p>If set to <code>TRUE</code>, the settings for the workgroup override client-side settings.
If set to <code>FALSE</code>, client-side settings are used. For more information, see 
<a href="https://docs.aws.amazon.com/athena/latest/ug/workgroups-settings-override.html">Workgroup Settings Override Client-Side Settings</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>publish_cloud_watch_metrics</code></td>
<td>
<p>Indicates that the Amazon CloudWatch metrics are enabled for the workgroup.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bytes_scanned_cut_off</code></td>
<td>
<p>The upper data usage limit (cutoff) for the amount of bytes a single query in a workgroup is allowed to scan.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>requester_pays</code></td>
<td>
<p>If set to <code>TRUE</code>, allows members assigned to a workgroup to reference Amazon S3 Requester Pays buckets in queries.
If set to <code>FALSE</code>, workgroup members cannot query data from Requester Pays buckets, and queries that retrieve data 
from Requester Pays buckets cause an error. The default is false. For more information about Requester Pays buckets, 
see <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/RequesterPaysBuckets.html">Requester Pays Buckets</a> in the Amazon Simple Storage Service Developer Guide.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>description</code></td>
<td>
<p>The workgroup description.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tags</code></td>
<td>
<p>A tag that you can add to a resource. A tag is a label that you assign to an AWS Athena resource (a workgroup).
Each tag consists of a key and an optional value, both of which you define. Tags enable you to categorize workgroups in Athena, for example,
by purpose, owner, or environment. Use a consistent set of tag keys to make it easier to search and filter workgroups in your account.
The maximum tag key length is 128 Unicode characters in UTF-8. The maximum tag value length is 256 Unicode characters in UTF-8. 
You can use letters and numbers representable in UTF-8, and the following characters: <code>"+ - = . _ : / @"</code>. Tag keys and values are case-sensitive.
Tag keys must be unique per resource. Please use the helper function <code>tag_options()</code> to create tags for work group, if no tags are required please put <code>NULL</code> for this parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>A tag key. The tag key length is from 1 to 128 Unicode characters in UTF-8. You can use letters and numbers representable in UTF-8, and the following characters: <code>"+ - = . _ : / @"</code>. 
Tag keys are case-sensitive and must be unique per resource.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>A tag value. The tag value length is from 0 to 256 Unicode characters in UTF-8. You can use letters and numbers representable in UTF-8, and the following characters: <code>"+ - = . _ : / @"</code>. 
Tag values are case-sensitive.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recursive_delete_option</code></td>
<td>
<p>The option to delete the workgroup and its contents even if the workgroup contains any named queries</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_output_location</code></td>
<td>
<p>If set to <code>TRUE</code>, indicates that the previously-specified query results location (also known as a client-side setting) for queries in this workgroup should be ignored and set to null.
If set to <code>FALSE</code> the out put location in the workgroup's result configuration will be updated with the new value.
For more information, see <a href="https://docs.aws.amazon.com/athena/latest/ug/workgroups-settings-override.html">Workgroup Settings Override Client-Side Settings</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>state</code></td>
<td>
<p>The workgroup state that will be updated for the given workgroup.</p>
</td>
</tr>
</table>
<h3>Value</h3>


<dl>
<dt>create_work_group</dt>
<dd>
<p>Returns <code>NULL</code> but invisible</p>
</dd>
<dt>tag_options</dt>
<dd>
<p>Returns <code>list</code> but invisible</p>
</dd>
<dt>delete_work_group</dt>
<dd>
<p>Returns <code>NULL</code> but invisible</p>
</dd>
<dt>list_work_groups</dt>
<dd>
<p>Returns list of available work groups</p>
</dd>
<dt>get_work_group</dt>
<dd>
<p>Returns list of work group meta data</p>
</dd>
<dt>update_work_group</dt>
<dd>
<p>Returns <code>NULL</code> but invisible</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Note: 
# - Require AWS Account to run below example.
# - Different connection methods can be used please see `RAthena::dbConnect` documnentation

library(RAthena)

# Demo connection to Athena using profile name 
con &lt;- dbConnect(RAthena::athena())

# List current work group available
list_work_groups(con)

# Create a new work group
wg &lt;- create_work_group(con,
                  "demo_work_group",
                   description = "This is a demo work group",
                   tags = tag_options(key= "demo_work_group", value = "demo_01"))
 
# List work groups to see new work group
list_work_groups(con)

# get meta data from work group
wg &lt;- get_work_group(con, "demo_work_group")

# Update work group
wg &lt;- update_work_group(con, "demo_work_group",
                  description = "This is a demo work group update")


# get updated meta data from work group
wg &lt;- get_work_group(con, "demo_work_group") 

# Delete work group
delete_work_group(con, "demo_work_group")

# Disconect from Athena
dbDisconnect(con)

## End(Not run)

</code></pre>


</div>