<div class="container">

<table style="width: 100%;"><tr>
<td>Hill</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Hill's index of diversity - Hill numbers (D)</h2>

<h3>Description</h3>

<p>Computes Hill's index of diversity (Hill numbers) on different classes of numeric matrices using a moving window algorithm.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Hill(
  x,
  window = 3,
  alpha = 1,
  base = exp(1),
  rasterOut = TRUE,
  np = 1,
  na.tolerance = 1,
  cluster.type = "SOCK",
  debugging = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Input data may be a matrix, a Spatial Grid Data Frame, a SpatRaster, or a list of these objects. In the latter case, only the first element of the list will be considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window</code></td>
<td>
<p>The side of the square moving window. It must be an odd numeric value greater than 1 to ensure that the target pixel is in the centre of the moving window. Default value is 3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Order of the Hill number to compute the index. If <code>alpha</code> is a vector with length greater than 1, then the index will be calculated over <code>x</code> for each value in the sequence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>The logarithm base for the calculation, default is natural logarithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rasterOut</code></td>
<td>
<p>Boolean; if TRUE, the output will be in SpatRaster format with <code>x</code> as the template.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>np</code></td>
<td>
<p>The number of processes (cores) which will be spawned. Default value is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.tolerance</code></td>
<td>
<p>A numeric value between 0.0 and 1.0, which indicates the proportion of NA values that will be tolerated to calculate Hill's index in each moving window over <code>x</code>. If the relative proportion of NA's in a moving window is bigger than na.tolerance, then the value of the window will be set as NA; otherwise, Hill's index will be calculated considering the non-NA values. Default value is 1.0 (i.e., full tolerance for NA's).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster.type</code></td>
<td>
<p>The type of cluster which will be created. Options are "MPI" (calls "makeMPIcluster"), "FORK," and "SOCK" (call "makeCluster"). Default type is "SOCK".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debugging</code></td>
<td>
<p>A boolean variable set to FALSE by default. If TRUE, additional messages will be printed for debugging purposes.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Hill numbers (<code class="reqn">{}^qD</code>) are calculated on numerical matrices as <code class="reqn">{}^qD = (\sum_{i=1}^{R} {p^q}_i)^{1/(1-q)}</code>, where <em>q</em> is the order of the Hill number, <em>R</em> is the total number of categories (i.e., unique numerical values in a numerical matrix), and <em>p</em> is the relative abundance of each category. When q=1, Shannon.R is called to calculate <code class="reqn">exp(H^1)</code> instead of the indefinite <code class="reqn">{}^1D</code>. If <code class="reqn">q &gt; 2*10^9</code>, BergerParker.R is called to calculate <code class="reqn">1/{{}^\infty D}</code>. Hill numbers of low order weight more rare categories, whereas Hill numbers of higher order weight more dominant categories.
</p>


<h3>Value</h3>

<p>A list of matrices of dimension <code>dim(x)</code> with length equal to the length of <code>alpha</code>.
</p>


<h3>Note</h3>

<p>Linux users need to install libopenmpi for MPI parallel computing. Linux Ubuntu users may try:
<code>apt-get update; apt-get upgrade; apt-get install mpi; apt-get install libopenmpi-dev; apt-get install r-cran-rmpi</code>
</p>
<p>Microsoft Windows users may need some additional work to use "MPI". For more details, see:
<a href="https://bioinfomagician.wordpress.com/2013/11/18/installing-rmpi-mpi-for-r-on-mac-and-windows/">https://bioinfomagician.wordpress.com/2013/11/18/installing-rmpi-mpi-for-r-on-mac-and-windows/</a>
</p>


<h3>References</h3>

<p>Hill, M.O. (1973). Diversity and evenness: a unifying notation and its consequences. Ecology 54, 427-432.
</p>


<h3>See Also</h3>

<p><code>BergerParker</code>, <code>Shannon</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Minimal example; compute Hill's index with alpha 1:5 
a &lt;- matrix(c(10,10,10,20,20,20,20,30,30),ncol=3,nrow=3)
hill &lt;- Hill(x=a,window=3,alpha=1:5)

</code></pre>


</div>