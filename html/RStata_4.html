<div class="container">

<table style="width: 100%;"><tr>
<td>stata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Send commands to a Stata process</h2>

<h3>Description</h3>

<p>Function that sends commands to a Stata process.
</p>


<h3>Usage</h3>

<pre><code class="language-R">stata(src = stop("At least 'src' must be specified"), data.in = NULL,
  data.out = FALSE, stata.path = getOption("RStata.StataPath",
  stop("You need to set up a Stata path; ?chooseStataBin")),
  stata.version = getOption("RStata.StataVersion",
  stop("You need to specify your Stata version")),
  stata.echo = getOption("RStata.StataEcho", TRUE), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>src</code></td>
<td>
<p>character vector of length 1 (path to <code>.do</code> file) or more
(a set of stata commands). See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.in</code></td>
<td>
<p><code>data.frame</code> to be passed to Stata</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.out</code></td>
<td>
<p>logical value. If <code>TRUE</code>, the data at the end of
the Stata command are returned to R.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stata.path</code></td>
<td>
<p>Stata command to be used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stata.version</code></td>
<td>
<p>Version of Stata used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stata.echo</code></td>
<td>
<p>logical value. If <code>TRUE</code> stata text output will be printed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>parameter passed to <code>write.dta</code></p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## Single command
stata("help regress") #&lt;- this won't work in Windows dued to needed
                      #   batch mode

## Many commands
stata_src &lt;- '

version 10
set more off
sysuse auto
reg mpg weight

'
stata(stata_src)

## External .do file
stata("foo.do")

## Data input to Stata
x &lt;- data.frame(a = rnorm(3), b = letters[1:3])
stata( "sum a", data.in = x)

## Data output from Stata (eg obtain 'auto' dataset)
auto &lt;- stata("sysuse auto", data.out = TRUE)
head(auto)

## Data input/output
(y &lt;- stata("replace a = 2", data.in = x, data.out = TRUE))

## End(Not run)
</code></pre>


</div>