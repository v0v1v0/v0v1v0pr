<div class="container">

<table style="width: 100%;"><tr>
<td>SpatialToPBS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>converts spatial objects as defined in package sp to simpler PBSmapping type dataframes </h2>

<h3>Description</h3>

<p>The PlotPolysOnStaticMap() function currently does not take sp objects directly but instead needs
</p>
<p>PBSmapping type data.frames. This function converts sp objects into such.                         
</p>
<p>THANKS TO Fabio Priuli for a major bug fix w.r.t. holes in spatial polygons!</p>


<h3>Usage</h3>

<pre><code class="language-R">SpatialToPBS(xy, verbose = 0)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xy</code></td>
<td>
<p>spatial object, such as SpatialPoints, SpatialPolygons, etc..</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>level of verbosity</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list with elements xy = converted object, bb = bounding box, fun = plot function</p>


<h3>Author(s)</h3>

<p>Markus Loecher</p>


<h3>Examples</h3>

<pre><code class="language-R">

  if (0) {


    data("NYleukemia", envir = environment())


    population &lt;- NYleukemia$data$population


    cases &lt;- NYleukemia$data$cases


    mapNY &lt;- GetMap(center=c(lat=42.67456,lon=-76.00365), 


                    destfile = file.path(tempdir(),"NYstate.png"), 


                    maptype = "mobile", zoom=9)


    #mapNY=ReadMapTile("NYstate.png")


    clrStuff=ColorMap(100*cases/population, alpha = 0.35, log = TRUE)


    NYpolys = SpatialToPBS(NYleukemia$spatial.polygon)


    PlotPolysOnStaticMap(mapNY, NYpolys$xy, col = clrStuff$colcode, add = FALSE)


    legend("topleft", legend = clrStuff$legend, fill = clrStuff$fill, 


           bg = rgb(0.1,0.1,0.1,0.3))


}


  


</code></pre>


</div>