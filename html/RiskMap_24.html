<div class="container">

<table style="width: 100%;"><tr>
<td>pred_target_shp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predictive Target over a Shapefile</h2>

<h3>Description</h3>

<p>Computes predictions over a shapefile using outputs from the
<code>pred_over_grid</code> function.
This function allows for incorporating covariates, offsets, and optional
unstructured random effects into the predictive target.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pred_target_shp(
  object,
  shp,
  shp_target = mean,
  weights = NULL,
  standardize_weights = FALSE,
  col_names = NULL,
  include_covariates = TRUE,
  include_nugget = FALSE,
  include_cov_offset = FALSE,
  include_re = FALSE,
  f_target = NULL,
  pd_summary = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Output from 'pred_over_grid', a RiskMap.pred.re object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shp</code></td>
<td>
<p>Spatial dataset (sf or data.frame) representing the shapefile over which predictions are computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shp_target</code></td>
<td>
<p>Function defining the aggregation method for shapefile targets (default is mean).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>Optional numeric vector of weights for spatial predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standardize_weights</code></td>
<td>
<p>Logical indicating whether to standardize weights (default is FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_names</code></td>
<td>
<p>Column name or index in 'shp' containing region names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_covariates</code></td>
<td>
<p>Logical indicating whether to include covariates in predictions (default is TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_nugget</code></td>
<td>
<p>Logical indicating whether to include the nugget effect (default is FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_cov_offset</code></td>
<td>
<p>Logical indicating whether to include covariate offset in predictions (default is FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_re</code></td>
<td>
<p>Logical indicating whether to include random effects in predictions (default is FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_target</code></td>
<td>
<p>List of target functions to apply to the linear predictor samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pd_summary</code></td>
<td>
<p>List of summary functions (e.g., mean, sd) to summarize target samples.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function computes predictive targets or summaries over a spatial shapefile
using outputs from 'pred_S'. It requires the 'terra' package for spatial data
manipulation and should be used with 'sf' or 'data.frame' objects representing
the shapefile.
</p>


<h3>Value</h3>

<p>An object of class 'RiskMap_pred_target_shp' containing computed targets,
summaries, and associated spatial data.
</p>


<h3>Author(s)</h3>

<p>Emanuele Giorgi <a href="mailto:e.giorgi@lancaster.ac.uk">e.giorgi@lancaster.ac.uk</a>
</p>
<p>Claudio Fronterre <a href="mailto:c.fronterr@lancaster.ac.uk">c.fronterr@lancaster.ac.uk</a>
</p>


<h3>See Also</h3>

<p><code>pred_target_grid</code>
</p>


</div>