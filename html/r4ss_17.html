<div class="container">

<table style="width: 100%;"><tr>
<td>make_multifig</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create multi-figure plots.</h2>

<h3>Description</h3>

<p>Function created as an alternative to lattice package for multi-figure plots
of composition data and fits from Stock Synthesis output.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_multifig(
  ptsx,
  ptsy,
  yr,
  linesx = 0,
  linesy = 0,
  ptsSD = 0,
  sampsize = 0,
  effN = 0,
  showsampsize = TRUE,
  showeffN = TRUE,
  sampsize_label = "N=",
  effN_label = "effN=",
  sampsizeround = 1,
  maxrows = 6,
  maxcols = 6,
  rows = 1,
  cols = 1,
  fixdims = TRUE,
  main = "",
  cex.main = 1,
  xlab = "",
  ylab = "",
  size = 1,
  cexZ1 = 1.5,
  bublegend = TRUE,
  maxsize = NULL,
  do.sqrt = TRUE,
  minnbubble = 8,
  allopen = TRUE,
  xbuffer = c(0.1, 0.1),
  ybuffer = c(0, 0.15),
  yupper = NULL,
  ymin0 = TRUE,
  xlas = 0,
  ylas = NULL,
  axis1 = NULL,
  axis2 = NULL,
  axis1labs = NULL,
  linepos = 1,
  type = "o",
  polygons = TRUE,
  bars = FALSE,
  barwidth = "default",
  ptscex = 1,
  ptscol = 1,
  ptscol2 = 1,
  colvec = c(rgb(1, 0, 0, 0.7), rgb(0, 0, 1, 0.7), rgb(0.1, 0.1, 0.1, 0.7)),
  linescol = c(rgb(0, 0.8, 0, 0.7), rgb(1, 0, 0, 0.7), rgb(0, 0, 1, 0.7)),
  lty = 1,
  lwd = 2,
  pch = 1,
  nlegends = 3,
  legtext = list("yr", "sampsize", "effN"),
  legx = "default",
  legy = "default",
  legadjx = "default",
  legadjy = "default",
  legsize = c(1.2, 1),
  legfont = c(2, 1),
  venusmars = TRUE,
  sampsizeline = FALSE,
  effNline = FALSE,
  sampsizemean = NULL,
  effNmean = NULL,
  ipage = 0,
  scalebins = FALSE,
  sexvec = NULL,
  multifig_colpolygon = grey(c(0.6, 0.8, 0.7), alpha = 0.7),
  multifig_oma = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ptsx</code></td>
<td>
<p>vector of x values for points or bars</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptsy</code></td>
<td>
<p>vector of y values for points or bars of same length as ptsx</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yr</code></td>
<td>
<p>vector of category values (years) of same length as ptsx</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linesx</code></td>
<td>
<p>optional vector of x values for lines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linesy</code></td>
<td>
<p>optional vector of y values for lines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptsSD</code></td>
<td>
<p>optional vector of standard deviations used to plot error bars
on top of each point under the assumption of normally distributed error</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampsize</code></td>
<td>
<p>optional sample size vector of same length as ptsx</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effN</code></td>
<td>
<p>optional effective sample size vector of same length as ptsx</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showsampsize</code></td>
<td>
<p>show sample size values on plot?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showeffN</code></td>
<td>
<p>show effective sample size values on plot?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampsize_label</code></td>
<td>
<p>label on sampsize</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effN_label</code></td>
<td>
<p>label on effN</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampsizeround</code></td>
<td>
<p>rounding level for sample size values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxrows</code></td>
<td>
<p>maximum (or fixed) number or rows of panels in the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxcols</code></td>
<td>
<p>maximum (or fixed) number or columns of panels in the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rows</code></td>
<td>
<p>number or rows to return to as default for next plots to come or
for single plots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>number or cols to return to as default for next plots to come or
for single plots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixdims</code></td>
<td>
<p>fix the dimensions at maxrows by maxcols or resize based on
number of elements in <code>yr</code> input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>title of plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.main</code></td>
<td>
<p>character expansion for title</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>x-axis label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>y-axis label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>vector of bubbles sizes if making a bubble plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cexZ1</code></td>
<td>
<p>Character expansion (cex) for point associated with value of 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bublegend</code></td>
<td>
<p>Add legend with example bubble sizes to bubble plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxsize</code></td>
<td>
<p>maximum size of bubbles</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do.sqrt</code></td>
<td>
<p>scale bubbles based on sqrt of size vector. see ?bubble3 for
more info.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minnbubble</code></td>
<td>
<p>number of unique x values before adding buffer. see
?bubble3 for more info.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allopen</code></td>
<td>
<p>should all bubbles be open? see ?bubble3 for more info.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xbuffer</code></td>
<td>
<p>extra space around points on the left and right as fraction
of total width of plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ybuffer</code></td>
<td>
<p>extra space around points on the bottom and top as fraction
of total height of plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yupper</code></td>
<td>
<p>upper limit on ymax (applied before addition of ybuffer)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ymin0</code></td>
<td>
<p>fix minimum y-value at 0?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlas</code></td>
<td>
<p>label style (las) input for x-axis. Default 0 has horizontal
labels, input 2 would provide vertical lables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylas</code></td>
<td>
<p>label style (las) input for y-axis. Default NULL has horizontal
labels when all labels have fewer than 6 characters and vertical otherwise.
Input 0 would force vertical labels, and 1 would force horizontal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axis1</code></td>
<td>
<p>optional position of bottom axis values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axis2</code></td>
<td>
<p>optional position of left size axis values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axis1labs</code></td>
<td>
<p>optional vector of labels for axis1 (either NULL or needs to
match length of axis1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linepos</code></td>
<td>
<p>should lines be added on top of points (linepos=1) or behind
(linepos=2)? A value of linepos = 0 will result in no line.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of line/points used for observed values (see 'type' in
?plot for details) on top of a grey polygon. Default is "o" for overplotting
points on lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>polygons</code></td>
<td>
<p>should polygons be added to the
(turning off is required for sex-ratio plot)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bars</code></td>
<td>
<p>should the ptsx/ptsy values be bars instead of points
(TRUE/FALSE) NOT CURRENTLY FUNCTIONAL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>barwidth</code></td>
<td>
<p>width of bars in barplot, default method chooses based on
quick and dirty formula also, current method of plot(...type='h') could be
replaced with better approach</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptscex</code></td>
<td>
<p>character expansion factor for points (default=1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptscol</code></td>
<td>
<p>color for points/bars</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptscol2</code></td>
<td>
<p>color for negative value points in bubble plots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colvec</code></td>
<td>
<p>Vector of length 3 with colors for females, males, unsexed fish</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linescol</code></td>
<td>
<p>color for lines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>line type</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>line width</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>point character type</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlegends</code></td>
<td>
<p>number of lines of text to add as legends in each plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legtext</code></td>
<td>
<p>text in legend, a list of length=nlegends. values may be any
of 1.  "yr", 2. "sampsize", 3. "effN", or a vector of length = ptsx.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legx</code></td>
<td>
<p>vector of length=nlegends of x-values of legends (default is
first one on left, all after on right)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legy</code></td>
<td>
<p>vector of length=nlegends of y-values of legends (default is top
for all plots)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legadjx</code></td>
<td>
<p>left/right adjustment of legends around legx</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legadjy</code></td>
<td>
<p>left/right adjustment of legends around legy</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legsize</code></td>
<td>
<p>font size for legends. default=c(1.2,1.0) (larger for year
and normal for others)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legfont</code></td>
<td>
<p>font type for legends, same as "font" under ?par</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>venusmars</code></td>
<td>
<p>Label females and males with venus and mars symbols?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampsizeline</code></td>
<td>
<p>show line for input sample sizes on top of conditional
age-at-length plots (TRUE/FALSE/scalar, still in development)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effNline</code></td>
<td>
<p>show line for effective sample sizes on top of conditional
age-at-length plots (TRUE/FALSE/scalar, still in development)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampsizemean</code></td>
<td>
<p>mean input sample size value (used when sampsizeline=TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effNmean</code></td>
<td>
<p>mean effective sample size value (used when effNline=TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ipage</code></td>
<td>
<p>which page of plots when covering more than will fit within
maxrows by maxcols.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scalebins</code></td>
<td>
<p>Rescale expected and observed proportions by dividing by
bin width for models where bins have different widths? Caution!: May not
work correctly in all cases.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sexvec</code></td>
<td>
<p>vector of sex codes if more than one present (otherwise NULL)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multifig_colpolygon</code></td>
<td>
<p>vector of polygon fill colors of length 3
(for females, males, and unsexed fish). Can be input to SS_plots and will be
passed to this function via the ... argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multifig_oma</code></td>
<td>
<p>vector of outer margins. Can be input to SS_plots and will be
passed to this function via the ... argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to <code>par</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code>SS_plots()</code>,<code>SSplotComps()</code>
</p>


</div>