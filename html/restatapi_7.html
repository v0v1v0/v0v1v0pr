<div class="container">

<table style="width: 100%;"><tr>
<td>filter_raw_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filter raw data locally</h2>

<h3>Description</h3>

<p>Filter downloaded full raw dataset on local computer if the <code>get_eurostat_data</code> has not provided data due to too large datasets for the REST API.
</p>


<h3>Usage</h3>

<pre><code class="language-R">filter_raw_data(raw_data = NULL, filter_table = NULL, date_filter = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>raw_data</code></td>
<td>
<p>an input data.table dataset resulted from the call of the <code>get_eurostat_raw</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter_table</code></td>
<td>
<p>a data table with values for the concepts or time to be filtered out which can be generated by the <code>create_filter_table</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date_filter</code></td>
<td>
<p>a logical value. If <code>TRUE</code> the filter table should be applied to the <code>time</code> columns of the <code>raw_data</code>. The default is <code>FALSE</code>, 
in this case the filters applied to the other columns of the <code>raw_data</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It is a sub-function to use in the <code>get_eurostat_data</code> to filter data on the local computer if the direct response from REST API did not provide data 
because of too large data set (more than 30 thousands observations). 
The <code>filter_table</code> contains always at least two columns. In case if <code>date_filter=TRUE</code> then the two columns should have the following names and 
the provided conditions are applied to the time column of the the <code>raw_data</code> data.table.
</p>

<table>
<tr>
<td style="text-align: left;">
         <code>sd</code> </td>
<td style="text-align: left;"> Starting date to be included, where date is formatted as yyyy[-mm][-dd] (the month and day are
         optional)</td>
</tr>
<tr>
<td style="text-align: left;">
         <code>ed</code> </td>
<td style="text-align: left;"> End date of the period to be included in the dataset formatted as yyyy[-mm][-dd] (the month and
         day are optional) 
         </td>
</tr>
</table>
<p>In case if <code>date_filter=FALSE</code> then the columns should have the following names:
</p>

<table>
<tr>
<td style="text-align: left;">
         <code>concept</code> </td>
<td style="text-align: left;"> Containing concept names, which is a column name in the <code>raw_data</code> data.table</td>
</tr>
<tr>
<td style="text-align: left;">
         <code>code</code> </td>
<td style="text-align: left;"> A possible code under the given concept, which is a value in the column of the <code>raw_data</code>
         data.table defined by the concept   
         </td>
</tr>
</table>
<h3>Value</h3>

<p>a filtered data.table containing only the rows of <code>raw_data</code> which fulfills the conditions in the <code>filter_table</code>
</p>


<h3>See Also</h3>

<p><code>get_eurostat_raw</code>, <code>search_eurostat_dsd</code>, <code>get_eurostat_data</code>, <code>create_filter_table</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

id&lt;-"tus_00age"
if (!(grepl("amzn|-aws|-azure ",Sys.info()['release']))) options(timeout=2)
rd&lt;-get_eurostat_raw(id)
dsd&lt;-get_eurostat_dsd(id)
ft&lt;-create_filter_table(c("TIME_SP","Hungary",'T'),FALSE,dsd)
filter_raw_data(rd,ft)
options(timeout=60)

</code></pre>


</div>