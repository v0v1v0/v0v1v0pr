<div class="container">

<table style="width: 100%;"><tr>
<td>autoGapProd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fit best production function model</h2>

<h3>Description</h3>

<p>Finds the most suitable model for the NAWRU and the TFP trend according to 
the BIC or the RMSE. The function computes the output gap based on the chosen models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">autoGapProd(
  tsl,
  type = "hp",
  q = 0.01,
  method = "MLE",
  criterion = "BIC",
  fast = TRUE,
  nModels = 5,
  nawruPoss = list(maxCycleLag = 2, trend = c("RW2", "DT"), cycle = c("AR1", "AR2"),
    errorARmax = 1, errorMAmax = 0, type = c("TKP", "NKP"), exoNames = c("ws", "prod",
    "tot"), signalToNoise = NULL),
  tfpPoss = list(maxCycleLag = 2, trend = c("RW2", "DT"), cycle = c("AR1", "AR2",
    "RAR2"), cubsARmax = 0, errorARmax = 1, errorMAmax = 0, signalToNoise = NULL),
  auto = "gap"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tsl</code></td>
<td>
<p>A list of time series objects, see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The variance restriction type. Possible options are <code>"basic"</code>,
<code>"hp"</code>, see <code>initializeRestr</code>. The default is <code>type = "hp"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>Quantile for the Inverse Gamma distribution (only used if <code>type = "hp"</code>), 
see <code>initializeRestr</code>. The default is <code>q = 0.01</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The estimation method. Options are maximum likelihood estimation <code>"MLE"</code>
and bayesian estimation <code>"bayesian"</code>. If <code>method = c("MLE", "bayesian")</code> the 
NAWRU is fitted by MLE and the TFP trend by Bayesian methods. The default is 
<code>method = "MLE"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criterion</code></td>
<td>
<p>Model selection criterion. Options are the Bayesian information criterion 
<code>"BIC"</code> and the root mean squared error <code>"RMSE"</code>, both computed for the second 
observation equation. The default is <code>criterion = "BIC"</code>. For Bayesian estimation 
and  <code>criterion = "RMSE"</code>, the mean RMSE is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fast</code></td>
<td>
<p>Boolean, indicating whether a "fast" procedure should be used, see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nModels</code></td>
<td>
<p>Integer, the maximum number of models for each unobserved component model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nawruPoss</code></td>
<td>
<p>List with possible model specifications for the NAWRU, see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tfpPoss</code></td>
<td>
<p>List with possible model specifications for the NAWRU, see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto</code></td>
<td>
<p>If <code>auto = "NAWRU"</code> or <code>auto = "TFP"</code>, the function only 
finds the most suitable NAWRU or TFP model, respectively. The default is 
<code>auto = "gap"</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For <code>fast = TRUE</code>, the function pre-selects suitable models by applying the 
following procedure: A HP-filtered trend is computed based on which the best trend and 
cycle models are chosen according to the BIC. Also based on the HP trend, a variety of 
different specifications for the second observation equation are estimated in a 
univariate regression and the best models are selected via the BIC. The <code>nModels</code> 
best models are subsequently estimated in the usual bivariate unobserved component 
model. For <code>fast = FALSE</code>, a variety of models is estimated in the usual bivariate 
unobserved component framework.
</p>
<p>The input component <code>nawruPoss</code> is a list containing a (sub-) set of the 
following components: 
</p>

<dl>
<dt>maxCycleLag</dt>
<dd>
<p>Maximum cycle lag included in the second observation equation.</p>
</dd>
<dt>trend</dt>
<dd>
<p>Trend model specification.</p>
</dd>
<dt>cycle</dt>
<dd>
<p>Cycle model specification.</p>
</dd>
<dt>errorARmax</dt>
<dd>
<p>Maximum autoregressive order of the error term in the second 
observation equation.</p>
</dd>
<dt>errorMAmax</dt>
<dd>
<p>Maximum moving average order of the error term in the second 
observation equation.</p>
</dd>
<dt>type</dt>
<dd>
<p>Type of Phillip's curve.</p>
</dd>
<dt>exoNames</dt>
<dd>
<p>Names of the exogenous variables potentially included in the Phillip's 
curve (need to be included in the list of time series <code>tsl</code>).</p>
</dd>
<dt>signal-to-noise</dt>
<dd>
<p>Signal-to-noise ratio.</p>
</dd>
</dl>
<p>The input component <code>tfpPoss</code> is a list containing a (sub-) set of the 
following components: 
</p>

<dl>
<dt>maxCycleLag</dt>
<dd>
<p>Maximum cycle lag included in the second observation equation.</p>
</dd>
<dt>trend</dt>
<dd>
<p>Trend model specification.</p>
</dd>
<dt>cycle</dt>
<dd>
<p>Cycle model specification.</p>
</dd>
<dt>cubsARmax</dt>
<dd>
<p>Maximum CUBS autoregressive order.</p>
</dd>
<dt>errorARmax</dt>
<dd>
<p>Maximum autoregressive order of the error term in the second 
observation equation.</p>
</dd>
<dt>errorMAmax</dt>
<dd>
<p>Maximum moving average order of the error term in the second 
observation equation.</p>
</dd>
<dt>signal-to-noise</dt>
<dd>
<p>Signal-to-noise ratio.</p>
</dd>
</dl>
<p>The list of time series <code>tsl</code> needs to have the following components 
(plus those series included in the list component <code>exoNames</code> in <code>nawruPoss</code>):
</p>

<dl>
<dt>ur</dt>
<dd>
<p>Unemployment rate.</p>
</dd>
<dt>nulc</dt>
<dd>
<p>Nominal Unit labor costs, if <code>type = "TKP"</code>.</p>
</dd>
<dt>rulc</dt>
<dd>
<p>Real unit labor costs, if <code>type = "NKP"</code>.</p>
</dd>
<dt>tfp</dt>
<dd>
<p>Total factor productivity.</p>
</dd>
<dt>cubs</dt>
<dd>
<p>Capacity utilization economic sentiment indicator.</p>
</dd>
<dt>lfnd</dt>
<dd>
<p>Labor force non-domestic (unit: 1000 persons).</p>
</dd>
<dt>parts</dt>
<dd>
<p>Participation rate.</p>
</dd>
<dt>ahours</dt>
<dd>
<p>Average hours worked (unit: hours).</p>
</dd>
<dt>gdp</dt>
<dd>
<p>Gross domestic product at constant prices (unit: bn National currency, code: OVGD).</p>
</dd>
<dt>k</dt>
<dd>
<p>Net capital stock at constant prices: total economy (unit: bn National currency, code: OKND).</p>
</dd>
<dt>popw</dt>
<dd>
<p>Population: 15 to 64 years (unit: 1000 persons, code: NPAN).</p>
</dd>
</dl>
<p>The set of tested models is extensive but not exhaustive. The best model is 
solely based on convergence and the chosen criterion (RMSE or BIC). A manual check 
of the results is highly recommended.
</p>
<p>In some cases, more than <code>nModels</code> are checked. For instance, if a 
re-parametrized and regular AR(2) process are options for the cycle.
</p>


<h3>Value</h3>

<p>A list containing three components: <code>gap</code> (the best model of class <code>"gap"</code>), 
<code>tfp</code> (a nested list of TFP models, fitted objects and model fit criteria), <code>nawru</code> 
(a nested list of NAWRU models, fitted objects and model fit criteria). The lists <code>nawru</code>
and <code>tfp</code> contain a list of models, a list of fitted objects and a dataframe <code>info</code>,
which contains
</p>
<table>
<tr style="vertical-align: top;">
<td><code>loglik</code></td>
<td>
<p>log-likelihood function at optimum</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AIC</code></td>
<td>
<p>Akaike information criterion</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BIC</code></td>
<td>
<p>Bayesian information criterion</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HQC</code></td>
<td>
<p>Hannan-Quinn information criterion</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RMSE</code></td>
<td>
<p>Root mean squared error</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R2</code></td>
<td>
<p>Coefficient of determination (R squared)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>signal-to-noise</code></td>
<td>
<p>Signal-to-noise ratio</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LjungBox</code></td>
<td>
<p>p-value of Ljung-Box test for autocorrelation (H0 = no autocorrelation)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>convergence</code></td>
<td>
<p>0 indicates convergence of the optimization</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rrange</code></td>
<td>
<p>relative range of trend series w.r.t original series</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>neg</code></td>
<td>
<p>1 indicates that negative values are present in the trend series</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rev</code></td>
<td>
<p>relative excess volatility w.r.t. original series (stationary series)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rsd</code></td>
<td>
<p>relative standard deviation w.r.t. original series (stationary series)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cor</code></td>
<td>
<p>correlation between trend and original series (stationary series)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>msdtg</code></td>
<td>
<p>mean standardized deviation (stationary trend)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>magtg</code></td>
<td>
<p>mean absolute growth of trend (stationaty trend)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>1 indicates the model should be dropped</p>
</td>
</tr>
</table>
</div>