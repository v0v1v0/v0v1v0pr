<div class="container">

<table style="width: 100%;"><tr>
<td>optimalThreshold</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Optimal Threshold for Record Linkage
</h2>

<h3>Description</h3>

<p>Calculates the optimal threshold for weight-based Record Linkage.
</p>


<h3>Usage</h3>

<pre><code class="language-R">optimalThreshold(rpairs, my = NaN, ny = NaN)
## S4 method for signature 'RecLinkData'
optimalThreshold(rpairs, my = NaN, ny = NaN)
## S4 method for signature 'RLBigData'
optimalThreshold(rpairs, my = NaN, ny = NaN)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rpairs</code></td>
<td>

<p>Record pairs for which to calculate a threshold.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>my</code></td>
<td>

<p>A real value in the range [0,1]. Error bound for false positives.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ny</code></td>
<td>

<p>A real value in the range [0,1]. Error bound for false negatives.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Weights must have been calculated for <code>rpairs</code>, for example by
<code>emWeights</code> or <code>epiWeights</code>.
The true match result must be known for <code>rpairs</code>, mostly this is provided
through the <code>identity</code> argument of <code>compare.*</code>
</p>
<p>For the following, it is assumed that all records with weights greater than or
equal to the threshold are classified as links, the remaining as non-links.
If no further arguments are given, a threshold which minimizes the
absolute number of misclassified record pairs is returned. If <code>my</code> is 
supplied (<code>ny</code> is ignored in this case), a threshold is picked which
maximizes the number of correctly classified links while keeping the ratio 
of false links to the total number of links below or equal <code>my</code>.
If <code>ny</code> is supplied, the number of correct non-links is maximized under the
condition that the ratio of falsely classified non-links to the total number of
non-links does not exceed <code>ny</code>.
</p>
<p>Two separate runs of <code>optimalThreshold</code> with values for <code>my</code> and
<code>ny</code> respectively allow for obtaining a lower and an upper threshold
for a three-way classification approach (yielding links, non-links and
possible links).
</p>


<h3>Value</h3>

<p>A numeric value, the calculated threshold.
</p>


<h3>Author(s)</h3>

<p>Andreas Borg, Murat Sariyar
</p>


<h3>See Also</h3>

<p><code>emWeights</code>
<code>emClassify</code>
<code>epiWeights</code>
<code>epiClassify</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># create record pairs
data(RLdata500)
p=compare.dedup(RLdata500,identity=identity.RLdata500, strcmp=TRUE,
  strcmpfun=levenshteinSim)

# calculate weights
p=epiWeights(p)

# split record pairs in two sets
l=splitData(dataset=p, prop=0.5, keep.mprop=TRUE)

# get threshold from training set
threshold=optimalThreshold(l$train)

# classify remaining data
summary(epiClassify(l$valid,threshold))
</code></pre>


</div>