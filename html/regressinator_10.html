<div class="container">

<table style="width: 100%;"><tr>
<td>custom_family</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Family representing a GLM with custom distribution and link function</h2>

<h3>Description</h3>

<p>Allows specification of the random component and link function for a response
variable. In principle this could be used to specify any GLM family, but it
is usually easier to use the predefined families, such as <code>gaussian()</code> and
<code>binomial()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">custom_family(distribution, inverse_link)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>distribution</code></td>
<td>
<p>The distribution of the random component. This should be
in the form of a function taking one argument, the vector of values on the
inverse link scale, and returning a vector of draws from the distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inverse_link</code></td>
<td>
<p>The inverse link function.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A GLM is specified by a combination of:
</p>

<ul>
<li>
<p> Random component, i.e. the distribution that Y is drawn from
</p>
</li>
<li>
<p> Link function relating the mean of the random component to the linear predictor
</p>
</li>
<li>
<p> Linear predictor
</p>
</li>
</ul>
<p>Using <code>custom_family()</code> we can specify the random component and link
function, while the linear predictor is set in <code>population()</code> when setting up
the population relationships. A family specified this way can be used to
specify a population (via <code>population()</code>), but can't be used to estimate a
model (such as with <code>glm()</code>).
</p>


<h3>Value</h3>

<p>A family object representing this family
</p>


<h3>See Also</h3>

<p><code>ols_with_error()</code> for the special case of linear regression with
custom error distribution
</p>


<h3>Examples</h3>

<pre><code class="language-R"># A zero-inflated Poisson family
rzeroinfpois &lt;- function(ys) {
  n &lt;- length(ys)
  rpois(n, lambda = ys * rbinom(n, 1, prob = 0.4))
}

custom_family(rzeroinfpois, exp)
</code></pre>


</div>