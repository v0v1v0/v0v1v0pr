<div class="container">

<table style="width: 100%;"><tr>
<td>safely_transform_continuous</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculating a Transformation of a Continuous Feature Using PDP/ALE Plot</h2>

<h3>Description</h3>

<p>The safely_transform_continuous() function calculates a transformation function
for the continuous variable using a PD/ALE plot obtained from black box model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">safely_transform_continuous(
  explainer,
  variable,
  response_type = "ale",
  grid_points = 50,
  N = 200,
  penalty = "MBIC",
  nquantiles = 10,
  no_segments = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>explainer</code></td>
<td>
<p>DALEX explainer created with explain() function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variable</code></td>
<td>
<p>a feature for which the transformation function is to be computed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response_type</code></td>
<td>
<p>character, type of response to be calculated, one of: "pdp", "ale".
If features are uncorrelated, one can use "pdp" type - otherwise "ale" is strongly recommended.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid_points</code></td>
<td>
<p>number of points on x-axis used for creating the PD/ALE plot, default 50</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>number of observations from the dataset used for creating the PD/ALE plot, default 200</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>penalty</code></td>
<td>
<p>penalty for introducing another changepoint,
one of "AIC", "BIC", "SIC", "MBIC", "Hannan-Quinn" or numeric non-negative value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nquantiles</code></td>
<td>
<p>the number of quantiles used in integral approximation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>no_segments</code></td>
<td>
<p>numeric, a number of segments variable is to be divided into in case of founding no breakpoints</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list of information on the transformation of given variable
</p>


<h3>See Also</h3>

<p><code>safe_extraction</code>, <code>safely_detect_changepoints</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(DALEX)
library(randomForest)
library(rSAFE)

data &lt;- apartments[1:500,]
set.seed(111)
model_rf &lt;- randomForest(m2.price ~ construction.year + surface + floor +
                           no.rooms + district, data = data)
explainer_rf &lt;- explain(model_rf, data = data[,2:6], y = data[,1])
safely_transform_continuous(explainer_rf, "construction.year")

</code></pre>


</div>