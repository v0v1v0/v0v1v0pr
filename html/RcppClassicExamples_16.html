<div class="container">

<table style="width: 100%;"><tr>
<td>RcppResultSet</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>C++ class for sending C++ objects back to R – deprecated API</h2>

<h3>Description</h3>

<p><code>RcppResultSet</code> is a C++ class defined in <code>RcppResultSet.h</code> that can
assign any number of C++ objects to <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> in a single named list object 
as the <code>SEXP</code> return value of a <code>.Call()</code> function call. It
is part of the classic API.
</p>
<p>The C++ objects can be of different types that are limited to 
types  <code>double</code>,  <code>int</code>, <code>string</code>, vectors of
<code>double</code> or <code>int</code> (with explicit dimensions),
matrices of <code>double</code> or <code>int</code> (with explicit dimensions), 
STL vectors of <code>double</code>, <code>int</code> or <code>string</code>, STL
‘vector of vectors’ of types <code>double</code> or <code>int</code> (all
with implicit dimensions), the internal types <code>RcppDate</code>, <code>RcppDateVector</code>,
<code>RcppStringVector</code>, <code>RcppVector</code> of types <code>double</code> or
<code>int</code>, <code>RcppMatrix</code> of types <code>double</code> or <code>int</code>
as well <code>RcppFrame</code>, a type that can be converted into a
<code>data.frame</code>, and the <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> type <code>SEXP</code>. 
</p>
<p>Where applicable, the <code>C++</code> types are automatically converted to the
corresponding <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> types structures around types <code>numeric</code>,
<code>integer</code>, or <code>character</code>.  The <code>C++</code> code can all be
retrieved in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> as elements of a named list object.
</p>
<p>The new API has more generic templated functions.
</p>
<p>Note that the <span class="pkg">RcppClassic</span> package has been deprecated since
2010, all new development should use the <span class="pkg">Rcpp</span> package instead.
</p>


<h3>Details</h3>

<p>Usage of <code>RcppResultSet</code> from  <code>C++</code> is fully defined in
<code>RcppResultSet.h</code>. An example for returning data to <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> at the end of a
<code>.Call()</code> call follows.
</p>
<p>At the C++ level, the corresponding code to assign these parameter to
C++ objects is can be as follows (taken from the C++ source of
<code>RcppExample</code>):
</p>
<pre>
  SEXP rl;
  RcppResultSet rs;
    
  rs.add("date", aDate);	// RcppDate
  rs.add("dateVec", dateVec);	// RcppDateVec
  rs.add("method", method);	// string
  rs.add("tolerance", tol);	// numeric
  rs.add("maxIter", maxIter);	// int
  rs.add("matD", matD);		// RcppMatrix
  rs.add("stlvec", stlvec);	// vector&lt;double&gt; or &lt;int&gt;
  rs.add("stlmat", stlmat);	// vector&lt; vector &lt;double&gt; &gt;
  				//   or &lt;int&gt;
  rs.add("a", a, nrows, ncols);	// double** (or int**) with 
				//   two dimension
  rs.add("v", v, len);		// double* (or int*) with 
				//   one dimension
  rs.add("stringVec", strVec);	// RcppStringVector
  rs.add("strings", svec);	// vector&lt;string&gt;
  rs.add("InputDF", inframe);	// RcppFrame
  rs.add("PreDF", frame);	// RcppFrame

  rl = rs.getReturnList();
  return(rl);
  </pre>
<p>As the <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> level, we assign the returned object a list variables from
which we select each list element by its name.
lookup is driven by the names givem at the <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> level, order is
not important.  It is however important that the types match. Errors
are typically caught and an exception is thrown. 
</p>
<p>The class member function <code>checkNames</code> can be used to verify that the
<code>SEXP</code> object passed to the function contains a given set of
named object.
</p>


<h3>Author(s)</h3>

<p>Dominick Samperi wrote the initial versions of Rcpp (and
RcppTemplate) during 2005 and 2006.  Dirk Eddelbuettel made some
additions, and became maintainer in 2008. Dirk Eddelbuettel and Romain
Francois have been extending Rcpp since 2009.
</p>


<h3>See Also</h3>

<p><code>RcppExample</code>.
</p>
<p>See the RcppExamples-package for examples of the
recommended <span class="pkg">Rcpp</span> API and Rcpp-package for
documentation on the recommended API to extend R with C++ code, while
the deprecated RcppClassic-package documents the
older, deprecated API.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# example from RcppDate
# set up date and datetime vectors
dvec &lt;- Sys.Date() + -2:2
dtvec &lt;- Sys.time() + (-2:2)*0.5

# call the underlying  C++ function
result &lt;- RcppDateExample(dvec, dtvec)

# inspect returned object
result
</code></pre>


</div>