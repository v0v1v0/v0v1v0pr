<div class="container">

<table style="width: 100%;"><tr>
<td>documentation_linters</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Validation of Documentation</h2>

<h3>Description</h3>

<p>Check for comments and proper documentation of a function in a script
file.
</p>
<p>The expected documentation format is not unlike R help pages; see
details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">any_comments(srcData, ...)

any_doc(srcData, ...)

signature_doc(srcData, ...)

section_doc(srcData, pattern, ...)
description_section_doc(srcData, ...)
arguments_section_doc(srcData, ...)
value_section_doc(srcData, ...)
examples_section_doc(srcData, ...)

formals_doc(srcData, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>srcData</code></td>
<td>
<p>a list as returned by <code>getSourceData</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p>character string containing a regular expression
describing a keyword to match in the documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to <code>grepl</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>any_comments</code> checks that a script file contains at least one
non empty comment, that is, a string with at least one character other
than whitespace after the comment delimiters.
</p>
<p>The other functions check the documentation provided with function
definitions in a script file. Comments starting in column 1 are
considered documentation.
</p>
<p><code>any_doc</code> checks that the file contains some documentation.
</p>
<p><code>signature_doc</code> checks that the signature (or usage information)
of every function is present in the documentation.
</p>
<p><code>section_doc</code> checks that the documentation contains a section
title corresponding to <code>pattern</code> for every (or as many) function
definition. Functions <code>description_section_doc</code>,
<code>arguments_section_doc</code>, <code>value_section_doc</code> and
<code>examples_section_doc</code> are wrappers for common patterns
<code>Description</code>, <code>Arguments?</code>, <code>Value</code> and
<code>Examples?</code>, respectively.
</p>
<p><code>formals_doc</code> checks that the description of every formal
argument is present in the documentation.
</p>


<h3>Value</h3>

<p>Boolean. When <code>FALSE</code>, a message indicates the nature of
the error, and the returned value has the following attributes:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>nlines</code></td>
<td>
<p>number of lines checked for comments or documentation
(<code>any_comments</code> and <code>any_doc</code> only);</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>names of functions without a signature in the
documentation (<code>signature_doc</code> only);</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sections</code></td>
<td>
<p>number of sections missing from documentation
(<code>section_doc</code> and wrapper functions only);</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formals</code></td>
<td>
<p>formal arguments missing from documentation
(<code>formals_doc</code> only);</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>message</code></td>
<td>
<p>text of the error message.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Goulet, V.,
<a href="https://vigou3.gitlab.io/programmer-avec-r/">Programmer avec  R</a>
for the standard documentation format these functions were
developed for.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

## Script with non empty comments.
fil &lt;- tempfile(fileext = ".R")
cat(file = fil, "
#-
## here is foo
#-
foo &lt;- function(x, y = 2)
    x + y  #addition
")
any_comments(getSourceData(fil))

## Script with embedded documentation.
fil &lt;- tempfile(fileext = ".R")
cat(file = fil, "
###
### foo(x, y = 2)
###
##  Adding two vectors
##
##  Arguments
##
##  x: a vector
##  y: another vector
##
##  Value
##
##  Sum of the two vectors.
##
##  Examples
##
##  foo(1:5)
##
foo &lt;- function(x, y = 2)
    x + y
")
fooData &lt;- getSourceData(fil)

## Elements present in the documentation
any_comments(fooData)
any_doc(fooData)
arguments_section_doc(fooData)
value_section_doc(fooData)
examples_section_doc(fooData)
formals_doc(fooData)

## Missing section title
description_section_doc(fooData)
</code></pre>


</div>