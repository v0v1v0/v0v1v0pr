<div class="container">

<table style="width: 100%;"><tr>
<td>rc.qc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>rc.qc</h2>

<h3>Description</h3>

<p>summarize quality control for clustering and for quality control sample variation based on compound ($SpecAbund) and feature ($MSdata and $MSMSdata, if present)
</p>


<h3>Usage</h3>

<pre><code class="language-R">rc.qc(
  ramclustObj = NULL,
  qc.tag = "QC",
  remove.qc = FALSE,
  npc = 4,
  scale = "pareto",
  outfile.basename = "ramclustQC",
  view.hist = TRUE,
  do.plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ramclustObj</code></td>
<td>
<p>ramclustR object to analyze</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qc.tag</code></td>
<td>
<p>qc.tag character vector of length one or two.  If length is two, enter search string and factor name in $phenoData slot (i.e. c("QC", "sample.type"). If length one (i.e. "QC"), will search for this string in the 'sample.names' slot by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove.qc</code></td>
<td>
<p>logical - if TRUE (default) QC injections will be removed from the returned ramclustObj (applies to $MSdata, $MSMSdata, $SpecAbund, $phenoData, as appropriate). If FALSE, QC samples remain.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>npc</code></td>
<td>
<p>number of Principle components to calcuate and plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>"pareto" by default: PCA scaling method used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outfile.basename</code></td>
<td>
<p>base name of output files. Extensions added internally. default = "ramclustQC"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>view.hist</code></td>
<td>
<p>logical.  should histograms be plotted?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do.plot</code></td>
<td>
<p>logical should plots be shown/plotted?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>plots a ramclustR summary plot.  first page represents the correlation of each cluster to all other clusters, sorted by retention time.  large blocks of yellow along the diaganol indicate either poor clustering or a group of coregulated metabolites with similar retention time.  It is an imperfect diagnostic, particularly with lipids on reverse phase LC or sugars on HILIC LC systems.  Page 2: histogram of r values from page 1 - only r values one position from the diagonal are used.  Pages 3:5 - PCA results, with QC samples colored red.  relative standard deviation calculated as sd(QC PC scores) / sd(all PC scores).  Page 6: histogram of CV values for each compound int he dataset, QC samples only.
</p>


<h3>Value</h3>

<p>new RC object. Saves output summary plots to pdf and .csv summary tables to new 'QC' directory. If remove.qc = TRUE, moves QC samples to new $QC slot from original position.
</p>


<h3>Author(s)</h3>

<p>Corey Broeckling
</p>


<h3>References</h3>

<p>Broeckling CD, Afsar FA, Neumann S, Ben-Hur A, Prenni JE. RAMClust: a novel feature clustering method enables spectral-matching-based annotation for metabolomics data. Anal Chem. 2014 Jul 15;86(14):6812-7. doi: 10.1021/ac501530d.  Epub 2014 Jun 26. PubMed PMID: 24927477.
</p>
<p>Broeckling CD, Ganna A, Layer M, Brown K, Sutton B, Ingelsson E, Peers G, Prenni JE. Enabling Efficient and Confident Annotation of LC-MS Metabolomics Data through MS1 Spectrum and Time Prediction. Anal Chem. 2016 Sep 20;88(18):9226-34. doi: 10.1021/acs.analchem.6b02479. Epub 2016 Sep 8. PubMed PMID: 7560453.
</p>


</div>