<div class="container">

<table style="width: 100%;"><tr>
<td>run_facts</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run FACTS</h2>

<h3>Description</h3>

<p>Run FACTS trial simulations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">run_facts(
  facts_file,
  output_path = tempfile(),
  log_path = output_path,
  n_burn = NULL,
  n_mcmc = NULL,
  n_weeks_files = 10000,
  n_patients_files = 10000,
  n_mcmc_files = 0,
  n_mcmc_thin = NULL,
  flfll_seed = NULL,
  flfll_offset = NULL,
  n_sims,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>facts_file</code></td>
<td>
<p>Character, name of a FACTS file.
Usually has a <code style="white-space: pre;">⁠*.facts⁠</code> file extension.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_path</code></td>
<td>
<p>Character, directory path to the files to generate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_path</code></td>
<td>
<p>Character, path to the log file generated by FLFLL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_burn</code></td>
<td>
<p>Number of burn-in iterations for the MCMC.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_mcmc</code></td>
<td>
<p>Number of MCMC iterations used in inference.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_weeks_files</code></td>
<td>
<p>Number of <code>weeks*.csv</code> files to save in <code>output_path</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_patients_files</code></td>
<td>
<p>Number of <code>patients*.csv</code> files to save in
<code>output_path</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_mcmc_files</code></td>
<td>
<p>Number of <code>mcmc*.csv</code> files to save in
<code>output_path</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_mcmc_thin</code></td>
<td>
<p>Number of thinning iterations for the MCMC.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flfll_seed</code></td>
<td>
<p>Positive integer, random number generator seed for FLFLL.
This seed is only used for stochastic preprocessing steps for generating
the <code style="white-space: pre;">⁠*.param⁠</code> files. It is not the random number generator seed
for the actual trial simulations. To set the trial simulation seed,
use the <code>seed</code> argument of <code>run_facts()</code>, <code>run_engine()</code>, or
one of the specific <code style="white-space: pre;">⁠run_engine*()⁠</code> functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flfll_offset</code></td>
<td>
<p>Integer, offset for the random number generator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_sims</code></td>
<td>
<p>Positive integer, number of simulations per param file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Named arguments to the appropriate FACTS engine function.
Use <code>get_facts_engine()</code> to identify the appropriate
engine function and then open the help file of that function to read
about the arguments, e.g. <code>?run_engine_contin</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>run_facts()</code> calls <code>run_flfll()</code> and then <code>run_engine()</code>.
For finer control over trial simulation, you can call these
latter two functions individually.
</p>


<h3>Value</h3>

<p>Character, path to the directory with FACTS output.
</p>


<h3>See Also</h3>

<p><code>run_flfll()</code>, <code>run_engine()</code>, <code>get_facts_engine()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Can only run if system dependencies are configured:
if (file.exists(Sys.getenv("RFACTS_PATHS"))) {
facts_file &lt;- get_facts_file_example("contin.facts") # example FACTS file
out &lt;- run_facts(
  facts_file,
  n_sims = 4,
  verbose = FALSE
)
# What results files do we have?
head(get_csv_files(out))
# Read all the "patients*.csv" files with `read_patients(out)`.
# For each scenario, we have files named
# patients00001.csv, patients00002.csv, patients00003.csv,
# and patients00004.csv.
read_patients(out)
}
</code></pre>


</div>