<div class="container">

<table style="width: 100%;"><tr>
<td>cr_cn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get citations in various formats from CrossRef.</h2>

<h3>Description</h3>

<p>Get citations in various formats from CrossRef.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cr_cn(
  dois,
  format = "bibtex",
  style = "apa",
  locale = "en-US",
  raw = FALSE,
  .progress = "none",
  url = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dois</code></td>
<td>
<p>Search by a single DOI or many DOIs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>Name of the format. One of "rdf-xml", "turtle",
"citeproc-json", "citeproc-json-ish", "text", "ris", "bibtex" (default),
"crossref-xml", "datacite-xml","bibentry", or "crossref-tdm". The format
"citeproc-json-ish" is a format that is not quite proper citeproc-json.
Note that the package bibtex is required when <code>format="bibtex"</code>; the
package is in Suggests so is not required when installing rcrossref</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>style</code></td>
<td>
<p>a CSL style (for text format only). See <code>get_styles()</code>
for options. Default: 'apa'. If there's a style that CrossRef doesn't support
you'll get a  <code style="white-space: pre;">⁠(500) Internal Server Error⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locale</code></td>
<td>
<p>Language locale. See <code>?Sys.getlocale</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raw</code></td>
<td>
<p>(logical) Return raw text in the format given by <code>format</code>
parameter. Default: <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.progress</code></td>
<td>
<p>Show a <code>plyr</code>-style progress bar? Options are "none", "text",
"tk", "win", and "time".  See <code>create_progress_bar</code> for details
of each. Only used when passing in multiple ids (e.g., multiple DOIs, DOI prefixes,
etc.), or when using the <code>cursor</code> param. When using the <code>cursor</code> param,
this argument only accept a boolean, either <code>TRUE</code> or <code>FALSE</code>; any
non-boolean is coerced to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>url</code></td>
<td>
<p>(character) Base URL for the content negotiation request.
Default: "https://doi.org"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Named parameters passed on to <code>verb-GET</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See http://citation.crosscite.org/docs.html for more info
on the Crossref Content Negotiation API service.
</p>
<p>DataCite DOIs: Some values of the <code>format</code> parameter won't work with
DataCite DOIs, i.e. "citeproc-json", "crossref-xml", "crossref-tdm",
"onix-xml".
</p>
<p>MEDRA DOIs only work with "rdf-xml", "turtle", "citeproc-json-ish", "ris",
"bibtex", "bibentry", "onix-xml".
</p>
<p>See examples below.
</p>
<p>See <code>cr_agency()</code>
</p>
<p>Note that the format type <code>citeproc-json</code> uses the CrossRef API at
<code>api.crossref.org</code>, while all others are content negotiated via
<code style="white-space: pre;">⁠http://data.crossref.org⁠</code>, <code style="white-space: pre;">⁠http://data.datacite.org⁠</code> or
<code style="white-space: pre;">⁠http://data.medra.org⁠</code>. DOI agency is checked first (see
<code>cr_agency()</code>).
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
cr_cn(dois="10.1126/science.169.3946.635")
cr_cn(dois="10.1126/science.169.3946.635", "citeproc-json")
cr_cn(dois="10.1126/science.169.3946.635", "citeproc-json-ish")
cr_cn("10.1126/science.169.3946.635", "rdf-xml")
cr_cn("10.1126/science.169.3946.635", "crossref-xml")
cr_cn("10.1126/science.169.3946.635", "text")

# return an R bibentry type
cr_cn("10.1126/science.169.3946.635", "bibentry")
cr_cn("10.6084/m9.figshare.97218", "bibentry")

# return an apa style citation
cr_cn("10.1126/science.169.3946.635", "text", "apa")
cr_cn("10.1126/science.169.3946.635", "text", "harvard3")
cr_cn("10.1126/science.169.3946.635", "text", "elsevier-harvard")
cr_cn("10.1126/science.169.3946.635", "text", "ecoscience")
cr_cn("10.1126/science.169.3946.635", "text", "heredity")
cr_cn("10.1126/science.169.3946.635", "text", "oikos")

# example with many DOIs
dois &lt;- cr_r(2)
cr_cn(dois, "text", "apa")

# Cycle through random styles - print style on each try
stys &lt;- get_styles()
foo &lt;- function(x){
 cat(sprintf("&lt;Style&gt;:%s\n", x), sep = "\n\n")
 cat(cr_cn("10.1126/science.169.3946.635", "text", style=x))
}
foo(sample(stys, 1))

# Using DataCite DOIs
## some formats don't work
# cr_cn("10.5284/1011335", "crossref-xml")
# cr_cn("10.5284/1011335", "crossref-tdm")
## But most do work
cr_cn("10.5284/1011335", "text")
cr_cn("10.5284/1011335", "datacite-xml")
cr_cn("10.5284/1011335", "rdf-xml")
cr_cn("10.5284/1011335", "turtle")
cr_cn("10.5284/1011335", "citeproc-json-ish")
cr_cn("10.5284/1011335", "ris")
cr_cn("10.5284/1011335", "bibtex")
cr_cn("10.5284/1011335", "bibentry")

# Using Medra DOIs
cr_cn("10.1430/8105", "onix-xml")

# Get raw output
cr_cn(dois = "10.1002/app.27716", format = "citeproc-json", raw = TRUE)

# sometimes messy DOIs even work
## in this case, a DOI minting agency can't be found
## but we proceed anyway, just assuming it's "crossref"
cr_cn("10.1890/0012-9615(1999)069[0569:EDILSA]2.0.CO;2")

# Use a different base url
cr_cn("10.1126/science.169.3946.635", "text", url = "http://dx.doi.org")
cr_cn("10.1126/science.169.3946.635", "text", "heredity", url = "http://dx.doi.org")
cr_cn("10.5284/1011335", url = "https://citation.crosscite.org/format", 
   style = "oikos")
cr_cn("10.5284/1011335", url = "https://citation.crosscite.org/format", 
   style = "plant-cell-and-environment")

## End(Not run)
</code></pre>


</div>