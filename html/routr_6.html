<div class="container">

<table style="width: 100%;"><tr>
<td>sizelimit_route</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Limit the size of requests</h2>

<h3>Description</h3>

<p>This route is meant for being called prior to retrieving of the request body.
It inspects the <code>Content-Length</code> header and determines if the request should
be allowed to proceed. The limit can be made variable by supplying a function
to the <code>limit</code> argument returning a numeric. If the <code>Content-Length</code> header
is missing and the limit is not <code>Inf</code> the response will be set to
<code style="white-space: pre;">⁠411 - Length Required⁠</code>, If the header exists but exceeds the limit the
response will be set to <code style="white-space: pre;">⁠413 - Request Entity Too Large⁠</code>. Otherwise the route
will return <code>TRUE</code> and leave the response unchanged.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sizelimit_route(limit = 5 * 1024^2)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>limit</code></td>
<td>
<p>Either a numeric or a function returning a numeric when called
with the request</p>
</td>
</tr></table>
<h3>Value</h3>

<p><code>TRUE</code> if the request are allowed to proceed, or <code>FALSE</code> if it should
be terminated
</p>


<h3>See Also</h3>

<p>Other Route constructors: 
<code>ressource_route()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">limit_route &lt;- sizelimit_route() # Default 5Mb limit
rook &lt;- fiery::fake_request('http://www.example.com', 'post',
                            headers = list(Content_Length = 30*1024^2))
req &lt;- reqres::Request$new(rook)
limit_route$dispatch(req)
req$respond()

</code></pre>


</div>