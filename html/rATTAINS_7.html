<div class="container">

<table style="width: 100%;"><tr>
<td>plans</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Download Plans and Actions by HUC</h2>

<h3>Description</h3>

<p>Returns information about plans or actions (TMDLs, 4B Actions,
Alternative Actions, Protective Approach Actions) that have been finalized.
This is similar to actions but returns data by HUC code and any
assessment units covered by a plan or action within the specified HUC.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plans(
  huc,
  organization_id = NULL,
  summarize = FALSE,
  tidy = TRUE,
  .unnest = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>huc</code></td>
<td>
<p>(character) Filters the returned actions by 8-digit or higher HUC.
required</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>organization_id</code></td>
<td>
<p>(character). Filters the returned actions by those
belonging to the specified organization. Multiple values can be used.
optional</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summarize</code></td>
<td>
<p>(logical) If <code>TRUE</code> the count of assessment units is
returned rather than the assessment unit itdentifers for each action.
Defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tidy</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function returns a list of
tibbles. <code>FALSE</code> the function returns the raw JSON string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.unnest</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function attempts to unnest
data to longest format possible. This defaults to <code>TRUE</code> for backwards
compatibility but it is suggested to use <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>list of curl options passed to <code>crul::HttpClient()</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>huc</code> is a required argument. Multiple values are allowed for
indicated arguments and should be included as a comma separated values in
the string (eg. <code>organization_id="TCEQMAIN,DCOEE"</code>).
</p>


<h3>Value</h3>

<p>If <code>count = TRUE</code> returns a tibble that summarizes the count of
actions returned by the query. If <code>count = FALSE</code> returns a list of
tibbles including documents, use assessment data, and parameters assessment
data identified by the query. If <code>tidy = FALSE</code> the raw JSON string is
returned, else the JSON data is parsed and returned as a list of tibbles.
</p>


<h3>Note</h3>

<p>See domain_values to search values that can be queried. As of v1.0
this function no longer returns the <code>documents</code>, <code>associated_permits</code>, or
<code>plans</code> tibbles.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 

## Query plans by huc
plans(huc ="020700100103")

## return a JSON string instead of list of tibbles
plans(huc = "020700100103", tidy = FALSE)

## End(Not run)
</code></pre>


</div>