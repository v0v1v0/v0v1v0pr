<div class="container">

<table style="width: 100%;"><tr>
<td>Rdo_collect_aliases</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Collect aliases or other metadata from an Rd object</h2>

<h3>Description</h3>

<p>Collect aliases or other metadata from an Rd object.</p>


<h3>Usage</h3>

<pre><code class="language-R">Rdo_collect_aliases(rdo)

Rdo_collect_metadata(rdo, sec)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rdo</code></td>
<td>
<p>an Rd object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sec</code></td>
<td>
<p>the kind of metadata to collect, a character string, such
as "alias" and "keyword".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>Rdo_collect_aliases</code> finds all aliases in <code>rdo</code> and returns
them as a named character vector. The name of an alias  is usually the
empty string, <code>""</code>, but it may also be  "windows" or "unix" if
the alias is wrapped in a <code style="white-space: pre;">⁠#ifdef⁠</code> directive with the
corresponding first argument.
</p>
<p><code>Rdo_collect_metadata</code> is a generalisation of the above. It
collects the metadata from section(s) <code>sec</code>, where <code>sec</code> is
the name of a section without the leading backslash.
<code>sec</code> is assumed to be a section containing a single word, such
as "keyword", "alias", "name".
</p>
<p>Currently <code>Rdo_collect_metadata</code> is not exported.
</p>


<h3>Value</h3>

<p>a named character vector, as described in Details.
</p>


<h3>Author(s)</h3>

<p>Georgi N. Boshnakov</p>


<h3>See Also</h3>

<p><code>tools:::.Rd_get_metadata</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## this example originally (circa 2012) was:
##     infile &lt;- file.path(R.home(), "src/library/base/man/timezones.Rd")
## but the OS conditional alias in that file has been removed.
## So, create an artificial example:
infile &lt;- system.file("examples", "tz.Rd", package = "Rdpack")

## file.show(infile)
rd &lt;- tools::parse_Rd(infile)

## The functions described here handle "ifdef" and similar directives.
## This detects OS specific aliases (windows = "onlywin" and unix = "onlyunix"):
Rdo_collect_aliases(rd)
Rdpack:::Rdo_collect_metadata(rd, "alias") # same

## In contrast, the following do not find "onlywin" and "onlyunix":
sapply(rd[which(tools:::RdTags(rd)=="\alias")], as.character)
tools:::.Rd_get_metadata(rd, "alias")

Rdpack:::Rdo_collect_metadata(rd, "name")
Rdpack:::Rdo_collect_metadata(rd, "keyword")
</code></pre>


</div>