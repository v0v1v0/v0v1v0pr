<div class="container">

<table style="width: 100%;"><tr>
<td>ggplotly_geopos</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Converts a ggplot2 object from ggplot_geopos() to plotly
</h2>

<h3>Description</h3>

<p>This function converts a ggplot2 object created by RchivalTag::ggplot_geopos() to a plotly object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ggplotly_geopos(ggobj, fixedrange=F, grid=F,expand=10)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ggobj</code></td>
<td>

<p>Character string identifying regions predefined by the region_definitions-dataset, Raster* or Extent object (corresponds to <code>v_area</code> of the v-function). If missing, region is derived from geographical coordinates, denoted by lat and lon. See add.region to define new region definitions and delete.region to delete unproper region definitions.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixedrange</code></td>
<td>

<p>Vector returning longitude coordinates of the area to be plotted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid</code></td>
<td>

<p>whether a grid should be plotted (default is <code>TRUE</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expand</code></td>
<td>

<p>By default, the underlying ggplotly-function does not stick to the plotting region of the ggobj, but extends it. This can result in missing countries or islands. The <code>expand</code>-argument extends the plotly-plotting window in each direction in order to cover the corresponding landmasks.)
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>ggoplotmaply</code> uses the <code>ggplotly</code> functions to convert the ggplot object into the plotly format.
</p>


<h3>Author(s)</h3>

<p>Robert K. Bauer
</p>


<h3>See Also</h3>

 <p>leaflet_geopos, <code>ggplot_geopos,  ggplotmap, ggplotly</code> </p>


<h3>Examples</h3>

<pre><code class="language-R"># ## example 1a) line plot from several csv-files:
# library(oceanmap)
# csv_file &lt;- system.file("example_files/15P1019-104659-1-GPE3.csv",package="RchivalTag")
# pos &lt;- get_geopos(csv_file)  ## show tracks as line plot
# ggobj &lt;- ggplot_geopos(pos)
# ggobj
# ggplotly_geopos(ggobj)
# 
# ## load second file and add to plot:
# csv_file2 &lt;- system.file("example_files/14P0911-46177-1-GPE3.csv",package="RchivalTag")
# pos2 &lt;- get_geopos(csv_file2)  ## show tracks as line plot
# ggobj2 &lt;- ggplot_geopos(pos2)
# ggplotly_geopos(ggobj2)
# 
# pos3 &lt;- rbind(pos,pos2)
# ggobj3 &lt;- ggplot_geopos(pos3,type = "l")
# # ggobj3 &lt;- ggplot_geopos(pos3,type = "b")
# # ggobj3 &lt;- ggplot_geopos(pos3,type = "p")
# ggplotly_geopos(ggobj3)
# 
# 
# ## example 1b) scatter plot from csv-file on existing landmask:
# ggobj &lt;- oceanmap::ggplotmap('lion',grid.res = 5) # use keyword to derive area limits
# ggobj4 &lt;- ggplot_geopos(csv_file,ggobj)
# ggplotly_geopos(ggobj4)
# 
# ## alternatives:
# pos &lt;- get_geopos(csv_file)
# r &lt;- oceanmap::regions("lion")
# ggobj5 &lt;- ggplot_geopos(pos, xlim = r$xlim, ylim = r$ylim)
# ggplotly_geopos(ggobj5)
# 
# 
# ## example 2) probability surfaces of horizontal tracks from nc-file:
# ## this can take some time as it inlcudes time consuming data processing
# nc_file &lt;- system.file("example_files/15P1019-104659-1-GPE3.nc",package="RchivalTag")
# ggobj6 &lt;- ggplot_geopos(nc_file)
# ggobj6
# ggplotly_geopos(ggobj6)
# 
# 
# ## alternative:
# pols_df &lt;- get_geopos(nc_file)
# ggplot_geopos(pols_df)
# 
# 
# ## example 3) probability surfaces of horizontal tracks from kmz-file:
# kmz_file &lt;- system.file("example_files/15P1019-104659-1-GPE3.kmz",package="RchivalTag")
# ggobj7 &lt;- ggplot_geopos(kmz_file)
# ggobj7
# ggplotly_geopos(ggobj7)
# 
# 
# kmz_file2 &lt;- system.file("example_files/15P0986-15P0986-2-GPE3.kmz",package="RchivalTag")
# ggobj8 &lt;- ggplot_geopos(kmz_file)
# ggobj8
# ggplotly_geopos(ggobj8)
# 
# ## example 4) combine polygon tracks:
# k1 = get_geopos(kmz_file)
# k2 = get_geopos(kmz_file2)
# 
# ggobj &lt;- ggplotmap("mednw4")
# ## p1 &lt;- ggplot_geopos(k1,ggobj = ggobj) ## not working, need to change date format:
# p1 &lt;- ggplot_geopos(k1,date_format = "%d-%b-%Y %H:%M:%S")
# p1
# p2 &lt;- ggplot_geopos(k2,p1,zlim = as.Date(range(c(k1$datetime,k2$datetime))),
#       date_format = "%d-%b-%Y %H:%M:%S")
# ggplotly_geopos(p2)
# 
# ## change plot window:
# p1b &lt;- ggplot_geopos(k1,ggobj = ggobj, date_format = "%d-%b-%Y %H:%M:%S")
# p2b &lt;- ggplot_geopos(k2,p1b,zlim = as.Date(range(c(k1$datetime,k2$datetime))),
#                     date_format = "%d-%b-%Y %H:%M:%S")
# p2b
# ggplotly_geopos(p2b)
</code></pre>


</div>