<div class="container">

<table style="width: 100%;"><tr>
<td>target_sda</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add targets for CO2 emissions per unit production at the portfolio level,
using the SDA approach</h2>

<h3>Description</h3>

<p>This function calculates targets of CO2 emissions per unit production at the
portfolio-level, otherwise referred to as "emissions factors". It uses the
<a href="https://rmi-pacta.github.io/r2dii.analysis/articles/sda-target.html">sectoral-decarbonization approach (SDA)</a>
to calculate these targets.
</p>


<h3>Usage</h3>

<pre><code class="language-R">target_sda(
  data,
  abcd,
  co2_intensity_scenario,
  use_credit_limit = FALSE,
  by_company = FALSE,
  region_isos = r2dii.data::region_isos
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A dataframe like the output of
<code>r2dii.match::prioritize()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abcd</code></td>
<td>
<p>An asset-level data frame like r2dii.data::abcd_demo.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>co2_intensity_scenario</code></td>
<td>
<p>A scenario data frame like
r2dii.data::co2_intensity_scenario_demo.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_credit_limit</code></td>
<td>
<p>Logical vector of length 1. <code>FALSE</code> defaults to using
the column <code>loan_size_outstanding</code>. Set to <code>TRUE</code> to instead use the column
<code>loan_size_credit_limit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by_company</code></td>
<td>
<p>Logical vector of length 1. <code>FALSE</code> defaults to outputting
<code>weighted_production_value</code> at the portfolio-level. Set to <code>TRUE</code> to output
<code>weighted_production_value</code> at the company-level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region_isos</code></td>
<td>
<p>A data frame like r2dii.data::region_isos (default).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tibble including the summarized columns <code>emission_factor_metric</code> and
<code>emission_factor_value</code>. If <code>by_company = TRUE</code>, the output will also have
the column <code>name_abcd</code>.
</p>


<h3>Handling grouped data</h3>

<p>This function ignores existing groups and outputs ungrouped data.
</p>


<h3>See Also</h3>

<p>Other functions to calculate scenario targets: 
<code>target_market_share()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

library(r2dii.match)
library(r2dii.data)

loanbook &lt;- head(loanbook_demo, 150)
abcd &lt;- head(abcd_demo, 100)

matched &lt;- loanbook %&gt;%
  match_name(abcd) %&gt;%
  prioritize()

# Calculate targets at portfolio level
matched %&gt;%
  target_sda(
   abcd = abcd,
   co2_intensity_scenario = co2_intensity_scenario_demo,
   region_isos = region_isos_demo
   )

# Calculate targets at company level
matched %&gt;%
  target_sda(
   abcd = abcd,
   co2_intensity_scenario = co2_intensity_scenario_demo,
   region_isos = region_isos_demo,
   by_company = TRUE
   )

</code></pre>


</div>