<div class="container">

<table style="width: 100%;"><tr>
<td>check_input</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Check of coherence in the inputs for the allocation step
</h2>

<h3>Description</h3>

<p>Checks the coherence between the population in the strata dataset and the population calculated by the PSUs dataset
</p>


<h3>Usage</h3>

<pre><code class="language-R">     check_input(strata,des,strata_var_strata,strata_var_des)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>strata</code></td>
<td>
<p>strata dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>des</code></td>
<td>
<p>design dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata_var_strata</code></td>
<td>
<p>variable identifying stratum in strata dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata_var_des</code></td>
<td>
<p>variable identifying stratum in design dataset</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Giulio Barcaroli</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(R2BEAT)

load("R2BEAT_ReGenesees.RData")   # ReGenesees design and calibration objects plus PSU data

RGdes &lt;- des                           # ReGenesees design object
RGcal &lt;- cal                           # ReGenesees calibrated object

strata_vars &lt;- c("stratum")            # variables of stratification
target_vars &lt;- c("income_hh",
                 "active",
                 "inactive",
                 "unemployed")         # target variables
deff_vars &lt;- "stratum"    # stratification variables for calculating deff and effst 
                          # (n.b: must coincide or be a subset of variables of stratification)
id_PSU &lt;- c("municipality")            # identification variable of PSUs
id_SSU &lt;- c("id_hh")                   # identification variable of SSUs
domain_vars &lt;- c("region")             # domain variables
inp1 &lt;- input_to_beat.2st_1(RGdes,
                            RGcal,
                            id_PSU,
                            id_SSU,
                            strata_vars,
                            target_vars,
                            deff_vars,
                            domain_vars)							
head(inp1$strata)
head(psu)
psu_id="municipality"        # Identifier of the PSU
stratum_var="stratum"        # Identifier of the stratum
mos_var="ind"                # Variable to be used as 'measure of size'
delta=1                      # Average number of SSUs for each selection unit
minimum &lt;- 50                # Minimum number of SSUs to be selected in each PSU
inp2 &lt;- input_to_beat.2st_2(psu,
                            psu_id,
                            stratum_var,
                            mos_var,
                            delta,
                            minimum)
head(inp2$psu_file)
head(inp2$des_file)
newstrata &lt;- check_input(strata=inp1$strata,
                         des=inp2$des_file,
                         strata_var_strata="STRATUM",
                         strata_var_des="STRATUM")

## End(Not run)
</code></pre>


</div>