<div class="container">

<table style="width: 100%;"><tr>
<td>kernel_api</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>REDCapR internal function for calling the REDCap API</h2>

<h3>Description</h3>

<p>This function is used by other functions to read and write values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">kernel_api(
  redcap_uri,
  post_body,
  config_options,
  encoding = "UTF-8",
  content_type = "text/csv",
  handle_httr = NULL,
  encode_httr = "form"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>redcap_uri</code></td>
<td>
<p>The
<a href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier">uri</a>/url
of the REDCap server
typically formatted as "https://server.org/apps/redcap/api/".
Required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>post_body</code></td>
<td>
<p>List of contents expected by the REDCap API.  Required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>config_options</code></td>
<td>
<p>A list of options passed to <code>httr::POST()</code>.
See details at <code>httr::httr_options()</code>. Optional.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encoding</code></td>
<td>
<p>The encoding value passed to <code>httr::content()</code>.  Defaults
to 'UTF-8'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>content_type</code></td>
<td>
<p>The MIME value passed to <code>httr::content()</code>.  Defaults
to 'text/csv'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>handle_httr</code></td>
<td>
<p>The value passed to the <code>handle</code> parameter of
<code>httr::POST()</code>.
This is useful for only unconventional authentication approaches.  It
should be <code>NULL</code> for most institutions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encode_httr</code></td>
<td>
<p>The value passed to the <code>encode</code> parameter of
<code>httr::POST()</code>.
Defaults to <code>"form"</code>, which is appropriate for most actions.
(Currently, the only exception is importing a file,
which uses "multipart".)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the API call is unsuccessful, a value of
<code>base::package_version("0.0.0")</code> will be returned.  This ensures that a
the function will always return an object of class base::package_version.
It guarantees the value can always be used in <code>utils::compareVersion()</code>.
</p>


<h3>Value</h3>

<p>A utils::packageVersion.
</p>


<h3>Examples</h3>

<pre><code class="language-R">config_options &lt;- NULL
uri            &lt;- "https://bbmc.ouhsc.edu/redcap/api/"
token          &lt;- "9A81268476645C4E5F03428B8AC3AA7B"
post_body      &lt;- list(
  token    = token,
  content  = "project",
  format   = "csv"
)
## Not run: 
kernel &lt;- REDCapR:::kernel_api(uri, post_body, config_options)

# Consume the results in a few different ways.
kernel$result
read.csv(text = kernel$raw_text)
as.list(read.csv(text = kernel$raw_text))

## End(Not run)
</code></pre>


</div>