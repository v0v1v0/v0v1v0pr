<div class="container">

<table style="width: 100%;"><tr>
<td>getFocal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Select focal values from an observed variable.</h2>

<h3>Description</h3>

<p>This is a generic function with 2 methods, getFocal.default
handles numeric variables, while getFocal.factor handles
factors. No other methods have been planned for preparation.
</p>
<p>Many plotting functions need to select "focal" values from
a variable. There is a family of functions that are used
to do that.  User requests can be accepted in a number
of ways. Numeric and character variables will be treated
differently. Please see details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getFocal(x, ...)

## Default S3 method:
getFocal(x, xvals = NULL, n = 3, pct = TRUE, ...)

## S3 method for class 'factor'
getFocal(x, xvals = NULL, n = 3, pct = TRUE, ...)

## S3 method for class 'character'
getFocal(x, xvals = NULL, n = 3, pct = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Required. A variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments that will be passed to the
user-specified xvals function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xvals</code></td>
<td>
<p>A function name (either "quantile", "std.dev.",
"table", or "seq") or a user-supplied function that can receive
x and return a selection of values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Number of values to be selected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pct</code></td>
<td>
<p>Default TRUE. Include percentage of observed cases
in variable name? (used in legends)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is used in functions like <code>plotSlopes</code> or
<code>plotCurves</code>.
</p>
<p>If <code>xvals</code> is not provided, a default divider for numeric
variables will be the algorithm "quantile". The divider algorithms
provided with rockchalk are c("quantile", "std.dev.", "table",
"seq").  <code>xvals</code> can also be the name of a user-supplied
function, such as R's <code>pretty()</code>. If the user supplies a
vector of possible values, that selection will be checked to make
sure all elements are within a slightly expanded range of
<code>x</code>. If a value out of range is requested, a warning is
issued. Maybe that should be an outright error?
</p>
<p>With factor variables, <code>xvals</code> is generally not used because
the only implemented divider algorithm is "table" (see
<code>cutByTable</code>), which selects the <code>n</code> most frequently
observed values. That is the default algorithm. It is legal to
specify xvals = "table", but there is no point in doing
that. However, xvals may take two other formats. It may be a
user-specified function that can select levels values from
<code>x</code> or it may be a vector of labels (or, names of
levels). The purpose of the latter is to check that the requested
levels are actually present in the supplied data vector
<code>x</code>. If the levels specified are not in the observed
variable, then this function stops with an error message.
</p>


<h3>Value</h3>

<p>A vector.
</p>
<p>A named vector of values.
</p>


<h3>Author(s)</h3>

<p>Paul E. Johnson <a href="mailto:pauljohn@ku.edu">pauljohn@ku.edu</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">x &lt;- rnorm(100)
getFocal(x)
getFocal(x, xvals = "quantile")
getFocal(x, xvals = "quantile", n = 5)
getFocal(x, xvals = "std.dev")
getFocal(x, xvals = "std.dev", n = 5)
getFocal(x, xvals = c(-1000, 0.2, 0,5))
x &lt;- factor(c("A","B","A","B","C","D","D","D"))
getFocal(x)
getFocal(x, n = 2)

x &lt;- c("A","B","A","B","C","D","D","D")
getFocal(x)
getFocal(x, n = 2)

</code></pre>


</div>