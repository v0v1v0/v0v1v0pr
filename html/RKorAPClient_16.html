<div class="container">

<table style="width: 100%;"><tr>
<td>collocationScoreQuery,KorAPConnection-method</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Query frequencies of a node and a collocate and calculate collocation association scores</h2>

<h3>Description</h3>

<p>Computes various collocation association scores
based on <code>frequencyQuery()</code>s for a target word and a collocate.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'KorAPConnection'
collocationScoreQuery(
  kco,
  node,
  collocate,
  vc = "",
  lemmatizeNodeQuery = FALSE,
  lemmatizeCollocateQuery = FALSE,
  leftContextSize = 5,
  rightContextSize = 5,
  scoreFunctions = defaultAssociationScoreFunctions(),
  smoothingConstant = 0.5,
  observed = NA,
  ignoreCollocateCase = FALSE,
  withinSpan = "base/s=s"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>kco</code></td>
<td>
<p><code>KorAPConnection()</code> object (obtained e.g. from <code>new("KorAPConnection")</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>node</code></td>
<td>
<p>target word</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collocate</code></td>
<td>
<p>collocate of target word</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vc</code></td>
<td>
<p>string describing the virtual corpus in which the query should be performed. An empty string (default) means the whole corpus, as far as it is license-wise accessible.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lemmatizeNodeQuery</code></td>
<td>
<p>logical, set to TRUE if node query should be lemmatized, i.e. <code style="white-space: pre;">⁠x -&gt; [tt/l=x]⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lemmatizeCollocateQuery</code></td>
<td>
<p>logical, set to TRUE if collocate query should be lemmatized, i.e. <code style="white-space: pre;">⁠x -&gt; [tt/l=x]⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leftContextSize</code></td>
<td>
<p>size of the left context window</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rightContextSize</code></td>
<td>
<p>size of the right context window</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scoreFunctions</code></td>
<td>
<p>named list of score functions of the form function(O1, O2, O, N, E, window_size), see e.g. pmi</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smoothingConstant</code></td>
<td>
<p>smoothing constant will be added to all observed values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>observed</code></td>
<td>
<p>if collocation frequencies are already known (or estimated from a sample) they can be passed as a vector here, otherwise: NA</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignoreCollocateCase</code></td>
<td>
<p>logical, set to TRUE if collocate case should be ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>withinSpan</code></td>
<td>
<p>KorAP span specification for collocations to be searched within</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>tibble with query KorAP web request URL, all observed values and association scores
</p>


<h3>See Also</h3>

<p>Other collocation analysis functions: 
<code>association-score-functions</code>,
<code>collocationAnalysis,KorAPConnection-method</code>,
<code>synsemanticStopwords()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

new("KorAPConnection", verbose = TRUE) %&gt;%
  collocationScoreQuery("Grund", "triftiger")

## End(Not run)

## Not run: 

new("KorAPConnection", verbose = TRUE) %&gt;%
collocationScoreQuery("Grund", c("guter", "triftiger"),
   scoreFunctions = list(localMI = function(O1, O2, O, N, E, window_size) { O * log2(O/E) }) )

## End(Not run)

## Not run: 

library(highcharter)
library(tidyr)
new("KorAPConnection", verbose = TRUE) %&gt;%
  collocationScoreQuery("Team", "agil", vc = paste("pubDate in", c(2014:2018)),
                        lemmatizeNodeQuery = TRUE, lemmatizeCollocateQuery = TRUE) %&gt;%
                         pivot_longer(14:last_col(), names_to = "measure", values_to = "score") %&gt;%
  hchart(type="spline", hcaes(label, score, group=measure)) %&gt;%
  hc_add_onclick_korap_search()

## End(Not run)

</code></pre>


</div>