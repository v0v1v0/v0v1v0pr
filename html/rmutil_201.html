<div class="container">

<table style="width: 100%;"><tr>
<td>rmna</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a repeated Object, Removing NAs</h2>

<h3>Description</h3>

<p><code>rmna</code> forms an object of class, <code>repeated</code>, from a
<code>response</code> object and possibly time-varying or
intra-individual covariate (<code>tvcov</code>), and time-constant or
inter-individual covariate (<code>tccov</code>) objects, removing any
observations where response and covariate values have NAs. Subjects
must be in the same order in all (three) objects to be combined.
</p>
<p>Such objects can be printed and plotted. Methods are available for
extracting the response, the numbers of observations per individual,
the times, the weights, the units of measurement/Jacobian, the nesting
variable, the covariates, and their names: <code>response</code>,
<code>nobs</code>, <code>times</code>,
<code>weights</code>, <code>delta</code>,
<code>nesting</code>, <code>covariates</code>, and
<code>names</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rmna(response, ccov=NULL, tvcov=NULL)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>An object of class, <code>response</code> (created by
<code>restovec</code>), containing the response variable information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ccov</code></td>
<td>
<p>An object of class, <code>tccov</code> (created by
<code>tcctomat</code>), containing the time-constant or
inter-individual covariate information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tvcov</code></td>
<td>
<p>An object of class, <code>tvcov</code> (created by
<code>tvctomat</code>), containing the time-varying or
intra-individual covariate information.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns an object of class, <code>repeated</code>, containing a list of the
response object (<code>z$response</code>, so that, for example, the response vector
is <code>z$response$y</code>; see <code>restovec</code>), and
possibly the two classes of covariate objects (<code>z$ccov</code> and
<code>z$tvcov</code>; see <code>tcctomat</code> and
<code>tvctomat</code>).
</p>


<h3>Author(s)</h3>

<p>J.K. Lindsey</p>


<h3>See Also</h3>

<p><code>DataMethods</code>, <code>covariates</code>,
<code>covind</code>, <code>delta</code>,
<code>dftorep</code>, <code>lvna</code>,
<code>names</code>, <code>nesting</code>,
<code>nobs</code>, <code>read.list</code>,
<code>read.surv</code>, <code>response</code>,
<code>resptype</code>, <code>restovec</code>,
<code>tcctomat</code>, <code>times</code>,
<code>transform</code>, <code>tvctomat</code>,
<code>units</code>, <code>weights</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">y &lt;- matrix(rnorm(20),ncol=5)
tt &lt;- c(1,3,6,10,15)
print(resp &lt;- restovec(y,times=tt))
x &lt;- c(0,0,1,1)
tcc &lt;- tcctomat(x)
z &lt;- matrix(rpois(20,5),ncol=5)
tvc &lt;- tvctomat(z)
print(reps &lt;- rmna(resp, tvcov=tvc, ccov=tcc))
response(reps)
response(reps, nind=2:3)
times(reps)
nobs(reps)
weights(reps)
covariates(reps)
covariates(reps,names="x")
covariates(reps,names="z")
names(reps)
nesting(reps)
# because individuals are the only nesting, this is the same as
covind(reps)
#
# use in glm
rm(y,x,z)
glm(y~x+z,data=as.data.frame(reps))
#
# binomial
y &lt;- matrix(rpois(20,5),ncol=5)
print(respb &lt;- restovec(y,totals=y+matrix(rpois(20,5),ncol=5),times=tt))
print(repsb &lt;- rmna(respb, tvcov=tvc, ccov=tcc))
response(repsb)
#
# censored data
y &lt;- matrix(rweibull(20,2,5),ncol=5)
print(respc &lt;- restovec(y,censor=matrix(rbinom(20,1,0.9),ncol=5),times=tt))
print(repsc &lt;- rmna(respc, tvcov=tvc, ccov=tcc))
# if there is no censoring, censor indicator is not printed
response(repsc)
#
# nesting clustered within individuals
nest &lt;- c(1,1,2,2,2)
print(respn &lt;- restovec(y,censor=matrix(rbinom(20,1,0.9),ncol=5),
	times=tt,nest=nest))
print(repsn &lt;- rmna(respn, tvcov=tvc, ccov=tcc))
response(respn)
times(respn)
nesting(respn)
</code></pre>


</div>