<div class="container">

<table style="width: 100%;"><tr>
<td>cor_diss</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Correlation and moving correlation dissimilarity measurements (cor_diss)</h2>

<h3>Description</h3>

<script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script><a href="https://www.tidyverse.org/lifecycle/#satble"><img src="figures/lifecycle-stable.svg" alt="Stable lifecycle"></a>
<p>Computes correlation and moving correlation dissimilarity matrices.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cor_diss(Xr, Xu = NULL, ws = NULL,
         center = TRUE, scale = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Xr</code></td>
<td>
<p>a matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Xu</code></td>
<td>
<p>an optional matrix containing data of a second set of observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ws</code></td>
<td>
<p>for moving correlation dissimilarity, an odd integer value which
specifies the window size. If <code>ws = NULL</code>, then the window size will be
equal to the number of variables (columns), i.e. instead moving correlation,
the normal correlation will be used. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>a logical indicating if the spectral data <code>Xr</code> (and
<code>Xu</code> if specified) must be centered. If <code>Xu</code> is provided, the data
is scaled on the basis of \(Xr \cup Xu\).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>a logical indicating if <code>Xr</code> (and <code>Xu</code> if specified)
must be scaled. If <code>Xu</code> is provided the data is scaled on the basis
of \(Xr \cup Xu\).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The correlation dissimilarity \(d\) between two observations
\(x_i\) and \(x_j\) is based on the Perason's
correlation coefficient (\(\rho\)) and it can be computed as
follows:
</p>
\[d(x_i, x_j) = \frac{1}{2}((1 - \rho(x_i, x_j)))\]
<p>The above formula is used when <code>ws = NULL</code>.
On the other hand (when <code>ws != NULL</code>) the moving correlation
dissimilarity between two observations \(x_i\) and \(x_j\)
is computed as follows:
</p>
\[d(x_i, x_j; ws) = \frac{1}{2 ws}\sum_{k=1}^{p-ws}1 - \rho(x_{i,(k:k+ws)}, x_{j,(k:k+ws)})\]
<p>where \(ws\) represents a given window size which rolls sequentially
from 1 up to \(p - ws\) and  \(p\) is the number of
variables of the observations.
</p>
<p>The function does not accept input data containing missing values.
</p>


<h3>Value</h3>

<p>a matrix of the computed dissimilarities.
</p>


<h3>Author(s)</h3>

<p>Antoine Stevens and <a href="https://orcid.org/0000-0002-5369-5120">Leonardo Ramirez-Lopez</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(prospectr)
data(NIRsoil)

Xu &lt;- NIRsoil$spc[!as.logical(NIRsoil$train), ]
Xr &lt;- NIRsoil$spc[as.logical(NIRsoil$train), ]

cor_diss(Xr = Xr)

cor_diss(Xr = Xr, Xu = Xu)

cor_diss(Xr = Xr, ws = 41)

cor_diss(Xr = Xr, Xu = Xu, ws = 41)

</code></pre>


</div>