<div class="container">

<table style="width: 100%;"><tr>
<td>distmc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Distance Matrix Computation with multi-threads</h2>

<h3>Description</h3>

<p>This function is similar to <code>dist()</code> in <span class="pkg">stats</span>, with additional support of multi-threading.
</p>


<h3>Usage</h3>

<pre><code class="language-R">distmc(x, method = "euclidean", diag = FALSE, upper = FALSE, p = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a numeric matrix, data frame or <code>"dist"</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>the distance measure to be used. This must be one of
<code>"euclidean"</code>, <code>"maximum"</code>, <code>"manhattan"</code>,
<code>"canberra"</code>, <code>"binary"</code> or <code>"minkowski"</code>.
Any unambiguous substring can be given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diag</code></td>
<td>
<p>logical value indicating whether the diagonal of the
distance matrix should be printed by <code>print.dist</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper</code></td>
<td>
<p>logical value indicating whether the upper triangle of the
distance matrix should be printed by <code>print.dist</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>The power of the Minkowski distance.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Available distance measures are (written for two vectors <code class="reqn">x</code> and
<code class="reqn">y</code>):
</p>

<dl>
<dt>
<code>euclidean</code>:</dt>
<dd>
<p>Usual square distance between the two
vectors (2 norm).</p>
</dd>
<dt>
<code>maximum</code>:</dt>
<dd>
<p>Maximum distance between two components of <code class="reqn">x</code>
and <code class="reqn">y</code> (supremum norm)</p>
</dd>
<dt>
<code>manhattan</code>:</dt>
<dd>
<p>Absolute distance between the two vectors
(1 norm).</p>
</dd>
<dt>
<code>canberra</code>:</dt>
<dd>
<p><code class="reqn">\sum_i |x_i - y_i| / |x_i + y_i|</code>.
Terms with zero numerator and denominator are omitted from the sum
and treated as if the values were missing.
</p>
<p>This is intended for non-negative values (e.g. counts): taking the
absolute value of the denominator is a 1998 <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> modification to
avoid negative distances.
</p>
</dd>
<dt>
<code>binary</code>:</dt>
<dd>
<p>(aka <em>asymmetric binary</em>): The vectors
are regarded as binary bits, so non-zero elements are ‘on’
and zero elements are ‘off’.  The distance is the
<em>proportion</em> of bits in which only one is on amongst those in
which at least one is on.</p>
</dd>
<dt>
<code>minkowski</code>:</dt>
<dd>
<p>The <code class="reqn">p</code> norm, the <code class="reqn">p</code>th root of the
sum of the <code class="reqn">p</code>th powers of the differences of the components.</p>
</dd>
</dl>
<p>Missing values are allowed, and are excluded from all computations
involving the rows within which they occur.
Further, when <code>Inf</code> values are involved, all pairs of values are
excluded when their contribution to the distance gave <code>NaN</code> or
<code>NA</code>.<br>
If some columns are excluded in calculating a Euclidean, Manhattan,
Canberra or Minkowski distance, the sum is scaled up proportionally
to the number of columns used.  If all pairs are excluded when calculating a
particular distance, the value is <code>NA</code>.
</p>
<p>The <code>"distmc"</code> method of <code>as.matrix()</code> and <code>as.dist()</code>
can be used for conversion between objects of class <code>"dist"</code>
and conventional distance matrices.
</p>
<p><code>as.dist()</code> is a generic function.  Its default method handles
objects inheriting from class <code>"dist"</code>, or coercible to matrices
using <code>as.matrix()</code>.  Support for classes representing
distances (also known as dissimilarities) can be added by providing an
<code>as.matrix()</code> or, more directly, an <code>as.dist</code> method
for such a class.
</p>


<h3>Value</h3>

<p><code>distmc</code> returns an object of class <code>"dist"</code>.
</p>
<p>The lower triangle of the distance matrix stored by columns in a
vector, say <code>do</code>. If <code>n</code> is the number of
observations, i.e., <code>n &lt;- attr(do, "Size")</code>, then
for <code class="reqn">i &lt; j \le n</code>, the dissimilarity between (row) i and j is
<code>do[n*(i-1) - i*(i-1)/2 + j-i]</code>.
The length of the vector is <code class="reqn">n*(n-1)/2</code>, i.e., of order <code class="reqn">n^2</code>.
</p>
<p>The object has the following attributes (besides <code>"class"</code> equal
to <code>"dist"</code>):
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Size</code></td>
<td>
<p>integer, the number of observations in the dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Labels</code></td>
<td>
<p>optionally, contains the labels, if any, of the
observations of the dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Diag, Upper</code></td>
<td>
<p>logic, corresponding to the arguments <code>diag</code>
and <code>upper</code> above, specifying how the object should be printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>optional, the <code>call</code> used to create the
object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>optional, the distance measure used; resulting from
<code>distmc()</code>, the (<code>match.arg()</code>ed) <code>method</code>
argument.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988)
<em>The New S Language</em>.
Wadsworth &amp; Brooks/Cole.
</p>
<p>Mardia, K. V., Kent, J. T. and Bibby, J. M. (1979)
<em>Multivariate Analysis.</em> Academic Press.
</p>
<p>Borg, I. and Groenen, P. (1997)
<em>Modern Multidimensional Scaling.  Theory and Applications.</em>
Springer.
</p>


<h3>See Also</h3>

<p><code>dist()</code> in the <span class="pkg">stats</span> package
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(iris)
df&lt;-iris[-5]
dist.data&lt;-distmc(df,'manhattan')
</code></pre>


</div>