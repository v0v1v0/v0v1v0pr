<div class="container">

<table style="width: 100%;"><tr>
<td>classify_DayTime</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Classifying the time period of the day
</h2>

<h3>Description</h3>

<p>Classifying the time period of the day based on the timing of sunrise, sunset (and twilight events) or alternatively, geolocation estimates, as specified in get_DayTimeLimits, that allow their internal estimation during the function call.
</p>


<h3>Usage</h3>

<pre><code class="language-R">classify_DayTime(pos, twilight.set="ast")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pos</code></td>
<td>

<p>A data.frame <code>pos</code> with the columns <code>sunrise</code>, <code>sunset</code>, <code>dawn.ast</code>,/<code>dawn.naut</code> and <code>dawn.ast</code>/<code>dawn.naut</code> in <code>POSIXct</code>-format. Note that the expected twilight vector (suffix <code>"ast"</code> for astronomical dawn and dusks; vs suffix <code>"naut"</code> for nautical twilight events) is defined by the function's second argument <code>twilight.set</code> (see description below).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>twilight.set</code></td>
<td>

<p>character string, indicating the type of twilight used for the long daytime classifcation: <code>"ast"</code> (default) for astronomical and <code>"naut"</code> for nautical twilight events with sun angles of 18 vs 12 below the horizon, respectvely. Corresponding (expected) dawn and dusk vector names are <code>dawn.ast</code> &amp; <code>dusk.ast</code> vs <code>dawn.naut</code> &amp; <code>dusk.naut</code>).
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The input data.frame <code>pos</code> extended by the time vectors <code>daytime</code> and <code>daytime.long</code>. In the former case, "Day" and "Night" periods are distinguished. In the latter case, "Day", "Night", "Dawn" and "Dusk".
</p>


<h3>Author(s)</h3>

<p>Robert K. Bauer
</p>


<h3>References</h3>

<p>Meeus, J. (1991) Astronomical Algorithms. Willmann-Bell, Inc.
</p>


<h3>See Also</h3>

<p>sunriset, crepuscule, get_DayTimeLimits
</p>


<h3>Examples</h3>

<pre><code class="language-R">
#### example 1) estimate current times of dawn, sunrise, dusk and sunset in Mainz, Germany:
pos &lt;- data.frame(Lat=8.2667, Lon=50)
pos$datetime &lt;- strptime(Sys.Date(),"%Y-%m-%d")
get_DayTimeLimits(pos)

#### example 1b) classify current ime of the day in Mainz, Germany:
classify_DayTime(get_DayTimeLimits(pos))

## convert 1c) back-to-back histogram showing day vs night TAD frequencies:
### load sample depth and temperature time series data from miniPAT:
ts_file &lt;- system.file("example_files/104659-Series.csv",package="RchivalTag")
ts_df &lt;- read.table(ts_file, header = TRUE, sep = ",")
tad_breaks &lt;- c(0, 2, 5, 10, 20, 50, 100, 200, 300, 400, 600, 2000)

ts_df$Lat &lt;- 4; ts_df$Lon=42.5 ## required geolocations to estimate daytime
ts_df$datetime &lt;- strptime(paste(ts_df$Day,ts_df$Time),"%d-%B-%Y %H:%M:%S")
head(ts_df)
ts_df2 &lt;- classify_DayTime(get_DayTimeLimits(ts_df)) # estimate daytime
head(ts_df2)

ts2histos(ts_df2, tad_breaks = tad_breaks,split_by = "daytime")
hist_tad(ts_df2, bin_breaks = tad_breaks,split_by = "daytime", do_mid.ticks = FALSE)


</code></pre>


</div>