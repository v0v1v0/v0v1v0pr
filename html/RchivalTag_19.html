<div class="container">

<table style="width: 100%;"><tr>
<td>interpolate_TempDepthProfiles</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
interpolate daily temperature at depth profiles
</h2>

<h3>Description</h3>

<p>interpolates depth-temperature data and returns daily average temperature at depth profiles on a user-specified resolution (<code>Depth_res</code>). <br> Results are returned as a list containing the interpolated Temperature-matrix, and the corresponding date and depth values. Thus interpolated temperature at depth profiles can be visualized using function image_TempDepthProfiles and faciliates the analysis of temporal changes of temperature profiles, for instance, in relation to animal behaviour (e.g. diving behaviour).
</p>


<h3>Usage</h3>

<pre><code class="language-R">interpolate_TempDepthProfiles(ts, Temp_field="Temperature", ID_key="Serial", 
                              Depth_res=.5, verbose=TRUE, Data_Source='station')
                              
interpolate_PDTs(ts, Temp_field="MeanPDT", ID_key="Serial", #return_as_matrix=FALSE, 
                             Depth_res=.5, verbose=TRUE, Data_Source='station')
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ts, Temp_field, ID_key</code></td>
<td>

<p><code>ts</code> is a data.frame with temperature at depth data. Required columns are <code>Depth</code> for the depth data and a column containing temperature data, whose name is defined by <code>Temp_field</code>. <code>ID_key</code> specifies the name of an optional column on which sampling stations or tags can be distinguished (by default <code>Serial</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Depth_res</code></td>
<td>

<p>numeric value, defining the depth resolution at which the temperature data should be interpolated.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>whether the sampling dates and ids of stations or tags, as defined by the columns <code>date</code> and <code>ID_key</code>,  
should be indicated during the interpolation process.
</p>
</td>
</tr>
</table>
<table><tr style="vertical-align: top;">
<td><code>Data_Source</code></td>
<td>

<p>a character string, defining the data source (by default <code>station</code>).
</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A list containing the interpolated temperature at depth profiles and their corresponding date and interpolated depth values as well as a summary table with the original depth values and their number per day:
</p>
<p>$ Data_Source.ID_key:List of 4<br>
..$ Temperature_matrix: num<br>
..$ Depth           : num<br> 
..$ Date            :Date<br>
..$ sm            :data.frame<br></p>
<p>Please see the examples for further understaning.
</p>


<h3>Author(s)</h3>

<p>Robert K. Bauer
</p>


<h3>References</h3>

<p>Bauer, R., F. Forget and JM. Fromentin (2015) Optimizing PAT data transmission: assessing the accuracy of temperature summary data to estimate environmental conditions. Fisheries Oceanography, 24(6): 533-539, 
<a href="https://doi.org/10.1111/fog.12127">doi:10.1111/fog.12127</a>
</p>


<h3>See Also</h3>

<p>read_PDT, bin_TempTS, get_thermalstrat, image_TempDepthProfiles</p>


<h3>Examples</h3>

<pre><code class="language-R">#### example 1) run on PDT file:
## step I) read sample PDT data file:
path &lt;- system.file("example_files",package="RchivalTag")
PDT &lt;- read_PDT("104659-PDTs.csv",folder=path)
head(PDT)
# 
# ## step II) interpolate average temperature fields (MeanPDT) from PDT file:
# m &lt;- interpolate_PDTs(PDT)
# str(m)
# m$sm
# 
# ## step III) calculate thermal stratifcation indicators per day (and tag):
# get_thermalstrat(m, all_info = TRUE)
# get_thermalstrat(m, all_info = FALSE)
# 
# ## step IV) plot interpolated profiles:
# image_TempDepthProfiles(m$station.1)
# 
# 
# #### example 2) run on time series data:
# ## step I) read sample time series data file:
# ts_file &lt;- system.file("example_files/104659-Series.csv",package="RchivalTag")
# DepthTempTS &lt;- read_TS(ts_file)
# 
# 
# ## step Ib) bin temperature data on 10m depth bins 
# ##          to increase later estimate accuracy (see Bauer et al. 2015):
# # DepthTempTS_binned &lt;- bin_TempTS(DepthTempTS,res=10)
# 
# ## step II) interpolate average temperature fields (MeanTemp) from binned data:
# m &lt;- interpolate_TempDepthProfiles(DepthTempTS)
# # m &lt;- interpolate_PDTs(DepthTempTS_binned)
# str(m)
# m$sm
# 
# ## step III) calculate thermal stratifcation indicators per day (and tag):
# get_thermalstrat(m, all_info = TRUE)
# get_thermalstrat(m, all_info = FALSE)
# 
# ## step IV) plot interpolated profiles:
# image_TempDepthProfiles(m$station.1)

</code></pre>


</div>