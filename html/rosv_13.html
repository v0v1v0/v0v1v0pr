<div class="container">

<table style="width: 100%;"><tr>
<td>create_osv_list</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>List packages identified in the OSV database</h2>

<h3>Description</h3>

<p>Create a list of package names and versions based upon vulnerabilities discovered in the OSV database
using <code>osv_query</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_osv_list(
  rosv_query = NULL,
  as.data.frame = TRUE,
  sort = TRUE,
  delim = "\t",
  NA_value = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rosv_query</code></td>
<td>
<p>A table of vulnerabilities (created via <code>osv_query()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.data.frame</code></td>
<td>
<p>Boolean value to determine if a data.frame should be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>Boolean value to determine if results should be sorted by name and version.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delim</code></td>
<td>
<p>The deliminator to separate the package and version details (ignored if <code>as.data.frame</code> set to <code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NA_value</code></td>
<td>
<p>Character value to replace missing versions (typically means all versions impacted).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Requires an object of type <code>rosv_query</code> created by <code>osv_query</code>. This can be
a selection of packages or all vulnerabilities for an ecosystem. Depending on use-case, users may
prefer the vector based output with pairs of package names and versions separated by a provided value.
Since only name and versions are returned, only one ecosystem can be operated on at a time.
</p>
<p>Please note, the default behaviour of <code>osv_query()</code> is to return all packages (and versions) across ecosystems
associated with discovered vulnerabilities. If a package is discovered across several vulnerabilities it will
be listed multiple times, by default, in the returned content. Unlike <code>osv_query()</code>, <code>create_osv_list()</code> will
further sort and return a unique set of packages. In most circumstances, users will create the
<code>rosv_query</code> (via <code>osv_query()</code>) with the <code>all_affected</code> parameter set to <code>FALSE</code>
so that only the package names of interest are returned.
</p>


<h3>Value</h3>

<p>A <code>data.frame()</code> or vector object containing the package and version details.
</p>


<h3>See Also</h3>

<p><code>osv_query</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# List of a few PyPI packages in data.frame output
pypi_query &lt;- osv_query(c('dask', 'dash', 'aaiohttp'),
                        ecosystem = rep('PyPI', 3),
                        all_affected = FALSE)
pypi_vul &lt;- create_osv_list(pypi_query)
file_name1 &lt;- file.path(tempdir(), 'pypi_vul.csv')
writeLines(pypi_vul, file_name1)

# All CRAN vulns in vector output
cran_query &lt;- osv_query(ecosystem = 'CRAN', all_affected = FALSE)
cran_vul &lt;- create_osv_list(cran_query, as.data.frame = FALSE, delim = ',')
file_name2 &lt;- file.path(tempdir(), 'cran_vul.csv')
writeLines(cran_vul, file_name2)

# Clean up
try(unlink(c(file_name1, file_name2)))

</code></pre>


</div>