<div class="container">

<table style="width: 100%;"><tr>
<td>mk_table_nca_params</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create Tabular Output from PKNCA Results</h2>

<h3>Description</h3>

<p>Create paginated tables from PKNCA to use in reports and Shiny
apps.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mk_table_nca_params(
  nca_res,
  type = "individual",
  grouping = "interval",
  not_calc = "NC",
  obnd = NULL,
  nps = NULL,
  mult_str = "*",
  infinity = "inf",
  digits = NULL,
  text_format = "text",
  notes_detect = NULL,
  max_height = 7,
  max_width = 6.5,
  max_row = NULL,
  max_col = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nca_res</code></td>
<td>
<p>Output of PKNCA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of table to generate. Can be either <code>"individual"</code> or <code>"summary"]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grouping</code></td>
<td>
<p>How to group columns in tables. Can be either <code>"interval"</code> or <code>"parameter"]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>not_calc</code></td>
<td>
<p>Text string to replace NA values with to indicated values were not calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obnd</code></td>
<td>
<p>onbrand reporting object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nps</code></td>
<td>
<p>NCA parameter summary table with the following columns.
</p>

<ul>
<li>
<p>parameter:      PKNCA Paramter name.
</p>
</li>
<li>
<p>text:           Name used in text output.
</p>
</li>
<li>
<p>md:             Name used markdown output.
</p>
</li>
<li>
<p>latex:          Name used in latex output.
</p>
</li>
<li>
<p>description:    Verbose textual description of the parameter.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mult_str</code></td>
<td>
<p>Text string to replace * values in units.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>infinity</code></td>
<td>
<p>Text string to replace infinity in time intervals in column headers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Number of significant figures to report (set to <code>NULL</code> to disable rounding)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text_format</code></td>
<td>
<p>Either <code>"md"</code> for markdown or <code>"text"</code> (default) for plain text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>notes_detect</code></td>
<td>
<p>Vector of strings to detect in output tables (example <code>c("NC", "BLQ")</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_height</code></td>
<td>
<p>Maximum height of the final table in inches (A value of <code>NULL</code> will use 100 inches).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_width</code></td>
<td>
<p>Maximum width of the final table in inches (A value of <code>NULL</code> will use 100 inches).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_row</code></td>
<td>
<p>Maximum number of rows to have on a page. Spillover will hang over the side of the page..</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_col</code></td>
<td>
<p>Maximum number of columns to have on a page. Spillover will be wrapped to multiple pages.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list containing the following elements
</p>

<ul>
<li>
<p>raw_nca:     Raw PKNCA output.
</p>
</li>
<li>
<p>isgood:      Boolean indicating the exit status of the function.
</p>
</li>
<li>
<p>one_table:   Dataframe of the entire table with the first lines containing the header.
</p>
</li>
<li>
<p>one_body:    Dataframe of the entire table (data only).
</p>
</li>
<li>
<p>one_header:  Dataframe of the entire header (row and body, no data).
</p>
</li>
<li>
<p>tables:      Named list of tables. Each list element is of the output
</p>
</li>
<li>
<p>msgs:        Vector of text messages describing any errors that were found.
format from <code>build_span</code>.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">id     = "NCA"
id_UD  = "UD"
id_DW  = "DW"
id_ASM = "ASM"

# We need a state variable to be define
sess_res = NCA_test_mksession(session=list(),
     id     = id,
     id_UD  = id_UD,
     id_DW  = id_DW,
     id_ASM = id_ASM,
     full_session=FALSE)

state = sess_res$state

# Pulls out the active analysis
current_ana = NCA_fetch_current_ana(state)

# This is the raw PKNCA output
pknca_res = NCA_fetch_ana_pknca(state, current_ana)

# Parameter reporting details from the ruminate configuration
nps  = state[["NCA"]][["nca_parameters"]][["summary"]]

# Building the figure
mk_res = mk_table_nca_params(nca_res = pknca_res, nps=nps, digits=3)
mk_res$tables[["Table 1"]]$ft
</code></pre>


</div>