<div class="container">

<table style="width: 100%;"><tr>
<td>RdistanceControls</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Control parameters for <code>Rdistance</code> optimization.</h2>

<h3>Description</h3>

<p>Returns a list of optimization controls used in 
<code>Rdistance</code> and provides a way to change them if needed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">RdistanceControls(
  optimizer = "nlminb",
  evalMax = 2000,
  maxIters = 1000,
  likeTol = 1e-08,
  coefTol = 1.5e-08,
  hessEps = 1e-08,
  requireUnits = TRUE,
  maxBSFailPropForWarning = 0.2,
  contrasts = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>optimizer</code></td>
<td>
<p>A string specifying the optimizer 
to use.  Results
vary between optimizers, so switching algorithms sometimes 
makes a poorly behaved distance function converge.  The valid 
values are "optim" which uses <code>optim::optim</code>,
and "nlminb" which uses <code>stats:nlminb</code>.  The authors 
have had better luck with "nlminb" than "optim" and "nlminb" 
runs noticeably faster.  Problems with solutions near parameter 
boundaries may require use of "optim".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>evalMax</code></td>
<td>
<p>The maximum number of objective function
evaluations allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxIters</code></td>
<td>
<p>The maximum number of optimization 
iterations allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>likeTol</code></td>
<td>
<p>The maximum change in the likelihood 
(the objective) between
iterations that is tolerated during optimization.  
If the likelihood changes by less than this amount, 
optimization stops and a solution is declared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coefTol</code></td>
<td>
<p>The maximum change in the model coefficients 
between
iterations that is tolerated during optimization.  
If the sum of squared coefficient differences changes 
by less than this amount between iterations, 
optimization stops and a solution is declared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hessEps</code></td>
<td>
<p>A vector of parameter distances used during 
computation of numeric second derivatives. Should have length 
1 or the number of parameters in the model. See function 
<code>secondDeriv</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>requireUnits</code></td>
<td>
<p>A logical specifying whether measurement 
units are required on distances and areas.  If TRUE, 
measurement units are required on off-transect and radial 
distances in the input data frame.  Likewise, measurement 
units are required on transect length and study area size. 
Assign units with statement like <code>units(detectionDf$dist) &lt;- "m"</code>
or <code>units(df$transectDf) &lt;- "km"</code>.  Measurement units do not 
need to be the same.  All units are converted appropriately during 
internal computations.  <code>Rdistance</code> recognizes 
units listed in <code>units::valid_udunits()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxBSFailPropForWarning</code></td>
<td>
<p>The proportion of bootstrap 
iterations that can fail without a warning. If the proportion 
of bootstrap iterations that did not converge exceeds this 
parameter, a warning about the validity of CI's is issued in 
the print method for
abundance objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrasts</code></td>
<td>
<p>A list, whose entries are values 
(numeric matrices, functions or character strings naming functions) 
to be used as replacement values for the default contrasts function 
and whose names are the names of columns of data containing factors.
</p>
<p>There are several ways to change the contrasts used for factors 
in Rdistance because all methods used in linear models (<code>lm</code>)
work.  To summarize contrast methods in R, if this parameter is NULL, Rdistance uses 
the global contrasts specified in 
<code>options()</code>.  To change the global contrasts, use a statement
like <code>options(contrasts = c(unordered = "contr.SAS", 
ordered = "contr.poly"))</code>.
One can also set contrasts for a factor using <code>contrasts(a)</code> 
(e.g., <code>contrasts(a) &lt;- "contr.sum"</code>) 
Lastly, one can set this parameter to a  
list that explicitely states the non-global contrasts to use for 
which factors in 
the Rdistance model.  For example, <code>list(a = "contr.helmert")</code> 
will use Helmert contrasts for <code>a</code> 
and the global contrast option for all other factors. The 
built-in R contrast functions are "contr.treatment", "contr.helmert", 
"contr.SAS", "contr.sum", and "contr.poly".</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing named components for each of the 
controls.  This list has the same components as this function 
has input parameters.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># increase number of iterations
RdistanceControls(maxIters=2000)

# change optimizer and decrease tolerance
RdistanceControls(optimizer="optim", likeTol=1e-6) 

</code></pre>


</div>