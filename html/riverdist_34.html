<div class="container">

<table style="width: 100%;"><tr>
<td>makeriverdensity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate Kernel Density Using River Distance</h2>

<h3>Description</h3>

<p>Uses spatial point data (segment and vertex) to calculate a 
kernel density object to use in the output class plotting method,plot.riverdensity. Scaled kernel 
density is calculated at approximately regularly-spaced locations, with 
spacing specified by the user.
</p>
<p>If an argument is used in the <code>survey</code> field, kernel densities will be
calculated for each unique value of <code>survey</code>, resulting in a separate 
plot for each.
</p>
<p>The purpose of this function is to generate a kernel density object to plot
using plot(), see plot.riverdensity.
</p>


<h3>Usage</h3>

<pre><code class="language-R">makeriverdensity(
  seg,
  vert,
  rivers,
  survey = NULL,
  kernel = "gaussian",
  bw = NULL,
  resolution = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>seg</code></td>
<td>
<p>A vector of river locations (segment)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vert</code></td>
<td>
<p>A vector of river locations (vertex)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rivers</code></td>
<td>
<p>The river network object to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>survey</code></td>
<td>
<p>A vector of survey IDs corresponding to the values of 
<code>seg</code> and <code>vert</code>.  If this argument is used, kernel densities 
will be calculated for each unique survey, and separate plots will be 
produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kernel</code></td>
<td>
<p>The type of density kernel to use.  Allowed types are 
<code>"gaussian"</code> (normal) and <code>"rect"</code> (rectangular, giving simple 
density).  Defaults to <code>"gaussian"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bw</code></td>
<td>
<p>The kernel bandwidth to use.  If <code>kernel</code> is set to 
<code>"gaussian"</code>, this provides the standard deviation of the gaussian 
(normal) kernel to use.  If <code>kernel</code> is set to <code>"rect"</code>, this 
provides the half-width of the rectangular kernel, or the distance to use 
in simple density.  Accepting the default (<code>NULL</code>) will result in the 
function determining a value to use, based on the total length of the river
network and the value of the <code>resolution</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resolution</code></td>
<td>
<p>The approximate spacing of the river locations used for
kernel density calculation.  Accepting the default (<code>NULL</code>) will
result in the function determining a value to use, based on the total
length of the river network.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A river density object, see riverdensity-class.
</p>


<h3>Note</h3>

<p>It is likely that calculation will be very slow.  Use of this function 
with a river network for which segment routes has not yet been calculated 
is not recommended.
</p>
<p>This function is distance-computation intensive, and may be slow-running if a river network is used that does not have segment routes and/or distance lookup tables for fast distance computation.  See buildsegroutes and/or buildlookup for more information.
</p>


<h3>Author(s)</h3>

<p>Matt Tyers
</p>


<h3>See Also</h3>

<p>plot.riverdensity, plotriverdensitypoints
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Gulk, fakefish)

Gulk_dens &lt;- makeriverdensity(seg=fakefish$seg, vert=fakefish$vert, rivers=Gulk, 
  survey=fakefish$flight.date)
  
# # 10 plots will be created, recommend calling par(mfrow=c(2,5))
plot(x=Gulk_dens)
</code></pre>


</div>