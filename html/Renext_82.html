<div class="container">

<table style="width: 100%;"><tr>
<td>readXML</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read data using an XML index file</h2>

<h3>Description</h3>

<p>Read one or several dataset(s) using an XML index file specifying the
data sets to read and the structure of each
</p>


<h3>Usage</h3>

<pre><code class="language-R">   readXML(name,
           dir,
           index = "index.xml",
           TZ = "GMT",
           trace = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>

<p>Name for the dataset that will be matched against the <code>name</code>
attribute of datasets as they are given in the index file.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>

<p>Path to the directory where the index file and all data files should
be found.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>

<p>Name (short) of the index file. This file must be in the directory
given by <code>dir</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TZ</code></td>
<td>

<p>A time zone as in <code>strptime</code>. The time zone <code>"GMT"</code>
should be preferred, since it should work on all platforms and can
cope with dates in the remote past.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trace</code></td>
<td>

<p>Level of verbosity (integer). Can be used to trace the successive
steps by short indications.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The XML index file is parsed within R. Then according to the
indications within the index file, other files are read (e.g. csv
files). In this way, data returned as a list can contain
heterogeneous data: Over Threshold (OT) data, missing periods, MAX
data, etc.  Various pieces of information are also stored in list
elements with name containing the <code>"info"</code> string.
</p>
<p>This function requires the CRAN package XML.
</p>


<h3>Value</h3>

<p>A list with the data read.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>info</code></td>
<td>

<p>General information about the data: <code>varName</code>,
<code>varShorlLab</code> and <code>varUnit</code> give the variable name unit
and short label.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OTinfo</code></td>
<td>

<p>Information for the Over the Threshold (OT).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OTdata</code></td>
<td>

<p>Over the Threshold (OT) data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OTmissing</code></td>
<td>

<p>Missing periods within the OTdata period.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MAXinfo</code></td>
<td>

<p>Information for the MAX (<code class="reqn">r</code>-largest) supplement data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MAXdata</code></td>
<td>

<p>MAX supplement data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OTSinfo</code></td>
<td>

<p>Information for the Over the Threshold Supplement (OTS) data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OTSdata</code></td>
<td>

<p>Over the Threshold (OT) supplement data.
</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>The flat files (usually <code>.csv</code> files) can also be read in a more
conventional way e.g. through <code>read.table</code>. However, conform to
the <code>index.xml</code> examples or to the <code>index.xsd</code> schema to see
how to adjust the reading of parameters such as <code>sep</code>, etc.
</p>


<h3>Author(s)</h3>

<p>Yves Deville</p>


<h3>See Also</h3>

<p>See <code>Brest</code> for an example of such a list.
</p>




<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## Examples of datasets that can be read
## Browse should work for browsers with xslt support
browseURL(file.path(system.file("Rendata", package = "Renext"), "index.xml"))
if (require(XML)) {
   ## use 'index.xml' file shiped with Renext
   dir1 &lt;- system.file("Rendata", package = "Renext")
   BrestNew1 &lt;- readXML(name = "Brest", dir = dir1)
   test1 &lt;- readXML(name = "test1", dir = dir1)
}

## End(Not run)
</code></pre>


</div>