<div class="container">

<table style="width: 100%;"><tr>
<td>exposure_lag</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Calculate Individual and Cumulative Lags for Exposure
</h2>

<h3>Description</h3>

<p>Calculate individual and cumulative lag exposure for specific variables. Cumulative lag exposure was calculated by using moving average.
</p>


<h3>Usage</h3>

<pre><code class="language-R">exposure_lag(data,var,maxlag,ID,Date,lag_suffix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A dataframe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>Variable names in the dataframe to specify variables to be used for the lag calculation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxlag</code></td>
<td>
<p>A number. The max day for calculating the lag exposure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>
<p>A variable name. The exposure station ID.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Date</code></td>
<td>
<p>A variable name. A variable indicating the date of exposure measurement.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag_suffix</code></td>
<td>
<p>A two-length vector indicating the cumulative lag or the individual lag. The first was the suffix for cumulative lag exposure. The second was for individual lag exposure. Default: c('_cu_lag','_si_lag')</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>It returns a dataframe with calculated individual and cumulative lag exposures. 'var_cu_lag5' means the moving average from lag 0 to lag 5 days. 'var_si_lag5' means the exposure 5 days ago.
</p>


<h3>References</h3>

<p>Deng X, Friedman S, Ryan I, et al. The independent and synergistic impacts of power outages and floods on hospital admissions for multiple diseases [published online ahead of print, 2022 Mar 5]. Sci Total Environ. 2022;828:154305. doi:10.1016/j.scitotenv.2022.154305
</p>


<h3>Examples</h3>

<pre><code class="language-R">data=data.frame(
  ID=rep(1:5,each=5),
  Date=seq(as.Date('2022-01-01'),as.Date('2022-01-05'),by='1 day'),
  x=rnorm(25)
)

exposure_lag(data,var='x',maxlag=3,ID='ID',Date='Date')
</code></pre>


</div>