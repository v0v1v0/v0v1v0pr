<div class="container">

<table style="width: 100%;"><tr>
<td>wglm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Logistic Regression Using IPCW</h2>

<h3>Description</h3>

<p>Logistic regression over multiple timepoints
where right-censoring is handled using inverse probability of censoring weighting (IPCW).
</p>


<h3>Usage</h3>

<pre><code class="language-R">wglm(
  regressor.event,
  formula.censor,
  times,
  data,
  cause = NA,
  fitter = "coxph",
  product.limit = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>regressor.event</code></td>
<td>
<p>[formula] a formula with empty left hand side and the covariates for the logistic regression on the right hand side.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula.censor</code></td>
<td>
<p>[formula] a formula used to fit the censoring model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>[numeric vector] time points at which to model the probability of experiencing an event.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>[data.frame] dataset containing the time at which the event occured, the type of event, and regressors used to fit the censoring and logistic models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cause</code></td>
<td>
<p>[character or numeric] the cause of interest. Defaults to the first cause.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fitter</code></td>
<td>
<p>[character] routine to fit the Cox regression models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>product.limit</code></td>
<td>
<p>[logical] if <code>TRUE</code> the survival is computed using the product limit estimator.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>First, a Cox model is fitted (argument formula.censor)
and the censoring probabilities are computed relative to each timepoint (argument times) to obtain the censoring weights.
Then, for each timepoint, a logistic regression is fitted with the appropriate censoring weights
and where the outcome is the indicator of having experience the event of interest (argument cause) at or before the timepoint.
</p>


<h3>Value</h3>

<p>an object of class <code>"wglm"</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(survival)

set.seed(10)
n &lt;- 250
tau &lt;- 1:5
d &lt;- sampleData(n, outcome = "competing.risks")
dFull &lt;- d[event!=0] ## remove censoring
dSurv &lt;- d[event!=2] ## remove competing risk

#### no censoring ####
e.wglm &lt;- wglm(regressor.event = ~ X1, formula.censor = Surv(time,event==0) ~ 1,
               times = tau, data = dFull, product.limit = TRUE)
e.wglm ## same as a logistic regression

summary(ate(e.wglm, data = dFull, times = tau, treatment = "X1", verbose = FALSE))

#### right-censoring ####
## no covariante in the censoring model (independent censoring)
eC.wglm &lt;- wglm(regressor.event = ~ X1, formula.censor = Surv(time,event==0) ~ 1,
               times = tau, data = dSurv, product.limit = TRUE)
eC.wglm

## with covariates in the censoring model
eC2.wglm &lt;- wglm(regressor.event = ~ X1 + X8,
                formula.censor = Surv(time,event==0) ~ X1*X8,
                 times = tau, data = dSurv)
eC2.wglm

#### Competing risks ####
## here Kaplan-Meier as censoring model
eCR.wglm &lt;- wglm(regressor.event = ~ X1,
                 formula.censor = Surv(time,event==0) ~ strata(X1),
                 times = tau, data = d, cause = 1, product.limit = TRUE)
eCR.wglm

</code></pre>


</div>