<div class="container">

<table style="width: 100%;"><tr>
<td>colorlegend</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Plot a Color Legend
</h2>

<h3>Description</h3>

<p>Function to generate a color legend, the legend may be added to an existing plot or drawn in a
separate plotting window.
</p>


<h3>Usage</h3>

<pre><code class="language-R">colorlegend (color = NULL, ncol = NULL, x = NULL, 
  breaks = NULL, pos = "center", shift = 0.02, side.legend = 1L, 
  side.ticks = 1L, range = NULL, lrange = NULL, 
  width = 0.4, height = 0.06, scale = TRUE, xlim = NULL, 
  ylim = NULL, plot = NULL, full = FALSE, add = FALSE, 
  col.border = "black", lty.border = 1L, lwd.border = 1L, 
  ticks = TRUE, at = NULL, col.ticks = "black", lwd.ticks = 1L, 
  lty.ticks = 1L, length.ticks = 0.3, labels = NULL, 
  distance.labels = 0.8, col.labels = "black", cex.labels = 1L, 
  digits = 2L, swap = FALSE, symmetric = TRUE, xpd = NULL,
  title = NULL, side.title = 2, shift.title = c(0, 0), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>character, integer. The colors for the legend, may also be a function, e.g.
<code>colors = heat.colors</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncol</code></td>
<td>
<p>integer, the number of different colors that should be generated if <code>color</code> is a 
function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>numeric, values for which the color legend should be drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>numeric, a set of breakpoints for the colors: must give one more breakpoint than 
<code>ncol</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos</code></td>
<td>
<p>character, numeric. The position of the legend. Either a numeric vector, e.g.
<code>pos = c(0.1, 0.2)</code> will add the legend at the 10<code class="reqn">\%</code> point in the x-direction and at
the 20<code class="reqn">\%</code> point in the y-direction of the plotting window, may also be negative, or one of
the following: <code>"bottomleft"</code>, <code>"topleft"</code>, <code>"topright"</code>, <code>"bottomright"</code>,
<code>"left"</code>, <code>"right"</code>, <code>"top"</code>, <code>"bottom"</code> and <code>"center"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shift</code></td>
<td>
<p>numeric, if argument <code>pos</code> is a character, <code>shift</code> determines the distance
of the legend from the plotting box.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>side.legend</code></td>
<td>
<p>integer, if set to <code>2</code> the legend will be flipped by 90 degrees.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>side.ticks</code></td>
<td>
<p>integer, if set to <code>2</code>, the ticks and labels will be on the opposite site
of the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range</code></td>
<td>
<p>numeric, specifies a range for <code>x</code> values for which the legend should be drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lrange</code></td>
<td>
<p>numeric, specifies the range of legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>numeric, the width of the legend, if <code>scale = TRUE</code> the width is proportional to
the x-limits of the plotting window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>numeric, the height of the legend, if <code>scale = TRUE</code> the height is proportional
to the y-limits of the plotting window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>logical, if set to <code>TRUE</code>, the <code>width</code> and <code>height</code> of the legend will
be calculated proportional to the x- and y-limits of the plotting window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>numeric, the x-limits of the plotting window the legend should be added for, numeric
vector, e.g., returned from function <code>range</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>numeric, the y-limits of the plotting window the legend should be added for, numeric
vector, e.g., returned from function <code>range</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical, if set to <code>TRUE</code>, the legend will be drawn in a separate plotting window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>full</code></td>
<td>
<p>logical, if set to <code>TRUE</code>, the legend will be drawn using the full window range.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>logical, if set to <code>TRUE</code>, the legend will be added to an existing plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.border</code></td>
<td>
<p>the color of the surrounding border line of the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty.border</code></td>
<td>
<p>the line type of the surrounding border line of the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd.border</code></td>
<td>
<p>the line width of the surrounding border line of the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ticks</code></td>
<td>
<p>logical, if set to <code>TRUE</code>, ticks will be added to the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>at</code></td>
<td>
<p>numeric, specifies at which locations ticks and labels should be added.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.ticks</code></td>
<td>
<p>the colors of the ticks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd.ticks</code></td>
<td>
<p>the line width of the ticks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty.ticks</code></td>
<td>
<p>the line type of the ticks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length.ticks</code></td>
<td>
<p>numeric, the length of the ticks as percentage of the <code>height</code> or
<code>width</code> of the colorlegend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>character, specifies labels that should be added to the ticks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance.labels</code></td>
<td>
<p>numeric, the distance of the labels to the ticks, proportional to the
length of the ticks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.labels</code></td>
<td>
<p>the colors of the labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.labels</code></td>
<td>
<p>text size of the labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>integer, the decimal places if labels are numerical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>swap</code></td>
<td>
<p>logical, if set to <code>TRUE</code> colors will be represented in reverse order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symmetric</code></td>
<td>
<p>logical, if set to <code>TRUE</code>, a symmetric legend will be drawn corresponding to
the <code>+- max(abs(x))</code> value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xpd</code></td>
<td>
<p>sets the <code>xpd</code> parameter in function <code>par</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>character, a title for the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>side.title</code></td>
<td>
<p>integer, <code>1</code> or <code>2</code>. Specifies where the legend is placed, either on
top if <code>side.title = 1</code> or at the bottom if <code>side.title = 2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shift.title</code></td>
<td>
<p>numeric vector of length 2. Specifies a possible shift of the title in either
x- or y-direction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other graphical parameters to be passed to function <code>text</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A named <code>list</code> with the colors generated, the breaks and the function <code>map</code>, which may 
be used for mapping of <code>x</code> values to the colors specified in argument <code>colors</code>, please 
see the examples below.
</p>


<h3>Author(s)</h3>

<p>Nikolaus Umlauf, Thomas Kneib, Stefan Lang, Achim Zeileis.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## play with colorlegend
colorlegend()
colorlegend(side.legend = 2)
colorlegend(side.legend = 2, side.ticks = 2)
colorlegend(height = 2)
colorlegend(width = 1, height = 0.8, scale = FALSE, 
  pos = c(0, 0.2), length.ticks = 0.5)
colorlegend(color = heat.colors, ncol = 9)
colorlegend(color = heat.colors, ncol = 9, swap = TRUE)
colorlegend(pos = "bottomleft")
colorlegend(pos = "topleft")
colorlegend(pos = "topright")
colorlegend(pos = "bottomright")


## take x values for the color legend
x &lt;- runif(100, -2, 2)
colorlegend(color = diverge_hcl, x = x)
colorlegend(color = diverge_hcl, x = x, at = c(-1.5, 0, 1.5))
colorlegend(color = diverge_hcl, x = x, at = c(-1.5, 0, 1.5),
  labels = c("low", "middle", "high"))
colorlegend(color = rainbow_hcl, x = x, at = c(-1.5, 0, 1.5),
  labels = c("low", "middle", "high"), length.ticks = 1.5)
colorlegend(color = heat_hcl, x = x, at = c(-1.5, 0, 1.5),
  labels = c("low", "middle", "high"), length.ticks = 1.5,
  lwd.border = 2, lwd.ticks = 2, cex.labels = 1.5, font = 2)
colorlegend(color = topo.colors, x = x, at = c(-1.5, 0, 1.5),
  labels = c("low", "middle", "high"), length.ticks = 1.5,
  lwd.border = 2, lwd.ticks = 2, cex.labels = 1.5, font = 2,
  col.border = "green3", col.ticks = c(2, 5, 2), 
  col.labels = c(6, 4, 3))
colorlegend(color = diverge_hsv, x = x, at = c(-1.5, 0, 1.5),
  labels = c("low", "middle", "high"), length.ticks = 1.5,
  lwd.border = 2, lwd.ticks = 2, cex.labels = 1.5, font = 2,
  col.border = "green3", col.ticks = c(2, 5, 2), 
  col.labels = c(6, 4, 3), lty.border = 2, lty.ticks = c(2, 3, 2))
colorlegend(color = diverge_hsv, x = x, at = c(-1.5, 0, 1.5),
  labels = c("low", "middle", "high"), length.ticks = 1.5,
  lwd.border = 2, lwd.ticks = 2, cex.labels = 1.5, font = 2,
  col.border = "green3", col.ticks = c(2, 5, 2), 
  col.labels = c(6, 4, 3), lty.border = 2, lty.ticks = c(2, 3, 2),
  ncol = 3)
colorlegend(color = c("red", "white", "red"), x = x, at = c(-1.5, 0, 1.5),
  labels = c("low", "middle", "high"), length.ticks = 1.5,
  lwd.border = 2, lwd.ticks = 2, cex.labels = 1.5, font = 2,
  col.border = "green3", col.ticks = c(2, 5, 2), 
  col.labels = c(6, 4, 3), lty.border = 2, lty.ticks = c(2, 3, 2),
  ncol = 3, breaks = c(-2, -1, 1, 2))
colorlegend(color = diverge_hcl, x = x, range = c(-3, 3))
colorlegend(color = diverge_hcl, x = x, range = c(-3, 3), lrange = c(-6, 6))


## combine plot with color legend
n &lt;- 100
x &lt;- y &lt;- seq(-3, 3, length.out = n)
z &lt;- outer(sin(x), cos(x)) 
pal &lt;- colorlegend(color = diverge_hcl, x = z, plot = FALSE)
op &lt;- par(no.readonly = TRUE)
par(mar = c(4.1, 4.1, 1.1, 1.1))
layout(matrix(c(1, 2), nrow = 1), widths = c(1, 0.3))
image(x = x, y = y, z = z, col = pal$colors, breaks = pal$breaks)
par(mar = c(4.1, 0.1, 1.1, 3.1))
colorlegend(color = diverge_hcl, x = z, plot = TRUE, full = TRUE,
  side.legend = 2, side.ticks = 2)
par(op)


## another example with different plot
n &lt;- 50
x &lt;- sin(seq(-3, 3, length.out = n)) 
pal &lt;- colorlegend(color = diverge_hcl, x = x, plot = FALSE)
op &lt;- par(no.readonly = TRUE)
par(mar = c(7.1, 4.1, 1.1, 1.1))
barplot(x, border = "transparent", col = pal$map(x))
colorlegend(color = diverge_hcl, x = x, plot = FALSE, add = TRUE,
  xlim = c(0, 60), ylim = c(-1, 1), pos = c(0, -0.15), xpd = TRUE,
  scale = FALSE, width = 60, height = 0.15,
  at = seq(min(x), max(x), length.out = 9))
par(op)
</code></pre>


</div>