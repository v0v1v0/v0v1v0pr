<div class="container">

<table style="width: 100%;"><tr>
<td>redist.combine.mpi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Combine successive runs of <code>redist.mcmc.mpi</code>
</h2>

<h3>Description</h3>

<p><code>redist.combine.mpi</code> is used to combine successive runs of
<code>redist.mcmc.mpi</code> into a single data object
</p>


<h3>Usage</h3>

<pre><code class="language-R">redist.combine.mpi(savename, nloop, nthin, tempadj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>savename</code></td>
<td>
<p>The name (without the loop or <code>.RData</code> suffix)
of the saved simulations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nloop</code></td>
<td>
<p>The number of loops being combined.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nthin</code></td>
<td>
<p>How much to thin the simulations being combined.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tempadj</code></td>
<td>
<p>The temperature adjacency object saved by
<code>redist.mcmc.mpi</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function allows users to combine multiple successive runs of
<code>redist.mcmc.mpi</code> into a single <code>redist</code> object for analysis.
</p>


<h3>Value</h3>

<p><code>redist.combine.mpi</code> returns an object of class "redist".
The object <code>redist</code> is a list that contains the following components (the
inclusion of some components is dependent on whether tempering
techniques are used):
</p>
<table>
<tr style="vertical-align: top;">
<td><code>plans</code></td>
<td>
<p>Matrix of congressional district assignments generated by the
algorithm. Each row corresponds to a geographic unit, and each column
corresponds to a simulation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance_parity</code></td>
<td>
<p>Vector containing the maximum distance from parity for
a particular simulated redistricting plan.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mhdecisions</code></td>
<td>
<p>A vector specifying whether a proposed redistricting plan
was accepted (1) or rejected (0) in a given iteration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mhprob</code></td>
<td>
<p>A vector containing the Metropolis-Hastings acceptance
probability for each iteration of the algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pparam</code></td>
<td>
<p>A vector containing the draw of the <code>p</code> parameter for each
simulation, which dictates the number of swaps attempted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constraint_pop</code></td>
<td>
<p>A vector containing the value of the population
constraint for each accepted redistricting plan.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constraint_compact</code></td>
<td>
<p>A vector containing the value of the compactness
constraint for each accepted redistricting plan.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constraint_vra</code></td>
<td>
<p>A vector containing the value of the
vra constraint for each accepted redistricting plan.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constraint_similar</code></td>
<td>
<p>A vector containing the value of the similarity
constraint for each accepted redistricting plan.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constraint_qps</code></td>
<td>
<p>A vector containing the value of the
QPS constraint for each accepted redistricting plan.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta_sequence</code></td>
<td>
<p>A vector containing the value of beta for each iteration
of the algorithm. Returned when tempering is being used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mhdecisions_beta</code></td>
<td>
<p>A vector specifying whether a proposed beta value was
accepted (1) or rejected (0) in a given iteration of the algorithm. Returned
when tempering is being used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mhprob_beta</code></td>
<td>
<p>A vector containing the Metropolis-Hastings acceptance
probability for each iteration of the algorithm. Returned when tempering
is being used.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Fifield, Benjamin, Michael Higgins, Kosuke Imai and Alexander Tarr.
(2016) "A New Automated Redistricting Simulator Using Markov Chain Monte
Carlo." Working Paper. Available at
<a href="http://imai.princeton.edu/research/files/redist.pdf">http://imai.princeton.edu/research/files/redist.pdf</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Cannot run on machines without Rmpi
data(fl25)
data(fl25_enum)
data(fl25_adj)

## Code to run the simulations in Figure 4 in Fifield, Higgins, Imai and
## Tarr (2015)

## Get an initial partition
init_plan &lt;- fl25_enum$plans[, 5118]

## Run the algorithm
redist.mcmc.mpi(adj = fl25_adj, total_pop = fl25$pop,
    init_plan = init_plan, nsims = 10000, nloops = 2, savename = "test")
out &lt;- redist.combine.mpi(savename = "test", nloop = 2,
    nthin = 10, tempadj = tempAdjMat)

## End(Not run)
</code></pre>


</div>