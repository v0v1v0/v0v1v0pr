<div class="container">

<table style="width: 100%;"><tr>
<td>velocities</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate velocities of plate tectonic movements</h2>

<h3>Description</h3>

<p>Queries to return meshes of tectonic plate velocities.
</p>


<h3>Usage</h3>

<pre><code class="language-R">velocities(x, ...)

## S4 method for signature 'missing'
velocities(x, ...)

## S4 method for signature 'character'
velocities(
  x,
  age,
  model,
  domain = "longLatGrid",
  type = "MagAzim",
  output = "data.frame",
  polecrop = TRUE,
  verbose = FALSE,
  check = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>character</code>: What should the velocities be reconstructed for? If nothing is given (i.e. <code>signature(x="missing")</code> the argument defaults to the only currently working feature collection, the <code>"static_polygons"</code>\ - expected to be expanded in the future.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments of class-specific methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age</code></td>
<td>
<p><code>numeric</code>: The age in millions of years at which the velocities are to be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p><code>character</code>: The name of the tectonic model. Similar to that of <code>reconstruct</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>domain</code></td>
<td>
<p><code>character</code>: Either <code>"longLatGrid"</code> or <code>"healpix"</code>. <code>"longLatGrid"</code> returns the velocites with the domain of a regular, one-by-one degree longitude-latitude grid.
<code>"healpix"</code> will return velocities with the domain of an icosahedral, nearly equidistant grid.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p><code>character</code>: The type of velocity format that is to be returned, either magnitude and azimuth (<code>type="MagAzim"</code>) or easting and northing velocity vectors (<code>type="east_north"</code>).
Both result in two variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p><code>character</code>: The class name of the output to be returned. Either <code>data.frame</code> or <code>SpatRaster</code>. The latter requires the <code>terra</code> extension (suggested) and is only available with <code>domain="longLatGrid"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>polecrop</code></td>
<td>
<p><code>logical</code>: Only applicable if <code>output="SpatRaster"</code>. The original velocity values are provided as a grid-registered raster,
which forces the extent of the raster to be beyond the regular <code>[-180, 180]</code> longitude and <code>[-90, 90]</code> domain, producing warnings when the <code>SpatRaster</code> is used.
The default <code>cellraster=TRUE</code> resamples this raster to a native, cell-registered grid.
This is an issue only with latitudes, so they get cropped by default. Setting this argument to <code>FALSE</code> will skip cropping.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p><code>logical</code>: Are you interested in more messages?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>(<code>logical</code>) Should the validity of the entries for the GWS checked with the information stored in <code>gws</code>? (default: <code>TRUE</code>)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function returns a mesh of velocities: two variables, either magnitude (mm/year) and azimuth (rad): <code>type="MagAzim"</code> or easting and northing velocity vectors (mm/year): <code>type="east_north"</code>.
Currently only the online method is supported using the GPlates Web Service (internet connection is required).
Available models are in the <code>gws</code> object, and can be provided with arguments similar to <code>reconstruct</code>.
</p>


<h3>Value</h3>

<p>Velocities of tectonic movements. If <code>output="data.frame"</code> then the function returns a <code>data.frame</code> with the longitude, latitude, the two velocity variables and the plate ids they belong to.
If <code>output="SpatRaster"</code> then the output will be a multilayered <code>SpatRaster</code> object.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># dummy example,
# set model to the desired model string, e.g. model="MERDITH2021"
velocities("static_polygons", age=45, model=NULL)
</code></pre>


</div>