<div class="container">

<table style="width: 100%;"><tr>
<td>bin_TempTS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
bin depth-temperature time series data
</h2>

<h3>Description</h3>

<p>bins depth-temperature time series data to a user-defined resolution, returning the minimum, maxmium and average temperature recorded at each depth interval (bin) per sampling day. The output is comparable to that of read_PDT.
<br><br><strong>Why binning temperature data?</strong><br>
In case of archival tagging data, depth-temperature time series data at a given day may consist of multiple tempertaure profiles of different signatures, depending on the animal's behaviour. Slight differences in temperature profiles could impede further analyses (e.g. the estimation of the thermocline depth), if just the average profile is applied. To avoid such problmes, it is useful to calculate the average temperature at given depth intervals (bins) and thus smooth temperature profiles of a given period.
</p>
<p>In addition, temperature at depth profiles can be interpolated and then visualized using functions interpolate_TempDepthProfiles and image_TempDepthProfiles, respectively. This faciliates the analysis of temporal changes of temperature profiles, for instance, in relation to animal behaviour (e.g. diving behaviour).
</p>


<h3>Usage</h3>

<pre><code class="language-R">bin_TempTS(ts, res=8, verbose=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ts</code></td>
<td>
<p>a data.frame with columns <code>date</code>, <code>Depth</code> and <code>Temperature</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>the depth interval at which temperatures should be binned.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>whether the sampling dates should be indicated during the binning process (by default <code>FALSE</code>).
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data.frame with the columns <code>date</code>, <code>MeanTemp</code>, <code>MinTemp</code>, <code>MaxTemp</code>, <code>bin</code> and <code>MeanPDT</code> (the latter being the average of the min and maximum water temperatures). Additional columns, used to distinguish tags, may include <code>Serial</code>, <code>DeployID</code> and <code>Ptt</code>, depending on their availability in the original ts-data.fralme.
</p>


<h3>Author(s)</h3>

<p>Robert K. Bauer
</p>


<h3>References</h3>

<p>Bauer, R., F. Forget and JM. Fromentin (2015) Optimizing PAT data transmission: assessing the accuracy of temperature summary data to estimate environmental conditions. Fisheries Oceanography, 24(6): 533-539, 
<a href="https://doi.org/10.1111/fog.12127">doi:10.1111/fog.12127</a>
</p>


<h3>See Also</h3>

<p>read_PDT, interpolate_TempDepthProfiles, image_TempDepthProfiles</p>


<h3>Examples</h3>

<pre><code class="language-R">
# #### example 1) run on time series data:
## step I) read sample time series data file:
DepthTempTS &lt;- read.table(system.file("example_files/104659-Series.csv",
                                       package="RchivalTag"),header = TRUE,sep=',')
DepthTempTS$date &lt;- as.Date(DepthTempTS$Day,"%d-%b-%Y")
head(DepthTempTS)
# 
# 
# ## step Ib) bin temperature data on 10m depth bins 
# ##          to increase later estimate accuracy (see Bauer et al. 2015):
# # DepthTempTS_binned &lt;- bin_TempTS(DepthTempTS,res=10)
# 
# ## step II) interpolate average temperature fields (MeanTemp) from binned data:
# m &lt;- interpolate_TempDepthProfiles(DepthTempTS)
# # m &lt;- interpolate_PDTs(DepthTempTS_binned)
# str(m)
# m$sm
# 
# ## step III) calculate thermal stratifcation indicators per day (and tag):
# get_thermalstrat(m, all_info = TRUE)
# get_thermalstrat(m, all_info = FALSE)
# 
# ## step IV) plot interpolated profiles:
# image_TempDepthProfiles(m$station.1)

</code></pre>


</div>