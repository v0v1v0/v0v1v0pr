<div class="container">

<table style="width: 100%;"><tr>
<td>plot_plane</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot a plane of selected values (e.g., PPV or NPV)
as a function of sensitivity and specificity.</h2>

<h3>Description</h3>

<p><code>plot_plane</code> draws a 3D-plane of selected values
(e.g., predictive values <code>PPV</code>
or <code>NPV</code>) as a function of
a decision's sensitivity <code>sens</code> and
specificity value <code>spec</code>
for a given prevalence (<code>prev</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_plane(
  prev = num$prev,
  sens = num$sens,
  mirt = NA,
  spec = num$spec,
  fart = NA,
  what = "PPV",
  what_col = pal,
  line_col = "grey85",
  sens_range = c(0, 1),
  spec_range = c(0, 1),
  step_size = 0.05,
  show_points = TRUE,
  point_col = "yellow",
  theta = -45,
  phi = 0,
  p_lbl = "def",
  lbl_txt = txt,
  main = txt$scen_lbl,
  sub = "type",
  title_lbl = NULL,
  cex_lbl = 0.85,
  col_pal = pal,
  mar_notes = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prev</code></td>
<td>
<p>The condition's prevalence <code>prev</code>
(i.e., the probability of condition being <code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sens</code></td>
<td>
<p>The decision's sensitivity <code>sens</code>
(i.e., the conditional probability of a positive decision
provided that the condition is <code>TRUE</code>).
<code>sens</code> is optional when its complement <code>mirt</code> is provided.
If <code>sens = NA</code>, then <code>show_points = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mirt</code></td>
<td>
<p>The decision's miss rate <code>mirt</code>
(i.e., the conditional probability of a negative decision
provided that the condition is <code>TRUE</code>).
<code>mirt</code> is optional when its complement <code>sens</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spec</code></td>
<td>
<p>The decision's specificity value <code>spec</code>
(i.e., the conditional probability
of a negative decision provided that the condition is <code>FALSE</code>).
<code>spec</code> is optional when its complement <code>fart</code> is provided.
If <code>spec = NA</code>, then <code>show_points = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fart</code></td>
<td>
<p>The decision's false alarm rate <code>fart</code>
(i.e., the conditional probability
of a positive decision provided that the condition is <code>FALSE</code>).
<code>fart</code> is optional when its complement <code>spec</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what</code></td>
<td>
<p>A character code that specifies one metric
to be plotted as a plane. Currently available
options are <code>c("PPV", "NPV", "ppod", "acc")</code>.
Default: <code>what = "PPV"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what_col</code></td>
<td>
<p>Color for surface facets corresponding to the metric
specified in <code>what</code>.
Default: <code>what_col</code> uses color corresponding to <code>what</code>
in current <code>col_pal</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line_col</code></td>
<td>
<p>Color for lines between surface facets.
Default: <code>line_col = "grey85"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sens_range</code></td>
<td>
<p>Range (minimum and maximum) of <code>sens</code> values
on x-axis (i.e., values in <code>c(0, 1)</code> range).
Default: <code>sens_range = c(0, 1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spec_range</code></td>
<td>
<p>Range (minimum and maximum) of <code>spec</code> values
on y-axis (i.e., values in <code>c(0, 1)</code> range).
Default: <code>spec_range = c(0, 1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>step_size</code></td>
<td>
<p>Sets the granularity of the
<code>sens</code>-by-<code>spec</code> grid.
(in range <code>.01 &lt;= step_size &lt;= 1</code>).
Default: <code>step_size = .05</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_points</code></td>
<td>
<p>Boolean option for showing the current value
of the selected metric for the current conditions
(<code>prev</code>, <code>sens</code>, <code>spec</code>)
as a point on the plane.
Default: <code>show_points = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_col</code></td>
<td>
<p>Fill color for showing current value on plane.
Default: <code>point_col = "yellow"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>Horizontal rotation angle (used by <code>persp</code>).
Default: <code>theta = -45</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phi</code></td>
<td>
<p>Vertical rotation angle (used by <code>persp</code>).
Default: <code>phi = 0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_lbl</code></td>
<td>
<p>Type of label for shown probability values,
with the following options:
</p>

<ol>
<li> <p><code>"abb"</code>: show abbreviated probability names;
</p>
</li>
<li> <p><code>"def"</code>: show abbreviated probability names and values (default);
</p>
</li>
<li> <p><code>"nam"</code>: show only probability names (as specified in code);
</p>
</li>
<li> <p><code>"num"</code>: show only numeric probability values;
</p>
</li>
<li> <p><code>"namnum"</code>: show names and numeric probability values;
</p>
</li>
<li> <p><code>"no"</code>: hide labels (same for <code>p_lbl = NA</code> or <code>NULL</code>).
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lbl_txt</code></td>
<td>
<p>Labels and text elements.
Default: <code>lbl_txt = txt</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Text label for main plot title.
Default: <code>main = txt$scen_lbl</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub</code></td>
<td>
<p>Text label for plot subtitle (on 2nd line).
Default: <code>sub = "type"</code> shows information on current plot type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title_lbl</code></td>
<td>
<p><strong>Deprecated</strong> text label for current plot title.
Replaced by <code>main</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex_lbl</code></td>
<td>
<p>Scaling factor for the size of text labels
(e.g., on axes, legend, margin text).
Default: <code>cex_lbl = .85</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_pal</code></td>
<td>
<p>Color palette (if what_col is unspecified).
Default: <code>col_pal = pal</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mar_notes</code></td>
<td>
<p>Boolean value for showing margin notes.
Default: <code>mar_notes = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other (graphical) parameters.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>plot_plane</code> is a generalization of
<code>plot_PV3d</code> (see legacy code)
that allows for additional dependent values.
</p>


<h3>See Also</h3>

<p><code>comp_popu</code> computes the current population;
<code>popu</code> contains the current population;
<code>comp_freq</code> computes current frequency information;
<code>freq</code> contains current frequency information;
<code>num</code> for basic numeric parameters;
<code>txt</code> for current text settings;
<code>pal</code> for current color settings
</p>
<p>Other visualization functions: 
<code>plot.riskyr()</code>,
<code>plot_area()</code>,
<code>plot_bar()</code>,
<code>plot_crisk()</code>,
<code>plot_curve()</code>,
<code>plot_fnet()</code>,
<code>plot_icons()</code>,
<code>plot_mosaic()</code>,
<code>plot_prism()</code>,
<code>plot_tab()</code>,
<code>plot_tree()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Basics:
plot_plane()              # =&gt; default plot (what = "PPV")
# same as:
# plot_plane(what = "PPV")  # =&gt; plane of PPV

plot_plane(what = "NPV")  # =&gt; plane of NPV
plot_plane(what = "ppod") # =&gt; plane of ppod
plot_plane(what = "acc")  # =&gt; plane of acc

# Plane with/out points:
# plot_plane(prev = .5, sens = NA, spec = NA, what = "ppv")           # plane with 0 points
plot_plane(prev = .5, sens = c(.2, .5, .8), spec = .6, what = "npv")  # plane with 3 points

# Zooming into sens and spec ranges:
# plot_plane(prev = .02, sens = c(.8, .9), spec = c(.8, .8, .9, .9))  # default ranges
plot_plane(prev = .02, sens = c(.8, .9), spec = c(.8, .8, .9, .9),
           sens_range = c(.7, 1), spec_range = c(.7, 1), step_size = .02)  # zooming in

# Options:
# plot_plane(main = "No point and smaller labels", show_points = FALSE, cex_lbl = .60)

plot_plane(main = "Testing plot colors", what_col = "royalblue4", line_col = "sienna2")
plot_plane(main = "Testing b/w plot", what = "npv", what_col = "white", line_col = "black")
plot_plane(main = "Testing color pal_bwp", col_pal = pal_bwp)

plot_plane(step_size = .333, what_col = "firebrick")    # =&gt; coarser granularity + color
plot_plane(step_size = .025, what_col = "chartreuse4")  # =&gt; finer granularity + color
plot_plane(what_col = "steelblue4", theta = -90, phi = 50)  # =&gt; rotated, from above

</code></pre>


</div>