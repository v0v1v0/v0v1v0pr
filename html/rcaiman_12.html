<div class="container">

<table style="width: 100%;"><tr>
<td>correct_vignetting</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Correct vignetting effect</h2>

<h3>Description</h3>

<p>Correct vignetting effect
</p>


<h3>Usage</h3>

<pre><code class="language-R">correct_vignetting(r, z, lens_coef_v)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>SpatRaster. A fish-eye image.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>SpatRaster built with <code>zenith_image()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lens_coef_v</code></td>
<td>
<p>Numeric vector. Coefficients of a vignetting
function (<code class="reqn">f_v</code>) of the type <code class="reqn">f_v = 1 + a \cdot \theta +
  b \cdot \theta^2 + ... + m \cdot \theta^n</code>, where <code class="reqn">\theta</code> is the
zenith angle, <code class="reqn">a, b, c</code> and <code class="reqn">m</code> are the coefficients. The maximum
polynomial degree supported is fifth. See <code>extract_radiometry()</code> for
additional details.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The argument <code>r</code> but with corrected values.
</p>


<h3>See Also</h3>

<p>Other Tool Functions: 
<code>colorfulness()</code>,
<code>defuzzify()</code>,
<code>extract_dn()</code>,
<code>extract_feature()</code>,
<code>extract_rl()</code>,
<code>extract_sky_points_simple()</code>,
<code>extract_sky_points()</code>,
<code>extract_sun_coord()</code>,
<code>find_sky_pixels_nonnull()</code>,
<code>find_sky_pixels()</code>,
<code>masking()</code>,
<code>optim_normalize()</code>,
<code>percentage_of_clipped_highlights()</code>,
<code>read_bin()</code>,
<code>read_caim_raw()</code>,
<code>read_caim()</code>,
<code>write_bin()</code>,
<code>write_caim()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">path &lt;- system.file("external/DSCN4500.JPG", package = "rcaiman")
caim &lt;- read_caim(path, c(1250, 1020) - 745, 745 * 2, 745 * 2)
z &lt;- zenith_image(ncol(caim), lens("Nikon_FCE9"))
r &lt;- gbc(caim$Blue)
r
r &lt;- correct_vignetting(r, z, c(0.0638, -0.101))
r
</code></pre>


</div>