<div class="container">

<table style="width: 100%;"><tr>
<td>bartels.rank.test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Bartels Rank Test
</h2>

<h3>Description</h3>

<p>Performs the Bartels rank test of randomness.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bartels.rank.test(x, alternative, pvalue="normal")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a numeric vector containing the observations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>a character string with the alternative hypothesis. Must be one of "<code>two.sided</code>" (default), "<code>left.sided</code>" or "<code>right.sided</code>". You can specify just the initial letter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvalue</code></td>
<td>
<p>a character string specifying the method used to compute the p-value. Must be one of <code>normal</code> (default), <code>beta</code>, <code>exact</code> or <code>auto</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<p>Missing values are removed.
</p>
<p>This is the rank version of von Neumann's Ratio Test for Randomness (von Neumann, 1941).
</p>
<p>The test statistic RVN is 
</p>
<p style="text-align: center;"><code class="reqn">RVN=\frac{\sum_{i=1}^{n-1}(R_i-R_{i+1})^2}{\sum_{i=1}^{n}\left(R_i-(n+1)/2\right)^2}</code>
</p>

<p>where <code class="reqn">R_i=rank(X_i), i=1,\dots, n</code>. It is known that <code class="reqn">(RVN-2)/\sigma</code> is asymptotically standard normal, where <code class="reqn">\sigma^2=\frac{4(n-2)(5n^2-2n-9)}{5n(n+1)(n-1)^2}</code>. 
</p>
<p>The possible <code>alternative</code> are "<code>two.sided</code>", "<code>left.sided</code>" and "<code>right.sided</code>". By using the alternative "two.sided" the null hypothesis of randomness is tested against nonrandomness. By using the alternative "<code>left.sided</code>" the null hypothesis of randomness is tested against a trend. By using the alternative "<code>right.sided</code>" the null hypothesis of randomness is tested against a systematic oscillation.
</p>
<p>By default (if <code>pvalue</code> is not specified), a normal approximation is used to compute the p-value. With <code>beta</code>, the p-value is computed using an approximation given by the Beta distribution. With <code>exact</code>, the exact p-value is computed. The option <code>exact</code> requires the computation of the exact distribution of the statistic test under the null hypothesis and should only be used for small sample sizes (<code class="reqn">n \le 10</code>).
</p>


<h3>Value</h3>

<p>A list with class "htest" containing the components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>statistic</code></td>
<td>
<p>the value of the normalized statistic test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter, n</code></td>
<td>
<p>the size of the data, after the remotion of consecutive duplicate values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.value</code></td>
<td>
<p>the p-value of the test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>a character string describing the alternative hypothesis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>a character string indicating the test performed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.name</code></td>
<td>
<p>a character string giving the name of the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rvn</code></td>
<td>
<p>the value of the RVN statistic (not shown on screen).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nm</code></td>
<td>
<p>the value of the NM statistic, the numerator of RVN (not shown on screen).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu</code></td>
<td>
<p>the mean value of the RVN statistic (not shown on screen).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>the variance of the RVN statistic (not shown on screen).</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Frederico Caeiro</p>


<h3>References</h3>

<p>Bartels, R. (1982). The Rank Version of von Neumann's Ratio Test for Randomness, <em>Journal of the American Statistical Association</em>, <b>77</b>(377), 40–46.
</p>
<p>Gibbons, J.D. and Chakraborti, S. (2003). <em>Nonparametric Statistical Inference</em>, 4th ed. (pp. 97–98).<br> 
URL: <a href="http://books.google.pt/books?id=dPhtioXwI9cC&amp;lpg=PA97&amp;ots=ZGaQCmuEUq">http://books.google.pt/books?id=dPhtioXwI9cC&amp;lpg=PA97&amp;ots=ZGaQCmuEUq</a>
</p>
<p>von Neumann, J. (1941). Distribution of the Ratio of the Mean Square Successive Difference to the Variance. <em>The Annals of Mathematical Statistics</em> <b>12</b>(4), 367–395. doi:10.1214/aoms/1177731677. <a href="https://projecteuclid.org/journals/annals-of-mathematical-statistics/volume-12/issue-4/Distribution-of-the-Ratio-of-the-Mean-Square-Successive-Difference/10.1214/aoms/1177731677.full">https://projecteuclid.org/journals/annals-of-mathematical-statistics/volume-12/issue-4/Distribution-of-the-Ratio-of-the-Mean-Square-Successive-Difference/10.1214/aoms/1177731677.full</a>
</p>


<h3>See Also</h3>

<p><code>dbartelsrank</code>, <code>pbartelsrank</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">##
## Example 5.1 in Gibbons and Chakraborti (2003), p.98.
## Annual data on total number of tourists to the United States for 1970-1982.
##
years &lt;- 1970:1982
tourists &lt;- c(12362, 12739, 13057, 13955, 14123,  15698, 17523, 18610, 19842, 
      20310, 22500, 23080, 21916)
plot(years, tourists, pch=20)
bartels.rank.test(tourists, alternative="left.sided", pvalue="beta")
# output
#
#  Bartels Ratio Test
#
#data:  tourists 
#statistic = -3.6453, n = 13, p-value = 1.21e-08
#alternative hypothesis: trend 


##
## Example in Bartels (1982).
## Changes in stock levels for 1968-1969 to 1977-1978 (in $A million), deflated by the 
## Australian gross domestic product (GDP) price index (base 1966-1967).
x &lt;- c(528, 348, 264, -20, -167, 575, 410, -4, 430, -122)
bartels.rank.test(x, pvalue="beta")






</code></pre>


</div>