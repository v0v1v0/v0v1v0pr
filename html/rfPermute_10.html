<div class="container">

<table style="width: 100%;"><tr>
<td>importance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract rfPermute Importance Scores and p-values.</h2>

<h3>Description</h3>

<p>The <code>importance</code> function extracts a matrix of 
the observed importance scores and p-values from the object 
produced by a call to <code>rfPermute</code>. <code>plotImportance</code> produces 
a visualization of importance scores as either a barchart or heatmap.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'rfPermute'
importance(x, scale = TRUE, sort.by = NULL, decreasing = TRUE, ...)

plotImportance(
  x,
  plot.type = c("bar", "heatmap"),
  imp.type = NULL,
  scale = TRUE,
  sig.only = FALSE,
  alpha = 0.05,
  n = NULL,
  ranks = TRUE,
  xlab = NULL,
  ylab = NULL,
  main = NULL,
  size = 3,
  plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>for <code>importance</code>, an object produced by a call to 
<code>rfPermute</code>. For <code>plotImportance</code>, either a <code>rfPermute</code> 
or <code>randomForest</code> model object. If the latter, it must have been 
run with <code>importance = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>for permutation based measures, should the measures be divided 
their "standard errors"?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort.by</code></td>
<td>
<p>character vector giving the importance metric(s) or p-values 
to sort by. If <code>NULL</code>, defaults to <code>"MeanDecreaseAccuracy"</code> for 
classification models and <code>"%IncMSE"</code> for regression models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decreasing</code></td>
<td>
<p>logical. Should the sort order be increasing or decreasing?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to be passed to and from other methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.type</code></td>
<td>
<p>plot importances as a <code>bar</code> chart or <code>heatmap</code>?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>imp.type</code></td>
<td>
<p>character vector listing which importance measures to plot.
Can be class names (for classification models) or names of overall 
importance measures (e.g., "MeanDecreaseAccuracy").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig.only</code></td>
<td>
<p>Plot only the significant (&lt;= <code>alpha</code>) predictors?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>a number specifying the critical alpha for identifying 
predictors with importance scores significantly different from random. 
This parameter is only relevant if <code>rf</code> is a <code>rfPermute</code>
object with p-values. Importance measures with p-values less than or 
equal to <code>alpha</code> will be denoted in barcharts in red and in the
heatmap by a white diamond. If set to <code>NULL</code>, significance is not 
denoted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>plot <code>n</code> most important predictors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ranks</code></td>
<td>
<p>plot ranks instead of actual importance scores?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab, ylab</code></td>
<td>
<p>labels for the x and y axes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>main title for plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>a value specifying the size of the significance diamond in the 
heatmap if the p-value &lt;= <code>alpha</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>display the plot?</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Eric Archer <a href="mailto:eric.archer@noaa.gov">eric.archer@noaa.gov</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(mtcars)

# A classification model classifying cars to manual or automatic transmission 
am.rp &lt;- rfPermute(factor(am) ~ ., mtcars, ntree = 100, nrep = 50)
  
imp.scaled &lt;- importance(am.rp, scale = TRUE)
imp.scaled

# plot scaled importance scores
plotImportance(am.rp, scale = TRUE)

# plot unscaled and only significant scores
plotImportance(am.rp, scale = FALSE, sig.only = TRUE)

</code></pre>


</div>