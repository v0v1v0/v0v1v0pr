<div class="container">

<table style="width: 100%;"><tr>
<td>rct3</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run a calibrated regression to predict recruitment</h2>

<h3>Description</h3>

<p>Function to run a calibrated regression to predict recruitment using the
method decribed by Shepherd (1997)
</p>


<h3>Usage</h3>

<pre><code class="language-R">rct3(
  formula,
  data,
  predictions = NULL,
  shrink = FALSE,
  power = 3,
  range = 20,
  min.se = 0.2,
  old = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a formula to define which surveys to use in the recruitment
estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a dataframe with one column named 'yearclass' and other columns
with the recruitment and the survey index relavent for that recruitment
value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictions</code></td>
<td>
<p>which yearclasses to make recruitment predictions for</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shrink</code></td>
<td>
<p>shrink predictions to the VPA mean?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>the power to use 0 - no weighting, 2 - bisquare, 3 - tricubic</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range</code></td>
<td>
<p>the year range to use in the time tapered weighting</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.se</code></td>
<td>
<p>the minimum standard error used in the weighting of predictions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>old</code></td>
<td>
<p>default TRUE, defines how to treat zero values.  In the origional
implmentation al values were transformed using log(x + 1), old=TRUE
maintains this.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Object of class <code style="white-space: pre;">⁠rct3⁠</code>.
</p>


<h3>Note</h3>

<p>This function was written based on the publication by Shepherd (1997)
with additional reverse engeneering by comparing results to
previous examples run using the RCT3 ver3.1 dos program
</p>


<h3>References</h3>

<p>J. G. Shepherd, Prediction of year-class strength by calibration
regression analysis of multiple recruit index series, ICES
Journal of Marine Science, Volume 54, Issue 5, October 1997,
Pages 741–752, <a href="https://doi.org/10.1006/jmsc.1997.0222">https://doi.org/10.1006/jmsc.1997.0222</a>
</p>


<h3>See Also</h3>

<p><code>rct3-package</code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load recruitment data
data(recdata)

formula &lt;- recruitment ~ NT1 + NT2 + NT3 +
                         NAK1 + NAK2 + NAK3 +
                         RT1 + RT2 + RT3 +
                         EC01 + ECO2 + ECO3

my_rct3 &lt;- rct3(formula, recdata, predictions = 2012:2017, shrink = TRUE)

# see a short summary
my_rct3

# for a full summary do:
summary(my_rct3)

# the components are here:
my_rct3$rct3
my_rct3$rct3.summary

# predicted recruitment
t(my_rct3$rct3.summary["WAP"])

</code></pre>


</div>