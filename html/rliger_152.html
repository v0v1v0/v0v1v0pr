<div class="container">

<table style="width: 100%;"><tr>
<td>normalize</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Normalize raw counts data</h2>

<h3>Description</h3>

<p>Perform library size normalization on raw counts input. As for
the preprocessing step of iNMF integration, by default we don't multiply the
normalized values with a scale factor, nor do we take the log transformation.
Applicable S3 methods can be found in Usage section.
</p>
<p><code>normalizePeak</code> is designed for datasets of "atac" modality, i.e. stored
in ligerATACDataset. S3 method for various container object is
not supported yet due to difference in architecture design.
</p>


<h3>Usage</h3>

<pre><code class="language-R">normalize(object, ...)

## S3 method for class 'dgCMatrix'
normalize(object, log = FALSE, scaleFactor = NULL, ...)

## S3 method for class 'ligerDataset'
normalize(object, chunk = 1000, verbose = getOption("ligerVerbose", TRUE), ...)

## S3 method for class 'liger'
normalize(
  object,
  useDatasets = NULL,
  verbose = getOption("ligerVerbose", TRUE),
  format.type = NULL,
  remove.missing = NULL,
  ...
)

## S3 method for class 'Seurat'
normalize(object, assay = NULL, layer = "counts", save = "ligerNormData", ...)

normalizePeak(
  object,
  useDatasets = NULL,
  verbose = getOption("ligerVerbose", TRUE),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>liger object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed to S3 methods. The "liger" method calls
the "ligerDataset" method, which then calls "dgCMatrix" method.
<code>normalizePeak</code> directly calls <code>normalize.dgCMatrix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>Logical. Whether to do a <code>log(x + 1)</code> transform on the
normalized data. Default <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaleFactor</code></td>
<td>
<p>Numeric. Scale the normalized expression value by this
factor before transformation. <code>NULL</code> for not scaling. Default
<code>1e4</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chunk</code></td>
<td>
<p>Integer. Number of maximum number of cells in each chunk when
working on HDF5 file based ligerDataset. Default <code>1000</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical. Whether to show information of the progress. Default
<code>getOption("ligerVerbose")</code> or <code>TRUE</code> if users have not set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useDatasets</code></td>
<td>
<p>A character vector of the names, a numeric or logical
vector of the index of the datasets to be normalized. Should specify ATACseq
datasets when using <code>normalizePeak</code>. Default <code>NULL</code> normalizes all
valid datasets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format.type, remove.missing</code></td>
<td>
<p><b>Deprecated</b>. The functionality of
these is covered through other parts of the whole workflow and is no long
needed. Will be ignored if specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assay</code></td>
<td>
<p>Name of assay to use. Default <code>NULL</code> uses current active
assay.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layer</code></td>
<td>
<p>Where the input raw counts should be from. Default
<code>"counts"</code>. For older Seurat, always retrieve from <code>counts</code> slot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save</code></td>
<td>
<p>For Seurat&gt;=4.9.9, the name of layer to store normalized data.
Default <code>"ligerNormData"</code>. For older Seurat, stored to <code>data</code> slot.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Updated <code>object</code>.
</p>

<ul>
<li>
<p>dgCMatrix method - Returns processed dgCMatrix object
</p>
</li>
<li>
<p>ligerDataset method - Updates the <code>normData</code> slot of the object
</p>
</li>
<li>
<p>liger method - Updates the <code>normData</code> slot of chosen datasets
</p>
</li>
<li>
<p>Seurat method - Adds a named layer in chosen assay (V5), or update the
<code>data</code> slot of the chosen assay (&lt;=V4)
</p>
</li>
<li>
<p><code>normalizePeak</code> - Updates the <code>normPeak</code> slot of chosen
datasets.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">pbmc &lt;- normalize(pbmc)
</code></pre>


</div>