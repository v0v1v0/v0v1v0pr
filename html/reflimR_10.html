<div class="container">

<table style="width: 100%;"><tr>
<td>ri_hist</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Histogram with density plots and reference limits</h2>

<h3>Description</h3>

<p>Creates a graphic illustrating the results of the reflim function.</p>


<h3>Usage</h3>

<pre><code class="language-R">ri_hist(x, lognormal, stats, limits, perc.norm,
                    targets = NULL, remove.extremes = TRUE,
                    main = "reflim", xlab = "x")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>vector of positive numbers</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lognormal</code></td>
<td>
<p>Boolean indicating whether a lognormal distribution should be assumed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stats</code></td>
<td>
<p>vector of mean and sd, or meanlog and sdlog, respectively</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limits</code></td>
<td>
<p>vector of reference limits calculated by the reflim function (or any other suitable algorithm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perc.norm</code></td>
<td>
<p>estimated percentage of non-pathological values (usually provided by the iboxplot function)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targets</code></td>
<td>
<p>vector of target reference limits obtained from external sources</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove.extremes</code></td>
<td>
<p>Boolean indicating whether extreme values should be removed to improve the graphic</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main, xlab</code></td>
<td>
<p>title and x label of the graphic</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>ri_hist is called by the reflim function, but it can also be used to illustrate the results of other software packages (e. g. refineR), if the required arguments are available (see details).
</p>
<p>It creates a graphic, which includes a histogram and a density curve of x, as well as a theoretical density curve of presumably non-pathological values (blue) and a calculated density curve of presumably pathological values (red). Calculated reference limits and target limits are shown as vertical lines, and their tolerance intervals (i. e., the permissible uncertainties) are represented by surrounding boxes. If target values are provided, traffic light colors indicate the deviation between target and actual results.
</p>
<p>If the arguments lognormal or perc.norm are unknown, they can be set according to the user's expertise. For example, if the distribution type is unknown, a lognormal distribution can be assumed [1]. If the percentage of non-pathological values has not been provided by a foreign algorithm (e. g. refineR), it can be roughly estimated, if density curves of normal and pathological values are available (the argument perc.norm does not influence the result; its only effect is on the shape of the theoretical density curve).
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>$lognormal</code></td>
<td>
<p>assumed distribution model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$percent_normal</code></td>
<td>
<p>assumed percentage of non-pathological values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$interpretation</code></td>
<td>
<p>text describing the deviation of observed limits from target values</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>1. Haeckel R, Wosniok W. Observed unknown distributions of clinical chemical quantities should be considered to be log-normal. Clin Chem Lab Med 2010; 48: 1393-6. <a href="https://doi.org/10.1515/CCLM.2010.273">doi:10.1515/CCLM.2010.273</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(123)
x1 &lt;- rlnorm(800, 3, 0.3)
lim &lt;- quantile(x1, c(0.025, 0.975))
ri_hist(x1, lognormal = TRUE, stats = c(3, 0.3), limits = lim, perc.norm = 100)

x2 &lt;- rlnorm(200, 3.5, 0.4)
x &lt;- c(x1, x2)
tar &lt;- quantile(x, c(0.025, 0.975))
ri_hist(x, lognormal = TRUE, stats = c(3, 0.3), limits = lim, targets = tar, perc.norm = 80)
</code></pre>


</div>