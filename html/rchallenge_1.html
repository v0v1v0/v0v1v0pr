<div class="container">

<table style="width: 100%;"><tr>
<td>rchallenge-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>rchallenge: A Simple Data Science Challenge System</h2>

<h3>Description</h3>

<p>A simple data science challenge system using R Markdown and 'Dropbox' &lt;https://www.dropbox.com/&gt;.
It requires no network configuration, does not depend on external platforms
like e.g. 'Kaggle' &lt;https://www.kaggle.com/&gt; and can be easily installed on a personal computer.
</p>


<h3>Installation</h3>

<p>Install the R package from <a href="https://cran.r-project.org/package=rchallenge">CRAN</a> repositories
</p>
<p><code>install.packages("rchallenge")</code>
</p>
<p>or install the latest development version from <a href="https://github.com/adrtod/rchallenge">GitHub</a>
</p>
<p><code># install.packages("devtools")</code>
</p>
<p><code>devtools::install_github("adrtod/rchallenge")</code>
</p>
<p>A recent version of <a href="https://pandoc.org/">pandoc</a> (&gt;= 1.12.3) is also required. 
See the <a href="https://pandoc.org/installing.html">pandoc installation instructions</a> 
for details on installing pandoc for your platform.
</p>


<h3>Getting started</h3>

<p>Install a new challenge in <code>Dropbox/mychallenge</code>:
</p>
<p><code>setwd("~/Dropbox/mychallenge")</code>
</p>
<p><code>library(rchallenge)</code>
</p>
<p><code>new_challenge()</code>
</p>
<p>or for a french version:
</p>
<p><code>new_challenge(template = "fr")</code>
</p>
<p>You will obtain a ready-to-use challenge in the folder <code>Dropbox/mychallenge</code> containing:
</p>
 
<ul>
<li> <p><code>challenge.rmd</code>: Template R Markdown script for the webpage.
</p>
</li>
<li> <p><code>data</code>: Directory of the data containing <code>data_train</code> and <code>data_test</code> datasets.
</p>
</li>
<li> <p><code>submissions</code>: Directory of the submissions. It will contain one subdirectory per team where they can submit their submissions. The subdirectories are shared with Dropbox.
</p>
</li>
<li> <p><code>history</code>: Directory where the submissions history is stored.
</p>
</li>
</ul>
<p>The default challenge provided is a binary classification problem on the <a href="https://archive.ics.uci.edu/ml/datasets/South+German+Credit">South German Credit</a> data set.
</p>
<p>You can easily customize the challenge in two ways:
</p>
 
<ul>
<li> <p><em>During the creation of the challenge</em>: by using the options of the <code>new_challenge</code> function.
</p>
</li>
<li> <p><em>After the creation of the challenge</em>: by manually replacing the data files in the <code>data</code> subdirectory and the baseline predictions in <code>submissions/baseline</code> and by customizing the template <code>challenge.rmd</code> as needed.
</p>
</li>
</ul>
<h3>Next steps</h3>

<p>To complete the installation:
</p>

<ol>
<li>
<p> Create and <a href="https://help.dropbox.com/fr-fr/files-folders/share/share-with-others">share</a> subdirectories in <code>submissions</code> for each team:
</p>
<p><code>new_team("team_foo", "team_bar")</code>
</p>
</li>
<li>
<p> Render the HTML page:
<code>publish()</code>
Use the <code>output_dir</code> argument to change the output directory.
Make sure the output HTML file is rendered, e.g. using <a href="https://pages.github.com/">GitHub Pages</a>.
</p>
</li>
<li>
<p> Give the URL to your HTML file to the participants.
</p>
</li>
<li>
<p> Refresh the webpage by repeating step 2 on a regular basis. See below for automating this step.
</p>
</li>
</ol>
<p>From now on, a fully autonomous challenge system is set up requiring no further 
administration. With each update, the program automatically performs the following
tasks using the functions available in our package:
</p>
 
<ul>
<li> <p><code>store_new_submissions</code>: Reads submitted files and save new files in the history.
</p>
</li>
<li> <p><code>print_readerr</code>: Displays any read errors.
</p>
</li>
<li> <p><code>compute_metrics</code>: Calculates the scores for each submission in the history.
</p>
</li>
<li> <p><code>get_best</code>: Gets the highest score per team.
</p>
</li>
<li> <p><code>print_leaderboard</code>: Displays the leaderboard.
</p>
</li>
<li> <p><code>plot_history</code>: Plots a chart of score evolution per team.
</p>
</li>
<li> <p><code>plot_activity</code>: Plots a chart of activity per team.
</p>
</li>
</ul>
<h3>Automating the updates on <strong>Unix/OSX</strong>
</h3>

<p>For the step 4, you can setup the following line to your <a href="https://en.wikipedia.org/wiki/Cron">crontab</a> 
using <code>crontab -e</code> (mind the quotes):
</p>
<p><code>0 * * * * Rscript -e 'rchallenge::publish("~/Dropbox/mychallenge/challenge.rmd")'</code>
</p>
<p>This will render a HTML webpage every hour.
Use the <code>output_dir</code> argument to change the output directory.
</p>
<p>If your challenge is hosted on a Github repository you can automate the push:
</p>
<p><code>0 * * * * cd ~/Dropbox/mychallenge &amp;&amp; Rscript -e 'rchallenge::publish()' &amp;&amp; git commit -m "update html" index.html &amp;&amp; git push</code>
</p>
<p>You might have to add the path to Rscript and pandoc at the beginning of your crontab:
</p>
<p><code>PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin</code>
</p>
<p>Depending on your system or pandoc version you might also have to explicitly add the encoding option to the command:
</p>
<p><code>0 * * * * Rscript -e 'rchallenge::publish("~/Dropbox/mychallenge/challenge.rmd", encoding = "utf8")'</code>
</p>


<h3>Automating the updates on <strong>Windows</strong>
</h3>

<p>You can use the <a href="https://www.windowscentral.com/how-create-automated-task-using-task-scheduler-windows-10">Task Scheduler</a> 
to create a new task with a <em>Start a program</em> action with the settings (mind the quotes):
</p>
 
<ul>
<li> <p><em>Program/script</em>: <code>Rscript.exe</code>
</p>
</li>
<li> <p><em>options</em>: <code>-e rchallenge::publish('~/Dropbox/mychallenge/challenge.rmd')</code>
</p>
</li>
</ul>
<h3>Examples</h3>

 
<ul>
<li> <p><a href="https://adrien.tspace.fr/challenge-mimse2014/">Credit approval</a> (in french) by Adrien Todeschini (Bordeaux).
</p>
</li>
<li> <p><a href="https://chavent.github.io/challenge-mmas/">Spam filter</a> (in french) by Marie Chavent (Bordeaux).
</p>
</li>
</ul>
<p>Please <a href="https://adrien.tspace.fr/">contact me</a> to add yours.
</p>


<h3>Note</h3>

<p>The rendering of HTML content provided by Dropbox will be discontinued from the 
3rd October 2016 for Basic users and the 1st September 2017 for Pro and Business users. 
See <a href="https://help.dropbox.com/files-folders/share/public-folder">https://help.dropbox.com/files-folders/share/public-folder</a>. Alternatively, <a href="https://pages.github.com/">GitHub Pages</a>
provide an easy HTML publishing solution via a simple GitHub repository.
</p>
<p>version 1.16 of pandoc fails to fetch font awesome css, see <a href="https://github.com/jgm/pandoc/issues/2737">https://github.com/jgm/pandoc/issues/2737</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Adrien Todeschini <a href="mailto:adrien.todeschini@gmail.com">adrien.todeschini@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul><li>
<p> Robin Genuer <a href="mailto:robin.genuer@isped.u-bordeaux2.fr">robin.genuer@isped.u-bordeaux2.fr</a> [contributor]
</p>
</li></ul>
<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://adrien.tspace.fr/rchallenge/">https://adrien.tspace.fr/rchallenge/</a>
</p>
</li>
<li> <p><a href="https://github.com/adrtod/rchallenge">https://github.com/adrtod/rchallenge</a>
</p>
</li>
<li>
<p> Report bugs at <a href="https://github.com/adrtod/rchallenge/issues">https://github.com/adrtod/rchallenge/issues</a>
</p>
</li>
</ul>
</div>