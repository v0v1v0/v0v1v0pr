<div class="container">

<table style="width: 100%;"><tr>
<td>percentileTest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Test of percentiles by permutation test</h2>

<h3>Description</h3>

<p>Conducts a permutation test to compare two groups for medians,
percentiles, or proportion below a threshold value.
</p>


<h3>Usage</h3>

<pre><code class="language-R">percentileTest(
  formula = NULL,
  data = NULL,
  x = NULL,
  y = NULL,
  test = "median",
  tau = 0.5,
  type = 7,
  threshold = NA,
  comparison = "&lt;",
  r = 1000,
  digits = 4,
  progress = "TRUE"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A formula indicating the response variable and
the independent variable. e.g. y ~ group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The data frame to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>If no formula is given, the response variable for one group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>The response variable for the other group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>The statistic to compare between groups.  Can be
<code>"median"</code>, <code>"percentile"</code>, <code>"iqr"</code>,
<code>"proportion"</code>,
<code>"mean"</code>, or <code>"variance"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>If <code>"percentile"</code> is chosen as the <code>test</code>,
<code>tau</code> indicates the percentile to test.  Expressed
as a quantile.  That is, 0.5 indicates a test for medians.
0.75 indicates a test for 75th percentiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The <code>type</code> value passed to the <code>quantile</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>If <code>"proportion"</code> is chosen as the <code>test</code>,
<code>threshold</code> indicates the value of the dependent variable
to use as the threshold.  For example, to test if there is a 
different in the proportion of observations below $10,000,
<code>threshold = 10000</code> would be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comparison</code></td>
<td>
<p>If <code>"proportion"</code> is chosen as the <code>test</code>,
<code>comparison</code> indicates the inequality to use.  Options are
<code>"&lt;"</code>, <code>"&lt;="</code>, <code>"&gt;"</code>, <code>"&gt;="</code>, or , <code>"=="</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>The number of replicates in the permutation test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>The number of significant digits in the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>If <code>TRUE</code>, prints a dot for every 1 percent of 
progress while conducting the test.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function will test for a difference in medians, percentiles,
interquartile ranges, proportion of observations above or below
some threshold value, 
means, or variances between two groups
by permutation test.
</p>
<p>The permutation test simply permutes the observed values over the
two groups and counts how often the calculated statistic is
at least as extreme as the original observed statistic.
</p>
<p>The input should include either <code>formula</code> and <code>data</code>;
or <code>x</code> and <code>y</code>.
</p>
<p>The function removes cases with NA in any of the variables.
</p>
<p>If the independent variable has more than two groups,
only the first two levels of the factor variable will be used.
</p>
<p>The p-value returned is a two-sided test.
</p>


<h3>Value</h3>

<p>A list of three data frames with
the data used, a summary for each group,
and the p-value from the test.
</p>


<h3>Note</h3>

<p>The parsing of the formula is simplistic. 
The first variable on the
left side is used as the measurement variable.  
The first variable on the
right side is used for the independent variable.
</p>


<h3>Author(s)</h3>

<p>Salvatore Mangiafico, <a href="mailto:mangiafico@njaes.rutgers.edu">mangiafico@njaes.rutgers.edu</a>
</p>


<h3>References</h3>

<p><a href="https://rcompanion.org/handbook/F_15.html">https://rcompanion.org/handbook/F_15.html</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(BrendonSmall)
percentileTest(Sodium ~ Instructor, 
               data=BrendonSmall, 
               test="median")

percentileTest(Sodium ~ Instructor, 
               data=BrendonSmall, 
               test="percentile", 
               tau = 0.75)

percentileTest(Sodium ~ Instructor, 
               data=BrendonSmall, 
               test="proportion", 
               threshold = 1300)
               
</code></pre>


</div>