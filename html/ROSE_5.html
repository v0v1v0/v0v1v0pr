<div class="container">

<table style="width: 100%;"><tr>
<td>ovun.sample</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Over-sampling, under-sampling, combination of over- and under-sampling.
</h2>

<h3>Description</h3>

<p>Creates possibly balanced samples by random over-sampling minority examples, under-sampling majority examples or combination of over- and under-sampling.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ovun.sample(formula, data, method="both", N, p=0.5, 
            subset=options("subset")$subset,
            na.action=options("na.action")$na.action, seed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>

<p>An object of class <code>formula</code> (or one that can be coerced to that class). 
See <code>ROSE</code> for information about interaction among predictors or 
their transformations.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>An optional data frame, list or environment (or object
coercible to a data frame by <code>as.data.frame</code>) in which 
to preferentially interpret “formula”. 
If not specified, the variables are taken from “environment(formula)”.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>

<p>One among <code>c("over", "under", "both")</code> to perform over-sampling minority examples, under-sampling majority 
examples or combination of over- and under-sampling, respectively. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>

<p>The desired sample size of the resulting data set. 
If missing and <code>method</code> is either <code>"over"</code> or <code>"under"</code> the sample size is determined by oversampling or, respectively, undersampling examples so that the minority class occurs approximately in proportion <code>p</code>. 
When <code>method = "both"</code> the default value is given by the length of vectors 
specified in <code>formula</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>

<p>The probability of resampling from the rare class.
If missing and <code>method</code> is either <code>"over"</code> or <code>"under"</code> this proportion is determined by oversampling 
or, respectively, undersampling examples so that the sample size is equal to <code>N</code>. 
When <code>method ="both"</code> the default value given by 0.5.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>

<p>An optional vector specifying a subset of observations to be used in the sampling process.
The default is set by the <code>subset</code> setting of <code>options</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>

<p>A function which indicates what should happen when the data contain 'NA's.  
The default is set by the <code>na.action</code> setting of <code>options</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>

<p>A single value, interpreted as an integer, recommended to specify seeds and keep trace of the  
sample.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The value is an object of class <code>ovun.sample</code> which has components
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Call</code></td>
<td>
<p>The matched call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The method used to balance the sample. Possible choices are <br><code>c("over", "under", "both")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p> The resulting new data set.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>ROSE</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# 2-dimensional example
# loading data
data(hacide)

# imbalance on training set
table(hacide.train$cls)

# balanced data set with both over and under sampling
data.balanced.ou &lt;- ovun.sample(cls~., data=hacide.train,
                                N=nrow(hacide.train), p=0.5, 
                                seed=1, method="both")$data

table(data.balanced.ou$cls)

# balanced data set with over-sampling
data.balanced.over &lt;- ovun.sample(cls~., data=hacide.train, 
                                  p=0.5, seed=1, 
                                  method="over")$data

table(data.balanced.over$cls)

</code></pre>


</div>