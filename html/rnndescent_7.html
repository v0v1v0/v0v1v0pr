<div class="container">

<table style="width: 100%;"><tr>
<td>neighbor_overlap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Overlap between the indices of two nearest neighbor graphs</h2>

<h3>Description</h3>

<p>Calculates the mean average number of neighbors in common between the two
graphs. The per-item overlap can also be returned. This function can be
useful as a measure of accuracy of approximation algorithms, if the
exact nearest neighbors are known, or as a measure of diversity of two
different approximate graphs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">neighbor_overlap(idx1, idx2, k = NULL, ret_vec = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>idx1</code></td>
<td>
<p>Indices of a nearest neighbor graph, i.e. a matrix of nearest
neighbor indices. Can also be a list containing an <code>idx</code> element.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idx2</code></td>
<td>
<p>Indices of a nearest neighbor graph, i.e. a matrix of nearest
neighbor indices. Can also be a list containing an <code>idx</code> element. This is
considered to be the ground truth.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Number of neighbors to consider. If <code>NULL</code>, then the minimum of the
number of neighbors in <code>idx1</code> and <code>idx2</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ret_vec</code></td>
<td>
<p>If <code>TRUE</code>, also return a vector containing the per-item overlap.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The graph format is the same as that returned by e.g. <code>nnd_knn()</code> and should
be of dimensions n by k, where n is the number of points and k is the number
of neighbors. If you pass a neighbor graph directly, the index matrix will be
extracted if present. If the two graphs have different numbers of neighbors,
then the smaller number of neighbors is used.
</p>


<h3>Value</h3>

<p>The mean overlap between <code>idx1</code> and <code>idx2</code>. If <code>ret_vec = TRUE</code>,
then a list containing the mean overlap and the overlap of each item in
is returned with names <code>mean</code> and <code>overlaps</code>, respectively.
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(1337)
# Generate two random neighbor graphs for iris
iris_rnn1 &lt;- random_knn(iris, k = 15)
iris_rnn2 &lt;- random_knn(iris, k = 15)

# Overlap between the two graphs
mean_overlap &lt;- neighbor_overlap(iris_rnn1, iris_rnn2)

# Also get a vector of per-item overlap
overlap_res &lt;- neighbor_overlap(iris_rnn1, iris_rnn2, ret_vec = TRUE)
summary(overlap_res$overlaps)
</code></pre>


</div>