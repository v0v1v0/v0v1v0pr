<div class="container">

<table style="width: 100%;"><tr>
<td>robyn_outputs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Evaluate Models and Output Results into Local Files</h2>

<h3>Description</h3>

<p>Pack <code>robyn_plots()</code>, <code>robyn_csv()</code>, and <code>robyn_clusters()</code>
outcomes on <code>robyn_run()</code> results. When <code>UI=TRUE</code>, enriched
<code>OutputModels</code> results with additional plots and objects.
</p>
<p>Create a plot to visualize the convergence for each of the datasets
when running <code>robyn_run()</code>, especially useful for when using ts_validation.
As a reference, the closer the test and validation convergence points are,
the better, given the time-series wasn't overfitted.
</p>


<h3>Usage</h3>

<pre><code class="language-R">robyn_outputs(
  InputCollect,
  OutputModels,
  pareto_fronts = "auto",
  calibration_constraint = 0.1,
  plot_folder = NULL,
  plot_folder_sub = NULL,
  plot_pareto = TRUE,
  csv_out = "pareto",
  clusters = TRUE,
  select_model = "clusters",
  ui = FALSE,
  export = TRUE,
  all_sol_json = FALSE,
  quiet = FALSE,
  refresh = FALSE,
  ...
)

## S3 method for class 'robyn_outputs'
print(x, ...)

robyn_csv(
  InputCollect,
  OutputCollect,
  csv_out = NULL,
  export = TRUE,
  calibrated = FALSE
)

robyn_plots(
  InputCollect,
  OutputCollect,
  export = TRUE,
  plot_folder = OutputCollect$plot_folder,
  ...
)

robyn_onepagers(
  InputCollect,
  OutputCollect,
  select_model = NULL,
  quiet = FALSE,
  export = TRUE,
  plot_folder = OutputCollect$plot_folder,
  baseline_level = 0,
  ...
)

ts_validation(OutputModels, quiet = FALSE, ...)

decomp_plot(
  InputCollect,
  OutputCollect,
  solID = NULL,
  exclude = NULL,
  baseline_level = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>InputCollect, OutputModels</code></td>
<td>
<p><code>robyn_inputs()</code> and <code>robyn_run()</code>
outcomes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pareto_fronts</code></td>
<td>
<p>Integer. Number of Pareto fronts for the output.
<code>pareto_fronts = 1</code> returns the best models trading off <code>NRMSE</code> &amp;
<code>DECOMP.RSSD</code>. Increase <code>pareto_fronts</code> to get more model choices.
<code>pareto_fronts = "auto"</code> selects the min fronts that include at least 100
candidates. To customize this threshold, set value with <code>min_candidates</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calibration_constraint</code></td>
<td>
<p>Numeric. Default to 0.1 and allows 0.01-0.1. When
calibrating, 0.1 means top 10
selection. Lower <code>calibration_constraint</code> increases calibration accuracy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_folder</code></td>
<td>
<p>Character. Path for saving plots and files. Default
to <code>robyn_object</code> and saves plot in the same directory as <code>robyn_object</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_folder_sub</code></td>
<td>
<p>Character. Sub path for saving plots. Will overwrite the
default path with timestamp or, for refresh and allocator, simply overwrite files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_pareto</code></td>
<td>
<p>Boolean. Set to <code>FALSE</code> to deactivate plotting
and saving model one-pagers. Used when testing models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>csv_out</code></td>
<td>
<p>Character. Accepts "pareto" or "all". Default to "pareto". Set
to "all" will output all iterations as csv. Set NULL to skip exports into CSVs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clusters</code></td>
<td>
<p>Boolean. Apply <code>robyn_clusters()</code> to output models?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select_model</code></td>
<td>
<p>Character vector. Which models (by <code>solID</code>) do you
wish to plot the one-pagers and export? Default will take top
<code>robyn_clusters()</code> results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ui</code></td>
<td>
<p>Boolean. Save additional outputs for UI usage. List outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>export</code></td>
<td>
<p>Boolean. Export outcomes into local files?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all_sol_json</code></td>
<td>
<p>Logical. Add all pareto solutions to json export?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>Boolean. Keep messages off?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refresh</code></td>
<td>
<p>Boolean. Refresh mode</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters passed to <code>robyn_clusters()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>robyn_outputs()</code> output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OutputCollect</code></td>
<td>
<p><code>robyn_run(..., export = FALSE)</code> output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calibrated</code></td>
<td>
<p>Logical</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>baseline_level</code></td>
<td>
<p>Integer, from 0 to 5. Aggregate baseline variables,
depending on the level of aggregation you need. Default is 0 for no
aggregation. 1 for Intercept only. 2 adding trend. 3 adding all prophet
decomposition variables. 4. Adding contextual variables. 5 Adding organic
variables. Results will be reflected on the waterfall chart.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>solID</code></td>
<td>
<p>Character vector. Model IDs to plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude</code></td>
<td>
<p>Character vector. Manually exclude variables from plot.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>(Invisible) list. Class: <code>robyn_outputs</code>. Contains processed
results based on <code>robyn_run()</code> results.
</p>
<p>Invisible <code>NULL</code>.
</p>
<p>Invisible list with <code>ggplot</code> plots.
</p>
<p>Invisible list with <code>patchwork</code> plot(s).
</p>
<p>Invisible list with <code>ggplot</code> plots.
</p>


</div>