<div class="container">

<table style="width: 100%;"><tr>
<td>compute_profile</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Gradually-varied flow profiles</h2>

<h3>Description</h3>

<p>Compute the gradually-varied flow profile of a prismatic channel.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compute_profile(
  So,
  n,
  Q,
  y0,
  Cm,
  g,
  B,
  SS,
  z0 = 0,
  x0 = 0,
  stepdist,
  totaldist
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>So</code></td>
<td>
<p>Channel slope [<code class="reqn">L L^{-1}</code>].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Manning's roughness coefficient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q</code></td>
<td>
<p>Flow rate [<code class="reqn">L^3 T^{-1}</code>].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y0</code></td>
<td>
<p>The water depth at the control section [<code class="reqn">L</code>].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Cm</code></td>
<td>
<p>Unit conversion coefficient for Manning's equation. For SI units, Cm = 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g</code></td>
<td>
<p>Gravitational acceleration [<code class="reqn">L T^{-2}</code>].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>Channel bottom width [<code class="reqn">L</code>].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SS</code></td>
<td>
<p>Channel sideslope [<code class="reqn">L L^{-1}</code>].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z0</code></td>
<td>
<p>Elevation reference datum at control section [<code class="reqn">L</code>]. Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x0</code></td>
<td>
<p>Distance reference at control section [<code class="reqn">L</code>]. Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stepdist</code></td>
<td>
<p>The spatial interval used in the Standard step method [<code class="reqn">L</code>].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>totaldist</code></td>
<td>
<p>The total distance upstream (or downstream) to compute the profile [<code class="reqn">L</code>].</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Computes the longitudinal water surface profile of a prismatic 
channel using the standard step method by solving the non-linear ODE 
</p>
<p style="text-align: center;"><code class="reqn">\frac{dy}{dx} = \frac{S_0 - S_f}{1 - Fr^2}</code>
</p>
<p> The standard-step 
method operates by stepping along the channel by a constant distance 
interval, starting from a cross-section where the flow depth is known 
(the control section). The flow depth is computed at the adjacent 
cross-section (target section). The computed value at the target is then 
used as the basis for computing flow depth at the next cross-section, i.e. 
the previous target section becomes the new control section for each step. 
A Newton-Raphson scheme is used each step to compute the flow depth and 
friction slope. Technically, the average friction slope of the control and
target section is used to compute the flow depth at the target section.
</p>


<h3>Value</h3>

<p>data.frame with columns:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Along-channel distance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>Elevation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Flow depth.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>Flow velocity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>A</code></td>
<td>
<p>Flow area.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sf</code></td>
<td>
<p>Friction slope.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>E</code></td>
<td>
<p>Total energy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Fr</code></td>
<td>
<p>Froude Number.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R"># example M1 profile
compute_profile(0.001, 0.045, 250, 2.7, 1.486, 32.2, 100, 0, stepdist = 10, totaldist = 3000)
# example M2 profile
compute_profile(0.001, 0.045, 250, 0.64, 1.486, 32.2, 100, 0, stepdist = 10, totaldist = 3000)
# example S2 profile
compute_profile(0.005, 0.01, 250, 2.65, 1.486, 32.2, 10, 0, stepdist = 10, totaldist = 2000)
# example S3 profile
compute_profile(0.005, 0.01, 250, 0.5, 1.486, 32.2, 10, 0, stepdist = 10, totaldist = 2000)
</code></pre>


</div>