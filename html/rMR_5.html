<div class="container">

<table style="width: 100%;"><tr>
<td>DO.unit.convert</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Convert Between Different Common Units of DO Concentration
</h2>

<h3>Description</h3>

<p>Converts between different different units of DO concentration. Takes into account ambient temperature, pressure and salinity.
</p>


<h3>Usage</h3>

<pre><code class="language-R">DO.unit.convert(x, DO.units.in, DO.units.out, bar.units.in,
bar.press, temp.C, bar.units.out = "mmHg",
salinity = 0, salinity.units = "pp.thou")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>Value or object of class numeric to be converted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DO.units.in</code></td>
<td>

<p>Units of dissolved oxygen concentration measured, i.e. to be converted from. Must be <code>"mg/L"</code>, <code>"PP"</code> (partial pressure), or <code>"pct"</code> (percent). If <code>"PP"</code>, the units of partial pressure must be equal to <code>bar.units.in</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DO.units.out</code></td>
<td>

<p>Units of dissolved oxygen concentration desired, i.e. to be converted to. Must be <code>"mg/L"</code>, <code>"PP"</code>, or "pct".
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bar.units.in</code></td>
<td>

<p>Units of barometric pressure of user specified barometric pressure measurement. Must take value of <code>"atm"</code>, <code>"kpa"</code>, or <code>"mmHg"</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bar.press</code></td>
<td>

<p>Ambient barometric pressure measurement
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>temp.C</code></td>
<td>

<p>Water temperature measured in degrees C
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bar.units.out</code></td>
<td>

<p>Used in internal calculation, only visible if output DO.units.out = <code>"PP"</code>. Must take value of <code>"atm"</code>, <code>"kpa"</code>, or <code>"mmHg"</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>salinity</code></td>
<td>

<p>Salinity, either reported in parts per thousand (<code>"pp.thou"</code>) or microsiemens/cm (<code>"us"</code>) 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>salinity.units</code></td>
<td>

<p>Salinity units, must be <code>"pp.thou"</code> or <code>"us"</code> 
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Numeric object representing dissolved oxygen concentration in the units specified by <code>DO.units.out</code>. 
</p>


<h3>Note</h3>

<p>Use this function on entire data columns to convert them to desired units before analysing with functions like <code>MR.loops</code> and <code>get.pcrit</code>.
</p>


<h3>Author(s)</h3>

<p>Tyler L. Moulton
</p>


<h3>References</h3>

<p>Mechtly, E. A., 1973: The International System of Units, Physical Constants and Conversion Factors. NASA SP-7012, Second Revision, National Aeronautics and Space Administration, Washington, D.C. <a href="https://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19730018242.pdf">https://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19730018242.pdf</a>.
</p>
<p>U.S. Geological Survey (2011). Change to solubility equations for oxygen in water: Office of Water Quality Technical Memorandum 2011.03, accessed July 15, 2011, at <a href="http://water.usgs.gov/admin/memo/QW/qw11.03.pdf">http://water.usgs.gov/admin/memo/QW/qw11.03.pdf</a>.
</p>


<h3>See Also</h3>

<p><code>plot</code>, 
<code>plotRaw</code>, 
<code>cbind</code>, 
<code>Eq.Ox.conc</code>, 
<code>DO.saturation</code>, 
</p>


<h3>Examples</h3>

<pre><code class="language-R">## on a single value ##

DO.pct&lt;- DO.unit.convert(x= 125.6863, DO.units.in = "PP",
                DO.units.out = "pct",
                bar.units.in = "mmHg", bar.press = 750, temp.C =15)

## Apply to a column in a 'data.frame' class object ## 

## load data ##
data(fishMR)

## create time variable in POSIXct format ##
fishMR$std.time &lt;- as.POSIXct(fishMR$Date.time,
                    format = "%d/%m/%Y %I:%M:%S %p")

head(fishMR)

#note that DO data are in mg/L (DO.mgL) and
#that there is an instantaneous temperature column
#(temp.C) and a pressure column (Bar.Pressure.hpa)

DO.pct.col.a &lt;- DO.unit.convert(fishMR$DO.mgL, DO.units.in = "mg/L",
                DO.units.out = "pct",
                bar.units.in = "kpa", bar.press = 101.3,
                temp.C = fishMR$temp.C,
                bar.units.out = "kpa")
DO.pct.col.b&lt;- DO.unit.convert(fishMR$DO.mgL, DO.units.in = "mg/L",
                DO.units.out = "pct",
                bar.units.in = "kpa", bar.press = 101.3,
                temp.C = fishMR$temp.C)
head(DO.pct.col.a)
head(DO.pct.col.b)

# Now with df #

fishMR2 &lt;- as.data.frame(cbind(fishMR, DO.pct.col.a))

par(mfrow = c(1,2))
plotRaw(data = fishMR, DO.var.name = "DO.mgL",
          start.time = "2015-07-03 06:15:00",
          end.time = "2015-07-03 08:05:00",
          main = "DO (mg/L) vs time",
          xlab = "time",
          ylab = "DO (mg/L)")
          

plotRaw(data = fishMR2, DO.var.name = "DO.pct.col.a",
          start.time = "2015-07-03 06:15:00",
          end.time = "2015-07-03 08:05:00",
          main = "DO (percent saturation) vs time",
          xlab = "time",
          ylab = "DO (percent saturation)")
</code></pre>


</div>