<div class="container">

<table style="width: 100%;"><tr>
<td>includeTimeDummy</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to include time dummy effects in a Siena model</h2>

<h3>Description</h3>

<p>This function specifies time heterogeneity for selected effects   
in a Siena model, by interacting them with time dummies,   
without explicitly using time-dependent covariates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">includeTimeDummy(myeff, ..., timeDummy="all", name=myeff$name[1], type="eval",
              interaction1="", interaction2="", include=TRUE, character=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>myeff</code></td>
<td>
<p>A Siena effects object as created by <code>getEffects</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Short names to identify the effects for which interactions with time dummies
should be included or excluded.
This function cannot be used for regular interaction effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeDummy</code></td>
<td>
<p>Character string. Either "all" or the periods for which
to create dummies (from 1 to (number of waves - 1)), space delimited.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include</code></td>
<td>
<p>Boolean. default TRUE, but can be switched to FALSE to
turn off an effect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>Name of dependent network or behavioral variable for which
effects are being included. Defaults to the first in the effects object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of dummy effects to be interacted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interaction1</code></td>
<td>

<p>Name of variable where needed to completely identify the
effects e.g. covariate name or behavior variable name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interaction2</code></td>
<td>

<p>Name of variable where needed to completely identify the
effects e.g. covariate name or behavior variable name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>character</code></td>
<td>
<p>Boolean: are the effect names character strings or not</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The arguments (..., <code>name, interaction1, interaction2</code>)
should identify the effects completely.
See <code>includeEffects</code> and <code>effectsDocumentation</code>
for more information about this.
</p>
<p>This function operates by setting the <code>timeDummy</code> column
on selected rows of a Siena effects object, thereby specifying
interactions of the specified effect or effects with dummy variables
for the specified periods.
The <code>timeDummy</code> column of <code>myeff</code> will be set to include the
values requested if <code>include=TRUE</code>, and to exclude them for
<code>include=FALSE</code>.
</p>
<p>For an effects object in which the <code>timeDummy</code> column
of some of the included effects includes some or all period numbers,
interactions of those effects with ego effects of time dummies for the
indicated periods will also be estimated by <code>siena07</code>.
For the outdegree effect this is just the ego effect of the time dummies.
If ... does not include the outdegree effect, then still this
ego effect will be created, but its parameter will be fixed to 0.
</p>
<p>An alternative to the use of <code>includeTimeDummy</code>
is to define time-dependent actor covariates (dummy variables or other
functions of wave number that are the same for all actors),
include these in the data set through <code>sienaDataCreate</code>,
and include interactions of other effects with ego effects of these
time-dependent actor covariates by <code>includeInteraction</code>.
This is illustrated in an example in the help file for
<code>sienaTimeTest</code>.
Using <code>includeTimeDummy</code> is easier; on the other hand,
using self-defined interactions with time-dependent variables
gives more control (e.g., it will allow to specify linear time dependence
and test time heterogeneity for interaction effects).
</p>


<h3>Value</h3>

<p>An updated version of <code>myeff</code>, with the <code>timeDummy</code>
column for one or more rows updated.
Details of the rows altered will be printed.
</p>


<h3>Author(s)</h3>

<p>Josh Lospinoso</p>


<h3>References</h3>

<p>See <a href="https://www.stats.ox.ac.uk/~snijders/siena/">https://www.stats.ox.ac.uk/~snijders/siena/</a>
for general information on RSiena.
</p>


<h3>See Also</h3>

<p><code>sienaTimeTest</code>, <code>getEffects</code>,
<code>includeEffects</code>, <code>effectsDocumentation</code>.</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## Estimate a restricted model
myalgorithm &lt;- sienaAlgorithmCreate(nsub=4, n3=1000)
mynet1 &lt;- sienaDependent(array(c(s501, s502, s503), dim=c(50, 50, 3)))
mydata &lt;- sienaDataCreate(mynet1)
myeff &lt;- getEffects(mydata)
myeff &lt;- includeEffects(myeff, transTrip, balance)
myeff
(ans &lt;- siena07(myalgorithm, data=mydata, effects=myeff))

## Conduct the score type test to assess whether heterogeneity is present.
tt &lt;- sienaTimeTest(ans)
summary(tt)

## Suppose that we wish to include a time dummy.
## Since there are three waves, the number of periods is two.
## This means that only one time dummy can be included for
## the interactions. The default is for period 2;
## an equivalent model, but with different parameters
## (that can be transformed into each other) is obtained
## when the dummies are defined for period 1.
myeff &lt;- includeTimeDummy(myeff, density, recip, timeDummy="2")
myeff       # Note the \code{timeDummy} column.
(ans2 &lt;- siena07(myalgorithm, data=mydata, effects=myeff))

## Re-assess the time heterogeneity
tt2 &lt;- sienaTimeTest(ans2)
summary(tt2)

## And so on..

## End(Not run)

## A demonstration of RateX heterogeneity.
## Note that rate interactions are not implemented in general,
## but they are for Rate x coCovar.
## Not run: 
myalgorithm &lt;- sienaAlgorithmCreate(nsub=4, n3=1000)
mynet1 &lt;- sienaDependent(array(c(s501, s502, s503), dim=c(50, 50, 3)))
myccov &lt;- coCovar(s50a[,1])
mydata &lt;- sienaDataCreate(mynet1, myccov)
myeff &lt;- getEffects(mydata)
myeff &lt;- includeEffects(myeff, transTrip, balance)
myeff &lt;- includeTimeDummy(myeff, RateX, type="rate",
            interaction1="myccov")
myeff
(ans &lt;- siena07(myalgorithm, data=mydata, effects=myeff))

## End(Not run)
</code></pre>


</div>