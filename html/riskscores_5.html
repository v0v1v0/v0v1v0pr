<div class="container">

<table style="width: 100%;"><tr>
<td>cv_risk_mod</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run Cross-Validation to Tune Lambda0</h2>

<h3>Description</h3>

<p>Runs k-fold cross-validation on a grid of <code class="reqn">\lambda_0</code> values. Records
class accuracy and deviance for each <code class="reqn">\lambda_0</code>. Returns an object of
class "cv_risk_mod".
</p>


<h3>Usage</h3>

<pre><code class="language-R">cv_risk_mod(
  X,
  y,
  weights = NULL,
  beta = NULL,
  a = -10,
  b = 10,
  max_iters = 100,
  tol = 1e-05,
  nlambda = 25,
  lambda_min_ratio = ifelse(nrow(X) &lt; ncol(X), 0.01, 1e-04),
  lambda0 = NULL,
  nfolds = 10,
  foldids = NULL,
  parallel = FALSE,
  shuffle = TRUE,
  seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>Input covariate matrix with dimension <code class="reqn">n \times p</code>;
every row is an observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Numeric vector for the (binomial) response variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>Numeric vector of length <code class="reqn">n</code> with weights for each
observation. Unless otherwise specified, default will give equal weight to
each observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>Starting numeric vector with <code class="reqn">p</code> coefficients.
Default starting coefficients are rounded coefficients from a
logistic regression model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>Integer lower bound for coefficients (default: -10).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>Integer upper bound for coefficients (default: 10).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_iters</code></td>
<td>
<p>Maximum number of iterations (default: 100).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>Tolerance for convergence (default: 1e-5).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlambda</code></td>
<td>
<p>Number of lambda values to try (default: 25).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda_min_ratio</code></td>
<td>
<p>Smallest value for lambda, as a fraction of
lambda_max (the smallest value for which all coefficients are zero).
The default depends on the sample size (<code class="reqn">n</code>) relative to the number of
variables (<code class="reqn">p</code>). If <code class="reqn">n &gt; p</code>, the default is 0.0001, close to zero.
If <code class="reqn">n &lt; p</code>, the default is 0.01.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda0</code></td>
<td>
<p>Optional sequence of lambda values. By default, the function
will derive the lambda0 sequence based on the data (see <code>lambda_min_ratio</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfolds</code></td>
<td>
<p>Number of folds, implied if <code>foldids</code> provided (default: 10).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>foldids</code></td>
<td>
<p>Optional vector of values between 1 and <code>nfolds</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>If <code>TRUE</code>, parallel processing (using foreach) is implemented
during cross-validation to increase efficiency (default: <code>FALSE</code>).
User must first register parallel backend with a function such as
doParallel::registerDoParallel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shuffle</code></td>
<td>
<p>Whether order of coefficients is shuffled during coordinate
descent (default: TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>An integer that is used as argument by <code>set.seed()</code> for
offsetting the random number generator. Default is to not set a
particular randomization seed.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class "cv_risk_mod" with the following attributes:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>results</code></td>
<td>
<p>Dataframe containing a summary of deviance and accuracy for each
value of <code>lambda0</code> (mean and SD). Also includes the number of nonzero
coefficients that are produced by each <code>lambda0</code> when fit on the full data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda_min</code></td>
<td>
<p>Numeric value indicating the <code>lambda0</code> that resulted in the
lowest mean deviance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda_1se</code></td>
<td>
<p>Numeric value indicating the largest <code>lamdba0</code> that
had a mean deviance within one standard error of <code>lambda_min</code>.</p>
</td>
</tr>
</table>
</div>