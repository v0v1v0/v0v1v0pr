<div class="container">

<table style="width: 100%;"><tr>
<td>readDWD.grib2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>read nwp forecast data</h2>

<h3>Description</h3>

<p>read gridded numerical weather prediction data.
Intended to be called via <code>readDWD()</code>.<br></p>


<h3>Usage</h3>

<pre><code class="language-R">readDWD.grib2(file, pack = "terra", bargs = NULL, quiet = rdwdquiet(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Name of file on harddrive, like e.g.
cosmo-d2_germany_regular-lat-lon_single-level_2021010100_005_T_2M.grib2.bz2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pack</code></td>
<td>
<p>Char: package used for reading.
One of "terra" or "stars".
"rgdal" (for the deprecated cosmo-d2 data) is no longer available,
see <a href="https://github.com/brry/rdwd/issues/28">issue</a>.
DEFAULT: "terra"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bargs</code></td>
<td>
<p>Named list of arguments passed to
<code>R.utils::bunzip2()</code>, see <code>gargs</code> in <code>readDWD.raster()</code>. DEFAULT: NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>Silence readGDAL completely, including warnings on
discarded ellps / datum.
DEFAULT: FALSE through <code>rdwdquiet()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to <code>terra::rast()</code> or
<code>stars::read_stars()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>terra or stars object, depending on <code>pack</code>
</p>


<h3>Author(s)</h3>

<p>Berry Boessenkool, <a href="mailto:berry-b@gmx.de">berry-b@gmx.de</a>, Jan 2021.
</p>


<h3>See Also</h3>

<p><code>readDWD()</code><br><a href="https://www.dwd.de/EN/ourservices/nwp_forecast_data/nwp_forecast_data.html">https://www.dwd.de/EN/ourservices/nwp_forecast_data/nwp_forecast_data.html</a><br><a href="https://www.dwd.de/EN/aboutus/it/functions/Teasergroup/grib.html">https://www.dwd.de/EN/aboutus/it/functions/Teasergroup/grib.html</a><br></p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run:  # Excluded from CRAN checks, but run in localtests
nwp_t2m_base &lt;- "ftp://opendata.dwd.de/weather/nwp/icon-d2/grib/15/soiltyp"
nwp_urls &lt;- indexFTP("", base=nwp_t2m_base, dir=tempdir())
# for p instead of soiltyp, icosahedral_model-level files fail with GDAL errors,
# see https://github.com/brry/rdwd/issues/28
# regular-lat-lon_pressure-level files work with pack="terra" or "stars"

nwp_file &lt;- dataDWD(tail(nwp_urls,1), base=nwp_t2m_base, dir=tempdir(), 
                    joinbf=TRUE, dbin=TRUE, read=FALSE)
nwp_data &lt;- readDWD(nwp_file)
terra::plot(nwp_data)
addBorders() # the projection seems to be perfectly good :)

# index of GRIB files
if(FALSE){ # indexing takes about 6 minutes!
grib_base &lt;- "ftp://opendata.dwd.de/weather/nwp/icon-d2/grib"
grib_files &lt;- indexFTP("", base=grib_base, dir=tempdir())
for(f in unique(substr(grib_files, 1,3))) print(grib_files[which(substr(grib_files, 1,3)==f)[1]])
View(data.frame(grep("regular",grib_files, value=TRUE)))
}

## End(Not run)
</code></pre>


</div>