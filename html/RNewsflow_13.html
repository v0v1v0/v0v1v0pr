<div class="container">

<table style="width: 100%;"><tr>
<td>network_aggregate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Aggregate the edges of a network by vertex attributes</h2>

<h3>Description</h3>

<p>This function offers a versatile way to aggregate the edges of a network based on the vertex attributes.
Although it was designed specifically for document similarity networks, it can be used for any network in the igraph class.
</p>


<h3>Usage</h3>

<pre><code class="language-R">network_aggregate(
  g,
  by = NULL,
  by_from = by,
  by_to = by,
  edge_attribute = "weight",
  agg_FUN = mean,
  return_df = FALSE,
  keep_isolates = T
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>g</code></td>
<td>
<p>A network/graph in the igraph class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>A character string indicating the vertex attributes by which the edges will be aggregated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by_from</code></td>
<td>
<p>Optionally, specify different vertex attributes to aggregate the 'from' side of edges</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by_to</code></td>
<td>
<p>Optionally, specify different vertex attributes to aggregate the 'to' side of edges</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edge_attribute</code></td>
<td>
<p>Select an edge attribute to aggregate using the function specified in ‘agg_FUN'. Defaults to ’weight'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agg_FUN</code></td>
<td>
<p>The function used to aggregate the edge attribute</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_df</code></td>
<td>
<p>Optional. If TRUE, the results are returned as a data.frame. This can in particular be convenient if by_from and by_to are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_isolates</code></td>
<td>
<p>if True, also return scores for isolates</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The first argument is the network (in the 'igraph' class). 
The second argument, for the 'by' parameter, is a character vector to indicate one or more vertex attributes based on which the edges are aggregated.
Optionally, the 'by' parameter can also be specified separately for 'by_from' and 'by_to'. 
</p>
<p>By default, the function returns the aggregated network as an igraph class.
The edges in the aggregated network have five standard attributes. 
The 'edges' attribute counts the number of edges from the 'from' group to the 'to' group. 
The 'from.V' attribute shows the number of vertices in the 'from' group that matched with a vertex in the 'to' group.
The 'from.Vprop attribute shows this as the proportion of all vertices in the 'from' group.
The 'to.V' and 'to.Vprop' attributes show the same for the 'to' group.
</p>
<p>In addition, one of the edge attributes of the original network can be aggregated with a given function.
These are specified in the 'edge_attribute' and 'agg_FUN' parameters.
</p>


<h3>Value</h3>

<p>A network/graph in the igraph class, or a data.frame if return_df is TRUE.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(docnet)
aggdocnet = network_aggregate(docnet, by='sourcetype')
igraph::get.data.frame(aggdocnet, 'both')

aggdocdf = network_aggregate(docnet, by_from='sourcetype', by_to='source', return_df = TRUE)
head(aggdocdf)
</code></pre>


</div>