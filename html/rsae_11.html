<div class="container">

<table style="width: 100%;"><tr>
<td>makedata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Synthetic Data Generation for the Basic Unit-Level SAE Model</h2>

<h3>Description</h3>

<p>This function generates synthetic data (possibly contaminated by outliers)
for the basic unit-level SAE model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">makedata(seed = 1024, intercept = 1, beta = 1, n = 4, g = 20, areaID = NULL,
         ve = 1, ve.contam = 41, ve.epsilon = 0, vu = 1, vu.contam = 41,
         vu.epsilon = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p><code>[integer]</code> seed value used in <code>set.seed</code> (default
<code>seed = 1024</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intercept</code></td>
<td>
<p><code>[numeric]</code> or <code>[NULL]</code> value of the intercept
of the fixed-effects model or <code>NULL</code> for a model without
intercept (default: <code>intercept = 1</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p><code>[numeric vector]</code> value of the fixed-effect coefficients
(without intercept; default: <code>beta = 1</code>). For each given
coefficient, a vector of realizations is drawn from the standard
normal distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p><code>[integer]</code> number of units per area in balanced-data
setups (default: <code>n = 4</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g</code></td>
<td>
<p><code>[integer]</code> number of areas (default: <code>g = 20</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>areaID</code></td>
<td>
<p><code>[integer vector]</code> or <code>[NULL]</code>. If one attempts
to generate synthetic unbalanced data, one calls <code>makedata</code> with
a vector, the elements of which area identifiers. This vector
should contain a series of (integer valued) area IDs. The number
of areas is set equal to the number unique IDs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ve</code></td>
<td>
<p><code>[numeric]</code> nonnegative value of model/ residual variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ve.contam</code></td>
<td>
<p><code>[numeric]</code> nonnegative value of model variance of
the outlier part in a mixture distribution (Tukey-Huber-type
contamination model) <code class="reqn">e = (1-h)N(0, ve) + hN(0, ve.contam)
            </code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ve.epsilon</code></td>
<td>
<p><code>[numeric]</code> value in <code class="reqn">[0,1]</code> that
defines the relative number of outliers (i.e., epsilon or h in
the contamination mixture distribution). Typically, it takes
values between 0 and 0.5 (but it is not restricted to this interval).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vu</code></td>
<td>
<p><code>[numeric]</code> value of the (area-level) random-effect
variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vu.contam</code></td>
<td>
<p><code>[numeric]</code> nonnegative value of the (area-level)
random-effect variance of the outlier part in the contamination
mixture distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vu.epsilon</code></td>
<td>
<p><code>[numeric]</code> value in <code class="reqn">[0,1]</code> that
defines the relative number of outliers in the contamination
mixture distribution of the (area-level) random effects.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Let <code class="reqn">y_i</code> denote an area-specific <code class="reqn">n_i</code>-vector of
the response variable for the areas <code class="reqn">i = 1,..., g</code>. Define a
<code class="reqn">(n_i \times p)</code>-matrix <code class="reqn">X_i</code> of realizations
from the std. normal distribution, <code class="reqn">N(0,1)</code>, and let
<code class="reqn">\beta</code> denote a <code class="reqn">p</code>-vector of regression coefficients. Now, the
<code class="reqn">y_i</code> are drawn using the law
<code class="reqn">y_i \sim N(X_i\beta, v_e I_i + v_u J_i)</code> with <code class="reqn">v_e</code> and
<code class="reqn">v_u</code> the variances of the model error and random-effect
variance, respectively, and <code class="reqn">I_i</code> and <code class="reqn">J_i</code> denoting
the identity matrix and matrix of ones, respectively.
</p>
<p>In addition, we allow the distribution of the model/residual and
area-level random effect to be contaminated (cf. Stahel and Welsh, 1997).
Notably, the laws of <code class="reqn">e_{i,j}</code> and <code class="reqn">u_i</code> are replaced
by the Tukey-Huber contamination mixture:
</p>

<ul>
<li> <p><code class="reqn">e_{i,j} \sim (1-\epsilon^{ve})N(0,v_e) +
            \epsilon^{ve}N(0, v_e^{\epsilon})</code>
</p>
</li>
<li> <p><code class="reqn">u_{i} \sim (1-\epsilon^{vu})N(0,v_u) +
            \epsilon^{vu}N(0, v_u^{\epsilon})</code>
</p>
</li>
</ul>
<p>where <code class="reqn">\epsilon^{ve}</code> and
<code class="reqn">\epsilon^{vu}</code> regulate the degree of contamination;
<code class="reqn">v_e^{\epsilon}</code> and <code class="reqn">v_u^{\epsilon}</code>
define the variance of the contamination part of the mixture distribution.
</p>
<p>Four different contamination setups are possible:
</p>

<ul>
<li>
<p> no contamination (i.e., <code>ve.epsilon = vu.epsilon = 0</code>),
</p>
</li>
<li>
<p> contaminated model error (i.e., <code>ve.epsilon != 0</code> and
<code>vu.epsilon = 0</code>),
</p>
</li>
<li>
<p> contaminated random effect (i.e., <code>ve.epsilon = 0</code> and
<code>vu.epsilon != 0</code>),
</p>
</li>
<li>
<p> both are conaminated (i.e., <code>ve.epsilon != 0</code> and
<code>vu.epsilon != 0</code>).
</p>
</li>
</ul>
<h3>Value</h3>

<p>An instance of the class <code>saemodel</code>.
</p>


<h3>References</h3>

<p>Schoch, T. (2012). Robust Unit-Level Small Area Estimation: A Fast Algorithm
for Large Datasets. <em>Austrian Journal of Statistics</em> <b>41</b>,
243–265. <a href="https://doi.org/10.17713/ajs.v41i4.1548">doi:10.17713/ajs.v41i4.1548</a>
</p>
<p>Stahel, W. A. and A. Welsh (1997).
Approaches to robust estimation in the simplest variance components model.
<em>Journal of Statistical Planning and Inference</em> <b>57</b>, 295–319.
<a href="https://doi.org/10.1016/S0378-3758%2896%2900050-X">doi:10.1016/S0378-3758(96)00050-X</a>
</p>


<h3>See Also</h3>

<p><code>saemodel()</code>,
<code>fitsaemodel()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># generate a model with synthetic data
model &lt;- makedata()
model

# summary of the model
summary(model)
</code></pre>


</div>