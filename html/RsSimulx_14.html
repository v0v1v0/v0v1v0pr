<div class="container">

<table style="width: 100%;"><tr>
<td>shinymlx</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Automatic code generation for Shiny applications</h2>

<h3>Description</h3>

<p>Creates a Shiny application for longitudinal data model
</p>


<h3>Usage</h3>

<pre><code class="language-R">shinymlx(
  model,
  parameter = NULL,
  output = NULL,
  treatment = NULL,
  regressor = NULL,
  group = NULL,
  data = NULL,
  appname,
  style = "basic",
  settings = NULL,
  title = " "
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>a <code>Mlxtran</code> model used for the simulation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter</code></td>
<td>
<p>a vector, or a list of shiny widgets</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>a list - or a list of lists - with fields:
</p>

<ul>
<li> <p><code>name</code>: a vector of output names
</p>
</li>
<li> <p><code>time</code>: a vector of times, or a vector (min, max, step)
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment</code></td>
<td>
<p>a list with fields
</p>

<ul>
<li> <p><code>tfd</code> : first time of dose,
</p>
</li>
<li> <p><code>amount</code> : amount,
</p>
</li>
<li> <p><code>nd</code> : number of doses,
</p>
</li>
<li> <p><code>ii</code> : interdose interval,
</p>
</li>
<li> <p><code>type</code> : the type of input,
</p>
</li>
</ul>
<p>Input argument of Simulx can also be used,  i.e. a list with fields <code>time</code>,
<code>amount</code>, <code>rate</code>, <code>tinf</code>, <code>type</code>, <code>target</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>regressor</code></td>
<td>
<p>a list, or a list of lists, with fields
</p>

<ul>
<li> <p><code>name</code> : a vector of regressor names,
</p>
</li>
<li> <p><code>time</code> : a vector of times,
</p>
</li>
<li> <p><code>value</code> : a vector of values.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>a list, or a list of lists, with fields:
</p>

<ul>
<li> <p><code>size</code> : size of the group (default=1),
</p>
</li>
<li> <p><code>level</code> : level(s) of randomization,
</p>
</li>
<li> <p><code>parameter</code> : if different parameters per group are defined,
</p>
</li>
<li> <p><code>output</code> : if different outputs per group are defined,
</p>
</li>
<li> <p><code>treatment</code> : if different treatements per group are defined,
</p>
</li>
<li> <p><code>regressor</code> : if different regression variables per group are defined.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a datafile to display with the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>appname</code></td>
<td>
<p>the name of the application (and possibly its path)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>style</code></td>
<td>
<p>the style of the Shiny app
</p>

<ul>
<li> <p><code>"basic"</code>: basic Shiny app with a single side bar (default)
</p>
</li>
<li> <p><code>"navbar1"</code>: navigation bar and tabPanels (including outputs)
</p>
</li>
<li> <p><code>"navbar2"</code>: navigation bar and tabPanels (outputs separated)
</p>
</li>
<li> <p><code>"dashboard1"</code> : Shiny dashboard,
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>settings</code></td>
<td>
<p>a list of settings
</p>

<ul>
<li> <p><code>"tabstyle"</code> : look of the tabs c("tabs","pills"),
</p>
</li>
<li> <p><code>"select.x"</code> : display the list of variables available for the x-axis c(TRUE,FALSE),
</p>
</li>
<li> <p><code>"select.y"</code> : display the list of variables available for the y-axis c(TRUE,FALSE),
</p>
</li>
<li> <p><code>"select.log"</code> : log scale option c(TRUE,FALSE),
</p>
</li>
<li> <p><code>"select.ref"</code> : reference curves option c(TRUE,FALSE)
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>the title of the application</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>shinymlx automatically generates files ui.R and server.R required
for a Shiny application.
</p>
<p>Elements of <code>parameters</code> and <code>treatment</code> can be either scalars or lists.
A scalar automatically generates a slider with default minimum and maximum values and default step.
A list may contain the type of widget ("slider", "select", "numeric") and the settings defining the widget:
(value, min, max, step) for <code>slider</code>, (selected, choices) for <code>select</code> and
value for <code>numeric</code>.
</p>
<p>See http://simulx.webpopix.org/mlxr/shinymlx/ for more details.
</p>


<h3>Value</h3>

<p>A Shiny app with files ui.R, server.R and model.txt
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
PKPDmodel &lt;- inlineModel("
[LONGITUDINAL] 
input={ka,V,Cl,Imax,IC50,S0,kout}
EQUATION:
C     = pkmodel(ka, V, Cl)
E_0   = S0 
ddt_E = kout*((1-Imax*C/(C+IC50))*S0- E)  
")

p1  &lt;- c(ka=0.5, V=10, Cl=1)
p2  &lt;- c(Imax=0.5, IC50=0.03, S0=100, kout=0.1)
adm &lt;- list(tfd=5, nd=15, ii=12, amount=1)
f1  &lt;- list(name = 'C', time = seq(0, 250, by=1))
f2  &lt;- list(name = 'E', time = seq(0, 250, by=1))
f   &lt;- list(f1, f2)

shinymlx(model=PKPDmodel, treatment=adm, parameter=list(p1,p2), output=f,
         style="dashboard1", appname=tempdir())

#------------------------------------------------------------------------
p1 &lt;- list(
  ka    = list(widget="slider", value=0.5, min=0.1, max=2,  step=0.1),
  V     = list(widget="slider", value=10,  min=2,   max=20, step=2),
  Cl    = list(widget="slider", value=1,   min=0.1, max=2,  step=0.1)
)  
adm &lt;- list(
  tfd    = list(widget="slider", value=5,  min=0, max=100, step=5),
  nd     = list(widget="numeric", value=15),
  ii     = list(widget="select", selected=12, choices=c(3,6,12,18,24)),
  amount = list(widget="slider", value=40, min=0, max=50, step=5)
)
s &lt;- list(select.x=FALSE, select.y=FALSE)
shinymlx(model=PKPDmodel, treatment=adm, parameter=list(p1,p2), output=f, 
         style="navbar1", settings=s, appname=tempdir())

## End(Not run)
</code></pre>


</div>