<div class="container">

<table style="width: 100%;"><tr>
<td>rdrbounds</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rosenbaum bounds for RD designs under local randomization</h2>

<h3>Description</h3>

<p><code>rdrbounds</code> calculates lower and upper bounds for the
randomization p-value under different degrees of departure from a
local randomized experiment, as suggested by Rosenbaum (2002).
</p>


<h3>Usage</h3>

<pre><code class="language-R">rdrbounds(
  Y,
  R,
  cutoff = 0,
  wlist,
  gamma,
  expgamma,
  bound = "both",
  statistic = "ranksum",
  p = 0,
  evalat = "cutoff",
  kernel = "uniform",
  fuzzy = NULL,
  nulltau = 0,
  prob,
  fmpval = FALSE,
  reps = 1000,
  seed = 666
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>a vector containing the values of the outcome variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>a vector containing the values of the running variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p>the RD cutoff (default is 0).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wlist</code></td>
<td>
<p>the list of window lengths to be evaluated. By default the program constructs 10 windows around the cutoff, the first one including 10 treated and control observations and adding 5 observations to each group in subsequent windows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>the list of values of gamma to be evaluated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expgamma</code></td>
<td>
<p>the list of values of exp(gamma) to be evaluated. Default is <code>c(1.5,2,2.5,3)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bound</code></td>
<td>
<p>specifies which bounds the command calculates. Options are <code>upper</code> for upper bound, <code>lower</code> for lower bound and <code>both</code> for both upper and lower bounds. Default is <code>both</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statistic</code></td>
<td>
<p>the statistic to be used in the balance tests. Allowed options are <code>diffmeans</code> (difference in means statistic), <code>ksmirnov</code> (Kolmogorov-Smirnov statistic) and <code>ranksum</code> (Wilcoxon-Mann-Whitney standardized statistic). Default option is <code>diffmeans</code>. The statistic <code>ttest</code> is equivalent to <code>diffmeans</code> and included for backward compatibility.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>the order of the polynomial for outcome adjustment model. Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>evalat</code></td>
<td>
<p>specifies the point at which the adjusted variable is evaluated. Allowed options are <code>cutoff</code> and <code>means</code>. Default is <code>cutoff</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kernel</code></td>
<td>
<p>specifies the type of kernel to use as weighting scheme. Allowed kernel types are <code>uniform</code> (uniform kernel), <code>triangular</code> (triangular kernel) and <code>epan</code> (Epanechnikov kernel). Default is <code>uniform</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fuzzy</code></td>
<td>
<p>indicates that the RD design is fuzzy. <code>fuzzy</code> can be specified as a vector containing the values of the endogenous treatment variable, or as a list where the first element is the vector of endogenous treatment values and the second element is a string containing the name of the statistic to be used. Allowed statistics are <code>ar</code> (Anderson-Rubin statistic) and <code>tsls</code> (2SLS statistic). Default statistic is <code>ar</code>. The <code>tsls</code> statistic relies on large-sample approximation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nulltau</code></td>
<td>
<p>the value of the treatment effect under the null hypothesis. Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>the probabilities of treatment for each unit when assignment mechanism is a Bernoulli trial. This option should be specified as a vector of length equal to the length of the outcome and running variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fmpval</code></td>
<td>
<p>reports the p-value under fixed margins randomization, in addition to the p-value under Bernoulli trials.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reps</code></td>
<td>
<p>number of replications. Default is 1000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>the seed to be used for the randomization tests.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>list of gamma values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expgamma</code></td>
<td>
<p>list of exp(gamma) values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wlist</code></td>
<td>
<p>window grid.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.values</code></td>
<td>
<p>p-values for each window (under gamma = 0).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower.bound</code></td>
<td>
<p>list of lower bound p-values for each window and gamma pair.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper.bound</code></td>
<td>
<p>list of upper bound p-values for each window and gamma pair.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Matias Cattaneo, Princeton University. <a href="mailto:cattaneo@princeton.edu">cattaneo@princeton.edu</a>
</p>
<p>Rocio Titiunik, Princeton University. <a href="mailto:titiunik@princeton.edu">titiunik@princeton.edu</a>
</p>
<p>Gonzalo Vazquez-Bare, UC Santa Barbara. <a href="mailto:gvazquez@econ.ucsb.edu">gvazquez@econ.ucsb.edu</a>
</p>


<h3>References</h3>

<p>Cattaneo, M.D., R. Titiunik and G. Vazquez-Bare. (2016). <a href="https://rdpackages.github.io/references/Cattaneo-Titiunik-VazquezBare_2016_Stata.pdf">Inference in Regression Discontinuity Designs under Local Randomization</a>. <em>Stata Journal</em> 16(2): 331-367.
</p>
<p>Rosenbaum, P. (2002). Observational Studies. Springer.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Toy dataset
R &lt;- runif(100,-1,1)
Y &lt;- 1 + R -.5*R^2 + .3*R^3 + (R&gt;=0) + rnorm(100)
# Rosenbaum bounds
# Note: low number of replications and windows to speed up process.
# The user should increase these values.
rdrbounds(Y,R,expgamma=c(1.5,2),wlist=c(.3),reps=100)


</code></pre>


</div>