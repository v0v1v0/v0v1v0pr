<div class="container">

<table style="width: 100%;"><tr>
<td>quantile_norm-deprecated</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>[Deprecated] Quantile align (normalize) factor loading</h2>

<h3>Description</h3>

<p><b>Please turn to <code>quantileNorm</code>.</b>
</p>
<p>This process builds a shared factor neighborhood graph to jointly cluster
cells, then quantile normalizes corresponding clusters.
</p>
<p>The first step, building the shared factor neighborhood graph, is performed
in SNF(), and produces a graph representation where edge weights between
cells (across all datasets) correspond to their similarity in the shared
factor neighborhood space. An important parameter here is knn_k, the number
of neighbors used to build the shared factor space.
</p>
<p>Next we perform quantile alignment for each dataset, factor, and cluster (by
stretching/compressing datasets' quantiles to better match those of the
reference dataset). These aligned factor loadings are combined into a single
matrix and returned as H.norm.
</p>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p><code>liger</code> object. Should run optimizeALS before calling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>knn_k</code></td>
<td>
<p>Number of nearest neighbors for within-dataset knn graph
(default 20).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref_dataset</code></td>
<td>
<p>Name of dataset to use as a "reference" for normalization.
By default, the dataset with the largest number of cells is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_cells</code></td>
<td>
<p>Minimum number of cells to consider a cluster shared across
datasets (default 20)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantiles</code></td>
<td>
<p>Number of quantiles to use for quantile normalization
(default 50).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps</code></td>
<td>
<p>The error bound of the nearest neighbor search. (default 0.9)
Lower values give more accurate nearest neighbor graphs but take much longer
to computer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dims.use</code></td>
<td>
<p>Indices of factors to use for shared nearest factor
determination (default 1:ncol(H[[1]])).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do.center</code></td>
<td>
<p>Centers the data when scaling factors (useful for less
sparse modalities like methylation data). (default FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_sample</code></td>
<td>
<p>Maximum number of cells used for quantile normalization of
each cluster and factor. (default 1000)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refine.knn</code></td>
<td>
<p>whether to increase robustness of cluster assignments using
KNN graph.(default TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rand.seed</code></td>
<td>
<p>Random seed to allow reproducible results (default 1)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>liger</code> object with 'H.norm' and 'clusters' slot set.
</p>


<h3>See Also</h3>

<p><code>rliger-deprecated</code>
</p>


</div>