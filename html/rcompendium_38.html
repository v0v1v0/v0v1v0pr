<div class="container">

<table style="width: 100%;"><tr>
<td>new_compendium</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create an R compendium structure</h2>

<h3>Description</h3>

<p>This function creates a research compendium (i.e. a predefined files/folders
structure) to help user organizing files/folders to run analysis.
</p>
<p>In addition to common R packages files/folders (see <code>new_package()</code> for
further information) this function will created these following folders:
</p>

<ul>
<li> <p><code style="white-space: pre;">⁠data/⁠</code>: a folder to store raw data. Note that these data must never be
modified. If user want to modify them it is recommended to export new data
in <code style="white-space: pre;">⁠outputs/⁠</code>.
</p>
</li>
<li> <p><code style="white-space: pre;">⁠analyses/⁠</code>: a folder to write analyses instructions, i.e. R scripts. If
user need to create R functions it is recommended to write them in the <code style="white-space: pre;">⁠R/⁠</code>
folder.
</p>
</li>
<li> <p><code style="white-space: pre;">⁠outputs/⁠</code>: a folder to store intermediate and final outputs generated by
the R scripts.
</p>
</li>
<li> <p><code style="white-space: pre;">⁠figures/⁠</code>: a folder to store figures generated by the R scripts.
</p>
</li>
</ul>
<p>This function also creates a Make-like R file (<code>make.R</code>). This file contains
two main lines:
</p>

<ul>
<li> <p><code>devtools::install_deps()</code>: downloads the external dependencies required
by the project (an alternative to <code>install.packages()</code>). Ideal for sharing;
</p>
</li>
<li> <p><code>devtools::load_all()</code>: loads external dependencies and R functions (an
alternative to <code>library()</code> and <code>source()</code> respectively).
</p>
</li>
</ul>
<p>As the user writes R scripts he/she can add the following line in this file:
<code>source(here::here("rscripts", "script_X.R"))</code>. Then he/she can source the
entire <code>make.R</code> to run analysis. The function <code>add_dependencies()</code> can be
used to automatically add external dependencies in the <code>DESCRIPTION</code> file.
</p>
<p>It is recommended, for a better reproducibility, to call external
dependencies as <code>pkg::fun()</code> or with <code style="white-space: pre;">⁠@import⁠</code> or <code style="white-space: pre;">⁠@importFrom⁠</code> in R
functions instead of using <code>library()</code>.
</p>
<p>All these files/folders are added to the <code>.Rbuildignore</code> so the rest of the
project (e.g. R functions) can be used (or installed) as a R package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">new_compendium(
  compendium = NULL,
  license = "GPL (&gt;= 2)",
  status = NULL,
  lifecycle = NULL,
  contributing = TRUE,
  code_of_conduct = TRUE,
  vignette = FALSE,
  test = FALSE,
  create_repo = TRUE,
  private = FALSE,
  gh_check = FALSE,
  codecov = FALSE,
  website = FALSE,
  gh_render = FALSE,
  gh_citation = FALSE,
  given = NULL,
  family = NULL,
  email = NULL,
  orcid = NULL,
  organisation = NULL,
  renv = FALSE,
  dockerfile = FALSE,
  overwrite = FALSE,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>compendium</code></td>
<td>
<p>A character vector specifying the folders to be created.
See <code>add_compendium()</code> for further information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>license</code></td>
<td>
<p>A character vector of length 1. The license to be used for
this project. Run <code>get_licenses()</code> to choose an appropriate one. Default
is <code>license = 'GPL (&gt;= 2)'</code>
</p>
<p>The license can be changed later by calling <code>add_license()</code> (and
<code>add_license_badge()</code> or <code>refresh()</code> to update the corresponding badge in
the README).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status</code></td>
<td>
<p>A character vector of length 1. The status of the project
according to the standard defined by the <a href="https://www.repostatus.org">https://www.repostatus.org</a>
project. One among <code>'concept'</code>, <code>'wip'</code>, <code>'suspended'</code>, <code>'abandoned'</code>,
<code>'active'</code>, <code>'inactive'</code>, or <code>'unsupported'</code>. See <code>add_repostatus_badge()</code>
for further information.
</p>
<p>This argument is used to add a badge to the <code>README.Rmd</code> to help visitors
to better understand your project. Default is <code>status = NULL</code>.
</p>
<p>This status can be added/changed later by using <code>add_repostatus_badge()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lifecycle</code></td>
<td>
<p>A character vector of length 1. The life cycle stage of
the project according to the standard defined at
<a href="https://lifecycle.r-lib.org/articles/stages.html">https://lifecycle.r-lib.org/articles/stages.html</a>. One among
<code>'experimental'</code>, <code>'stable'</code>, <code>'deprecated'</code>, or <code>'superseded'</code>.
See <code>add_lifecycle_badge()</code> for further information.
</p>
<p>This argument is used to add a badge to the <code>README.Rmd</code> to help visitors
to better understand your project. Default is <code>lifecycle = NULL</code>.
</p>
<p>This stage can be added/changed later by using <code>add_lifecycle_badge()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contributing</code></td>
<td>
<p>A logical value. If <code>TRUE</code> (default) adds a
<code>CONTRIBUTING.md</code> file and <code>ISSUE_TEMPLATES</code>. See <code>add_contributing()</code> for
further information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code_of_conduct</code></td>
<td>
<p>A logical value. If <code>TRUE</code> (default) adds a
<code>CODE_OF_CONDUCT.md</code> file. See <code>add_code_of_conduct()</code> for further
information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vignette</code></td>
<td>
<p>A logical value. If <code>TRUE</code> creates a vignette in
<code style="white-space: pre;">⁠vignettes/⁠</code>. Packages <a href="https://yihui.org/knitr/"><code>knitr</code></a> and
<a href="https://rmarkdown.rstudio.com/"><code>rmarkdown</code></a> are also added to the
<code>Suggests</code> field in the <code>DESCRIPTION</code> file. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>A logical value. If <code>TRUE</code> initializes units tests by running
<code>usethis::use_testthat()</code>.
Package <a href="https://testthat.r-lib.org"><code>testthat</code></a> is also added to the
<code>Suggests</code> field in the <code>DESCRIPTION</code> file. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>create_repo</code></td>
<td>
<p>A logical value. If <code>TRUE</code> (default) creates a repository
(public if <code>private = FALSE</code> or private if <code>private = TRUE</code>) on GitHub.
See the section <strong>Creating a GitHub repo</strong> of the help page of
<code>new_package()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>private</code></td>
<td>
<p>A logical value. If <code>TRUE</code> creates a private repository on
user GitHub account (or organisation). Default is <code>private = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gh_check</code></td>
<td>
<p>A logical value. If <code>TRUE</code> configures GitHub
Actions to automatically check and test the package after each push. This
will run <code style="white-space: pre;">⁠R CMD check⁠</code> on the three major operating systems (Ubuntu, macOS,
and Windows) on the latest release of R. See <code>add_github_actions_check()</code>
for further information.
</p>
<p>If <code>create_repo = FALSE</code> this argument is ignored. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>codecov</code></td>
<td>
<p>A logical value. If <code>TRUE</code> configures GitHub Actions to
automatically report the code coverage of units tests after each push.
See <code>add_github_actions_codecov()</code> for further information.
</p>
<p>If <code>create_repo = FALSE</code> this argument is ignored. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>website</code></td>
<td>
<p>A logical value. If <code>TRUE</code> configures GitHub
Actions to automatically build and deploy the package website
(using <a href="https://pkgdown.r-lib.org/index.html"><code>pkgdown</code></a>)
after each push. A <strong>gh-pages</strong> branch will be created using
<code>usethis::use_github_pages()</code> and the GitHub repository will be
automatically configured to deploy website.
</p>
<p>If <code>create_repo = FALSE</code> this argument is ignored. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gh_render</code></td>
<td>
<p>A logical value. If <code>TRUE</code> configures GitHub
Actions to automatically knit the <code>README.Rmd</code> after each push.
See <code>add_github_actions_render()</code> for further information.
</p>
<p>If <code>create_repo = FALSE</code> this argument is ignored. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gh_citation</code></td>
<td>
<p>A logical value. If <code>TRUE</code> configures GitHub
Actions to automatically update the <code>CITATION.cff</code> file.
See <code>add_github_actions_citation()</code> for further information.
</p>
<p>If <code>create_repo = FALSE</code> this argument is ignored. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>given</code></td>
<td>
<p>A character vector of length 1. The given name of the
maintainer of the package. If <code>NULL</code> (default) the function will try to
get this value by reading the <code>.Rprofile</code> file.
</p>
<p>For further information see <code>set_credentials()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>A character vector of length 1. The family name of the
maintainer of the package. If <code>NULL</code> (default) the function will try to
get this value by reading the <code>.Rprofile</code> file.
</p>
<p>For further information see <code>set_credentials()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>email</code></td>
<td>
<p>A character vector of length 1. The email address of the
maintainer of the package. If <code>NULL</code> (default) the function will try to
get this value by reading the <code>.Rprofile</code> file.
</p>
<p>For further information see <code>set_credentials()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>orcid</code></td>
<td>
<p>A character vector of length 1. The ORCID of the maintainer of
the package. If <code>NULL</code> (default) the function will try to get this value
by reading the <code>.Rprofile</code> file.
</p>
<p>For further information see <code>set_credentials()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>organisation</code></td>
<td>
<p>A character vector of length 1. The GitHub organisation
to host the repository. If defined it will overwrite the GitHub pseudo.
</p>
<p>Default is <code>organisation = NULL</code> (the GitHub pseudo will be used).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>renv</code></td>
<td>
<p>A logical value. If <code>TRUE</code> initializes an <code>renv</code> environment for
the project by running <code>renv::init()</code>.
Package <a href="https://rstudio.github.io/renv/"><code>renv</code></a> is also added to the
<code>Imports</code> field in the <code>DESCRIPTION</code> file. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dockerfile</code></td>
<td>
<p>A logical value. If <code>TRUE</code> creates an <code>Dockerfile</code> for
the project. See <code>add_dockerfile()</code> for further detail. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>A logical value. If <code>TRUE</code> files written from templates and
modified by user are erased. Default is <code>overwrite = FALSE</code>.
<strong>Be careful while using this argument</strong>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>A logical value. If <code>TRUE</code> messages are deleted. Default is
<code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>No return value.
</p>


<h3>See Also</h3>

<p>Other setup functions: 
<code>new_package()</code>,
<code>refresh()</code>,
<code>set_credentials()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(rcompendium)

## Define **ONCE FOR ALL** your credentials ----
set_credentials(given = "John", family = "Doe", 
                email = "john.doe@domain.com", 
                orcid = "9999-9999-9999-9999", protocol = "ssh")

## Create an R package ----
new_compendium()

## Start adding data and developing functions and scripts ----
## ...

## Update package (documentation, dependencies, README, check) ----
refresh()

## End(Not run)
</code></pre>


</div>