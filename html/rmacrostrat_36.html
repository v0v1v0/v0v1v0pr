<div class="container">

<table style="width: 100%;"><tr>
<td>get_units</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Retrieve Macrostrat unit data</h2>

<h3>Description</h3>

<p>A function to retrieve Macrostrat unit data matching a
user-specified search criteria.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_units(
  unit_id = NULL,
  section_id = NULL,
  column_id = NULL,
  strat_name = NULL,
  strat_name_id = NULL,
  interval_name = NULL,
  interval_id = NULL,
  age = NULL,
  age_top = NULL,
  age_bottom = NULL,
  lat = NULL,
  lng = NULL,
  lithology = NULL,
  lithology_id = NULL,
  lithology_group = NULL,
  lithology_type = NULL,
  lithology_class = NULL,
  lithology_att = NULL,
  lithology_att_id = NULL,
  lithology_att_type = NULL,
  environ = NULL,
  environ_id = NULL,
  environ_type = NULL,
  environ_class = NULL,
  pbdb_collection_no = NULL,
  econ = NULL,
  econ_id = NULL,
  econ_type = NULL,
  econ_class = NULL,
  project_id = NULL,
  adjacents = FALSE,
  sf = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>unit_id</code></td>
<td>
<p><code>integer</code>. Filter units by their unique identification
number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>section_id</code></td>
<td>
<p><code>integer</code>. Filter units to those contained within
section(s) as specified by their unique identification number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>column_id</code></td>
<td>
<p><code>integer</code>. Filter units to those contained within
column(s) as specified by their unique identification number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strat_name</code></td>
<td>
<p><code>character</code>. Filter units to those containing a unit
that fuzzy matches a stratigraphic name (e.g., "Hell Creek").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strat_name_id</code></td>
<td>
<p><code>integer</code>. Filter units to those that match one
or more stratigraphic name(s) as specified by their unique identification
number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval_name</code></td>
<td>
<p><code>character</code>. Filter units to those that overlap
with a named chronostratigraphic time interval (e.g., "Permian").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval_id</code></td>
<td>
<p><code>integer</code>. Filter units to those that overlap with
one or more chronostratigraphic time interval(s) as specified by their
unique identification number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age</code></td>
<td>
<p><code>numeric</code>. Filter units to those that overlap with the
specified numerical age, in millions of years before present.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age_top</code></td>
<td>
<p><code>numeric</code>. Filter units to those that overlap with the
age range between the specified numerical age and <code>age_bottom</code>. Should be
in millions of years before present. <code>age_bottom</code> must also be specified,
and <code>age_top</code> must be younger than <code>age_bottom</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age_bottom</code></td>
<td>
<p><code>numeric</code>. Filter units to those that overlap with
the age range between the specified numerical age and <code>age_top</code>. Should
be in millions of years before present. <code>age_top</code> must also be specified,
and <code>age_bottom</code> must be older than <code>age_top</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat</code></td>
<td>
<p><code>numeric</code>. Return the units at the specified decimal degree
latitude. Must also specify <code>lng</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lng</code></td>
<td>
<p><code>numeric</code>. Return the units at the specified decimal degree
longitude. Must also specify <code>lat</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lithology</code></td>
<td>
<p><code>character</code>. Filter units to those containing a named
lithology (e.g., "shale", "sandstone").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lithology_id</code></td>
<td>
<p><code>integer</code>. Filter units to those containing one or
more lithology(ies) as specified by their unique identification
number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lithology_group</code></td>
<td>
<p><code>character</code>. Filter units to those containing a
named lithology group (e.g., "sandstones", "mudrocks", "unconsolidated").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lithology_type</code></td>
<td>
<p><code>character</code>. Filter units to those containing a
named lithology type (e.g., "carbonate", "siliciclastic").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lithology_class</code></td>
<td>
<p><code>character</code>. Filter units to those containing a
named lithology class (e.g., "sedimentary", "igneous", "metamorphic").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lithology_att</code></td>
<td>
<p><code>character</code>. Filter units to those containing a
named lithology attribute (e.g., "fine", "olivine", "poorly washed").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lithology_att_id</code></td>
<td>
<p><code>integer</code>. Filter units to those containing
one or more lithology attribute(s) as specified by their unique
identification number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lithology_att_type</code></td>
<td>
<p><code>character</code>. Filter units to those
containing a named category of lithology attribute (e.g., "grains",
"lithology", "bedform").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>environ</code></td>
<td>
<p><code>character</code>. Filter units to those containing a named
environment (e.g., "delta plain", "pond").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>environ_id</code></td>
<td>
<p><code>integer</code>. Filter units to those containing one or
more environment(s) as specified by their unique identification
number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>environ_type</code></td>
<td>
<p><code>character</code>. Filter units to those containing a
named environment type (e.g., "fluvial", "eolian", "glacial").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>environ_class</code></td>
<td>
<p><code>character</code>. Filter units to those containing a
named environment class (e.g., "marine", "non-marine").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pbdb_collection_no</code></td>
<td>
<p><code>integer</code>. Filter units to those containing
one or more Paleobiology Database collection(s) as specified by their
unique identification number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>econ</code></td>
<td>
<p><code>character</code>. Filter units to those containing a named
economic attribute (e.g., "brick", "ground water", "gold").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>econ_id</code></td>
<td>
<p><code>integer</code>. Filter units to those containing one or more
economic attribute(s) as specified by their unique identification
number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>econ_type</code></td>
<td>
<p><code>character</code>. Filter units to those containing a named
economic attribute type (e.g., "construction", "aquifer", "mineral").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>econ_class</code></td>
<td>
<p><code>character</code>. Filter units to those containing a
named economic attribute class (e.g., "material", "water", "precious
commodity").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>project_id</code></td>
<td>
<p><code>integer</code>. Filter units to those contained within
one or more Macrostrat project(s) as specified by their unique
identification number(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjacents</code></td>
<td>
<p><code>logical</code>. If <code>column_id</code> or <code>lat</code>/<code>lng</code> is
specified, should all units that touch the specified column be returned?
Defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sf</code></td>
<td>
<p><code>logical</code>. Should the results be returned as an <code>sf</code> object?
Defaults to <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>More information can be found for the inputs for this function
using the definition functions (beginning with <code>def_</code>).
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> containing the following columns:
</p>

<ul>
<li> <p><code>unit_id</code>: The unique identification number of the Macrostrat
unit.
</p>
</li>
<li> <p><code>section_id</code>: The unique identification number of the
Macrostrat section containing the unit.
</p>
</li>
<li> <p><code>col_id</code>: The unique identification number of the Macrostrat
column containing the unit.
</p>
</li>
<li> <p><code>project_id</code>: The unique identification number of the
Macrostrat project.
</p>
</li>
<li> <p><code>col_area</code>: The area of the associated Macrostrat column in
km<sup>2</sup>.
</p>
</li>
<li> <p><code>unit_name</code>: The name of the Macrostrat unit.
</p>
</li>
<li> <p><code>strat_name_id</code>: The unique Macrostrat stratigraphic name ID.
</p>
</li>
<li> <p><code>Mbr</code>: The lithostratigraphic member.
</p>
</li>
<li> <p><code>Fm</code>: The lithostratigraphic formation.
</p>
</li>
<li> <p><code>Gp</code>: The lithostratigraphic group.
</p>
</li>
<li> <p><code>SGp</code>: The lithostratigraphic supergroup.
</p>
</li>
<li> <p><code>t_age</code>: The age of the top of the unit, estimated using the
continuous time age model, in millions of years before present.
</p>
</li>
<li> <p><code>b_age</code>: The age of the bottom of the unit, estimated using the
continuous time age model, in millions of years before present.
</p>
</li>
<li> <p><code>max_thick</code>: The maximum thickness of the unit, in meters.
</p>
</li>
<li> <p><code>min_thick</code>: The minimum thickness of the unit, in meters.
</p>
</li>
<li> <p><code>outcrop</code>: Type of exposure ("outcrop", "subsurface", or
"both").
</p>
</li>
<li> <p><code>pbdb_collections</code>: The number of Paleobiology Database
collections contained within the unit.
</p>
</li>
<li> <p><code>pbdb_occurrences</code>: The number of Paleobiology Database
occurrences contained within the unit.
</p>
</li>
<li> <p><code>lith</code>: a <code>dataframe</code> containing the lithologies present
within the unit, with the following columns:
</p>

<ul>
<li> <p><code>name</code>: The named lithology (e.g., "sandstone").
</p>
</li>
<li> <p><code>prop</code>: The proportion of the lithology within the unit,
calculated from the individual Macrostrat sub-units within the unit.
</p>
</li>
<li> <p><code>lith_id</code>: The unique identification number of the
lithology.
</p>
</li>
<li> <p><code>type</code>: The named lithology type (e.g., "siliciclastic").
</p>
</li>
<li> <p><code>class</code>: The named lithology class (e.g., "sedimentary").
</p>
</li>
</ul>
</li>
<li> <p><code>environ</code>: a <code>dataframe</code> containing the environments
present within the unit, with the following columns:
</p>

<ul>
<li> <p><code>class</code>: The named environment class (e.g., "marine").
</p>
</li>
<li> <p><code>type</code>: The named environment type (e.g., "siliciclastic").
</p>
</li>
<li> <p><code>name</code>: The named environment (e.g., "delta plain").
</p>
</li>
<li> <p><code>environ_id</code>: The unique identification number of the
environment.
</p>
</li>
</ul>
</li>
<li> <p><code>econ</code>: a <code>dataframe</code> containing the economic
attributes present within the unit, with the following columns:
</p>

<ul>
<li> <p><code>type</code>: The named economic attribute type (e.g.,
"mineral").
</p>
</li>
<li> <p><code>name</code>: The named economic attribute (e.g., "gold").
</p>
</li>
<li> <p><code>econ_id</code>: The unique identification number of the economic
attribute.
</p>
</li>
<li> <p><code>class</code>: The named economic attribute class (e.g.,
"precious commodity").
</p>
</li>
</ul>
</li>
<li> <p><code>measure</code>: a <code>dataframe</code> containing the measure
attributes present within the unit, with the following columns:
</p>

<ul>
<li> <p><code>measure_class</code>: The class of measures (e.g.,
"geochemical").
</p>
</li>
<li> <p><code>measure_type</code>: the type of measures (e.g., "minor
elements").
</p>
</li>
</ul>
</li>
<li> <p><code>notes</code>: Unit specific notes.
</p>
</li>
<li> <p><code>color</code>: Recommended coloring for units based on dominant
lithology.
</p>
</li>
<li> <p><code>text_color</code>: Recommended coloring for text based on color.
</p>
</li>
<li> <p><code>t_int_id</code>: The ID of the chronostratigraphic interval
containing the top boundary of the unit.
</p>
</li>
<li> <p><code>t_int_name</code>: The name of the time interval represented at
the top of the unit.
</p>
</li>
<li> <p><code>t_int_age</code>: The age of the chronostratigraphic interval
containing the top boundary of the unit.
</p>
</li>
<li> <p><code>t_prop</code>: Position of continuous time age model top boundary,
proportional to reference time interval (t_int_name).
</p>
</li>
<li> <p><code>units_above</code>: The unit_ids of the units contacting the top
of the unit.
</p>
</li>
<li> <p><code>b_int_id</code>: The ID of the chronostratigraphic interval
containing the bottom boundary of the unit.
</p>
</li>
<li> <p><code>b_int_name</code>: The name of the time interval represented at
the bottom of the unit.
</p>
</li>
<li> <p><code>b_int_age</code>: The age of the chronostratigraphic interval
containing the bottom boundary of the unit.
</p>
</li>
<li> <p><code>b_prop</code>: Position of continuous time age model bottom
boundary, proportional to reference time interval (b_interval).
</p>
</li>
<li> <p><code>units_below</code>: The unit_ids of the units contacting the
bottom of the unit.
</p>
</li>
<li> <p><code>strat_name_long</code>: The stratigraphic name associated with
the unit (e.g., "Coal Valley Formation").
</p>
</li>
<li> <p><code>refs</code>: The unique identification number(s) of the reference(s)
associated with the unit.
</p>
</li>
<li> <p><code>clat</code>: The present day latitude of the centroid of the
column to which the unit belongs.
</p>
</li>
<li> <p><code>clng</code>: The present day longitude of the centroid of the
column to which the unit belongs.
</p>
</li>
<li> <p><code>t_plat</code>: The paleolatitude of the centroid of the column
which the unit belongs to at top age (<code>clat</code> rotated to <code>t_age</code>).
</p>
</li>
<li> <p><code>t_plng</code>: The paleolongitude of the centroid of the column
which the unit belongs to at top age (<code>clng</code> rotated to <code>t_age</code>) .
</p>
</li>
<li> <p><code>b_plat</code>: The paleolatitude of the centroid of the column
which the unit belongs to at bottom age (<code>clat</code> rotated to <code>b_age</code>).
</p>
</li>
<li> <p><code>b_plng</code>: The paleolongitude of the the centroid of the
column which the unit belongs to at bottom age (<code>clng</code> rotated to
<code>b_age</code>).
</p>
</li>
</ul>
<p>If <code>sf</code> is <code>TRUE</code>, an <code>sf</code> object is returned instead, with a "geometry"
column that contains the spatial data instead of the <code>clat</code>/<code>clng</code> columns.
</p>


<h3>Developer(s)</h3>

<p>Lewis A. Jones
</p>


<h3>Reviewer(s)</h3>

<p>William Gearty
</p>


<h3>See Also</h3>

<p>Macrostrat data entities:
<code>def_columns()</code>,
<code>get_age_model()</code>,
<code>get_columns()</code>,
<code>get_sections()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Get units with a specific stratigraphic name
ex1 &lt;- get_units(strat_name = "Hell Creek")
# Get units at a specific geographic coordinate
ex2 &lt;- get_units(lng = -110.9, lat = 48.4)

</code></pre>


</div>