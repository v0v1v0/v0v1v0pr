<div class="container">

<table style="width: 100%;"><tr>
<td>run</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Using the LibBi wrapper to launch LibBi</h2>

<h3>Description</h3>

<p>The method <code>run</code> launches <code>LibBi</code> with a particular set of command
line arguments. Normally, this function would not be run by the user,
but instead one of the client functions <code>sample</code>,
<code>filter</code>, or <code>optimise</code>, or <code>rewrite</code>,
which pass any options on to <code>run</code>. Note that any options specified
here are stored in the <code>libbi</code> object and do not have to be
specified again if another command is run on the object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'libbi'
run(
  x,
  client,
  proposal = c("model", "prior"),
  model,
  fix,
  config,
  log_file_name = character(0),
  init,
  input,
  obs,
  time_dim = character(0),
  coord_dims = list(),
  thin,
  output_every,
  chain = TRUE,
  seed = TRUE,
  debug = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a <code>libbi</code> object; if this is not given, an empty
<code>libbi</code> object will be created</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>client</code></td>
<td>
<p>client to pass to LibBi</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proposal</code></td>
<td>
<p>proposal distribution to use; either "model" (default:
proposal distribution in the model) or "prior" (propose from the prior
distribution)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>either a character vector giving the path to a model file
(typically ending in ".bi"), or a <code>bi_model</code> object; by default, will
use any model given in <code>x</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fix</code></td>
<td>
<p>any variable to fix, as a named vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>config</code></td>
<td>
<p>path to a configuration file, containing multiple arguments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_file_name</code></td>
<td>
<p>path to a file to text file to report the output of
<code>LibBi</code>; if set to an empty vector (<code>character(0)</code>) or an empty
string (""), which is the default, a temporary log file will be generated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init</code></td>
<td>
<p>initialisation of the model, either supplied as a list of values
and/or data frames, or a (netcdf) file name, or a <code>libbi</code>
object which has been run (in which case the output of that run is used).
If the object given as <code>x</code> has been run before, it will be used here
with <code>init-np</code> set to the last iteration of the previous run, unless
<code>init</code> is given explicitly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p>input of the model, either supplied as a list of values and/or
data frames, or a (netcdf) file name, or a <code>libbi</code> object which
has been run (in which case the output of that run is used as input)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs</code></td>
<td>
<p>observations of the model, either supplied as a list of values
and/or data frames, or a (netcdf) file name, or a <code>libbi</code>
object which has been run (in which case the output of that run is used as
observations)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_dim</code></td>
<td>
<p>The time dimension in any R objects that have been passed
(<code>init</code>, <code>input</code>) and <code>obs</code>); if NULL (default), will be
guessed from the given observation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coord_dims</code></td>
<td>
<p>The coord dimension(s) in any <code>obs</code> R objects that
have been passed; if NULL (default), will be guessed from the given
observation file given</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thin</code></td>
<td>
<p>any thinning of MCMC chains (1 means all will be kept, 2 skips
every other sample etc.); note that <code>LibBi</code> itself will write all data
to the disk. Only when the results are read in with <code>bi_read</code>
will thinning be applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_every</code></td>
<td>
<p>real; if given, <code>noutputs</code> will be set so that there
is output every <code>output_every</code> time steps; if set to 0, only generate
an output at the final time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chain</code></td>
<td>
<p>logical; if set to TRUE and <code>x</code> has been run before, the
previous output file will be used as <code>init</code> file, and <code>init-np</code>
will be set to the last iteration of the previous run (unless
target=="prediction"). This is useful for running inference chains.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Either a number (the seed to supply to <code>LibBi</code>), or a
logical variable: TRUE if a seed is to be generated for <code>RBi</code>, FALSE
if <code>LibBi</code> is to generate its own seed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debug</code></td>
<td>
<p>logical; if TRUE, print more verbose messages and write all
variables to the output file, irrespective of their setting of 'has_output'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>list of additional arguments to pass to the call to <code>LibBi</code>.
Any arguments starting with 'enable'/'disable' can be specified as boolean
(e.g., 'assert=TRUE' or 'cuda=TRUE'). Any 'dry-' options can be specified
with a '"dry"' argument, e.g., 'dry="parse"'. Any options that would be
specified with 'with'/'without' can be specified as character vector to an
option named 'with'/'without', respectively, e.g.
with="transform-obs-to-state".</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an updated <code>libbi</code> object, except if <code>client</code> is
'rewrite', in which case invisible NULL will be returned but the rewritten
model code printed
</p>


<h3>See Also</h3>

<p><code>libbi</code>
</p>


</div>