<div class="container">

<table style="width: 100%;"><tr>
<td>etRbind</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Combining event tables</h2>

<h3>Description</h3>

<p>Combining event tables
</p>


<h3>Usage</h3>

<pre><code class="language-R">etRbind(
  ...,
  samples = c("use", "clear"),
  waitII = c("smart", "+ii"),
  id = c("merge", "unique")
)

## S3 method for class 'rxEt'
rbind(..., deparse.level = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>The event tables and optionally time between event
tables, called waiting times in this help document.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samples</code></td>
<td>
<p>How to handle samples when repeating an event
table.  The options are:
</p>

<ul>
<li> <p><code>"clear"</code> Clear sampling records before combining the datasets
</p>
</li>
<li> <p><code>"use"</code> Use the sampling records when combining the datasets
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>waitII</code></td>
<td>
<p>This determines how waiting times between events are
handled. The options are:
</p>

<ul>
<li> <p><code>"smart"</code> This "smart" handling of waiting times is the
default option.  In this case, if the waiting time is above the
last observed inter-dose interval in the first combined event
table, then the actual time between doses is given by the wait
time.  If it is smaller than the last observed inter-dose
interval, the time between event tables is given by the inter-dose
interval + the waiting time between event tables.
</p>
</li>
<li> <p><code>"+ii"</code> In this case, the wait time is added to the
inter-dose interval no matter the length of the wait time or
inter-dose interval
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>This is how rbind will handle IDs.  There are two different types of options:
</p>

<ul>
<li> <p><code>merge</code> with <code>id="merge"</code>, the IDs are merged together,
overlapping IDs would be merged into a single event table.
</p>
</li>
<li> <p><code>unique</code> with <code>id="unique"</code>, the IDs will be renumbered
so that the IDs in all the event tables are not overlapping.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deparse.level</code></td>
<td>
<p>The <code>deparse.level</code> of a traditional
<code>rbind</code> is ignored.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An event table
</p>


<h3>Author(s)</h3>

<p>Matthew L Fidler
</p>
<p>Matthew L Fidler, Wenping Wang
</p>


<h3>References</h3>

<p>Wang W, Hallow K, James D (2015). "A Tutorial on rxode2: Simulating
Differential Equation Pharmacometric Models in R." CPT:
Pharmacometrics and Systems Pharmacology, 5(1), 3-10. ISSN 2163-8306,
&lt;URL: https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4728294/&gt;.
</p>


<h3>See Also</h3>

<p><code>eventTable</code>, <code>add.sampling</code>,
<code>add.dosing</code>, <code>et</code>,
<code>etRep</code>, <code>etRbind</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">


library(units)

## These are making the more complex regimens of the rxode2 tutorial

## bid for 5 days
bid &lt;- et(timeUnits="hr") %&gt;%
       et(amt=10000,ii=12,until=set_units(5, "days"))

## qd for 5 days
qd &lt;- et(timeUnits="hr") %&gt;%
      et(amt=20000,ii=24,until=set_units(5, "days"))

## bid for 5 days followed by qd for 5 days

et &lt;- seq(bid,qd) %&gt;% et(seq(0,11*24,length.out=100));


## Now Infusion for 5 days followed by oral for 5 days

##  note you can dose to a named compartment instead of using the compartment number
infusion &lt;- et(timeUnits = "hr") %&gt;%
      et(amt=10000, rate=5000, ii=24, until=set_units(5, "days"), cmt="centr")


qd &lt;- et(timeUnits = "hr") %&gt;% et(amt=10000, ii=24, until=set_units(5, "days"), cmt="depot")

et &lt;- seq(infusion,qd)


## 2wk-on, 1wk-off

qd &lt;- et(timeUnits = "hr") %&gt;% et(amt=10000, ii=24, until=set_units(2, "weeks"), cmt="depot")

et &lt;- seq(qd, set_units(1,"weeks"), qd) %&gt;%
     add.sampling(set_units(seq(0, 5.5,by=0.005),weeks))


## You can also repeat the cycle easily with the rep function

qd &lt;-et(timeUnits = "hr") %&gt;% et(amt=10000, ii=24, until=set_units(2, "weeks"), cmt="depot")

et &lt;- etRep(qd, times=4, wait=set_units(1,"weeks")) %&gt;%
     add.sampling(set_units(seq(0, 12.5,by=0.005),weeks))



</code></pre>


</div>