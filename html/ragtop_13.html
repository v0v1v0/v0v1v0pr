<div class="container">

<table style="width: 100%;"><tr>
<td>construct_implicit_grid_structure</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Structure of implicit numerical integration grid</h2>

<h3>Description</h3>

<p>Infer a reasonable structure for our implicit grid solver based
on the voltime, structure constant, and requested grid width
in standard deviations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">construct_implicit_grid_structure(
  tenors,
  M,
  S0,
  K,
  c,
  sigma,
  structure_constant,
  std_devs_width,
  min_z_width = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tenors</code></td>
<td>
<p>Tenors of instruments to be treated on this grid</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>Minimum number of timesteps on this grid</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S0</code></td>
<td>
<p>An initial stock price, for setting grid scale</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>An instrument reference stock price, for setting grid scale</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c</code></td>
<td>
<p>A continuous stock drift rate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>
<p>Volatility of diffusion process (without jumps to default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>structure_constant</code></td>
<td>
<p>The maximum ratio between time intervals <code>dt</code>
and the square of space intervals <code>dz^2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>std_devs_width</code></td>
<td>
<p>The number of standard deviations, in <code>sigma * sqrt(T)</code>
units, to incorporate into the grid</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_z_width</code></td>
<td>
<p>Minimum grid width, in log space</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Generally speaking pricing will be good to about 10bp of
relative accuracy when the ratio of timesteps to voltime
(in annualized units) is over 200.
</p>
<p>Cases with pathologically low volatility may go awry (in the sense of
yielding ultimately inaccurate PDE solutions), as the
structure_constant will force a step in z space much bigger
than the width in standard deviations.
</p>


<h3>Value</h3>

<p>A list with elements </p>

<dl>
<dt><code>T</code></dt>
<dd>
<p>The maximum time for this grid</p>
</dd>
<dt><code>dt</code></dt>
<dd>
<p>Largest permissible timestep size</p>
</dd>
<dt><code>dz</code></dt>
<dd>
<p>Distance between space grid points</p>
</dd>
<dt><code>z0</code></dt>
<dd>
<p>Center of space grid</p>
</dd>
<dt><code>z_width</code></dt>
<dd>
<p>Width in <code class="reqn">z</code> space</p>
</dd>
<dt><code>half_N</code></dt>
<dd>
<p>A misnomer, actually <code class="reqn">(N-1)/2</code></p>
</dd>
<dt><code>N</code></dt>
<dd>
<p>The number of space points</p>
</dd>
<dt><code>z</code></dt>
<dd>
<p>Locations of space points</p>
</dd>
</dl>
<h3>See Also</h3>

<p>Other Implicit Grid Solver: 
<code>find_present_value()</code>,
<code>form_present_value_grid()</code>,
<code>infer_conforming_time_grid()</code>,
<code>integrate_pde()</code>,
<code>iterate_grid_from_timestep()</code>,
<code>take_implicit_timestep()</code>,
<code>timestep_instruments()</code>
</p>


</div>