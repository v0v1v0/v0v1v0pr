<div class="container">

<table style="width: 100%;"><tr>
<td>rivernet.read</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Reads Geographical Information of River Network
</h2>

<h3>Description</h3>

<p>Reads a river network and attributes from text files.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rivernet.read(file.reachcoord,
              file.reachattrib = NA,
              file.nodeattrib  = NA,
              colnames         = c(reach = "Reach_ID",
                                   node  = "Node_ID",
                                   x     = "X",
                                   y     = "Y",
                                   z     = "Z"),
              sep              ="\t",
              tol              = 1,
              analyze          = FALSE,
              verbose          = TRUE,
              ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file.reachcoord</code></td>
<td>

<p>Name of text file or vector of names that contain(s) columns with reach id, x, y, and z coordinates.
An arbitrary number of rows per reach is possible to allow for a reasonable geographical resolution of the river reach, but the rows corresponding to the same reach id are interpreted as a sequential series of points between which the river is constructed by linear interpolation.
If multiple file names are provided, the data frames read from different files
are combined with <code>rbind</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file.reachattrib</code></td>
<td>

<p>Name of text file or vector of names that contain(s) a column with the same reach reach ids as used in the file <code>file.reachcorrd</code> and an arbitrary number of attributes of the reaches.
If multiple file names are provided, the data frames read from different files are combined by <code>merge</code> so that either additional attributes of existing reaches (same reach identifier) or attributes for additional reaches (new reach identifiers) can be provided.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file.nodeattrib</code></td>
<td>

<p>Name of text file or vector of names that contain(s) columns with x and y coordinates of the node (must be identical with start or end coordinats of the connecting reaches) and an arbitrary number of attributes of the nodes.
If multiple file names are provided, the data frames read from different files are combined by <code>merge</code> so that either additional attributes of existing nodes (same values for x and y coordinates) or attributes for additional nodes (new x and y coordinates) can be provided.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colnames</code></td>
<td>

<p>Labelled vector containing strings to identify the headers of the colums for reach and node identifiers and x, y and z coordinates along the river reaches.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>

<p>Column separator used for the files.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>

<p>Spatial tolerance for identifying nodes.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>analyze</code></td>
<td>

<p>Logical variable to indicate whether the function <code>analyze.rivernet</code> should be called after reading.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>Logical variable to turn on and off summary output about the network structure read.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Optional further arguments are passed to read.table.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The function returns an object of type "rivernet" that contains the geographical representation of the river.
This object contains the following elements<br><br><code>reaches</code>: list of river reaches with the following elements: <br><code>n</code>: number of coordinates,<br><code>x</code>: vector of x-coordinates,<br><code>y</code>: vector of y-coordinates,<br><code>z</code>: vector of z-coordinates,<br><code>length</code>: length of the reach),<br><br><code>nodes</code>: list of river nodes with the following elements: <br><code>x</code>: x-coordinate,<br><code>y</code>: y-coordinate,<br><br><code>xlim</code>: range of river network in x direction.<br><br><code>ylim</code>: range of river network in y direction.<br><br><code>zlim</code>: vertical range of river network (z direction).<br><br><code>htow</code>: ratio of y to x extension; to be used for the height to widht ratio of network plots.<br><br><code>total.length</code>: sum of length of all river reaches in the network.<br><br><code>attrib.reach</code>: data frame of reaches with columns<br><code>Reach_ID</code>: reach identifier,<br><code>Reach</code>: reach index,<br><code>x_start</code>: start x-coordinate of reach,<br><code>y_start</code>: start y-coordinate of reach,<br><code>z_start</code>: start elevation of reach,<br><code>x_end</code>: end x-coordinate of reach,<br><code>y_end</code>: end y-coordinate of reach,<br><code>z_end</code>: end elevation of reach,<br><code>node_start</code>: index of node at the start of the reach,<br><code>node_end</code>: index of node at the end of the reach,<br><code>length</code>: length of reach.<br>
If a file <code>file.reachattrib</code> was provided, its columns are added to the colums of this data frame.<br><br><code>attrib.node</code>: data frame of nodes with columns <br><code>node</code>: node index,<br><code>x</code>: x-coordinate of the node,<br><code>y</code>: y-coordinate of the node.<br><br>
If a file <code>file.nodeattrib</code> was provided, its columns are added to the colums of this data frame.<br><br>
If the argument <code>analyze</code> is true, the data frame <code>attrib.reach</code> contains the additional columns:
<code>subnet</code>: index of sub-network,<br><code>n_start</code>: number of reaches connected at the start end of the reach,<br><code>n_end</code>: number of reaches connected at the end end of the reach,<br><code>endreach</code>: logical variable indicating if the reach is only connected at one end,<br><code>outlet</code>: logical variable indicating if the reach represents the outlet of the network,<br><code>headwater</code>: logical variable indicating if the reach is a headwater,<br><code>downstream</code>: logical variable indicating if the reach coordinates represent the downstream direction,<br><code>reach_down</code>: index of reach downstream of the reach,<br><code>streamorder</code>: stream order of the reach.<br><code>paths</code>: list of vectors of reach indices of the paths from all headwaters to the outlet.<br>
In addition, the list of reaches (<code>reaches</code>) and the list of nodes (<code>nodes</code>) are appended by indices
<code>from_node</code>, <code>to_node</code> and <code>from_reach</code>, <code>to_reach</code>, respectively.
</p>


<h3>See Also</h3>

<p><code>analyze.rivernet</code><br><code>plot.rivernet</code><br><code>rivernet.write</code><br><code>prune.rivernet</code><br><code>getreachind.rivernet</code><br><code>getnodeind.rivernet</code><br><code>mean.rivernet</code><br><code>upstreamconnectivity.rivernet</code><br><code>adjacentreaches.rivernet</code>.
</p>


</div>