<div class="container">

<table style="width: 100%;"><tr>
<td>CORSMiddleware</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates CORS middleware object</h2>

<h3>Description</h3>

<p>Adds CORS to Application. CORS Middleware out of the box in RestRserve to turn on/off the CORS
Headers on preflight validation from the browser. <br></p>
<p>Cross Origin Resource Sharing is an additional security check done by moderns
browsers to avoid request between different domains. To allow it RestRserve
has easy way to enable your CORS policies. By default CORS policies are disabled.
So if any request is coming from a different domain will be blocked
by the browser as default because RestRserve will not send the headers required
by the browser to allow cross site resource sharing. You can change this easy
just by providing <code>CORSMiddleware</code> as middleware to the Application.
</p>


<h3>Super class</h3>

<p><code>RestRserve::Middleware</code> -&gt; <code>CORSMiddleware</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-CORSMiddleware-new"><code>CORSMiddleware$new()</code></a>
</p>
</li>
<li> <p><a href="#method-CORSMiddleware-clone"><code>CORSMiddleware$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-CORSMiddleware-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Creates CORS middleware object
</p>


<h5>Usage</h5>

<div class="r"><pre>CORSMiddleware$new(routes = "/", match = "partial", id = "CORSMiddleware")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>routes</code></dt>
<dd>
<p>Routes paths to protect.</p>
</dd>
<dt><code>match</code></dt>
<dd>
<p>How routes will be matched: exact or partial (as prefix).</p>
</dd>
<dt><code>id</code></dt>
<dd>
<p>Middleware id.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-CORSMiddleware-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>CORSMiddleware$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>References</h3>

<p><a href="https://developer.mozilla.org/en/docs/Web/HTTP/CORS">MDN</a>
</p>


<h3>See Also</h3>

<p>Middleware Application
</p>


<h3>Examples</h3>

<pre><code class="language-R">app = Application$new(middleware = list(CORSMiddleware$new()))
app$add_post(path = "/hello", FUN = function(req, res) {
  res$set_body("Hello from RestRserve!")
})
app$add_route("/hello", method = "OPTIONS", FUN = function(req, res) {
 res$set_header("Allow", "POST, OPTIONS")
})
req = Request$new(
  path = "/hello",
  headers = list("Access-Control-Request-Method" = "POST"),
  method = "OPTIONS"
)
app$process_request(req)

</code></pre>


</div>