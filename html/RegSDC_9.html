<div class="container">

<table style="width: 100%;"><tr>
<td>IpsoExtra</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extended variant of RegSDCipso</h2>

<h3>Description</h3>

<p>Possible to generate several y's and to re-scale residuals.
Regression fitting by a sparse matrix algorithm is also possible (see reference).
</p>


<h3>Usage</h3>

<pre><code class="language-R">IpsoExtra(
  y,
  x = NULL,
  ensureIntercept = TRUE,
  returnParts = FALSE,
  nRep = 1,
  resScale = NULL,
  digits = 9,
  rmse = NULL,
  sparseLimit = 500,
  printInc = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Matrix of confidential variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Matrix of non-confidential variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ensureIntercept</code></td>
<td>
<p>Whether to ensure/include a constant term. Non-NULL x is subjected to <code>EnsureIntercept</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnParts</code></td>
<td>
<p>Alternative output two matrices: yHat (fitted) and yRes (generated residuals).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nRep</code></td>
<td>
<p>Integer, when &gt;1, several y's will be generated. Extra columns in output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resScale</code></td>
<td>
<p>Residuals will be scaled by resScale</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Digits used to detect perfect fit (caused by fitted values as input). 
This checking will be done only when rmse is in input. When perfect fit, rmse will be used instead of resScale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rmse</code></td>
<td>
<p>Desired root mean square error (residual standard error). Will be used when resScale is 
NULL or cannot be used (see parameter digits). This parameter forces the rmse value for one y variable (the first).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sparseLimit</code></td>
<td>
<p>Limit for the number of rows of a reduced x-matrix within the algorithm. When exceeded, a sparse algorithm is used (see reference).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Generated version of y
</p>


<h3>Author(s)</h3>

<p>Ã˜yvind Langsrud
</p>


<h3>References</h3>

<p>Douglas Bates and R Development Core Team (2022), 
Comparing Least Squares Calculations, 
R Vignette, 
<code>vignette("Comparisons", package="Matrix")</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">x &lt;- matrix(1:5, 5, 1)
y &lt;- matrix(10 * (sample(7:39, 15) + 4 * (1:15)), 5, 3)
colnames(y) &lt;- paste("y", 1:3, sep = "")
y1 &lt;- y[, 1, drop = FALSE]

IpsoExtra(y, x)  # Same as RegSDCipso(y, x)

IpsoExtra(y, x, resScale = 0)  # Fitted values (whole numbers in this case)
IpsoExtra(y, x, nRep = 2, resScale = 1e-05)  # Downscaled residuals 

ySynth &lt;- IpsoExtra(y1, x, nRep = 2, rmse = 0.25)  # Downscaled residuals 
summary(lm(ySynth ~ x))  # Identical regression results with Residual standard error: 0.25

IpsoExtra(fitted(lm(y1 ~ x)), x, nRep = 2, resScale = 0.1)  # resScale no effect since perfect fit
IpsoExtra(fitted(lm(y1 ~ x)), x, nRep = 2, resScale = 0.1, rmse = 2)  # with warning

# Using data in the paper
IpsoExtra(RegSDCdata("sec7y"), RegSDCdata("sec7x"))  # Similar to Y*
IpsoExtra(RegSDCdata("sec7y"), RegSDCdata("sec7x"), rmse = 1)
</code></pre>


</div>