<div class="container">

<table style="width: 100%;"><tr>
<td>rrreg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Randomized Response Regression</h2>

<h3>Description</h3>

<p><code>rrreg</code> is used to conduct multivariate regression analyses of survey
data using randomized response methods.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rrreg(formula, p, p0, p1, q, design, data, start = NULL, 
h = NULL, group = NULL, matrixMethod = "efficient",
maxIter = 10000, verbose = FALSE, optim = FALSE, em.converge = 10^(-8), 
glmMaxIter = 10000, solve.tolerance = .Machine$double.eps)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>An object of class "formula": a symbolic description of the
model to be fitted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>The probability of receiving the sensitive question (Mirrored
Question Design, Unrelated Question Design); the probability of answering
truthfully (Forced Response Design); the probability of selecting a red card
from the 'yes' stack (Disguised Response Design). For "mirrored" and
"disguised" designs, p cannot equal .5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p0</code></td>
<td>
<p>The probability of forced 'no' (Forced Response Design).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p1</code></td>
<td>
<p>The probability of forced 'yes' (Forced Response Design).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>The probability of answering 'yes' to the unrelated question, which
is assumed to be independent of covariates (Unrelated Question Design).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>One of the four standard designs: "forced-known", "mirrored",
"disguised", or "unrelated-known".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame containing the variables in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>Optional starting values of coefficient estimates for the
Expectation-Maximization (EM) algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>Auxiliary data functionality. Optional named numeric vector with 
length equal to number of groups. Names correspond to group labels and 
values correspond to auxiliary moments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>Auxiliary data functionality. Optional character vector of 
group labels with length equal to number of observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matrixMethod</code></td>
<td>
<p>Auxiliary data functionality. Procedure for estimating 
optimal weighting matrix for generalized method of moments. One of 
"efficient" for two-step feasible and "cue" for continuously updating. 
Default is "efficient". Only relevant if <code>h</code> and <code>group</code> are 
specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxIter</code></td>
<td>
<p>Maximum number of iterations for the Expectation-Maximization
algorithm. The default is <code>10000</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>A logical value indicating whether model diagnostics counting
the number of EM iterations are printed out.  The default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optim</code></td>
<td>
<p>A logical value indicating whether to use the quasi-Newton
"BFGS" method to calculate the variance-covariance matrix and standard
errors. The default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>em.converge</code></td>
<td>
<p>A value specifying the satisfactory degree of convergence
under the EM algorithm. The default is <code>10^(-8)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>glmMaxIter</code></td>
<td>
<p>A value specifying the maximum number of iterations to run
the EM algorithm. The default is <code>10000</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>solve.tolerance</code></td>
<td>
<p>When standard errors are calculated, this option
specifies the tolerance of the matrix inversion operation solve.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function allows users to perform multivariate regression analysis on
data from the randomized response technique.  Four standard designs are
accepted by this function: mirrored question, forced response, disguised
response, and unrelated question. The method implemented by this function is
the Maximum Likelihood (ML) estimation for the Expectation-Maximization (EM)
algorithm.
</p>


<h3>Value</h3>

<p><code>rrreg</code> returns an object of class "rrreg".  The function
<code>summary</code> is used to obtain a table of the results.  The object
<code>rrreg</code> is a list that contains the following components (the inclusion
of some components such as the design parameters are dependent upon the
design used):
</p>
<table>
<tr style="vertical-align: top;">
<td><code>est</code></td>
<td>
<p>Point estimates for the effects of covariates on the randomized
response item.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcov</code></td>
<td>
<p>Variance-covariance matrix for the effects of
covariates on the randomized response item.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>Standard errors for
estimates of the effects of covariates on the randomized response item.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The <code>data</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef.names</code></td>
<td>
<p>Variable names as
defined in the data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The model matrix of covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>The randomized response vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>Call of standard
design used: "forced-known", "mirrored", "disguised", or "unrelated-known".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>The <code>p</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p0</code></td>
<td>
<p>The <code>p0</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p1</code></td>
<td>
<p>The <code>p1</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>The <code>q</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>The matched call.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Blair, Graeme, Kosuke Imai and Yang-Yang Zhou. (2014) "Design
and Analysis of the Randomized Response Technique." Working Paper. Available
at <a href="http://imai.princeton.edu/research/randresp.html">http://imai.princeton.edu/research/randresp.html</a>.
</p>


<h3>See Also</h3>

<p><code>predict.rrreg</code> for predicted probabilities.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(nigeria)

set.seed(1)

## Define design parameters
p &lt;- 2/3  # probability of answering honestly in Forced Response Design
p1 &lt;- 1/6 # probability of forced 'yes'
p0 &lt;- 1/6 # probability of forced 'no'

## Fit linear regression on the randomized response item of whether 
## citizen respondents had direct social contacts to armed groups

rr.q1.reg.obj &lt;- rrreg(rr.q1 ~ cov.asset.index + cov.married + 
                    I(cov.age/10) + I((cov.age/10)^2) + cov.education + cov.female,   
                    data = nigeria, p = p, p1 = p1, p0 = p0, 
                    design = "forced-known")
  
summary(rr.q1.reg.obj)

## Replicates Table 3 in Blair, Imai, and Zhou (2014)

</code></pre>


</div>