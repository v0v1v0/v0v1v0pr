<div class="container">

<table style="width: 100%;"><tr>
<td>rm_mvsum</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Format a regression model nicely for 'Rmarkdown'</h2>

<h3>Description</h3>

<p>Multivariable (or univariate) regression models are re-formatted for
reporting and a global p-value is added for the evaluation of factor
variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rm_mvsum(
  model,
  data,
  digits = getOption("reportRmd.digits", 2),
  covTitle = "",
  showN = TRUE,
  showEvent = TRUE,
  CIwidth = 0.95,
  vif = TRUE,
  caption = NULL,
  tableOnly = FALSE,
  p.adjust = "none",
  unformattedp = FALSE,
  nicenames = TRUE,
  chunk_label,
  fontsize
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>model fit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data that model was fit on (an attempt will be made to extract
this from the model)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>number of digits to round estimates to, does not affect
p-values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covTitle</code></td>
<td>
<p>character with the names of the covariate (predictor) column.
The default is to leave this empty for output or, for table only output to
use the column name 'Covariate'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showN</code></td>
<td>
<p>boolean indicating sample sizes should be shown for each
comparison, can be useful for interactions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showEvent</code></td>
<td>
<p>boolean indicating if number of events should be shown. Only
available for logistic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CIwidth</code></td>
<td>
<p>width for confidence intervals, defaults to 0.95</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vif</code></td>
<td>
<p>boolean indicating if the variance inflation factor should be
included. See details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption</code></td>
<td>
<p>table caption</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tableOnly</code></td>
<td>
<p>boolean indicating if unformatted table should be returned</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.adjust</code></td>
<td>
<p>p-adjustments to be performed (Global p-values only)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unformattedp</code></td>
<td>
<p>boolean indicating if you would like the p-value to be
returned unformatted (ie not rounded or prefixed with '&lt;'). Should be used
in conjuction with the digits argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nicenames</code></td>
<td>
<p>boolean indicating if you want to replace . and _ in strings
with a space</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chunk_label</code></td>
<td>
<p>only used if output is to Word to allow cross-referencing</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fontsize</code></td>
<td>
<p>PDF/HTML output only, manually set the table fontsize</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Global p-values are likelihood ratio tests for lm, glm and polr models. For
lme models an attempt is made to re-fit the model using ML and if,successful
LRT is used to obtain a global p-value. For coxph models the model is re-run
without robust variances with and without each variable and a LRT is
presented. If unsuccessful a Wald p-value is returned. For GEE and CRR models
Wald global p-values are returned. For negative binomial models a deviance
test is used.
</p>
<p>If the variance inflation factor is requested (VIF=T) then a generalised VIF
will be calculated in the same manner as the car package.
</p>
<p>The number of decimals places to display the statistics can be changed with
digits, but this will not change the display of p-values. If more significant
digits are required for p-values then use tableOnly=TRUE and format as
desired.
</p>


<h3>Value</h3>

<p>A character vector of the table source code, unless tableOnly=TRUE in
which case a data frame is returned
</p>


<h3>References</h3>

<p>John Fox &amp; Georges Monette (1992) Generalized Collinearity
Diagnostics, Journal of the American Statistical Association, 87:417,
178-183, <a href="https://doi.org/10.1080/01621459.1992.10475190">doi:10.1080/01621459.1992.10475190</a>
</p>
<p>John Fox and Sanford Weisberg (2019). An R Companion to
Applied Regression, Third Edition. Thousand Oaks CA: Sage.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("pembrolizumab")
glm_fit = glm(change_ctdna_group~sex:age+baseline_ctdna+l_size,
data=pembrolizumab,family = 'binomial')
rm_mvsum(glm_fit)

#linear model with p-value adjustment
lm_fit=lm(baseline_ctdna~age+sex+l_size+tmb,data=pembrolizumab)
rm_mvsum(lm_fit,p.adjust = "bonferroni")
#Coxph
require(survival)
res.cox &lt;- coxph(Surv(os_time, os_status) ~ sex+age+l_size+tmb, data = pembrolizumab)
rm_mvsum(res.cox, vif=TRUE)
</code></pre>


</div>