<div class="container">

<table style="width: 100%;"><tr>
<td>MA.estimates</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>MA Estimates</h2>

<h3>Description</h3>

<p>This function computes the sequential sampling (MA) estimates for a
categorical variable or numeric variable.
</p>


<h3>Usage</h3>

<pre><code class="language-R">MA.estimates(
  rds.data,
  trait.variable,
  seed.selection = "degree",
  number.of.seeds = NULL,
  number.of.coupons = NULL,
  number.of.iterations = 3,
  N = NULL,
  M1 = 25,
  M2 = 20,
  seed = 1,
  initial.sampling.probabilities = NULL,
  MPLE.samplesize = 50000,
  SAN.maxit = 5,
  SAN.nsteps = 2^19,
  sim.interval = 10000,
  number.of.cross.ties = NULL,
  max.degree = NULL,
  parallel = 1,
  parallel.type = "PSOCK",
  full.output = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rds.data</code></td>
<td>
<p>An <code>rds.data.frame</code> that indicates recruitment patterns
by a pair of attributes named “id” and “recruiter.id”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trait.variable</code></td>
<td>
<p>A string giving the name of the variable in the
<code>rds.data</code> that contains a categorical or numeric variable to be
analyzed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed.selection</code></td>
<td>
<p>An estimate of the mechanism guiding the choice of
seeds.  The choices are </p>
 <dl>
<dt>"allwithtrait"</dt>
<dd>
<p>indicating that all
the seeds had the trait;</p>
</dd> <dt>"random"</dt>
<dd>
<p>meaning they were, as if, a simple
random sample of individuals from the population;</p>
</dd>
<dt>"sample"</dt>
<dd>
<p>indicating that the seeds are taken as those in the sample
(and resampled for the population with that composition if necessary);</p>
</dd>
<dt>"degree"</dt>
<dd>
<p>is proportional to the degree of the individual;</p>
</dd>
<dt>"allwithtraitdegree"</dt>
<dd>
<p>indicating that all the seeds had the trait and
the probability of being a seed is proportional to the degree of the
respondent.</p>
</dd> </dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number.of.seeds</code></td>
<td>
<p>The number of seeds chosen to initiate the sampling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number.of.coupons</code></td>
<td>
<p>The number of coupons given to each respondent.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number.of.iterations</code></td>
<td>
<p>The number of iterations used at the core of the
algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>An estimate of the number of members of the population being
sampled. If <code>NULL</code> it is read as the <code>pop.size.mid</code> attribute of
the <code>rds.data</code> frame. If that is missing it defaults to 1000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M1</code></td>
<td>
<p>The number of networked populations generated at each iteration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M2</code></td>
<td>
<p>The number of (full) RDS samples generated for each networked
population at each iteration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>The random number seed used to initiate the computations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initial.sampling.probabilities</code></td>
<td>
<p>Initialize sampling probabilities for
the algorithm. If missing, they are taken as proportional to degree, and
this is almost always the best starting values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MPLE.samplesize</code></td>
<td>
<p>Number of samples to take in the computation of the
maximum pseudolikelihood estimator (MPLE) of the working model parameter.
The default is almost always sufficient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SAN.maxit</code></td>
<td>
<p>A ceiling on the number of simulated annealing iterations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SAN.nsteps</code></td>
<td>
<p>Number of MCMC proposals for all the annealing runs combined.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sim.interval</code></td>
<td>
<p>Number of MCMC steps between each of the M1 sampled
networks per iteration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number.of.cross.ties</code></td>
<td>
<p>The expected number of ties between those with
the trait and those without. If missing, it is computed based on the
respondent's reports of the number of ties they have to population members
who have the trait (i.e. <code>ties.to.trait.variable</code>) and do not have the
trait (i.e. <code>ties.not.to.trait.variable</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.degree</code></td>
<td>
<p>Impose ceiling on degree size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>Number of processors to use in the computations. The default
is 1, that is no parallel processing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel.type</code></td>
<td>
<p>The type of cluster to start. e.g. 'PSOCK', 'MPI', etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>full.output</code></td>
<td>
<p>More verbose output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Should verbose diagnostics be printed while the algorithm is
running.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>trait.variable</code> is numeric then the model-assisted estimate
of the mean is returned, otherwise a vector of proportion estimates is
returned. If <code>full.output=TRUE</code> this leads to:
</p>
<p>If <code>full.output=FALSE</code> this leads to an object of class
<code>rds.interval.estimate</code> which is a list with component
</p>

<dl>
<dt>estimate</dt>
<dd>
<p>the numerical point estimate of proportion of the<code>trait.variable</code>.</p>
</dd>
<dt>interval</dt>
<dd>
<p>a matrix with size columns and one row per category of <code>trait.variable</code>:
</p>

<dl>
<dt>point estimate</dt>
<dd>
<p> The HT estimate of the population mean.</p>
</dd>
<dt>95% Lower Bound</dt>
<dd>
<p>Lower 95% confidence bound</p>
</dd>
<dt>95% Upper Bound</dt>
<dd>
<p>Upper 95% confidence bound</p>
</dd>
<dt>Design Effect</dt>
<dd>
<p>The design effect of the RDS</p>
</dd>
<dt>s.e.</dt>
<dd>
<p>standard error</p>
</dd>
<dt>n</dt>
<dd>
<p>count of the number of sample values with that value of the trait</p>
</dd>
</dl>
</dd>
<dt>rds.data</dt>
<dd>
<p>an <code>rds.data.frame</code> that indicates recruitment
patterns by a pair of attributes named “id” and “recruiter.id”.</p>
</dd>
<dt>N</dt>
<dd>
<p>an estimate of the number of members of the population being
sampled. If <code>NULL</code> it is read as the <code>pop.size.mid</code> attribute of
the <code>rds.data</code> frame. If that is missing it defaults to 1000.</p>
</dd>
<dt>M1</dt>
<dd>
<p>the number of networked populations generated at each iteration.</p>
</dd>
<dt>M2</dt>
<dd>
<p>the number of (full) RDS populations generated for each
networked population at each iteration.</p>
</dd>
<dt>seed</dt>
<dd>
<p>the random number seed used to initiate the computations.</p>
</dd>
<dt>seed.selection</dt>
<dd>
<p>an estimate of the mechanism guiding the choice
of seeds.  The choices are 
</p>

<dl>
<dt>"allwithtrait"</dt>
<dd>
<p>indicating that
all the seeds had the trait;</p>
</dd> <dt>"random"</dt>
<dd>
<p>meaning they were, as if, a
simple random sample of individuals from the population;</p>
</dd>
<dt>"sample"</dt>
<dd>
<p>indicating that the seeds are taken as those in the sample
(and resampled for the population with that composition if necessary);</p>
</dd>
<dt>"degree"</dt>
<dd>
<p>is proportional to the degree of the individual;</p>
</dd>
<dt>"allwithtraitdegree"</dt>
<dd>
<p>indicating that all the seeds had the trait and
the probability of being a seed is proportional to the degree of the
respondent.</p>
</dd>
</dl>
</dd>
<dt>number.of.seeds</dt>
<dd>
<p>The number of seeds chosen to initiate the sampling.</p>
</dd>
<dt>number.of.coupons</dt>
<dd>
<p>The number of coupons given to each respondent.</p>
</dd>
<dt>number.of.iterations</dt>
<dd>
<p>The number of iterations used at the core of the algorithm.</p>
</dd>
<dt>outcome.variable</dt>
<dd>
<p>The name of the outcome variable</p>
</dd>
<dt>weight.type</dt>
<dd>
<p>The type of weighting used (i.e. MA)</p>
</dd>
<dt>uncertainty</dt>
<dd>
<p>The type of weighting used (i.e. MA)</p>
</dd>
<dt>details</dt>
<dd>
<p>A list of other diagnostic output from the computations.</p>
</dd>
<dt>varestBS</dt>
<dd>
<p>Output from the bootstrap procedure. A list with two
elements: <code>var</code> is the bootstrap variance, and <code>BSest</code> is the
vector of bootstrap estimates themselves.</p>
</dd>
<dt>coefficient</dt>
<dd>
<p>estimate of the parameter of the ERGM for the
network.</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Krista J. Gile with help from Mark S. Handcock
</p>


<h3>References</h3>

<p>Gile, Krista J. 2011 Improved Inference for
Respondent-Driven Sampling Data with Application to HIV Prevalence
Estimation, Journal of the American Statistical Association, 106,
135-146.
</p>
<p>Gile, Krista J., Handcock, Mark S., 2010. Respondent-driven Sampling:
An Assessment of Current Methodology, Sociological Methodology, 40,
285-327. &lt;doi:10.1111/j.1467-9531.2010.01223.x&gt;
</p>
<p>Gile, Krista J., Beaudry, Isabelle S. and Handcock, Mark S., 2018 
Methods for Inference from Respondent-Driven Sampling Data,
Annual Review of Statistics and Its Application
&lt;doi:10.1146/annurev-statistics-031017-100704&gt;.
</p>













<h3>See Also</h3>

<p><code>RDS.I.estimates</code>, <code>RDS.I.estimates</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
data(faux)
MA.estimates(rds.data=faux,trait.variable='X')

## End(Not run)

</code></pre>


</div>