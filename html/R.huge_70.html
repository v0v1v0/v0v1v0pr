<div class="container">

<table style="width: 100%;"><tr>
<td>FileVector</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class representing a persistent vector stored on file</h2>

<h3>Description</h3>

<p>Package:  R.huge <br><b>Class FileVector</b><br></p>
<p><code>Object</code><br><code>~~|</code><br><code>~~+--</code><code>AbstractFileArray</code><br><code>~~~~~~~|</code><br><code>~~~~~~~+--</code><code>FileVector</code><br></p>
<p><b>Directly known subclasses:</b><br>
FileByteVector, FileDoubleVector, FileFloatVector, FileIntegerVector, FileShortVector<br></p>
<p>public static class <b>FileVector</b><br>
extends AbstractFileArray<br></p>


<h3>Usage</h3>

<pre><code class="language-R">FileVector(..., length=NULL, names=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to <code>AbstractFileArray</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length</code></td>
<td>
<p>The number of elements in the vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p>Optional element names.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The purpose of this class is to be able to work with large vectors
in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> without being limited by the amount of memory available.
Data is kept on the file system and elements are read and written
whenever queried.
</p>
<p>For more details, <code>AbstractFileArray</code>.
</p>


<h3>Fields and Methods</h3>

<p><b>Methods:</b><br></p>

<table>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>[</code> </td>
<td style="text-align: left;">  -</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>[&lt;-</code> </td>
<td style="text-align: left;">  -</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
<td style="text-align: left;"> <code>names</code> </td>
<td style="text-align: left;"> Gets the element names of a file vector.</td>
</tr>
<tr>
<td style="text-align: right;">
</td>
</tr>
</table>
<p><b>Methods inherited from AbstractFileArray</b>:<br>
as.character, as.vector, clone, close, delete, dim, dimnames, finalize, flush, getBasename, getBytesPerCell, getCloneNumber, getComments, getDataOffset, getDimensionOrder, getExtension, getFileSize, getName, getPath, getPathname, getSizeOfComments, getSizeOfData, getStorageMode, isOpen, length, open, readAllValues, readContiguousValues, readHeader, readValues, setComments, writeAllValues, writeEmptyData, writeHeader, writeHeaderComments, writeValues
</p>
<p><b>Methods inherited from Object</b>:<br>
$, $&lt;-, [[, [[&lt;-, as.character, attach, attachLocally, clearCache, clearLookupCache, clone, detach, equals, extend, finalize, getEnvironment, getFieldModifier, getFieldModifiers, getFields, getInstantiationTime, getStaticInstance, hasField, hashCode, ll, load, names, objectSize, print, save
</p>


<h3>Supported data types</h3>

<p>The following subclasses implement support for various data types:
</p>

<ul>
<li> <p><code>FileByteVector</code> (1 byte per element),
</p>
</li>
<li> <p><code>FileShortVector</code> (2 bytes per element),
</p>
</li>
<li> <p><code>FileIntegerVector</code> (4 bytes per element),
</p>
</li>
<li> <p><code>FileFloatVector</code> (4 bytes per element), and
</p>
</li>
<li> <p><code>FileDoubleVector</code> (8 bytes per element).
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Henrik Bengtsson</p>


<h3>Examples</h3>

<pre><code class="language-R">library("R.utils")
verbose &lt;- Arguments$getVerbose(TRUE)

pathname &lt;- "example.Rvector"
if (isFile(pathname)) {
  file.remove(pathname)
  if (isFile(pathname)) {
    stop("File not deleted: ", pathname)
  }
}

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# Create a new file vector
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
verbose &amp;&amp; enter(verbose, "Creating new vector")
# The length of the vector
length &lt;- 1e6
X &lt;- FileDoubleVector(pathname, length=length)
verbose &amp;&amp; exit(verbose)
print(X)

verbose &amp;&amp; enter(verbose, "Filling it with data")
idxs &lt;- c(1:4,7:10)
x &lt;- 1:length(idxs)
writeValues(X, indices=idxs, values=x)
verbose &amp;&amp; exit(verbose)

verbose &amp;&amp; enter(verbose, "Getting data again")
y &lt;- readValues(X, indices=idxs)
verbose &amp;&amp; exit(verbose)
stopifnot(all.equal(x,y))

verbose &amp;&amp; enter(verbose, "Getting and setting data using [i,j]")
print(X[1:20])
i &lt;- 13:15
X[i] &lt;- 99:98
print(X[1:20])
verbose &amp;&amp; exit(verbose)

delete(X)

rm(X)
</code></pre>


</div>