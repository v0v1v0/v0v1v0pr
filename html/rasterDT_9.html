<div class="container">

<table style="width: 100%;"><tr>
<td>subsDT</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Speedy Raster Value Substitution</h2>

<h3>Description</h3>

<p>A fast <code>data.table</code>-based alternative to
<code>raster::subs()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">subsDT(x, dict, by = 1, which = 2, subsWithNA = TRUE, filename = "", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Categorical <code>RasterLayer</code> with integer values giving
field class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dict</code></td>
<td>
<p>A <code>data.frame</code> or <code>data.table</code> with one (or
possibly more) columns corresponding to the values of cells in
<code>x</code> and one (or possibly more) columns giving the value
to which each value in <code>x</code> should be mapped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>Vector of one or possibly more integers or character
strings giving the indices or names of the column in
<code>dict</code> containing the categorical values in <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>Vector of one or possibly more integers or character
strings giving the indices or names of the column in
<code>dict</code> with the numerical values to which each value in
<code>by</code> should be mapped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subsWithNA</code></td>
<td>
<p>Logical. If <code>TRUE</code> values that are not
matched become NA.  If <code>FALSE</code>, they retain their
original value (which could also be <code>NA</code>). This latter
option is handy when you want to replace only one or a few
values. It cannot be used when <code>x</code> has multiple layers</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>Character string giving (optional) file name to
which the resultant raster should be written.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments as for
<code>raster::writeRaster()</code>, on
which this function relies.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>RasterLayer</code> object.
</p>


<h3>Author(s)</h3>

<p>Joshua O'Brien
</p>


<h3>Examples</h3>

<pre><code class="language-R">r &lt;- raster(ncol = 10, nrow = 10)
r[] &lt;- round(runif(ncell(r)) * 10)
df &lt;- data.frame(id = 2:8, v = c(10, 10, 11, 11, 12:14))
x &lt;- subsDT(r, df)
x2 &lt;- subsDT(r, df, subsWithNA = FALSE)

df$v2 &lt;- df$v * 10
x3 &lt;- subsDT(r, df, which = 2:3)

s &lt;- stack(r, r*3)
names(s) &lt;- c("first", "second")
x4 &lt;- subsDT(s, df)
x5 &lt;- subsDT(s, df, which = 2:3)
</code></pre>


</div>