<div class="container">

<table style="width: 100%;"><tr>
<td>mk_figure_ind_obs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates Figures of Individual Observations from PKNCA Result</h2>

<h3>Description</h3>

<p>Takes the output of PKNCA and creates <code>ggplot</code> figures faceted
by subject id highlighting of certain NCA aspects (e.g. points used for half-life)
</p>


<h3>Usage</h3>

<pre><code class="language-R">mk_figure_ind_obs(
  nca_res,
  OBS_LAB = "Concentration ===CONCUNITS===",
  TIME_LAB = "Time ===TIMEUNITS===",
  OBS_STRING = "Observation",
  BLQ_STRING = "BLQ",
  NA_STRING = "Missing",
  log_scale = TRUE,
  scales = "fixed",
  nfrows = 4,
  nfcols = 3
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nca_res</code></td>
<td>
<p>Output of PKNCA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OBS_LAB</code></td>
<td>
<p>Label of the observation axis with optional ===CONCUNITS=== placeholder for units.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TIME_LAB</code></td>
<td>
<p>Label of the time axis with optional ===TIMEUNITS=== placeholder for units.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OBS_STRING</code></td>
<td>
<p>Label for observation data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BLQ_STRING</code></td>
<td>
<p>Label for BLQ data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NA_STRING</code></td>
<td>
<p>Label for missing data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_scale</code></td>
<td>
<p>Boolean variable to control y-scale (<code>TRUE</code>: Log 10, <code>FALSE</code>: linear).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scales</code></td>
<td>
<p>String to determine the scales used when faceting. Can be either <code>"fixed"</code>, <code>"free"</code>, <code>"free_x"</code>, or <code>"free_y"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfrows</code></td>
<td>
<p>Number of facet rows per page.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfcols</code></td>
<td>
<p>Number of facet cols per page.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List containing the element <code>figures</code> which is a list of figure
pages (<code>"Figure 1"</code>, <code>"Figure 2"</code>, etc.). Each of these is
a also a list containing two elements:
</p>

<ul>
<li>
<p>gg:    A ggplot object for that page.
</p>
</li>
<li>
<p>notes: Placeholder for future notes, but NULL now.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">id     = "NCA"
id_UD  = "UD"
id_DW  = "DW"
id_ASM = "ASM"

# We need a state variable to be define
sess_res = NCA_test_mksession(session=list(),
     id     = id,
     id_UD  = id_UD,
     id_DW  = id_DW,
     id_ASM = id_ASM,
     full_session=FALSE)

state = sess_res$state

# Pulls out the active analysis
current_ana = NCA_fetch_current_ana(state)

# This is the raw PKNCA output
pknca_res = NCA_fetch_ana_pknca(state, current_ana)

# Building the figure
mk_res = mk_figure_ind_obs(nca_res = pknca_res)
mk_res$figures$Figure_1$gg
</code></pre>


</div>