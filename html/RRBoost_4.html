<div class="container">

<table style="width: 100%;"><tr>
<td>Boost.validation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Robust Boosting for regression with initialization parameters chosen on a validation set</h2>

<h3>Description</h3>

<p>A function to fit RRBoost (see also <code>Boost</code>) where the initialization parameters are chosen
based on the performance on the validation set.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Boost.validation(
  x_train,
  y_train,
  x_val,
  y_val,
  x_test,
  y_test,
  type = "RRBoost",
  error = c("rmse", "aad"),
  niter = 1000,
  max_depth = 1,
  y_init = "LADTree",
  max_depth_init_set = c(1, 2, 3, 4),
  min_leaf_size_init_set = c(10, 20, 30),
  control = Boost.control()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x_train</code></td>
<td>
<p>predictor matrix for training data (matrix/dataframe)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_train</code></td>
<td>
<p>response vector for training data (vector/dataframe)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_val</code></td>
<td>
<p>predictor matrix for validation data (matrix/dataframe)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_val</code></td>
<td>
<p>response vector for validation data (vector/dataframe)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_test</code></td>
<td>
<p>predictor matrix for test data (matrix/dataframe, optional, required when <code>make_prediction</code> in control is <code>TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_test</code></td>
<td>
<p>response vector for test data (vector/dataframe,  optional, required when <code>make_prediction</code> in control is <code>TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of the boosting method: "L2Boost", "LADBoost", "MBoost", "Robloss", "SBoost", "RRBoost" (character string)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error</code></td>
<td>
<p>a character string (or vector of character strings) indicating the types of error metrics to be evaluated on the test set. Valid options are: "rmse" (root mean squared error), "aad" (average absulute deviation), and "trmse" (trimmed root mean squared error)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>niter</code></td>
<td>
<p>number of iterations (for RRBoost T_1,max + T_2,max) (numeric)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_depth</code></td>
<td>
<p>the maximum depth of the tree learners (numeric)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_init</code></td>
<td>
<p>a string indicating the initial estimator to be used. Valid options are: "median" or "LADTree" (character string)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_depth_init_set</code></td>
<td>
<p>a vector of possible values of the maximum depth of the initial LADTree that the algorithm choses from</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_leaf_size_init_set</code></td>
<td>
<p>a vector of possible values of the minimum observations per node of the initial LADTree that the algorithm choses from</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>a named list of control parameters, as returned by <code>Boost.control</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function runs the RRBoost algorithm (see <code>Boost</code>) on different combinations of the
parameters for the initial fit, and chooses the optimal set based on the performance on the validation set.
</p>


<h3>Value</h3>

<p>A list with components
</p>
<table>
<tr style="vertical-align: top;">
<td><code>the components of model</code></td>
<td>
<p>an object returned by Boost that is trained with selected initialization parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param</code></td>
<td>
<p>a vector of selected initialization parameters (return (0,0) if selected initialization is the median of the training responses)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Xiaomeng Ju, <a href="mailto:xmengju@stat.ubc.ca">xmengju@stat.ubc.ca</a>
</p>


<h3>See Also</h3>

<p><code>Boost</code>, <code>Boost.control</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(airfoil)
n &lt;- nrow(airfoil)
n0 &lt;- floor( 0.2 * n )
set.seed(123)
idx_test &lt;- sample(n, n0)
idx_train &lt;- sample((1:n)[-idx_test], floor( 0.6 * n ) )
idx_val &lt;- (1:n)[ -c(idx_test, idx_train) ]
xx &lt;- airfoil[, -6]
yy &lt;- airfoil$y
xtrain &lt;- xx[ idx_train, ]
ytrain &lt;- yy[ idx_train ]
xval &lt;- xx[ idx_val, ]
yval &lt;- yy[ idx_val ]
xtest &lt;- xx[ idx_test, ]
ytest &lt;- yy[ idx_test ]
model_RRBoost_cv_LADTree = Boost.validation(x_train = xtrain,
      y_train = ytrain, x_val = xval, y_val = yval,
      x_test = xtest, y_test = ytest, type = "RRBoost", error = "rmse",
      y_init = "LADTree", max_depth = 1, niter = 1000,
      max_depth_init_set = 1:5,
      min_leaf_size_init_set = c(10,20,30),
      control = Boost.control(make_prediction =  TRUE,
      cal_imp = TRUE))


</code></pre>


</div>