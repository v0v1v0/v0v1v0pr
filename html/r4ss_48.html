<div class="container">

<table style="width: 100%;"><tr>
<td>SSplotComparisons</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>plot model comparisons</h2>

<h3>Description</h3>

<p>Creates a user-chosen set of plots comparing model output from a summary of
multiple models, where the collection was created using the
<code>SSsummarize</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SSplotComparisons(
  summaryoutput,
  subplots = 1:20,
  plot = TRUE,
  print = FALSE,
  png = print,
  pdf = FALSE,
  models = "all",
  endyrvec = NULL,
  indexfleets = NULL,
  indexUncertainty = TRUE,
  indexQlabel = TRUE,
  indexQdigits = 4,
  indexSEvec = NULL,
  indexPlotEach = FALSE,
  labels = c("Year", "Spawning biomass (t)", "Fraction of unfished",
    "Age-0 recruits (1,000s)", "Recruitment deviations", "Index", "Log index",
    "SPR-related quantity", "Density", "Management target",
    "Minimum stock size threshold", "Spawning output", "Harvest rate"),
  col = NULL,
  shadecol = NULL,
  pch = NULL,
  lty = 1,
  lwd = 2,
  spacepoints = 10,
  staggerpoints = 1,
  initpoint = 0,
  tickEndYr = TRUE,
  shadeForecast = TRUE,
  xlim = NULL,
  ylimAdj = 1.05,
  xaxs = "i",
  yaxs = "i",
  type = "o",
  uncertainty = TRUE,
  shadealpha = 0.1,
  legend = TRUE,
  legendlabels = NULL,
  legendloc = "topright",
  legendorder = NULL,
  legendncol = 1,
  sprtarg = NULL,
  btarg = NULL,
  minbthresh = NULL,
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  plotdir = NULL,
  filenameprefix = "",
  densitynames = c("SSB_Virgin", "R0"),
  densityxlabs = NULL,
  rescale = TRUE,
  densityscalex = 1,
  densityscaley = 1,
  densityadjust = 1,
  densitysymbols = TRUE,
  densitytails = TRUE,
  densitymiddle = FALSE,
  densitylwd = 1,
  fix0 = TRUE,
  new = TRUE,
  add = FALSE,
  par = list(mar = c(5, 4, 1, 1) + 0.1),
  verbose = TRUE,
  mcmcVec = FALSE,
  show_equilibrium = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>summaryoutput</code></td>
<td>
<p>List created by <code>SSsummarize</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subplots</code></td>
<td>
<p>Vector of subplots to be created
Numbering of subplots is as follows:
</p>

<ul>
<li>
<p> 1  spawning biomass
</p>
</li>
<li>
<p> 2  spawning biomass with uncertainty intervals
</p>
</li>
<li>
<p> 3  biomass ratio (hopefully equal to fraction of unfished)
</p>
</li>
<li>
<p> 4  biomass ratio with uncertainty
</p>
</li>
<li>
<p> 5  SPR ratio
</p>
</li>
<li>
<p> 6  SPR ratio with uncertainty
</p>
</li>
<li>
<p> 7  F value
</p>
</li>
<li>
<p> 8  F value with uncertainty
</p>
</li>
<li>
<p> 9  recruits
</p>
</li>
<li>
<p> 10  recruits with uncertainty
</p>
</li>
<li>
<p> 11  recruit devs
</p>
</li>
<li>
<p> 12  recruit devs with uncertainty
</p>
</li>
<li>
<p> 13  index fits
</p>
</li>
<li>
<p> 14  index fits on a log scale
</p>
</li>
<li>
<p> 15  phase plot
</p>
</li>
<li>
<p> 16  densities
</p>
</li>
<li>
<p> 17  cumulative densities
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>Plot to active plot device?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>Send plots to PNG files in directory specified by
<code>plotdir</code>?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>png</code></td>
<td>
<p>Has same result as <code>print</code>, included for consistency with
<code>SS_plots</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pdf</code></td>
<td>
<p>Write output to PDF file? Can't be used in conjunction with
<code>png</code> or <code>print</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>models</code></td>
<td>
<p>Optional subset of the models described in
<code>summaryoutput</code>.  Either "all" or a vector of numbers indicating
columns in summary tables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endyrvec</code></td>
<td>
<p>Optional single year or vector of years representing the
final year of values to show for each model. By default it is set to the
ending year specified in each model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indexfleets</code></td>
<td>
<p>Fleet numbers for each model to compare
indices of abundance. Can take different forms:
</p>

<ul>
<li>
<p> NULL: (default) create a separate plot for each index as long as the fleet
numbering is the same across all models.
</p>
</li>
<li>
<p> integer: create a single comparison plot for the chosen index
</p>
</li>
<li>
<p> vector of length equal to number of models: a single fleet number
for each model to be compared in a single plot
</p>
</li>
<li>
<p> list: list of fleet numbers associated with indices within each
model to be compared, where the list elements are each a vector of the
same length but the names of the list elements don't matter and can be
absent.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indexUncertainty</code></td>
<td>
<p>Show uncertainty intervals on index data?
Default=FALSE because if models have any extra standard deviations added,
these intervals may differ across models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indexQlabel</code></td>
<td>
<p>Add catchability to legend in plot of index fits
(TRUE/FALSE)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indexQdigits</code></td>
<td>
<p>Number of significant digits for catchability in legend
(if <code>indexQlabel = TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indexSEvec</code></td>
<td>
<p>Optional replacement for the SE values in
<code>summaryoutput[["indices"]]</code> to deal with the issue of differing uncertainty by
models described above.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indexPlotEach</code></td>
<td>
<p>TRUE plots the observed index for each model with
colors, or FALSE just plots observed once in black dots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>Vector of labels for plots (titles and axis labels)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Optional vector of colors to be used for lines. Input NULL
makes use of <code>rich.colors.short</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shadecol</code></td>
<td>
<p>Optional vector of colors to be used for shading uncertainty
intervals. The default (NULL) is to use the same colors provided by
<code>col</code> (either the default or a user-chosen input) and make them
more transparent by applying the <code>shadealpha</code> input as an alpha
transparency value (using the <code>adjustcolor()</code> function)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>Optional vector of plot character values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>Optional vector of line types</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>Optional vector of line widths</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spacepoints</code></td>
<td>
<p>Number of years between points shown on top of lines (for
long timeseries, points every year get mashed together)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>staggerpoints</code></td>
<td>
<p>Number of years to stagger the first point (if
<code>spacepoints &gt; 1</code>) for each line (so that adjacent lines have points in
different years)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initpoint</code></td>
<td>
<p>Year value for first point to be added to lines.
Points added to plots are those that satisfy
(Yr-initpoint)%%spacepoints == (staggerpoints*iline)%%spacepoints</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tickEndYr</code></td>
<td>
<p>TRUE/FALSE switch to turn on/off extra axis mark at final
year in timeseries plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shadeForecast</code></td>
<td>
<p>TRUE/FALSE switch to turn on off shading of years beyond
the maximum ending year of the models</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>Optional x limits</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylimAdj</code></td>
<td>
<p>Multiplier for ylim parameter. Allows additional white space
to fit legend if necessary. Default=1.05.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xaxs</code></td>
<td>
<p>Choice of xaxs parameter (see ?par for more info)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yaxs</code></td>
<td>
<p>Choice of yaxs parameter (see ?par for more info)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type parameter passed to points (default 'o' overplots points on
top of lines)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uncertainty</code></td>
<td>
<p>Show plots with uncertainty intervals? Either a single
TRUE/FALSE value, or a vector of TRUE/FALSE values for each model,
or a set of integers corresponding to the choice of models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shadealpha</code></td>
<td>
<p>Transparency adjustment used to make default shadecol
values (implemented as <code>adjustcolor(col=col, alpha.f=shadealpha)</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>Add a legend?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendlabels</code></td>
<td>
<p>Optional vector of labels to include in legend. Default
is 'model1','model2',etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendloc</code></td>
<td>
<p>Location of legend. Either a string like "topleft" or a
vector of two numeric values representing the fraction of the maximum in
the x and y dimensions, respectively. See <code>help("legend")</code> for more info on
the string options.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendorder</code></td>
<td>
<p>Optional vector of model numbers that can be used to have
the legend display the model names in an order that is different than that
which is represented in the summary input object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendncol</code></td>
<td>
<p>Number of columns for the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sprtarg</code></td>
<td>
<p>Target value for SPR-ratio where line is drawn in the SPR
plots and phase plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>btarg</code></td>
<td>
<p>Target biomass value at which to show a line (set to 0 to
remove)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minbthresh</code></td>
<td>
<p>Minimum biomass threshold at which to show a line (set to
0 to remove)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pwidth</code></td>
<td>
<p>Default width of plots printed to files in units of
<code>punits</code>. The default is <code>pwidth=6.5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pheight</code></td>
<td>
<p>Height of plots printed to png files in units of <code>punits</code>.
Default is designed to allow two plots per page, with <code>pheight_tall</code> used
for plots that work best with a taller format and a single plot per page.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>punits</code></td>
<td>
<p>Units for <code>pwidth</code> and <code>pheight</code>. Can be "px"
(pixels), "in" (inches), "cm" (centimeters), or "mm" (millimeters).
The default is <code>punits="in"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptsize</code></td>
<td>
<p>Point size for plotted text in plots printed to files (see
<code>help("png")</code> in R for details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotdir</code></td>
<td>
<p>Directory where PNG or PDF files will be written. By default
it will be the directory where the model was run.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filenameprefix</code></td>
<td>
<p>Additional text to append to PNG or PDF file names.
It will be separated from default name by an underscore.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>densitynames</code></td>
<td>
<p>Vector of names (or subset of names) of parameters or
derived quantities contained in <code>summaryoutput[["pars"]][["Label"]]</code> or
<code>summaryoutput[["quants"]][["Label"]]</code> for which to make density plots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>densityxlabs</code></td>
<td>
<p>Optional vector of x-axis labels to use in the density
plots (must be equal in length to the printed vector of quantities that
match the <code>densitynames</code> input)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rescale</code></td>
<td>
<p>TRUE/FALSE control of automatic rescaling of units into
thousands, millions, or billions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>densityscalex</code></td>
<td>
<p>Scalar for upper x-limit in density plots (values below
1 will cut off the right tail to provide better contrast among narrower
distributions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>densityscaley</code></td>
<td>
<p>Scalar for upper y-limit in density plots (values below
1 will cut off top of highest peaks to provide better contrast among broader
distributions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>densityadjust</code></td>
<td>
<p>Multiplier on bandwidth of kernel in density function
used for smoothing MCMC posteriors. See 'adjust' in ?density for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>densitysymbols</code></td>
<td>
<p>Add symbols along lines in density plots. Quantiles
are <code>c(0.025,0.1,0.25,0.5,0.75,0.9,0.975)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>densitytails</code></td>
<td>
<p>Shade tails outside of 95% interval darker in
density plots?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>densitymiddle</code></td>
<td>
<p>Shade middle inside of 95% interval darker in
density plots?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>densitylwd</code></td>
<td>
<p>Line width for density plots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fix0</code></td>
<td>
<p>Always include 0 in the density plots?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new</code></td>
<td>
<p>Create new empty plot window</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>Allows single plot to be added to existing figure. This needs to
be combined with specific 'subplots' input to make sure only one thing gets
added.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>par</code></td>
<td>
<p>list of graphics parameter values passed to the <code>par</code>
function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Report progress to R GUI?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mcmcVec</code></td>
<td>
<p>Vector of TRUE/FALSE values (or single value) indicating
whether input values are from MCMC or to use normal distribution around
MLE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_equilibrium</code></td>
<td>
<p>Whether to show the equilibrium values for
SSB. For some model comparisons, these might not be comparable and thus
useful to turn off. Defaults to TRUE.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Ian G. Taylor, John R. Wallace
</p>


<h3>See Also</h3>

<p><code>SS_plots()</code>, <code>SSsummarize()</code>,
<code>SS_output()</code>, <code>SSgetoutput()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# directories where models were run need to be defined
dir1 &lt;- "c:/SS/mod1"
dir2 &lt;- "c:/SS/mod2"

# read two models
mod1 &lt;- SS_output(dir = dir1)
mod2 &lt;- SS_output(dir = dir2)

# create list summarizing model results
mod.sum &lt;- SSsummarize(list(mod1, mod2))

# plot comparisons
SSplotComparisons(mod.sum, legendlabels = c("First model", "Second model"))

# Example showing comparison of MLE to MCMC results where the mcmc would have
# been run in the subdirectory 'c:/SS/mod1/mcmc'
mod1 &lt;- SS_output(dir = "c:/SS/mod1", dir.mcmc = "mcmc")
# pass the same model twice to SSsummarize in order to plot it twice
mod.sum &lt;- SSsummarize(list(mod1, mod1))
# compare MLE to MCMC
SSplotComparisons(mod.sum,
  legendlabels = c("MCMC", "MLE"),
  mcmcVec = c(TRUE, FALSE)
)

## End(Not run)

</code></pre>


</div>