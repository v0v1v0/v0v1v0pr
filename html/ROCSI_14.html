<div class="container">

<table style="width: 100%;"><tr>
<td>ROCSI</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ROCSI</h2>

<h3>Description</h3>

<p>function for ROCSI
</p>


<h3>Usage</h3>

<pre><code class="language-R">ROCSI(
  Dtrain,
  Dtest = NULL,
  yvar,
  xvars,
  trtvar,
  cvar = NULL,
  nfolds = 5,
  type = "binary"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Dtrain</code></td>
<td>
<p>data matrix for training dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Dtest</code></td>
<td>
<p>optional data matrix for testing dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yvar</code></td>
<td>
<p>column name for outcome</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xvars</code></td>
<td>
<p>a string vector of column names for input markers</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trtvar</code></td>
<td>
<p>column name for treatment (the column should contain binary code with 1 being treatment and 0 being control)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cvar</code></td>
<td>
<p>column name for censor (the column should contain binary code with 1 being event and 0 being censored)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfolds</code></td>
<td>
<p>n fold CV used for cv.glmnet</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>outcome type ("binary" for binary outcome and "survival" for time-to-event outcome)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>function for ROCSI
</p>


<h3>Value</h3>

<p>A list with ROCSI output
</p>

<dl>
<dt>beta.aABC</dt>
<dd>
<p>final beta estimated from ROCSI based on <code class="reqn">ABC^{(acv)}</code></p>
</dd>
<dt>beta.1se</dt>
<dd>
<p>final beta estimated from lambda.1se based on nfold CV</p>
</dd>
<dt>lambda.aABC</dt>
<dd>
<p>optimal lambda selected by optimizing <code class="reqn">ABC^{(acv)}</code></p>
</dd>
<dt>fit.cv</dt>
<dd>
<p>fitted cv.glmnet model</p>
</dd>
<dt>log</dt>
<dd>
<p>log matrix of all lambdas and ABCs</p>
</dd>
<dt>abc.test</dt>
<dd>
<p>ABC in testing dataset based on optimal beta</p>
</dd>
<dt>abc.test1se</dt>
<dd>
<p>ABC in testing dataset based on 1se beta</p>
</dd>
<dt>predScore</dt>
<dd>
<p>a data.frame of testing data and its predictive signature scores (based on beta.aABC) for each subjects</p>
</dd>
<dt>predScore.1se</dt>
<dd>
<p>a data.frame of testing data and its predictive signature scores (based on beta.1se) for each subjects</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">n &lt;- 100
k &lt;- 5
prevalence &lt;- sqrt(0.5)
rho&lt;-0.2
sig2 &lt;- 2
rhos.bt.real &lt;- c(0, rep(0.1, (k-3)))*sig2
y.sig2 &lt;- 1
yvar="y.binary"
xvars=paste("x", c(1:k), sep="")
trtvar="treatment"
prog.eff &lt;- 0.5
effect.size &lt;- 1
a.constent &lt;- effect.size/(2*(1-prevalence))
ObsData &lt;- data.gen(n=n, k=k, prevalence=prevalence, prog.eff=prog.eff,
                    sig2=sig2, y.sig2=y.sig2, rho=rho,
                    rhos.bt.real=rhos.bt.real, a.constent=a.constent)
TestData &lt;- data.gen(n=n, k=k, prevalence=prevalence, prog.eff=prog.eff,
                     sig2=sig2, y.sig2=y.sig2, rho=rho,
                     rhos.bt.real=rhos.bt.real, a.constent=a.constent)
bst.aabc &lt;- ROCSI(Dtrain=ObsData$data, Dtest = TestData$data, yvar=yvar,
xvars=xvars, trtvar=trtvar, cvar=NULL, nfolds=5, type="binary")
bst.aabc$beta.aABC
bst.aabc$log
bst.aabc$abc.test
bst.aabc$beta.1se
bst.aabc$abc.test1se
</code></pre>


</div>