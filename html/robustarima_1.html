<div class="container">

<table style="width: 100%;"><tr>
<td>arima.rob</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Robust Fit of a REGARIMA Model and Outliers Detection
</h2>

<h3>Description</h3>

<p>Returns an object of class <code>"arima.rob"</code>
that represents a robust fit of a linear
regression model with ARIMA errors using a filtered tau-estimate. The error
model may have seasonal differences and one seasonal moving average
parameter. It also returns the detected outliers and level shifts.
</p>


<h3>Usage</h3>

<pre><code class="language-R">arima.rob(formula, data, contrasts=NULL, start=NULL, end=NULL,
      p=0, q=0, d=0, sd=0, freq=1, sfreq=NULL, sma=FALSE,
      max.p=NULL, auto.ar=FALSE, n.predict=20, tol=10^(-6),
      max.fcal=2000, iter=FALSE, innov.outlier=FALSE, critv=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>

<p>a <code>formula</code> object, with the response on
the left of a <code>~</code> operator, and
the terms, separated by <code>+</code> operators,
on the right.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>a data frame or a <code>"timeSeries"</code> object with a data frame
in the data slot, which is used to interpret the variables named in
<code>formula</code>. If this
is missing, then the variables in <code>formula</code>
should be on the search list. Missing values are not allowed.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrasts</code></td>
<td>

<p>the same as the <code>contrasts</code> argument
for <code>lm</code> function.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>

<p>a character string which can be passed to <code>timeDate</code>
function to specify the starting date for the estimation.
This can only be used if the <code>data</code> argument is
a <code>"timeSeries"</code> data frame. The default is
<code>NULL</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>

<p>a character string which can be passed to <code>timeDate</code>
function to specify the ending date for the estimation.
This can only be used if the <code>data</code> argument is
a <code>"timeSeries"</code> data frame. The default is
<code>NULL</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>

<p>the autoregressive order of the errors model.
The default is <code>0</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>

<p>the moving average order of the errors model.
The default is <code>0</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>

<p>the number of regular differences in the ARIMA model.
It must be <code>0</code>, <code>1</code> or <code>2</code>.
The default is <code>0</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd</code></td>
<td>

<p>the number of seasonal differences. It must be <code>0</code>,
<code>1</code> or <code>2</code>. The default is <code>0</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq</code></td>
<td>

<p>the frequency of <code>data</code>. The default is <code>1</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sfreq</code></td>
<td>

<p>the seasonality frequency of <code>data</code>. If <code>NULL</code>,
it is set to be equal to <code>freq</code>. The default is
<code>NULL</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sma</code></td>
<td>

<p>logical flag: if <code>TRUE</code>, the errors model
includes a seasonal moving average parameter. The default is
<code>FALSE</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto.ar</code></td>
<td>

<p>logical flag: If <code>TRUE</code> an AR(p) model
is selected automatically using a robust AIC criterion.
The default is <code>FALSE</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.p</code></td>
<td>

<p>the maximum order of the autoregressive stationary model that approximates
the ARMA stationary model. If <code>NULL</code>,
<code>max.p=max(p+q,5)</code>.
If <code>q=0</code>,
then <code>max.p</code> is not necessary.
The default is <code>NULL</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.predict</code></td>
<td>

<p>the maximum number of future periods for which we wish to compute the
predictions. The default is <code>20</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>

<p>the tolerance for convergence.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.fcal</code></td>
<td>

<p>the maximum number of function evaluations.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter</code></td>
<td>

<p>a logical flag or the number of iterations to
execute <code>arima.rob</code> with.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>innov.outlier</code></td>
<td>

<p>logical flag: if <code>TRUE</code>, the function
<code>arima.rob</code> looks for innovation outliers
in addition to additive outliers and level shifts;
otherwise, <code>arima.rob</code> only looks for additive outliers and level shifts.
The default is <code>FALSE</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>critv</code></td>
<td>

<p>the critical value for detecting outliers.
If <code>NULL</code>, it assumes the
following default values:
<code>critv=3</code> if the length of the time series is less than 200;
<code>critv=3.5</code> if it is between 200 and 500, and
<code>critv=4</code> if it is greater than 500.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>extra arguments passed to or from other methods.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an object of class <code>"arima.rob"</code>
representing the fit and the outliers detected.
See <code>arima.rob.object</code> for details of
the components of the object.
</p>


<h3>Warning</h3>

<p>When either <code>d</code> or
<code>sd</code> is greater than zero, the interpretation
of the intercept in the <code>formula</code> is
different from its usual interpretation:
it represents the coefficient of the lowest order power of the time trend
which can be identified. For example, if
<code>d=2</code> and
<code>sd=0</code>, the
intercept represents the coefficient of the
term <code>t^2</code>.
</p>


<h3>References</h3>

<p>Bianco, A., Garcia Ben, M., Martinez, E., and Yohai, V. (1996).
Robust procedures for regression models with ARIMA errors.
<em>COMPSTAT 96, Proceedings in Computational Statistics</em>.
Ed. Albert Prat, pages. 27-38. Physica-Verlag, Heidelberg.
</p>
<p>Bianco, A., Garcia Ben, M., Martinez, E., and Yohai, V. (1997).
Outlier detection in regression models with ARIMA errors
using robust estimates.
mimeo.
</p>
<p>Chang, I., Tiao, G. C., and Chen, C. (1988).
Estimation of time series parameters in the presence of outliers.
<em>Technometrics</em>,
30:193-204.
</p>
<p>Maronna, R. A., Martin, R. D., Yohai, V. J., Salibi√°n-Barrera. M. (2017).
<em>Robust Statistics: Theory and Practice (with R)</em>, 2nd Edition, Wiley.
</p>
<p>Martin, R. D., Samarov, A., and Vandaele, W. (1983).
Robust methods for ARIMA models. in
<em>Applied Time Series Analysis of Economic Data</em>,
E. Zellner, ed.
</p>
<p>Yohai, V. Y., and Zamar, R. H. (1988).
High breakdown-point estimates of
regression by means of the minimization of an efficient scale.
<em>Journal of the American Statistical Association</em>,
83:406-413.
</p>


<h3>See Also</h3>

<p><code>arima.rob.object</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">frip.rr &lt;- arima.rob(log(frip.dat) ~ 1, p=2, d=1)
</code></pre>


</div>