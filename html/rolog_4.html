<div class="container">

<table style="width: 100%;"><tr>
<td>findall</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Invoke a query several times</h2>

<h3>Description</h3>

<p>Invoke a query several times
</p>


<h3>Usage</h3>

<pre><code class="language-R">findall(
  query = call("member", expression(X), list(quote(a), "b", 3L, 4, TRUE, expression(Y))),
  options = list(portray = FALSE),
  env = globalenv()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>an R call. The R call consists of symbols, integers and real numbers,
character strings, boolean values, expressions, lists, and other calls.
Vectors of booleans, integers, floating point numbers, and strings with
length <em>N</em> &gt; 1 are translated to prolog compounds !/N, %/N, #/N and $$/N,
respectively. The names can be modified with the options below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>This is a list of options controlling translation from and to prolog.
</p>

<ul>
<li> <p><em>boolvec</em> (see option rolog.boolvec, default is !) is the name of the
prolog compound for vectors of booleans.
</p>
</li>
<li> <p><em>intvec</em>, <em>realvec</em>, <em>charvec</em> define the compound names for vectors of
integers, doubles and strings, respectively (defaults are %, # and $$).
</p>
</li>
<li>
<p> If <em>scalar</em> is <code>TRUE</code> (default), vectors of length 1 are translated to
scalar prolog elements. If <em>scalar</em> is <code>FALSE</code>, vectors of length 1 are
also translated to compounds.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>The R environment in which the query is run (default: globalenv()). This is
mostly relevant for r_eval/2.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If the query fails, an empty list is returned. If the query
succeeds <em>N</em> &gt;= 1 times, a list of length <em>N</em> is returned, each element
being a list of conditions for each solution, see <code>once()</code>.
</p>


<h3>See Also</h3>

<p><code>once()</code>
for a single query
</p>
<p><code>query()</code>, <code>submit()</code>, and <code>clear()</code> for fine-grained control over
non-deterministic queries
</p>
<p><code>rolog_options()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># This query returns a list stating that it works if X = a, "b", ...
findall(call("member", expression(X), list(quote(a), "b", 3L, 4, TRUE, NULL, NA)))

# Continued
findall(call("member", expression(X), list(call("sin", call("/", quote(pi), 2)), expression(Y))))

# The same using simplified syntax
q &lt;- quote(member(.X, ""[a, "b", 3L, 4, TRUE, NULL, NA, sin(pi/2), .Y]))
findall(as.rolog(q))

</code></pre>


</div>