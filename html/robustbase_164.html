<div class="container">

<table style="width: 100%;"><tr>
<td>splitFrame</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Split Continuous and Categorical Predictors
</h2>

<h3>Description</h3>

<p>Splits the design matrix into categorical and continuous
predictors.  Categorical variables are variables that are <code>factor</code>s,
<code>ordered</code> factors, <em>or</em> <code>character</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">splitFrame(mf, x = model.matrix(mt, mf),
 	   type = c("f","fi", "fii"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mf</code></td>
<td>
<p>model frame (as returned by <code>model.frame</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(optional) design matrix, defaulting to the derived
<code>model.matrix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>a character string specifying the split type (see details).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Which split type is used can be controlled with the setting
<code>split.type</code> in <code>lmrob.control</code>.
</p>
<p>There are three split types. The only differences between the types
are how interactions between categorical and continuous variables are
handled. The extra types of splitting can be used to avoid
<em>Too many singular resamples</em> errors.
</p>
<p>Type <code>"f"</code>, the default, assigns only the intercept, categorical and
interactions of categorical variables to <code>x1</code>.  Interactions of
categorical and continuous variables are assigned to <code>x2</code>.
</p>
<p>Type <code>"fi"</code> assigns also interactions between categorical and
continuous variables to <code>x1</code>.
</p>
<p>Type <code>"fii"</code> assigns not only interactions between categorical and
continuous variables to <code>x1</code>,  but also the (corresponding)
continuous variables themselves.
</p>


<h3>Value</h3>

<p>A list that includes the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>x1 </code></td>
<td>
<p>design matrix containing only categorical variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x1.idx </code></td>
<td>
<p>logical vectors of the variables considered
categorical in the original design matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x2 </code></td>
<td>
<p>design matrix containing the continuous variables</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Manuel Koller
</p>


<h3>References</h3>

<p>Maronna, R. A., and Yohai, V. J. (2000).
Robust regression with both continuous and categorical predictors.
<em>Journal of Statistical Planning and Inference</em> <b>89</b>, 197â€“214.
</p>


<h3>See Also</h3>

<p><code>lmrob.M.S</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(education)
education &lt;- within(education, Region &lt;- factor(Region))
educaCh   &lt;- within(education, Region &lt;- as.character(Region))

## no interactions -- same split for all types:
fm1 &lt;- lm(Y ~ Region + X1 + X2 + X3, education)
fmC &lt;- lm(Y ~ Region + X1 + X2 + X3, educaCh  )
splt &lt;- splitFrame(fm1$model) ; str(splt)
splC &lt;- splitFrame(fmC$model)
stopifnot(identical(splt, splC))

## with interactions:
fm2 &lt;- lm(Y ~ Region:X1:X2 + X1*X2, education)
s1 &lt;- splitFrame(fm2$model, type="f"  )
s2 &lt;- splitFrame(fm2$model, type="fi" )
s3 &lt;- splitFrame(fm2$model, type="fii")
cbind(s1$x1.idx,
      s2$x1.idx,
      s3$x1.idx)
rbind(p.x1 = c(ncol(s1$x1), ncol(s2$x1), ncol(s3$x1)),
      p.x2 = c(ncol(s1$x2), ncol(s2$x2), ncol(s3$x2)))
</code></pre>


</div>