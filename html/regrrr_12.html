<div class="container">

<table style="width: 100%;"><tr>
<td>plot_effect</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>plotting the marginal effect of X on Y, with or without one or multiple interaction terms</h2>

<h3>Description</h3>

<p>plotting the marginal effect of X on Y, with or without one or multiple interaction terms
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_effect(
  reg.coef,
  data,
  model,
  by_color = FALSE,
  x_var.name = NULL,
  y_var.name = NULL,
  moderator.name = NULL,
  min_x = 0.001,
  max_x = 0.999,
  mdrt_quantile_05 = NULL,
  mdrt_quantile_50 = NULL,
  mdrt_quantile_95 = NULL,
  mod.n.sd = 1,
  confidence_interval = FALSE,
  v = NULL,
  CI_Ribbon = FALSE,
  title = NULL,
  xlab = "X_Var.name",
  ylab = "Y_Var.name",
  moderator.lab = "Moderator_name",
  mdrt.low.name = "Low",
  mdrt.mid.name = NULL,
  mdrt.high.name = "High",
  y.high.lim = NULL,
  y.low.lim = NULL,
  spline_labels = c("LHS", "RHS")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>reg.coef</code></td>
<td>
<p>a coefficient matrix of regression result, e.g. summary(lm_model)$coef</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>the data used in regression, a data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>the model object, such as a "lm" object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by_color</code></td>
<td>
<p>plot interactions by colors, otherwise by line types</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_var.name</code></td>
<td>
<p>x name in the regression model, a string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_var.name</code></td>
<td>
<p>y name in the regression model, a string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moderator.name</code></td>
<td>
<p>moderating variable name in the regression model, a string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_x</code></td>
<td>
<p>the min of x scale, in percentile of x</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_x</code></td>
<td>
<p>the max of x scale, in percentile of x</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mdrt_quantile_05</code></td>
<td>
<p>set the low level of moderator, in percentile</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mdrt_quantile_50</code></td>
<td>
<p>set the middle level of moderator, in percentile</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mdrt_quantile_95</code></td>
<td>
<p>set the high level of moderator, in percentile</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mod.n.sd</code></td>
<td>
<p>set the moderating strength, in the number of s.d. units, which can take negative values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confidence_interval</code></td>
<td>
<p>if TRUE, plot confidence intervals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>a customized variance-covariance matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CI_Ribbon</code></td>
<td>
<p>if TRUE, plot confidence interval ribbons, if FALSE, plot error bars</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>the title of the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>label of X</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>label of Y</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moderator.lab</code></td>
<td>
<p>label of moderator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mdrt.low.name</code></td>
<td>
<p>the label of low-level moderator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mdrt.mid.name</code></td>
<td>
<p>the label of mid-level moderator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mdrt.high.name</code></td>
<td>
<p>the label of high-level moderator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.high.lim</code></td>
<td>
<p>specify the upper limit of y</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.low.lim</code></td>
<td>
<p>specify the lower limit of y</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spline_labels</code></td>
<td>
<p>label of the spline variable; when the main varaible is a linear spline and spline labels are supplied, the moderation effect will be presented by facets.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data(mtcars)
m1 &lt;- lm(mpg ~ vs + carb + hp + wt + wt * hp , data = mtcars)
plot_effect(reg.coef = summary(m1)$coefficients,
                 data = mtcars, model = m1,
                 x_var.name = "wt", y_var.name = "mpg", moderator.name = "hp",
                 confidence_interval = TRUE,  CI_Ribbon = TRUE,
                 xlab = "Weight", ylab = "MPG", moderator.lab = "Horsepower")

## End(Not run)

#' @examples
## Not run: 
data(mtcars)
m2 &lt;- lm(mpg ~ vs + carb + hp + wt + wt * hp + wt * vs, data = mtcars)
plot_effect(reg.coef = summary(m2)$coefficients,
            data = mtcars, model = m2,
            x_var.name = "wt", y_var.name = "mpg", moderator.name = "hp",
            confidence_interval = TRUE,  CI_Ribbon = FALSE,
            xlab = "Weight", ylab = "MPG", moderator.lab = "Horsepower")

## End(Not run)

#' @examples
## Not run: 
data(mtcars)
m3 &lt;- lm(mpg ~ vs + carb + hp + lspline(wt, knots = 4, marginal = FALSE) * hp, data = mtcars)
plot_effect(reg.coef=summary(m3)$coefficients, 
            data = mtcars, model = m3, x_var.name = "wt", y_var.name = "mpg", moderator.name = "hp",
            xlab="Weight", ylab="MPG", moderator.lab="Horsepower") 

## End(Not run)

## Not run: 
# this shows the function is compatible with ggplot2 customization
library(extrafont)
m1 &lt;- lm(mpg ~ vs + carb + hp + wt + wt * hp , data = mtcars)
plot_effect(reg.coef = summary(m1)$coefficients, 
                 data = mtcars, model = m1, 
                 x_var.name = "wt", y_var.name = "mpg", moderator.name = "hp", 
                 confidence_interval = TRUE,  CI_Ribbon = TRUE, 
                 xlab = "Weight", ylab = "MPG", moderator.lab = "Horsepower") + 
ggplot2::theme(text=ggplot2::element_text(family="Times New Roman", size = 16))

## End(Not run)

</code></pre>


</div>