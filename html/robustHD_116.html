<div class="container">

<table style="width: 100%;"><tr>
<td>setupCoefPlot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set up a coefficient plot of a sequence of regression models</h2>

<h3>Description</h3>

<p>Extract the relevent information for a plot of the coefficients for a
sequence of regression models, such as submodels along a robust or groupwise
least angle regression sequence, or sparse least trimmed squares regression
models for a grid of values for the penalty parameter.
</p>


<h3>Usage</h3>

<pre><code class="language-R">setupCoefPlot(object, ...)

## S3 method for class 'seqModel'
setupCoefPlot(object, zeros = FALSE, labels = NULL, ...)

## S3 method for class 'tslars'
setupCoefPlot(object, p, ...)

## S3 method for class 'sparseLTS'
setupCoefPlot(
  object,
  fit = c("reweighted", "raw", "both"),
  zeros = FALSE,
  labels = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>the model fit from which to extract information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be passed down.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeros</code></td>
<td>
<p>a logical indicating whether predictors that never enter the
model and thus have zero coefficients should be included in the plot
(<code>TRUE</code>) or omitted (<code>FALSE</code>, the default).  This is useful if the
number of predictors is much larger than the number of observations, in
which case many coefficients are never nonzero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>an optional character vector containing labels for the
predictors.  Information on labels can be suppressed by setting this to
<code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>an integer giving the lag length for which to extract information
(the default is to use the optimal lag length).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>a character string specifying for which estimator to extract
information.  Possible values are <code>"reweighted"</code> (the default) for
the reweighted fits, <code>"raw"</code> for the raw fits, or <code>"both"</code> for
both estimators.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object inheriting from class <code>"setupCoefPlot"</code> with the
following components:
</p>

<dl>
<dt><code>coefficients</code></dt>
<dd>
<p>a data frame containing the following columns:
</p>

<dl>
<dt><code>fit</code></dt>
<dd>
<p>the model fit for which the coefficient is computed
(only returned if both the reweighted and raw fit are requested in the
<code>"sparseLTS"</code> method).</p>
</dd>
<dt><code>lambda</code></dt>
<dd>
<p>the value of the penalty parameter for which the
coefficient is computed (only returned for the <code>"sparseLTS"</code>
method).</p>
</dd>
<dt><code>step</code></dt>
<dd>
<p>the step along the sequence for which the coefficient
is computed.</p>
</dd>
<dt><code>df</code></dt>
<dd>
<p>the degrees of freedom of the submodel along the
sequence for which the coefficient is computed.</p>
</dd>
<dt><code>coefficient</code></dt>
<dd>
<p>the value of the coefficient.</p>
</dd>
<dt><code>variable</code></dt>
<dd>
<p>a character string specifying to which variable
the coefficient belongs.</p>
</dd>
</dl>
</dd>
<dt><code>abscissa</code></dt>
<dd>
<p>a character string specifying available options for
what to plot on the <code class="reqn">x</code>-axis</p>
</dd>
<dt><code>lambda</code></dt>
<dd>
<p>a numeric vector giving the values of the penalty
parameter. (only returned for the <code>"sparseLTS"</code> method).</p>
</dd>
<dt><code>step</code></dt>
<dd>
<p>an integer vector containing the steps for which
submodels along the sequence have been computed.</p>
</dd>
<dt><code>df</code></dt>
<dd>
<p>an integer vector containing the degrees of freedom of
the submodels along the sequence (i.e., the number of estimated
coefficients; only returned for the <code>"seqModel"</code> method).</p>
</dd>
<dt><code>includeLabels</code></dt>
<dd>
<p>a logical indicating whether information on
labels for the variables should be included in the plot.</p>
</dd>
<dt><code>labels</code></dt>
<dd>
<p>a data frame containing the following columns (not
returned if information on labels is suppressed):
</p>

<dl>
<dt><code>fit</code></dt>
<dd>
<p>the model fit for which the coefficient is computed
(only returned if both the reweighted and raw fit are requested in the
<code>"sparseLTS"</code> method).</p>
</dd>
<dt><code>lambda</code></dt>
<dd>
<p>the smallest value of the penalty parameter
(only returned for the <code>"sparseLTS"</code>
method).</p>
</dd>
<dt><code>step</code></dt>
<dd>
<p>the last step along the sequence.</p>
</dd>
<dt><code>df</code></dt>
<dd>
<p>the degrees of freedom of the last submodel along the
sequence.</p>
</dd>
<dt><code>coefficient</code></dt>
<dd>
<p>the value of the coefficient.</p>
</dd>
<dt><code>label</code></dt>
<dd>
<p>the label of the corresponding variable to be
displayed in the plot.</p>
</dd>
</dl>
</dd>
<dt><code>facets</code></dt>
<dd>
<p>default faceting formula for the plots (only
returned if both estimators are requested in the <code>"sparseLTS"</code>
method).</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>See Also</h3>

<p><code>coefPlot</code>, <code>rlars</code>,
<code>grplars</code>, <code>rgrplars</code>, <code>tslarsP</code>,
<code>rtslarsP</code>, <code>tslars</code>, <code>rtslars</code>,
<code>sparseLTS</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## generate data
# example is not high-dimensional to keep computation time low
library("mvtnorm")
set.seed(1234)  # for reproducibility
n &lt;- 100  # number of observations
p &lt;- 25   # number of variables
beta &lt;- rep.int(c(1, 0), c(5, p-5))  # coefficients
sigma &lt;- 0.5      # controls signal-to-noise ratio
epsilon &lt;- 0.1    # contamination level
Sigma &lt;- 0.5^t(sapply(1:p, function(i, j) abs(i-j), 1:p))
x &lt;- rmvnorm(n, sigma=Sigma)    # predictor matrix
e &lt;- rnorm(n)                   # error terms
i &lt;- 1:ceiling(epsilon*n)       # observations to be contaminated
e[i] &lt;- e[i] + 5                # vertical outliers
y &lt;- c(x %*% beta + sigma * e)  # response
x[i,] &lt;- x[i,] + 5              # bad leverage points


## robust LARS
# fit model
fitRlars &lt;- rlars(x, y, sMax = 10)
# extract information for plotting
setup &lt;- setupCoefPlot(fitRlars)
coefPlot(setup)


## sparse LTS over a grid of values for lambda
# fit model
frac &lt;- seq(0.2, 0.05, by = -0.05)
fitSparseLTS &lt;- sparseLTS(x, y, lambda = frac, mode = "fraction")
# extract information for plotting
setup1 &lt;- setupCoefPlot(fitSparseLTS)
coefPlot(setup1)
setup2 &lt;- setupCoefPlot(fitSparseLTS, fit = "both")
coefPlot(setup2)
</code></pre>


</div>