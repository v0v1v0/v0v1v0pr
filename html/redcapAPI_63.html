<div class="container">

<table style="width: 100%;"><tr>
<td>exportBulkRecords</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A helper function to export multiple records and forms using
a single call.</h2>

<h3>Description</h3>

<p>Exports records from multiple REDCap Databases using
multiple calls to <code>exportRecordsTyped()</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">exportBulkRecords(
  lcon,
  forms = NULL,
  envir = NULL,
  sep = "_",
  post = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>lcon</code></td>
<td>
<p>A named list of connections. The name is used as a prefix for data.frame
names in the environment specified. It may also be used as a reference from the
forms argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forms</code></td>
<td>
<p>A named list that is a subset of rcon's names. A specified <code>rcon</code>
will provide a list of forms for repeated calls to <code>exportRecordsType</code>.
If a connection reference is missing it will default to all forms. To override
this default specify a connection's forms with NA to just get all
data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>A environment to write the resulting Records in as variables
given by their name in rcon or if from a form their rcon named pasted to
their form name joined by <code>sep</code>. If not specified the function
will return a named list with the results. Will accept a number of the
environment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>A character string to use when joining the rcon name to the form name
for storing variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>post</code></td>
<td>
<p>A function that will run on all returned sets of Records.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Any additional variables to pass to <code>exportRecordsTyped()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Will return a named list of the resulting records if <code>envir</code> is
NULL. Otherwise will assign them to the specified <code>envir</code>.
</p>


<h3>See Also</h3>



<h4>Other records exporting functions</h4>

<p><code>exportRecordsTyped()</code>, <br><code>exportRecords()</code>, <br><code>exportReports()</code>
</p>



<h4>Field validations and casting</h4>

<p><code>fieldValidationAndCasting()</code>, <br><code>reviewInvalidRecords()</code>
</p>



<h4>Post-processing functionality</h4>

<p><code>recastRecords()</code>, <br><code>guessCast()</code>, <br><code>guessDate()</code>, <br><code>castForImport()</code>, <br><code>mChoiceCast()</code>, <br><code>splitForms()</code>, <br><code>widerRepeated()</code>
</p>



<h4>Vignettes</h4>

<p><code>vignette("redcapAPI-offline-connection")</code><br><code>vignette("redcapAPI-casting-data")</code><br><code>vignette("redcapAPI-missing-data-detection")</code><br><code style="white-space: pre;">⁠vignette("redcapAPI-data-validation)⁠</code><br><code style="white-space: pre;">⁠vignette("redcapAPI-faq)⁠</code>
</p>



<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
unlockREDCap(c(test_conn    = 'TestRedcapAPI',
               sandbox_conn = 'SandboxAPI'),
             keyring      = 'MyKeyring',
             envir        = globalenv(),
             url          = 'https://&lt;REDCAP_URL&gt;/api/') 

# After user interaction to unlock the local encrypted keyring
# the global environment will contain the REDCap connections
# `test_conn` and `sandbox_conn`
# 
# Next the user wants to bulk specify importing all the forms
# of interest and post process

exportBulkRecords(
 rcon  = list(test = test_conn,
              sand = sandbox_conn),
 forms = list(test = c('form1', 'form2'),
 envir = globalenv(),
 post  = function(Records, rcon)
         {
           Records              |&gt;
           mChoiceCast(rcon)    |&gt;
           guessDat(rcon)       |&gt;
           widerRepeating(rcon)
         }
 )
 
# The environment now contains the data.frames: `test.form1`, `test.form2`, `sand`.
# Each of these were retrieved, possibly using the forms argument and all were
# post processed in the same manner as specified by `post`.

## End(Not run)
</code></pre>


</div>