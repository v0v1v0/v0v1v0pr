<div class="container">

<table style="width: 100%;"><tr>
<td>extract</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract values from raster time series</h2>

<h3>Description</h3>

<p>Extract values from a <code>Raster*TS</code> object for the spatial locations which can be specified by spatial points, lines, polygons or an Extent (rectangle) object or raster cell number(s). 
</p>


<h3>Details</h3>

<p>This function uses the <span class="pkg">raster</span> and <span class="pkg">xts</span> packages to extract the values in space and subset them in time by specifying ISO-8601 compatible range strings. This allows for natural range-based time queries without requiring prior knowledge of the underlying time object used in construction.
</p>
<p>When a raw character vector is used for the <code>time</code>, it is processed as if it was ISO-8601 compliant.  This means that it is parsed from left to right, according to the following specification:
</p>
<p>CCYYMMDD HH:MM:SS.ss+
</p>
<p>A full description will be expanded from a left-specified truncated one.
</p>
<p>Additionally, one may specify range-based queries by simply supplying two time descriptions seperated by a forward slash:
</p>
<p>CCYYMMDD HH:MM:SS.ss+/CCYYMMDD HH:MM:SS.ss
</p>
<p>The algorithm to parse the above is <code>.parseISO8601</code> from
the <span class="pkg">xts</span> package.
</p>


<h3>Value</h3>

<p>An <code>rts</code> object.
</p>


<h3>Methods</h3>


<p><code>extract(x, y, time)</code>
</p>
<p>Arguments
</p>
<p><code>x</code>  is a raster time series (<code>Raster*TS</code>) object created by <code>rts</code>
</p>
<p><code>y</code>  is a <code>SpatialPoints*</code>, <code>SpatialPolygons*</code>, <code>SpatialLines</code>, <code>Extent</code> object, or a vector (representing cell numbers)
</p>
<p><code>time</code> is Optional; the time index for which the values in raster should be extracted. It can be numeric, timeBased or ISO-8601 style (see details)
</p>


<h3>Author(s)</h3>

<p>Babak Naimi
</p>
<p><a href="mailto:naimi.b@gmail.com">naimi.b@gmail.com</a>
</p>
<p><a href="https://r-gis.net/">https://r-gis.net/</a>
</p>


<h3>See Also</h3>

<p><code>[.xts</code> and <code>extract</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
file &lt;- system.file("external/ndvi", package="rts")

ndvi &lt;- rts(file) # read the ndvi time series from the specified file

n1 &lt;- extract(ndvi,125)# extract the time series values at cell number 125 for all times

n1

plot(n1)

n2 &lt;- extract(ndvi,125,"/20090101") # extract the time series values at cell number 125
# for all times after 2009-01-01

n2
plot(n2)

n3 &lt;- extract(ndvi,125,"200901/") # extract the time series values at cell number 125 for 
# all times before 2009-01

n4 &lt;- extract(ndvi,10:20,"2008") # extract the values at cell numbers of 10:20 in 
# the year of 2008

n4

## End(Not run)



</code></pre>


</div>