<div class="container">

<table style="width: 100%;"><tr>
<td>update.RRRR</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Update the RRRR/ORRRR type model with addition data</h2>

<h3>Description</h3>

<p><code>update.RRRR</code> will update online robust reduced-rank regression model with class <code>RRRR</code>(<code>ORRRR</code>) using newly added data
to achieve online estimation.
Estimation methods:
</p>

<dl>
<dt>SMM</dt>
<dd>
<p>Stochastic Majorisation-Minimisation</p>
</dd>
<dt>SAA</dt>
<dd>
<p>Sample Average Approximation</p>
</dd>
</dl>
<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'RRRR'
update(
  object,
  newy,
  newx,
  newz = NULL,
  addon = object$spec$addon,
  method = object$method,
  SAAmethod = object$SAAmethod,
  ...,
  ProgressBar = requireNamespace("lazybar")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A model with class <code>RRRR</code>(<code>ORRRR</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newy</code></td>
<td>
<p>Matrix of dimension N*P, the new data y. The matrix for the response variables. See <code>Detail</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newx</code></td>
<td>
<p>Matrix of dimension N*Q, the new data x. The matrix for the explanatory variables to be projected. See <code>Detail</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newz</code></td>
<td>
<p>Matrix of dimension N*R, the new data z. The matrix for the explanatory variables not to be projected. See <code>Detail</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addon</code></td>
<td>
<p>Integer. The number of data points to be added in the algorithm in each iteration after the first.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Character. The estimation method. Either "SMM" or "SAA". See <code>Description</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SAAmethod</code></td>
<td>
<p>Character. The sub solver used in each iteration when the <code>methid</code> is chosen to be "SAA". See <code>Detail</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to function
</p>

<dl>
<dt><code>optim</code></dt>
<dd>
<p>when the <code>method</code> is "SAA" and the <code>SAAmethod</code> is "optim"</p>
</dd>
<dt><code>RRRR</code></dt>
<dd>
<p>when the <code>method</code> is "SAA" and the <code>SAAmethod</code> is "MM"</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ProgressBar</code></td>
<td>
<p>Logical. Indicating if a progress bar is shown during the estimation process.
The progress bar requires package <code>lazybar</code> to work.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The formulation of the reduced-rank regression is as follow:
</p>
<p style="text-align: center;"><code class="reqn">y = \mu +AB'  x + D z+innov,</code>
</p>

<p>where for each realization <code class="reqn">y</code> is a vector of dimension <code class="reqn">P</code> for the <code class="reqn">P</code> response variables,
<code class="reqn">x</code> is a vector of dimension <code class="reqn">Q</code> for the <code class="reqn">Q</code> explanatory variables that will be projected to
reduce the rank,
<code class="reqn">z</code> is a vector of dimension <code class="reqn">R</code> for the <code class="reqn">R</code> explanatory variables
that will not be projected,
<code class="reqn">\mu</code> is the constant vector of dimension <code class="reqn">P</code>,
<code class="reqn">innov</code> is the innovation vector of dimension <code class="reqn">P</code>,
<code class="reqn">D</code> is a coefficient matrix for <code class="reqn">z</code> with dimension <code class="reqn">P*R</code>,
<code class="reqn">A</code> is the so called exposure matrix with dimension <code class="reqn">P*r</code>, and
<code class="reqn">B</code> is the so called factor matrix with dimension <code class="reqn">Q*r</code>.
The matrix resulted from <code class="reqn">AB'</code> will be a reduced rank coefficient matrix with rank of <code class="reqn">r</code>.
The function estimates parameters <code class="reqn">\mu</code>, <code class="reqn">A</code>, <code class="reqn">B</code>, <code class="reqn">D</code>, and <code class="reqn">Sigma</code>, the covariance matrix of
the innovation's distribution.
</p>
<p>See <code>?ORRRR</code> for details about the estimation methods.
</p>


<h3>Value</h3>

<p>A list of the estimated parameters of class <code>ORRRR</code>.
</p>

<dl>
<dt>method</dt>
<dd>
<p>The estimation method being used</p>
</dd>
<dt>SAAmethod</dt>
<dd>
<p>If SAA is the major estimation method, what is the sub solver in each iteration.</p>
</dd>
<dt>spec</dt>
<dd>
<p>The input specifications. <code class="reqn">N</code> is the sample size.</p>
</dd>
<dt>history</dt>
<dd>
<p>The path of all the parameters during optimization and the path of the objective value.</p>
</dd>
<dt>mu</dt>
<dd>
<p>The estimated constant vector. Can be <code>NULL</code>.</p>
</dd>
<dt>A</dt>
<dd>
<p>The estimated exposure matrix.</p>
</dd>
<dt>B</dt>
<dd>
<p>The estimated factor matrix.</p>
</dd>
<dt>D</dt>
<dd>
<p>The estimated coefficient matrix of <code>z</code>.</p>
</dd>
<dt>Sigma</dt>
<dd>
<p>The estimated covariance matrix of the innovation distribution.</p>
</dd>
<dt>obj</dt>
<dd>
<p>The final objective value.</p>
</dd>
<dt>data</dt>
<dd>
<p>The data used in estimation.</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Yangzhuoran Yang
</p>


<h3>See Also</h3>

<p><code>ORRRR</code>, <code>RRRR</code>, <code>RRR</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(2222)
data &lt;- RRR_sim()
newdata &lt;- RRR_sim(A = data$spec$A,
                   B = data$spec$B,
                   D = data$spec$D)
res &lt;- ORRRR(y=data$y, x=data$x, z = data$z)
res &lt;- update(res, newy=newdata$y, newx=newdata$x, newz=newdata$z)
res

</code></pre>


</div>