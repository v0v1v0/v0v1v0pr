<div class="container">

<table style="width: 100%;"><tr>
<td>getDataset</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get Dataset</h2>

<h3>Description</h3>

<p>Creates a dataset object and returns it.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getDataset(..., floatingPointNumbersEnabled = FALSE)

getDataSet(..., floatingPointNumbersEnabled = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>A <code>data.frame</code> or some data vectors defining the dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>floatingPointNumbersEnabled</code></td>
<td>
<p>If <code>TRUE</code>,
sample sizes and event numbers can be specified as floating-point numbers
(this make sense, e.g., for theoretical comparisons); <br>
by default <code>floatingPointNumbersEnabled = FALSE</code>, i.e.,
samples sizes and event numbers defined as floating-point numbers will be truncated.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The different dataset types <code>DatasetMeans</code>, of <code>DatasetRates</code>, or
<code>DatasetSurvival</code> can be created as follows:
</p>

<ul>
<li>
<p> An element of <code>DatasetMeans</code> for one sample is created by <br><code>getDataset(sampleSizes =, means =, stDevs =)</code> where <br><code>sampleSizes</code>, <code>means</code>, <code>stDevs</code> are vectors with stage-wise sample sizes,
means and standard deviations of length given by the number of available stages.
</p>
</li>
<li>
<p> An element of <code>DatasetMeans</code> for two samples is created by <br><code>getDataset(sampleSizes1 =, sampleSizes2 =, means1 =, means2 =, </code> <br><code>stDevs1 =, stDevs2 =)</code> where
<code>sampleSizes1</code>, <code>sampleSizes2</code>, <code>means1</code>, <code>means2</code>,
<code>stDevs1</code>, <code>stDevs2</code> are vectors with
stage-wise sample sizes, means and standard deviations for the two treatment groups
of length given by the number of available stages.
</p>
</li>
<li>
<p> An element of <code>DatasetRates</code> for one sample is created by <br><code>getDataset(sampleSizes =, events =)</code> where <code>sampleSizes</code>, <code>events</code> are vectors
with stage-wise sample sizes and events of length given by the number of available stages.
</p>
</li>
<li>
<p> An element of <code>DatasetRates</code> for two samples is created by <br><code>getDataset(sampleSizes1 =, sampleSizes2 =, events1 =, events2 =)</code> where
<code>sampleSizes1</code>, <code>sampleSizes2</code>, <code>events1</code>, <code>events2</code>
are vectors with stage-wise sample sizes
and events  for the two treatment groups of length given by the number of available stages.
</p>
</li>
<li>
<p> An element of <code>DatasetSurvival</code> is created by <br><code>getDataset(events =, logRanks =, allocationRatios =)</code> where
<code>events</code>, <code>logRanks</code>, and <code>allocation ratios</code> are the stage-wise events,
(one-sided) logrank statistics, and allocation ratios.
</p>
</li>
<li>
<p> An element of <code>DatasetMeans</code>, <code>DatasetRates</code>, and <code>DatasetSurvival</code>
for more than one comparison is created by adding subsequent digits to the variable names.
The system can analyze these data in a multi-arm many-to-one comparison setting where the
group with the highest index represents the control group.
</p>
</li>
</ul>
<p>Prefix <code>overall[Capital case of first letter of variable name]...</code> for the variable
names enables entering the overall (cumulative) results and calculates stage-wise statistics.
Since rpact version 3.2, the prefix <code>cumulative[Capital case of first letter of variable name]...</code> or
<code>cum[Capital case of first letter of variable name]...</code> can alternatively be used for this.
</p>
<p><code>n</code> can be used in place of <code>samplesizes</code>.
</p>
<p>Note that in survival design usually the overall (cumulative) events and logrank test statistics are provided
in the output, so <br><code>getDataset(cumulativeEvents=, cumulativeLogRanks =, cumulativeAllocationRatios =)</code> <br>
is the usual command for entering survival data. Note also that for <code>cumulativeLogranks</code> also the
z scores from a Cox regression can be used.
</p>
<p>For multi-arm designs, the index refers to the considered comparison. For example,<br><code>
  getDataset(events1=c(13, 33), logRanks1 = c(1.23, 1.55), events2 = c(16, NA), logRanks2 = c(1.55, NA))
</code> <br>
refers to the case where one active arm (1) is considered at both stages whereas active arm 2
was dropped at interim. Number of events and logrank statistics are entered for the corresponding
comparison to control (see Examples).
</p>
<p>For enrichment designs, the comparison of two samples is provided for an unstratified
(sub-population wise) or stratified data input.<br>
For non-stratified (sub-population wise) data input the data sets are defined for the sub-populations
S1, S2, ..., F, where F refers to the full populations. Use of <code>getDataset(S1 = , S2, ..., F = )</code>
defines the data set to be used in <code>getAnalysisResults()</code> (see examples)<br>
For stratified data input the data sets are defined for the strata S1, S12, S2, ..., R, where R
refers to the remainder of the strata such that the union of all sets is the full population.
Use of <code>getDataset(S1 = , S12 = , S2, ..., R = )</code> defines the data set to be used in
<code>getAnalysisResults()</code> (see examples)<br>
For survival data, for enrichment designs the log-rank statistics can only be entered as stratified
log-rank statistics in order to provide strong control of Type I error rate. For stratified data input,
the variables to be specified in <code>getDataset()</code> are <code>cumEvents</code>, <code>cumExpectedEvents</code>,
<code>cumVarianceEvents</code>, and <code>cumAllocationRatios</code> or <code>overallEvents</code>, <code>overallExpectedEvents</code>,
<code>overallVarianceEvents</code>, and <code>overallAllocationRatios</code>. From this, (stratified) log-rank tests and
and the independent increments are calculated.
</p>


<h3>Value</h3>

<p>Returns a <code>Dataset</code> object.
The following generics (R generic functions) are available for this result object:
</p>

<ul>
<li> <p><code>names()</code> to obtain the field names,
</p>
</li>
<li> <p><code>print()</code> to print the object,
</p>
</li>
<li> <p><code>summary()</code> to display a summary of the object,
</p>
</li>
<li> <p><code>plot()</code> to plot the object,
</p>
</li>
<li> <p><code>as.data.frame()</code> to coerce the object to a <code>data.frame</code>,
</p>
</li>
<li> <p><code>as.matrix()</code> to coerce the object to a <code>matrix</code>.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Create a Dataset of Means (one group):
datasetOfMeans &lt;- getDataset(
    n      = c(22, 11, 22, 11),
    means  = c(1, 1.1, 1, 1),
    stDevs = c(1, 2, 2, 1.3)
)
datasetOfMeans
datasetOfMeans$show(showType = 2)

datasetOfMeans2 &lt;- getDataset(
    cumulativeSampleSizes = c(22, 33, 55, 66),
    cumulativeMeans = c(1.000, 1.033, 1.020, 1.017),
    cumulativeStDevs = c(1.00, 1.38, 1.64, 1.58)
)
datasetOfMeans2
datasetOfMeans2$show(showType = 2)
as.data.frame(datasetOfMeans2)

# Create a Dataset of Means (two groups):
datasetOfMeans3 &lt;- getDataset(
    n1 = c(22, 11, 22, 11),
    n2 = c(22, 13, 22, 13),
    means1  = c(1, 1.1, 1, 1),
    means2  = c(1.4, 1.5, 3, 2.5),
    stDevs1 = c(1, 2, 2, 1.3),
    stDevs2 = c(1, 2, 2, 1.3)
)
datasetOfMeans3

datasetOfMeans4 &lt;- getDataset(
    cumulativeSampleSizes1 = c(22, 33, 55, 66),
    cumulativeSampleSizes2 = c(22, 35, 57, 70),
    cumulativeMeans1  = c(1, 1.033, 1.020, 1.017),
    cumulativeMeans2  = c(1.4, 1.437, 2.040, 2.126),
    cumulativeStDevs1 = c(1, 1.38, 1.64, 1.58),
    cumulativeStDevs2 = c(1, 1.43, 1.82, 1.74)
)
datasetOfMeans4

df &lt;- data.frame(
    stages = 1:4,
    n1      = c(22, 11, 22, 11),
    n2      = c(22, 13, 22, 13),
    means1  = c(1, 1.1, 1, 1),
    means2  = c(1.4, 1.5, 3, 2.5),
    stDevs1 = c(1, 2, 2, 1.3),
    stDevs2 = c(1, 2, 2, 1.3)
)
datasetOfMeans5 &lt;- getDataset(df)
datasetOfMeans5

# Create a Dataset of Means (three groups) where the comparison of 
# treatment arm 1 to control is dropped at the second interim stage:
datasetOfMeans6 &lt;- getDataset(
   cumN1      = c(22, 33, NA),
   cumN2      = c(20, 34, 56),
   cumN3      = c(22, 31, 52),
   cumMeans1  = c(1.64, 1.54, NA),
   cumMeans2  = c(1.7, 1.5, 1.77),
   cumMeans3  = c(2.5, 2.06, 2.99),
   cumStDevs1 = c(1.5, 1.9, NA),
   cumStDevs2 = c(1.3, 1.3, 1.1),
   cumStDevs3 = c(1, 1.3, 1.8))
datasetOfMeans6

# Create a Dataset of Rates (one group):
datasetOfRates &lt;- getDataset(
    n = c(8, 10, 9, 11), 
    events = c(4, 5, 5, 6)
)
datasetOfRates

# Create a Dataset of Rates (two groups):
datasetOfRates2 &lt;- getDataset(
    n2      = c(8, 10, 9, 11),
    n1      = c(11, 13, 12, 13),
    events2 = c(3, 5, 5, 6),
    events1 = c(10, 10, 12, 12)
)
datasetOfRates2

# Create a Dataset of Rates (three groups) where the comparison of 
# treatment arm 2 to control is dropped at the first interim stage:
datasetOfRates3 &lt;- getDataset(
    cumN1      = c(22, 33, 44),
    cumN2      = c(20, NA, NA),
    cumN3      = c(20, 34, 44),
    cumEvents1 = c(11, 14, 22),
    cumEvents2 = c(17, NA, NA),
    cumEvents3 = c(17, 19, 33))
datasetOfRates3

# Create a Survival Dataset
datasetSurvival &lt;- getDataset(
    cumEvents = c(8, 15, 19, 31),
    cumAllocationRatios = c(1, 1, 1, 2),
    cumLogRanks = c(1.52, 1.98, 1.99, 2.11)
)
datasetSurvival
 
# Create a Survival Dataset with four comparisons where treatment
# arm 2 was dropped at the first interim stage, and treatment arm 4
# at the second.
datasetSurvival2 &lt;- getDataset(
    cumEvents1   = c(18, 45, 56),
    cumEvents2   = c(22, NA, NA),
    cumEvents3   = c(12, 41, 56),
    cumEvents4   = c(27, 56, NA),
    cumLogRanks1 = c(1.52, 1.98, 1.99),
    cumLogRanks2 = c(3.43, NA, NA),
    cumLogRanks3 = c(1.45, 1.67, 1.87),
    cumLogRanks4 = c(1.12, 1.33, NA)
)
datasetSurvival2

# Enrichment: Stratified and unstratified data input
# The following data are from one study. Only the first 
# (stratified) data input enables a stratified analysis. 

# Stratified data input
S1 &lt;- getDataset(
    sampleSize1 = c(18, 17), 
    sampleSize2 = c(12, 33), 
    mean1       = c(125.6, 111.1), 
    mean2       = c(107.7, 77.7), 
    stDev1      = c(120.1, 145.6),
    stDev2      = c(128.5, 133.3)) 
S2 &lt;- getDataset(
    sampleSize1 = c(11, NA), 
    sampleSize2 = c(14, NA), 
    mean1       = c(100.1, NA), 
    mean2      = c( 68.3, NA), 
    stDev1      = c(116.8, NA),
    stDev2      = c(124.0, NA)) 
S12 &lt;- getDataset(           
    sampleSize1 = c(21, 17), 
    sampleSize2 = c(21, 12), 
    mean1       = c(135.9, 117.7), 
    mean2       = c(84.9, 107.7), 
    stDev1      = c(185.0, 92.3),
    stDev2      = c(139.5, 107.7)) 
R &lt;- getDataset(
    sampleSize1 = c(19, NA), 
    sampleSize2 = c(33, NA), 
    mean1       = c(142.4, NA), 
    mean2       = c(77.1, NA), 
    stDev1      = c(120.6, NA),
    stDev2      = c(163.5, NA)) 
dataEnrichment &lt;- getDataset(S1 = S1, S2 = S2, S12 = S12, R = R)
dataEnrichment

# Unstratified data input
S1N &lt;- getDataset(
    sampleSize1 = c(39, 34), 
    sampleSize2 = c(33, 45), 
    stDev1      = c(156.503, 120.084), 
    stDev2      = c(134.025, 126.502), 
    mean1       = c(131.146, 114.4), 
    mean2       = c(93.191, 85.7))
S2N &lt;- getDataset(
    sampleSize1 = c(32, NA), 
    sampleSize2 = c(35, NA), 
    stDev1      = c(163.645, NA), 
    stDev2      = c(131.888, NA),
    mean1       = c(123.594, NA), 
    mean2       = c(78.26, NA))
F &lt;- getDataset(
    sampleSize1 = c(69, NA), 
    sampleSize2 = c(80, NA), 
    stDev1      = c(165.468, NA), 
    stDev2      = c(143.979, NA), 
    mean1       = c(129.296, NA), 
    mean2       = c(82.187, NA))
dataEnrichmentN &lt;- getDataset(S1 = S1N, S2 = S2N, F = F)
dataEnrichmentN

## End(Not run)

</code></pre>


</div>