<div class="container">

<table style="width: 100%;"><tr>
<td>resample-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Overview of the resample package</h2>

<h3>Description</h3>

<p>Resampling functions, including one- and two-sample bootstrap and
permutation tests, with an easy-to-use syntax.
</p>


<h3>Details</h3>

<p>See <code>library(help = resample)</code> for version number, date, etc.
</p>


<h3>Data Sets</h3>

<p>A list of datasets is at
<code>resample-data</code>,
</p>


<h3>Main resampling functions</h3>

<p>The main resampling functions are:
<code>bootstrap</code>,
<code>bootstrap2</code>,
<code>permutationTest</code>, <br><code>permutationTest2</code>.
</p>


<h3>Methods</h3>

<p>Methods for generic functions include:
<code>print.resample</code>,
<code>plot.resample</code>, <br><code>hist.resample</code>,
<code>qqnorm.resample</code>, and
<code>quantile.resample</code>.
</p>


<h3>Confidence Intervals</h3>

<p>Functions that calculate confidence intervals for <code>bootstrap</code>
and <code>bootstrap2</code> objects: <br><code>CI.bca</code>,
<code>CI.bootstrapT</code>,
<code>CI.percentile</code>,
<code>CI.t</code>.
</p>


<h3>Samplers</h3>

<p>Functions that generate indices for random samples:
<code>samp.bootstrap</code>,
<code>samp.permute</code>.
</p>


<h3>Low-level Resampling Function</h3>

<p>This is called by the main resampling functions, but can also be
called directly:
<code>resample</code>.
</p>


<h3>New Versions</h3>

<p>I will post the newest versions to
<a href="https://www.timhesterberg.net/r-packages">https://www.timhesterberg.net/r-packages</a>.
See that page to join a list for announcements of new versions.
</p>


<h3>Author(s)</h3>

<p>Tim Hesterberg <a href="mailto:timhesterberg@gmail.com">timhesterberg@gmail.com</a>,<br><a href="https://www.timhesterberg.net/bootstrap-and-resampling">https://www.timhesterberg.net/bootstrap-and-resampling</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Verizon)
ILEC &lt;- with(Verizon, Time[Group == "ILEC"])
CLEC &lt;- with(Verizon, Time[Group == "CLEC"])

#### Sections in this set of examples
### Different ways to specify the data and statistic
### Example with plots and confidence intervals.


### Different ways to specify the data and statistic
# This code is flexible; there are different ways to call it,
# depending on how the data are stored and on the statistic.


## One-sample Bootstrap

# Ordinary vector, give statistic as a function
bootstrap(CLEC, mean)

# Vector by name, give statistic as an expression
bootstrap(CLEC, mean(CLEC))

# Vector created by an expression, use the name 'data'
bootstrap(with(Verizon, Time[Group == "CLEC"]), mean(data))

# A column in a data frame; use the name of the column
temp &lt;- data.frame(foo = CLEC)
bootstrap(temp, mean(foo))

# Put function arguments into an expression
bootstrap(CLEC, mean(CLEC, trim = .25))

# Put function arguments into a separate list
bootstrap(CLEC, mean, args.stat = list(trim = .25))


## One-sample jackknife

# Syntax is like bootstrap, e.g.
jackknife(CLEC, mean)


## One-sample permutation test

# To test H0: two variables are independent, exactly
# one of them just be permuted. For the CLEC data,
# we'll create an artificial variable.
CLEC2 &lt;- data.frame(Time = CLEC, index = 1:length(CLEC))

permutationTest(CLEC2, cor(Time, index),
                resampleColumns = "index")
# Could permute "Time" instead.

# resampleColumns not needed for variables outside 'data'
permutationTest(CLEC, cor(CLEC, 1:length(CLEC)))



### Two-sample problems
## Different ways to specify data and statistic

## Two-sample bootstrap

# Two data objects (one for each group)
bootstrap2(CLEC, data2 = ILEC, mean)

# data frame containing y variable(s) and a treatment variable
bootstrap2(Verizon, mean(Time), treatment = Group)

# treatment variable as a separate object
temp &lt;- Verizon$Group
bootstrap2(Verizon$Time, mean, treatment = temp)


## Two-sample permutation test

# Like bootstrap2, e.g.
permutationTest2(CLEC, data2 = ILEC, mean)


### Example with plots and confidence intervals.

boot &lt;- bootstrap2(CLEC, data2 = ILEC, mean)
perm &lt;- permutationTest2(CLEC, data2 = ILEC, mean,
                         alternative = "greater")
par(mfrow = c(2,2))
hist(boot)
qqnorm(boot)
qqline(boot$replicates)
hist(perm)


# P-value
perm
# Standard error, and bias estimate
boot

# Confidence intervals
CI.percentile(boot) # Percentile interval
CI.t(boot)  # t interval using bootstrap SE
# CI.bootstrapT and CI.bca do't currently support two-sample problems.

# Statistic can be multivariate.
# For the bootstrap2, it must have the estimate first, and a standard
# error second (don't need to divide by sqrt(n), that cancels out).
bootC &lt;- bootstrap(CLEC, mean, seed = 0)
bootC2 &lt;- bootstrap(CLEC, c(mean = mean(CLEC), sd = sd(CLEC)), seed = 0)
identical(bootC$replicates[, 1], bootC2$replicates[, 1])

CI.percentile(bootC)
CI.t(bootC)
CI.bca(bootC)
CI.bootstrapT(bootC2)
# The bootstrapT is the most accurate for skewed data, especially
# for small samples.

# By default the percentile and BCa intervals are "expanded", for
# better coverage in small samples. To turn this off:
CI.percentile(bootC, expand = FALSE)
</code></pre>


</div>