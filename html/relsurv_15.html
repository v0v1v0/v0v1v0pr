<div class="container">

<table style="width: 100%;"><tr>
<td>rs.diff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Test Net Survival Curve Differences</h2>

<h3>Description</h3>

<p>Tests if there is a difference between two or more net survival curves using
a log-rank type test.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rs.diff(
  formula = formula(data),
  data = parent.frame(),
  ratetable = relsurv::slopop,
  na.action,
  precision = 1,
  rmap
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A formula expression as for other survival models, of the
form <code>Surv(time, status) ~ predictors</code>. Each combination of predictor
values defines a subgroup. A <code>strata</code> term may be used to produce a
stratified test.
</p>
<p>NOTE: The follow-up time must be in days.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data.frame in which to interpret the variables named in the
<code>formula</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratetable</code></td>
<td>
<p>a table of event rates, organized as a <code>ratetable</code>
object, such as <code>slopop</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>a missing-data filter function, applied to the model.frame,
after any subset argument has been used.  Default is
<code>options()$na.action</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>precision</code></td>
<td>
<p>Precision for numerical integration. Default is 1, which
means that daily intervals are taken, the value may be decreased to get a
higher precision or increased to achieve a faster calculation. The
calculation intervals always include at least all times of event and
censoring as border points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rmap</code></td>
<td>
<p>an optional list to be used if the variables are not organized
and named in the same way as in the <code>ratetable</code> object. See details
below.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>NOTE: The follow-up time must be specified in days. The <code>ratetable</code>
being used may have different variable names and formats than the user's
data set, this is dealt with by the <code>rmap</code> argument. For example, if
age is in years in the data set but in days in the <code>ratetable</code> object,
age=age*365.241 should be used. The calendar year can be in any date format
(date, Date and POSIXt are allowed), the date formats in the
<code>ratetable</code> and in the data may differ.
</p>


<h3>Value</h3>

<p>a <code>rsdiff</code> object; can be printed with <code>print</code>.
</p>


<h3>References</h3>

<p>Package: Pohar Perme, M., Pavlic, K. (2018) "Nonparametric
Relative Survival Analysis with the R Package relsurv". Journal of
Statistical Software. 87(8), 1-27, doi: "10.18637/jss.v087.i08" Theory:
Graffeo, N., Castell, F., Belot, A. and Giorgi, R. (2016) "A log-rank-type
test to compare net survival distributions. Biometrics. doi:
10.1111/biom.12477" Theory: Pavlic, K., Pohar Perme, M. (2017) "On
comparison of net survival curves. BMC Med Res Meth. doi:
10.1186/s12874-017-0351-3"
</p>


<h3>See Also</h3>

<p><code>rs.surv</code>, <code>survdiff</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(slopop)
data(rdata)
#calculate the relative survival curve
#note that the variable year is given in days since 01.01.1960 and that 
#age must be multiplied by 365.241 in order to be expressed in days.
rs.diff(Surv(time,cens)~sex,rmap=list(age=age*365.241),
		ratetable=slopop,data=rdata)

</code></pre>


</div>