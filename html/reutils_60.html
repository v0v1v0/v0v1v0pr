<div class="container">

<table style="width: 100%;"><tr>
<td>reutils-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Talk to the NCBI EUtils</h2>

<h3>Description</h3>

<p>An interface to NCBI databases such as PubMed, GenBank, or GEO
powered by the Entrez Programming Utilities (EUtils). The nine EUtils
provide programmatic access to the NCBI Entrez query and database
system for searching and retrieving biological data.
</p>


<h3>Details</h3>

<p>With nine <a href="https://www.ncbi.nlm.nih.gov/books/NBK25501/">Entrez Progamming Utilities</a>,
NCBI provides a programmatical interface to the Entrez query and database
system for searching and retrieving requested data
</p>
<p>Each of these tools corresponds to an <code>R</code> function in the <code>reutils</code>
package described below.
</p>
<p>The output returned by the EUtils is typically in XML format. To gain access to
this output you have several options:
</p>

<ol>
<li>
<p> Use the <code>content(as = "xml")</code> method to extract the output as an
<code>XMLInternalDocument</code> object and process it further using the
facilities provided by the <code>XML</code> package.
</p>
</li>
<li>
<p> Use the <code>content(as = "parsed")</code> method to extract the output
into <code>data.frame</code>s. Note that this is currently only implemented for
<em>docsum</em>s returned by <code>esummary</code>, <em>uilist</em>s returned
by <code>esearch</code>, and the output returned by <code>einfo</code>.
</p>
</li>
<li>
<p> Access specific nodes in the XML tree using XPath expressions with the
reference class methods <code>#xmlValue</code>, <code>#xmlAttr</code>, or <code>#xmlName</code>
built into <code>eutil</code> objects.
</p>
</li>
</ol>
<p>The Entrez Programming Utilities can also generate output in other formats,
such as plain-text Fasta or GenBank files for sequence databases,
or the MedLine format for the literature database. The type of output is
generally controlled by setting the <code>retmode</code> and <code>rettype</code> arguments
when calling a EUtil.
Please check the relevant
<a href="https://www.ncbi.nlm.nih.gov/books/NBK25497/#chapter2.Usage_Guidelines_and_Requiremen">usage guidelines</a>
when using these services. Note that Entrez server requests are subject to
frequency limits.
</p>


<h3>Main functions</h3>


<ul>
<li> <p><code>esearch</code>: Search and retrieve primary UIDs for use
with <code>esummary</code>, <code>elink</code>, or <code>efetch</code>.
<code>esearch</code> additionally returns term translations and optionally
stores results for future use in the user's Web Environment.
</p>
</li>
<li> <p><code>esummary</code>: Retrieve document summaries from
a list of primary UIDs (Provided as a character vector or as an
<code>esearch</code> object).
</p>
</li>
<li> <p><code>egquery</code>: Provides Entrez database counts in XML
for a single search term using a Global Query.
</p>
</li>
<li> <p><code>einfo</code>: Retrieve field names, term counts, last
update, and available updates for each database.
</p>
</li>
<li> <p><code>efetch</code>: Retrieve data records in a specified
format corresponding to a list of primary UIDs or from the user's Web
Environment in the Entrez History server.
</p>
</li>
<li> <p><code>elink</code>: Returns a list of UIDs (and relevancy
scores) from a target database that are related to a list of UIDs in
the same database or in another Entrez database.
</p>
</li>
<li> <p><code>epost</code>: Uploads primary UIDs to the users's Web 
Environment on the Entrez history server for subsequent use with
<code>esummary</code>, <code>elink</code>, or <code>efetch</code>.
</p>
</li>
<li> <p><code>espell</code>: Provide spelling suggestions.
</p>
</li>
<li> <p><code>ecitmatch</code>: Retrieves PubMed IDs (PMIDs) that
correspond to a set of input citation strings
</p>
</li>
<li> <p><code>content</code>: Extract the content of a request from the
<code>eutil</code> object returned by any of the above functions.
</p>
</li>
</ul>
<h3>Package options</h3>

<p><span class="pkg">reutils</span> uses three <code>options</code> to configure behaviour:
</p>

<ul>
<li> <p><code>reutils.email</code>: NCBI requires that a user of their API provides an
email address with a call to Entrez. If you are going to perform a lot
of queries consider setting <code>reutils.email</code> to your email address in
your .Rprofile file.
</p>
</li>
<li> <p><code>reutils.show.headlines</code>: By default <code>efetch</code>
objects containing text data show only the first 12 lines. This is quite handy
if you have downloaded a fairly large genome in Genbank file format. This
can be changed by setting the global option <code>reutils.show.headlines</code> to
another numeric value or <code>NULL</code>.
</p>
</li>
<li> <p><code>reutils.verbose.queries</code>: If you perform many queries interactively
you might want to get messages announcing the queries you run. You can do so by setting
the option <code>reutils.verbose.queries</code> to <code>TRUE</code>.
</p>
</li>
<li> <p><code>reutils.test.remote</code>: Unit tests that require online access to NCBI
services are disabled by default, as they cannot be garanteed to be
available/working under all circumstances. Set the option
codereutils.test.remote to <code>TRUE</code> to run the full suite of tests.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Gerhard Sch√∂fl <a href="mailto:gerhard.schofl@gmail.com">gerhard.schofl@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#
# combine esearch and efetch
#
# Download PubMed records that are indexed in MeSH for both 'Chlamydia' and 
# 'genome' and were published in 2013.
query &lt;- "Chlamydia[mesh] and genome[mesh] and 2013[pdat]"

# Upload the PMIDs for this search to the History server
pmids &lt;- esearch(query, "pubmed", usehistory = TRUE)
pmids

## Not run: 
# Fetch the records
articles &lt;- efetch(pmids)

# Use XPath expressions with the #xmlValue() or #xmlAttr() methods to directly
# extract specific data from the XML records stored in the 'efetch' object.
titles &lt;- articles$xmlValue("//ArticleTitle")
abstracts &lt;- articles$xmlValue("//AbstractText")

#
# combine epost with esummary/efetch
#
# Download protein records corresponding to a list of GI numbers.
uid &lt;- c("194680922", "50978626", "28558982", "9507199", "6678417")

# post the GI numbers to the Entrez history server
p &lt;- epost(uid, "protein")

# retrieve docsums with esummary
docsum &lt;- content(esummary(p, version = "1.0"), "parsed")
docsum

# download FASTAs as 'text' with efetch
prot &lt;- efetch(p, retmode = "text", rettype = "fasta")
prot

# retrieve the content from the efetch object
fasta &lt;- content(prot)

## End(Not run)
</code></pre>


</div>