<div class="container">

<table style="width: 100%;"><tr>
<td>getdata_bc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Download data from the rasterbc collection</h2>

<h3>Description</h3>

<p>Downloads all mapsheet layers (geoTIFFs) covering the geographical extent of <code>geo</code> for the
specified <code>collection</code>, <code>varname</code>, and <code>year</code>. Input <code>geo</code> can be a vector
of (4-character) NTS/SNRC mapsheet codes or a geometry of class <code>sfc</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getdata_bc(
  geo = NULL,
  collection = NULL,
  varname = NULL,
  year = NULL,
  force.dl = FALSE,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>geo</code></td>
<td>
<p>vector of character strings (NTS/SNRC codes) or a geometry of class <code>sfc</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collection</code></td>
<td>
<p>character string indicating the data collection to query</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varname</code></td>
<td>
<p>character string indicating the layer to query</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year</code></td>
<td>
<p>integer indicating the year to query (if applicable)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force.dl</code></td>
<td>
<p>logical indicating whether to overwrite any existing data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>logical, suppresses console messages</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The data files are written to the directory returned by <code>rasterbc::datadir_bc()</code>. Mapsheets
found there (already downloaded) are not downloaded again unless <code>force.dl==TRUE</code>. Users
should only need to download a mapsheet once - there are no plans to update the rasterbc
collection in the future.
</p>


<h3>Value</h3>

<p>a vector of character string(s) containing the absolute path(s) to the downloaded file(s)
</p>


<h3>See Also</h3>

<p><code>findblocks_bc</code> to identify which mapsheets will be downloaded
</p>
<p><code>listdata_bc</code> for a list of available collections, variable names, years
</p>


<h3>Examples</h3>

<pre><code class="language-R"># define a location of interest, and a polygon around it then fetch the corresponding DEM data
input.point = sf::st_point(c(x=-120.1, y=50.1)) |&gt; sf::st_sfc(crs='EPSG:4326')

if( requireNamespace('units', quietly = TRUE) ) {
input.polygon = input.point |&gt; sf::st_buffer(units::set_units(10, km))

## Not run: 
# the following downloads data from FRDR
block.path = getdata_bc(input.point, 'dem')
getdata_bc(input.polygon, 'dem')

# load one of the mapsheets
terra::rast(block.path)

## End(Not run)
}
</code></pre>


</div>