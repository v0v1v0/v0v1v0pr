<div class="container">

<table style="width: 100%;"><tr>
<td>buildsegroutes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build Segment Routes</h2>

<h3>Description</h3>

<p>Adds the travel routes from the mouth (lowest point) of a river 
network to each segment, and (optionally) distance lookup tables.  This
greatly reduces the time needed to detect routes, making distance
calculation much more efficient, particularly in the case of multiple
distance calculations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">buildsegroutes(rivers, lookup = NULL, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rivers</code></td>
<td>
<p>The river network object to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lookup</code></td>
<td>
<p>Whether to build lookup tables as well.  This may take
some time, but will result in even faster distance computation in analyses
(see buildlookup).  Because of the object size returned, this may
not be advisable in a large river network (more than a few hundred
segments).  Accepts <code>TRUE</code> or <code>FALSE</code>, and defaults to
<code>NULL</code>.  If the default value is accepted, lookup tables will be built
if the river network has 400 segments or fewer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Whether or not to print the segment number the function is 
currently building a route for (used for error checking).  Defaults to 
FALSE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A rivernetwork object, with a new list element, <code>$segroutes</code>, 
which gives the route from the mouth to each rivernetwork segment. 
Optionally, it may add <code>$distlookup</code>, distance lookup tables for even
faster distance computation. (See rivernetwork.)
</p>


<h3>Note</h3>

<p>In the event of braiding (multiple channels), it is likely that there 
will be differences in the routes detected.  If this is the case, building 
routes will likely result in a shorter and more efficient route. 
Regardless, extreme caution is always advised in the event of braiding.
</p>
<p>The mouth segment and vertex must be specified (see setmouth).
</p>
<p>This function is called within cleanup, which is recommended in
most cases.
</p>


<h3>Author(s)</h3>

<p>Matt Tyers
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(abstreams)
plot(x=abstreams)
abstreams1 &lt;- abstreams
abstreams1$segroutes &lt;- NULL #taking out the $segroutes component

# before
tstart &lt;- Sys.time()
detectroute(start=120, end=111, rivers=abstreams1)
Sys.time() - tstart

# after
tstart &lt;- Sys.time()
detectroute(start=120, end=111, rivers=abstreams)
Sys.time() - tstart
</code></pre>


</div>