<div class="container">

<table style="width: 100%;"><tr>
<td>mlwin2bugs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>This function captures output files from MLwiN for estimation in
WinBUGS/OpenBUGS.</h2>

<h3>Description</h3>

<p>This function allows R to call WinBUGS using the output files from MLwiN.
This function uses functionalities in the <code>R2WinBUGS-package</code>
package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mlwin2bugs(
  D,
  levID,
  datafile,
  initfiles,
  modelfile,
  bugEst,
  fact,
  addmore,
  n.chains,
  n.iter,
  n.burnin,
  n.thin,
  debug = FALSE,
  bugs.directory = bugs.directory,
  bugsWorkingDir = tempdir(),
  OpenBugs = FALSE,
  cleanBugsWorkingDir = FALSE,
  seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p>A vector specifying the type of distribution used in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levID</code></td>
<td>
<p>A character (vector) specifying the level ID(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datafile</code></td>
<td>
<p>A file name where the BUGS data file will be saved in
.txt format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initfiles</code></td>
<td>
<p>A list of file names where the BUGS initial values will
be saved in .txt format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelfile</code></td>
<td>
<p>A file name where the BUGS model will be saved in .txt
format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bugEst</code></td>
<td>
<p>A file name where the estimates from BUGS will be stored in
.txt format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fact</code></td>
<td>
<p>A list of objects used to specify factor analysis. See ‘Details’
below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addmore</code></td>
<td>
<p>A vector of strings specifying additional coefficients to be
monitored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.chains</code></td>
<td>
<p>The number of chains to be monitored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.iter</code></td>
<td>
<p>The number of iterations for each chain</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.burnin</code></td>
<td>
<p>The length of burn-in for each chain</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.thin</code></td>
<td>
<p>Thinning rate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debug</code></td>
<td>
<p>A logical value indicating whether (<code>TRUE</code>) or not
(<code>FALSE</code>; the default) to close the BUGS window after completion of the
model run</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bugs.directory</code></td>
<td>
<p>The full path of location where WinBUGS is installed 
(ignored if OpenBugs is <code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bugsWorkingDir</code></td>
<td>
<p>A directory where all the intermediate files are to be
stored; defaults to <code>tempdir()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OpenBugs</code></td>
<td>
<p>If <code>TRUE</code>, OpenBUGS is used, if <code>FALSE</code> (the
default) WinBUGS is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cleanBugsWorkingDir</code></td>
<td>
<p>If <code>TRUE</code>, the generated files will be
removed from the <code>bugsWorkingDir</code>; defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>An integer specifying the random seed.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A list of objects to specify factor analysis, as used in the
argument <code>fact</code>:
</p>

<ul>
<li> <p><code>nfact</code>: specifies the number of factors;
</p>
</li>
<li> <p><code>lev.fact</code>: Specifies the level/classification for the random part of
the factor for each factor;
</p>
</li>
<li> <p><code>nfactcor</code>: specifies the number of
correlated factors;
</p>
</li>
<li> <p><code>factcor</code>: a vector specifying the correlated
factors: the first element corresponds to the first factor number, the
second to the second factor number, the third element corresponds to the
starting value for the covariance and the fourth element to whether this
covariance is constrained
(<code>1</code>) or not (<code>0</code>). If more than one pair of factors is correlated,
then repeat this sequence for each pair.
</p>
</li>
<li> <p><code>loading</code>: a matrix specifying the
starting values for the factor loadings and the starting value of the factor
variance. Each row corresponds to a factor.
</p>
</li>
<li> <p><code>constr</code>: a matrix
specifying indicators of whether the factor loadings and the factor variance
are constrained (<code>1</code>) or not (<code>0</code>).
</p>
</li>
</ul>
<h3>Value</h3>

<p>Returns an <code>mcmc</code> object.
</p>


<h3>Author(s)</h3>

<p>Zhang, Z., Charlton, C.M.J., Parker, R.M.A., Leckie, G., and Browne,
W.J. (2016) Centre for Multilevel Modelling, University of Bristol.
</p>


<h3>See Also</h3>

<p><code>runMLwiN</code>,<code>bugs</code>
</p>


</div>