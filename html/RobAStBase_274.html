<div class="container">

<table style="width: 100%;"><tr>
<td>outlyingPlotIC</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function outlyingPlotIC in Package ‘RobAStBase’ </h2>

<h3>Description</h3>

<p>outlyingPlotIC produces an outlyingness plot based on distances applied
to ICs</p>


<h3>Usage</h3>

<pre><code class="language-R">outlyingPlotIC(data,IC.x, IC.y = IC.x, dist.x = NormType(), dist.y, 
 cutoff.x = cutoff.sememp(0.95), cutoff.y = cutoff.chisq(0.95),  ...,
 cutoff.quantile.x = 0.95, cutoff.quantile.y = cutoff.quantile.x,
 id.n, cex.pts = 1, lab.pts, jitter.pts = 0, alpha.trsp = NA, adj, cex.idn,
 col.idn,  lty.cutoff,  lwd.cutoff,  col.cutoff, text.abline = TRUE,
 text.abline.x = NULL, text.abline.y = NULL, cex.abline = par("cex"),
 col.abline = col.cutoff, font.abline = par("font"), adj.abline = c(0,0),
 text.abline.x.x = NULL, text.abline.x.y = NULL, text.abline.y.x = NULL,
 text.abline.y.y = NULL, text.abline.x.fmt.cx = "%7.2f",
 text.abline.x.fmt.qx = "%4.2f%%", text.abline.y.fmt.cy = "%7.2f",
 text.abline.y.fmt.qy = "%4.2f%%", robCov.x = TRUE, robCov.y = TRUE,
 tf.x = NULL,tf.y = NULL, jitter.fac=10, jitter.tol=.Machine$double.eps,
 doplot = TRUE,
 main = gettext("Outlyingness \n by means of a distance-distance plot")
 )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data coercable to <code>matrix</code>; the data  at which to produce the <code>ddPlot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IC.x</code></td>
<td>
<p>object of class   <code>IC</code> the influence curve to produce
the  distances for the <code>x</code> axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IC.y</code></td>
<td>
<p>object of class   <code>IC</code> the influence curve to produce
the  distances for the <code>y</code> axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to be passed to <code>plot.default</code>, <code>text</code>, and <code>abline</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist.x</code></td>
<td>
<p>object of class <code>NormType</code>; the distance for the <code>x</code> axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist.y</code></td>
<td>
<p>object of class <code>NormType</code>; the distance for the <code>y</code> axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff.x</code></td>
<td>
<p>object of class <code>cutoff</code>; the cutoff information for the <code>x</code> axis
(the vertical line discriminating 'good' and 'bad' points).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff.y</code></td>
<td>
<p>object of class <code>cutoff</code>; the cutoff information for the <code>y</code> axis
(the horizontal line discriminating 'good' and 'bad' points).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff.quantile.x</code></td>
<td>
<p>numeric; the cutoff quantile for the <code>x</code> axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff.quantile.y</code></td>
<td>
<p>numeric; the cutoff quantile for the <code>y</code> axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id.n</code></td>
<td>
<p>a set of indices (or a corresponding logical vector); to select a subset
of the data in argument <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.pts</code></td>
<td>
<p>the corresponding <code>cex</code> argument for plotted points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lab.pts</code></td>
<td>
<p>a vector of labels for the (unsubsetted) <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitter.pts</code></td>
<td>
<p>the corresponding <code>jitter</code> argument for plotted points;
may be a vector of length 2 – for separate factors for x- and y-coordinate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.trsp</code></td>
<td>
<p>alpha transparency to be added ex post to colors
<code>col.pch</code> and <code>col.lbl</code>; if one-dim and NA all colors are
left unchanged. Otherwise, with usual recycling rules <code>alpha.trsp</code>
gets shorted/prolongated to length the data-symbols to be plotted.
Coordinates of this vector <code>alpha.trsp</code> with NA are left unchanged,
while for the remaining ones, the alpha channel in rgb space is set
to the respective coordinate value of <code>alpha.trsp</code>. The non-NA
entries must be integers in [0,255] (0 invisible, 255 opaque).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adj</code></td>
<td>
<p>the corresponding argument for <code>text</code> for
labelling the outliers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.idn</code></td>
<td>
<p>the corresponding <code>cex</code> argument for
<code>text</code> for labelling the outliers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.idn</code></td>
<td>
<p>the corresponding <code>col</code> argument for
<code>text</code> for labelling the outliers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty.cutoff</code></td>
<td>
<p>the corresponding <code>lty</code> argument for
<code>abline</code> for drawing the cutoff lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd.cutoff</code></td>
<td>
<p>the corresponding <code>lwd</code> argument for
<code>abline</code> for drawing the cutoff lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.cutoff</code></td>
<td>
<p>the corresponding <code>col</code> argument for
<code>abline</code> for drawing the cutoff lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.abline</code></td>
<td>
<p>vector of logicals (cast to length 2): shall text be added
to cutoff lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.abline.x</code></td>
<td>
<p>text to be added to cutoff lines in x direction; if <code>NULL</code>
(default) we use “[pp] %-cutoff = [ff]” where [pp] is the percentage up to 2 digits
and [ff] is the cutoff value up to 2 digits.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.abline.y</code></td>
<td>
<p>text to be added to cutoff lines in y direction; if <code>NULL</code>
(default) we use “[pp] %-cutoff = [ff]” where [pp] is the percentage up to 2 digits
and [ff] is the cutoff value up to 2 digits.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.abline</code></td>
<td>
<p>vector of numerics (cast to length 2): cex-value for added cutoff text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.abline</code></td>
<td>
<p>vector of length 2: color for added cutoff text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>font.abline</code></td>
<td>
<p>vector of length 2: font for added cutoff text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adj.abline</code></td>
<td>
<p>cast to 2 x 2 matrix (by recycling rules): adjustment values for added cutoff text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.abline.x.y</code></td>
<td>
<p>y-coordinate of text to be added to cutoff lines in x direction;
if <code>NULL</code> (default) set to mid of <code>mean(par("usr")[c(3,4)])</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.abline.y.x</code></td>
<td>
<p>x-coordinate of text to be added to cutoff lines in y direction;
if <code>NULL</code> (default) set to mid of <code>mean(par("usr")[c(1,2)])</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.abline.x.x</code></td>
<td>
<p>x-coordinate of text to be added to cutoff lines in x direction;
if <code>NULL</code> (default) set to 1.05 times the cutoff value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.abline.y.y</code></td>
<td>
<p>y-coordinate of text to be added to cutoff lines in y direction;
if <code>NULL</code> (default) set to 1.05 times the cutoff value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.abline.x.fmt.cx</code></td>
<td>
<p>format string (see <code>gettextf</code>)
to format the cutoff value in label in x direction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.abline.x.fmt.qx</code></td>
<td>
<p>format string to format cutoff probability in label in x direction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.abline.y.fmt.cy</code></td>
<td>
<p>format string to format the cutoff value in label in y direction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.abline.y.fmt.qy</code></td>
<td>
<p>format string to format cutoff probability in label in y direction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>robCov.x</code></td>
<td>
<p>shall x-distances be based on MCD, i.e.,
robust covariances (TRUE) or on classical covariance be used?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>robCov.y</code></td>
<td>
<p>shall y-distances be based on MCD, i.e.,
robust covariances (TRUE) or on classical covariance be used?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tf.x</code></td>
<td>
<p>transformation for x axis: a function returning the
transformed x-coordinates when applied to the data;
if <code>tf.x</code> is <code>NULL</code> (default), internally this
is set to the evaluation function of the <code>IC.x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tf.y</code></td>
<td>
<p>transformation for y axis: a function returning the
transformed y-coordinates when applied to the data;
if <code>tf.x</code> is <code>NULL</code> (default), internally this
is set to the evaluation function of <code>IC.y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitter.fac</code></td>
<td>
<p>factor for jittering, see <code>jitter</code>;</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitter.tol</code></td>
<td>
<p>threshold for jittering: if distance between points is smaller
than <code>jitter.tol</code>, points are considered replicates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doplot</code></td>
<td>
<p>logical; shall a plot be produced? if <code>FALSE</code> only the return values are produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>the main title.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>calls a corresponding <code>ddPlot</code> method to produce the plot.
</p>


<h3>Value</h3>

<p>If argument <code>doplot</code> is <code>FALSE</code>:
A list (returned as <code>invisible()</code>) with items
</p>
<table>
<tr style="vertical-align: top;">
<td><code>id.x</code></td>
<td>
<p>the indices of (possibly transformed) data (within subset <code>id.n</code>) beyond the <code>x</code>-cutoff</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id.y</code></td>
<td>
<p>the indices of (possibly transformed) data (within subset <code>id.n</code>) beyond the <code>y</code>-cutoff</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id.xy</code></td>
<td>
<p>the indices of (possibly transformed) data (within subset <code>id.n</code>) beyond the <code>x</code>-cutoff and the <code>y</code>-cutoff</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qtx</code></td>
<td>
<p>the quantiles of the distances of the (possibly transformed) data in <code>x</code> direction</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qty</code></td>
<td>
<p>the quantiles of the distances of the (possibly transformed) data in <code>y</code> direction</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff.x.v</code></td>
<td>
<p>the cutoff value in <code>x</code> direction</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff.y.v</code></td>
<td>
<p>the cutoff value in <code>y</code> direction</p>
</td>
</tr>
</table>
<p>If argument <code>doplot</code> is <code>TRUE</code>:
An S3 object of class <code>c("plotInfo","DiagnInfo")</code>, i.e., a list
containing the information needed to produce the
respective plot, which at a later stage could be used by different
graphic engines (like, e.g. <code>ggplot</code>) to produce the plot
in a different framework. A more detailed description will follow in
a subsequent version.a list (returned as <code>invisible()</code>) with items;
one item is <code>retV</code> which is the return value in case <code>doplot</code> is <code>FALSE</code>.
</p>


<h3>Note</h3>

<p>If you want to use the return value of <code>cutoff.quant()</code> for arguments
<code>cutoff.x</code> or <code>cutoff.y</code>, remember to set the arguments <code>tf.x</code>
resp. <code>tf.y</code> to the identity, i.e., <code>function(x)x</code>.</p>


<h3>Author(s)</h3>

<p>Peter Ruckdeschel <a href="mailto:peter.ruckdeschel@uni-oldenburg.de">peter.ruckdeschel@uni-oldenburg.de</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(require(ROptEst)){
## generates normal location and scale family with mean = -2 and sd = 3
N0 &lt;- NormLocationScaleFamily()
N0.IC0 &lt;- optIC(model = N0, risk = asCov())
N0.Rob1 &lt;- InfRobModel(center = N0, neighbor = ContNeighborhood(radius = 0.5))
N0.IC1 &lt;- optIC(model = N0.Rob1, risk = asMSE())
set.seed(123)
xn &lt;- c(rnorm(100),rcauchy(20)+20)
outlyingPlotIC(xn, IC.x=N0.IC0)
outlyingPlotIC(xn, IC.x=N0.IC1)

## example for usage with cutoff.quant()
classIC &lt;- optIC(NormLocationScaleFamily(mean = 3.3, sd = 0.67),
                  risk = asCov())
outlyingPlotIC(data = chem[-17], classIC, cex.pts = 3, jitter.fac = 1,
                cutoff.x = cutoff.quant(), tf.x =function(x)(x))
}
</code></pre>


</div>