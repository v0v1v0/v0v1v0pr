<div class="container">

<table style="width: 100%;"><tr>
<td>R6Map</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>R6 class to display Earth Engine (EE) spatial objects</h2>

<h3>Description</h3>

<p>Create interactive visualizations of spatial EE objects
(ee$Geometry, ee$Image, ee$Feature, and ee$FeatureCollection)
using <code>leaflet</code>.
</p>


<h3>Details</h3>

<p><code>R6Map</code> uses the Earth Engine method
<a href="https://developers.google.com/earth-engine/api_docs#ee.data.getmapid/">
getMapId</a> to fetch and return an ID dictionary used to create
layers in a <code>leaflet</code> object. Users can specify visualization
parameters to Map$addLayer by using the visParams argument. Each Earth
Engine spatial object has a specific format. For
<code>ee$Image</code>, the
<a href="https://developers.google.com/earth-engine/guides/image_visualization">
parameters</a> available are:
</p>

<table>
<tr>
<td style="text-align: left;">
<strong>Parameter</strong>
</td>
<td style="text-align: left;"> <strong>Description</strong>  </td>
<td style="text-align: left;"> <strong>Type</strong>
</td>
</tr>
<tr>
<td style="text-align: left;">
<strong>bands</strong>    </td>
<td style="text-align: left;">  Comma-delimited list of three band (RGB) </td>
<td style="text-align: left;">  list </td>
</tr>
<tr>
<td style="text-align: left;">
<strong>min</strong>      </td>
<td style="text-align: left;">  Value(s) to map to 0 </td>
<td style="text-align: left;">  number or list of three
numbers, one for each band </td>
</tr>
<tr>
<td style="text-align: left;">
<strong>max</strong>      </td>
<td style="text-align: left;">  Value(s) to map to 1 </td>
<td style="text-align: left;">  number or list of three
numbers, one for each band </td>
</tr>
<tr>
<td style="text-align: left;">
<strong>gain</strong>     </td>
<td style="text-align: left;">  Value(s) by which to multiply each pixel value </td>
<td style="text-align: left;">
number or list of three numbers, one for each band </td>
</tr>
<tr>
<td style="text-align: left;">
<strong>bias</strong>     </td>
<td style="text-align: left;">  Value(s) to add to each Digital Number
value </td>
<td style="text-align: left;"> number or list of three numbers, one for each band </td>
</tr>
<tr>
<td style="text-align: left;">
<strong>gamma</strong>    </td>
<td style="text-align: left;">  Gamma correction factor(s) </td>
<td style="text-align: left;">  number or list of
three numbers, one for each band </td>
</tr>
<tr>
<td style="text-align: left;">
<strong>palette</strong>  </td>
<td style="text-align: left;">  List of CSS-style color strings
(single-band only) </td>
<td style="text-align: left;">  comma-separated list of hex strings </td>
</tr>
<tr>
<td style="text-align: left;">
<strong>opacity</strong>   </td>
<td style="text-align: left;">  The opacity of the layer (from 0 to 1)  </td>
<td style="text-align: left;">  number </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>If you add an <code>ee$Image</code> to Map$addLayer without any additional
parameters. By default it assigns the first three bands to red,
green, and blue bands, respectively. The default stretch is based on the
min-max range. On the other hand, the available parameters for
<code>ee$Geometry</code>, <code>ee$Feature</code>, and <code>ee$FeatureCollection</code>
are:
</p>

<ul>
<li> <p><strong>color</strong>: A hex string in the format RRGGBB specifying the
color to use for drawing the features. By default #000000.
</p>
</li>
<li> <p><strong>pointRadius</strong>: The radius of the point markers. By default 3.
</p>
</li>
<li> <p><strong>strokeWidth</strong>: The width of lines and polygon borders. By
default 3.
</p>
</li>
</ul>
<h3>Value</h3>

<p>Object of class <code>leaflet</code> and <code>EarthEngineMap</code>, with the
following extra parameters: tokens, name, opacity, shown, min, max, palette,
position, and legend. Use the $ method to retrieve the data (e.g., m$rgee$min).
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>lon</code></dt>
<dd>
<p>The longitude of the center, in degrees.</p>
</dd>
<dt><code>lat</code></dt>
<dd>
<p>The latitude of the center, in degrees.</p>
</dd>
<dt><code>zoom</code></dt>
<dd>
<p>The zoom level, from 1 to 24.</p>
</dd>
<dt><code>save_maps</code></dt>
<dd>
<p>Should <code>R6Map</code> save the previous maps?. If TRUE, Map
will work in an OOP style. Otherwise it will be a functional programming
style.</p>
</dd>
<dt><code>previous_map_left</code></dt>
<dd>
<p>Container on maps in the left side.</p>
</dd>
<dt><code>previous_map_right</code></dt>
<dd>
<p>Container on maps in the right side.</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-EarthEngineMap-new"><code>R6Map$new()</code></a>
</p>
</li>
<li> <p><a href="#method-EarthEngineMap-reset"><code>R6Map$reset()</code></a>
</p>
</li>
<li> <p><a href="#method-EarthEngineMap-print"><code>R6Map$print()</code></a>
</p>
</li>
<li> <p><a href="#method-EarthEngineMap-setCenter"><code>R6Map$setCenter()</code></a>
</p>
</li>
<li> <p><a href="#method-EarthEngineMap-setZoom"><code>R6Map$setZoom()</code></a>
</p>
</li>
<li> <p><a href="#method-EarthEngineMap-centerObject"><code>R6Map$centerObject()</code></a>
</p>
</li>
<li> <p><a href="#method-EarthEngineMap-addLayer"><code>R6Map$addLayer()</code></a>
</p>
</li>
<li> <p><a href="#method-EarthEngineMap-addLayers"><code>R6Map$addLayers()</code></a>
</p>
</li>
<li> <p><a href="#method-EarthEngineMap-addLegend"><code>R6Map$addLegend()</code></a>
</p>
</li>
<li> <p><a href="#method-EarthEngineMap-clone"><code>R6Map$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-EarthEngineMap-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Constructor of R6Map.
</p>


<h5>Usage</h5>

<div class="r"><pre>R6Map$new(lon = 0, lat = 0, zoom = 1, save_maps = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>lon</code></dt>
<dd>
<p>The longitude of the center, in degrees. By default -76.942478.</p>
</dd>
<dt><code>lat</code></dt>
<dd>
<p>The latitude of the center, in degrees. By default -12.172116.</p>
</dd>
<dt><code>zoom</code></dt>
<dd>
<p>The zoom level, from 1 to 24. By default 18.</p>
</dd>
<dt><code>save_maps</code></dt>
<dd>
<p>Should <code>R6Map</code> save previous maps?.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A new <code>EarthEngineMap</code> object.
</p>


<hr>
<a id="method-EarthEngineMap-reset"></a>



<h4>Method <code>reset()</code>
</h4>

<p>Reset to initial arguments.
</p>


<h5>Usage</h5>

<div class="r"><pre>R6Map$reset(lon = 0, lat = 0, zoom = 1, save_maps = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>lon</code></dt>
<dd>
<p>The longitude of the center, in degrees. By default -76.942478.</p>
</dd>
<dt><code>lat</code></dt>
<dd>
<p>The latitude of the center, in degrees. By default -12.172116.</p>
</dd>
<dt><code>zoom</code></dt>
<dd>
<p>The zoom level, from 1 to 24. By default 18.</p>
</dd>
<dt><code>save_maps</code></dt>
<dd>
<p>Should <code>R6Map</code> save previous maps?.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A new <code>EarthEngineMap</code> object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>\dontrun{
library(rgee)
ee_Initialize()

# Load an Image
image &lt;- ee$Image("LANDSAT/LC08/C01/T1/LC08_044034_20140318")

# Create
Map &lt;- R6Map$new()
Map$centerObject(image)

# Simple display: Map just will
Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max = 10000, bands = c("B4", "B3", "B2")),
  name = "l8_01"
)
Map # display map

Map$reset() # Reset arguments
Map
}
</pre>
</div>


<hr>
<a id="method-EarthEngineMap-print"></a>



<h4>Method <code>print()</code>
</h4>

<p>Display a <code>EarthEngineMap</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>R6Map$print()</pre></div>



<h5>Returns</h5>

<p>An <code>EarthEngineMap</code> object.
</p>


<hr>
<a id="method-EarthEngineMap-setCenter"></a>



<h4>Method <code>setCenter()</code>
</h4>

<p>Centers the map view at the given coordinates with the given zoom level. If
no zoom level is provided, it uses 10 by default.
</p>


<h5>Usage</h5>

<div class="r"><pre>R6Map$setCenter(lon = 0, lat = 0, zoom = 10)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>lon</code></dt>
<dd>
<p>The longitude of the center, in degrees. By default -76.942478.</p>
</dd>
<dt><code>lat</code></dt>
<dd>
<p>The latitude of the center, in degrees. By default -12.172116.</p>
</dd>
<dt><code>zoom</code></dt>
<dd>
<p>The zoom level, from 1 to 24. By default 18.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>No return value, called to set initial coordinates and zoom.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>\dontrun{
library(rgee)

ee_Initialize()

Map &lt;- R6Map$new()
Map$setCenter(lon = -76, lat = 0, zoom = 5)
Map

# Map$lat
# Map$lon
# Map$zoom
}
</pre>
</div>


<hr>
<a id="method-EarthEngineMap-setZoom"></a>



<h4>Method <code>setZoom()</code>
</h4>

<p>Sets the zoom level of the map.
</p>


<h5>Usage</h5>

<div class="r"><pre>R6Map$setZoom(zoom = 10)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>zoom</code></dt>
<dd>
<p>The zoom level, from 1 to 24. By default 10.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>No return value, called to set zoom.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>\dontrun{
library(rgee)

ee_Initialize()

Map &lt;- R6Map$new()
Map$setZoom(zoom = 4)
Map

# Map$lat
# Map$lon
# Map$zoom
}
</pre>
</div>


<hr>
<a id="method-EarthEngineMap-centerObject"></a>



<h4>Method <code>centerObject()</code>
</h4>

<p>Centers the map view on a given object. If no zoom level is provided, it
will be predicted according to the bounds of the Earth Engine object
specified.
</p>


<h5>Usage</h5>

<div class="r"><pre>R6Map$centerObject(
  eeObject,
  zoom = NULL,
  maxError = ee$ErrorMargin(1),
  titiler_server = "https://api.cogeo.xyz/"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>eeObject</code></dt>
<dd>
<p>Earth Engine spatial object.</p>
</dd>
<dt><code>zoom</code></dt>
<dd>
<p>The zoom level, from 1 to 24. By default NULL.</p>
</dd>
<dt><code>maxError</code></dt>
<dd>
<p>Max error when input image must be reprojected to an
explicitly requested result projection or geodesic state.</p>
</dd>
<dt><code>titiler_server</code></dt>
<dd>
<p>TiTiler endpoint. Defaults to "https://api.cogeo.xyz/".</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>No return value, called to set zoom.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>\dontrun{
library(rgee)

ee_Initialize()

Map &lt;- R6Map$new()
image &lt;- ee$Image("LANDSAT/LC08/C01/T1/LC08_044034_20140318")
Map$centerObject(image)
Map
}
</pre>
</div>


<hr>
<a id="method-EarthEngineMap-addLayer"></a>



<h4>Method <code>addLayer()</code>
</h4>

<p>Adds a given Earth Engine spatial object to the map as a layer
</p>


<h5>Usage</h5>

<div class="r"><pre>R6Map$addLayer(
  eeObject,
  visParams = NULL,
  name = NULL,
  shown = TRUE,
  opacity = 1,
  position = NULL,
  titiler_viz_convert = TRUE,
  titiler_server = "https://api.cogeo.xyz/"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>eeObject</code></dt>
<dd>
<p>The Earth Engine spatial object to display in the interactive map.</p>
</dd>
<dt><code>visParams</code></dt>
<dd>
<p>List of parameters for visualization. See details.</p>
</dd>
<dt><code>name</code></dt>
<dd>
<p>The name of layers.</p>
</dd>
<dt><code>shown</code></dt>
<dd>
<p>A flag indicating whether layers should be on by default.</p>
</dd>
<dt><code>opacity</code></dt>
<dd>
<p>The layer's opacity is represented as a number between 0 and 1. Defaults to 1.</p>
</dd>
<dt><code>position</code></dt>
<dd>
<p>Character. Activate panel creation. If "left" the map will be displayed in
the left panel. Otherwise, if it is "right" the map will be displayed in the right panel.
By default NULL (No panel will be created).</p>
</dd>
<dt><code>titiler_viz_convert</code></dt>
<dd>
<p>Logical. If it is TRUE, Map$addLayer will transform the
visParams to titiler style. Ignored if eeObject is not a COG file.</p>
</dd>
<dt><code>titiler_server</code></dt>
<dd>
<p>TiTiler endpoint. Defaults to "https://api.cogeo.xyz/".</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>An <code>EarthEngineMap</code> object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>\dontrun{
library(rgee)
ee_Initialize()

# Load an Image
image &lt;- ee$Image("LANDSAT/LC08/C01/T1/LC08_044034_20140318")

# Create
Map &lt;- R6Map$new()
Map$centerObject(image)

# Simple display: Map just will
Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max = 10000, bands = c("B4", "B3", "B2")),
  name = "l8_01"
)

Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max = 20000, bands = c("B4", "B3", "B2")),
  name = "l8_02"
)

# Simple display: Map just will (if the position is not specified it will
# be saved on the right side)
Map$reset() # Reset Map to the initial arguments.
Map$centerObject(image)
Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max=10000, bands = c("B4", "B3", "B2")),
  name = "l8_left",
  position = "left"
)

Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max=20000, bands = c("B4", "B3", "B2")),
  name = "l8_right"
)

Map$reset()
}
</pre>
</div>


<hr>
<a id="method-EarthEngineMap-addLayers"></a>



<h4>Method <code>addLayers()</code>
</h4>

<p>Adds a given ee$ImageCollection to the map as multiple layers.
</p>


<h5>Usage</h5>

<div class="r"><pre>R6Map$addLayers(
  eeObject,
  visParams = NULL,
  nmax = 5,
  name = NULL,
  shown = TRUE,
  position = NULL,
  opacity = 1
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>eeObject</code></dt>
<dd>
<p>ee$ImageCollection to display in the interactive map.</p>
</dd>
<dt><code>visParams</code></dt>
<dd>
<p>List of parameters for visualization. See details.</p>
</dd>
<dt><code>nmax</code></dt>
<dd>
<p>Numeric. The maximum number of images to display. By default 5.</p>
</dd>
<dt><code>name</code></dt>
<dd>
<p>The name of layers.</p>
</dd>
<dt><code>shown</code></dt>
<dd>
<p>A flag indicating whether layers should be on by default.</p>
</dd>
<dt><code>position</code></dt>
<dd>
<p>Character. Activate panel creation. If "left" the map will be displayed in
the left panel. Otherwise, if it is "right" the map will be displayed in the right panel.
By default NULL (No panel will be created).</p>
</dd>
<dt><code>opacity</code></dt>
<dd>
<p>The layer's opacity is represented as a number between 0 and 1. Defaults to 1.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A <code>EarthEngineMap</code> object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>\dontrun{
library(sf)
library(rgee)

ee_Initialize()

Map &lt;- R6Map$new()

nc &lt;- st_read(system.file("shape/nc.shp", package = "sf")) %&gt;%
  st_transform(4326) %&gt;%
  sf_as_ee()

ee_s2 &lt;- ee$ImageCollection("COPERNICUS/S2")$
  filterDate("2016-01-01", "2016-01-31")$
  filterBounds(nc)
ee_s2 &lt;- ee$ImageCollection(ee_s2$toList(2))

Map$centerObject(nc$geometry())
Map$addLayers(eeObject = ee_s2,position = "right")

# digging up the metadata
Map$previous_map_right$rgee$tokens

Map$reset()
}
</pre>
</div>


<hr>
<a id="method-EarthEngineMap-addLegend"></a>



<h4>Method <code>addLegend()</code>
</h4>

<p>Adds a color legend to an EarthEngineMap.
</p>


<h5>Usage</h5>

<div class="r"><pre>R6Map$addLegend(
  visParams,
  name = "Legend",
  position = c("bottomright", "topright", "bottomleft", "topleft"),
  color_mapping = "numeric",
  opacity = 1,
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>visParams</code></dt>
<dd>
<p>List of parameters for visualization.</p>
</dd>
<dt><code>name</code></dt>
<dd>
<p>The title of the legend.</p>
</dd>
<dt><code>position</code></dt>
<dd>
<p>Character. The position of the legend. By default bottomright.</p>
</dd>
<dt><code>color_mapping</code></dt>
<dd>
<p>Map data values (numeric or factor/character) to
colors according to a given palette. Use "numeric" ("discrete") for continuous
(categorical) data. For display characters use "character" and add to visParams
the element "values" containing the desired character names.</p>
</dd>
<dt><code>opacity</code></dt>
<dd>
<p>The legend's opacity is represented as a number between 0
and 1. Defaults to 1.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Extra legend creator arguments. See addLegend.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A <code>EarthEngineMap</code> object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>\dontrun{
library(leaflet)
library(rgee)
ee_Initialize()

Map$reset()

# Load MODIS ImageCollection
imgcol &lt;- ee$ImageCollection$Dataset$MODIS_006_MOD13Q1

# Parameters for visualization
labels &lt;- c("good", "marginal", "snow", "cloud")
cols   &lt;- c("#999999", "#00BFC4", "#F8766D", "#C77CFF")
vis_qc &lt;- list(min = 0, max = 3, palette = cols, bands = "SummaryQA", values = labels)

# Create interactive map
m_qc &lt;- Map$addLayer(imgcol$median(), vis_qc, "QC")

# continous palette
Map$addLegend(vis_qc)

# categorical palette
Map$addLegend(vis_qc, name = "Legend1", color_mapping = "discrete")

# character palette
Map$addLegend(vis_qc, name = "Legend2", color_mapping = "character")
}
</pre>
</div>


<hr>
<a id="method-EarthEngineMap-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>R6Map$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R">
## ------------------------------------------------
## Method `R6Map$reset`
## ------------------------------------------------

## Not run: 
library(rgee)
ee_Initialize()

# Load an Image
image &lt;- ee$Image("LANDSAT/LC08/C01/T1/LC08_044034_20140318")

# Create
Map &lt;- R6Map$new()
Map$centerObject(image)

# Simple display: Map just will
Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max = 10000, bands = c("B4", "B3", "B2")),
  name = "l8_01"
)
Map # display map

Map$reset() # Reset arguments
Map

## End(Not run)

## ------------------------------------------------
## Method `R6Map$setCenter`
## ------------------------------------------------

## Not run: 
library(rgee)

ee_Initialize()

Map &lt;- R6Map$new()
Map$setCenter(lon = -76, lat = 0, zoom = 5)
Map

# Map$lat
# Map$lon
# Map$zoom

## End(Not run)

## ------------------------------------------------
## Method `R6Map$setZoom`
## ------------------------------------------------

## Not run: 
library(rgee)

ee_Initialize()

Map &lt;- R6Map$new()
Map$setZoom(zoom = 4)
Map

# Map$lat
# Map$lon
# Map$zoom

## End(Not run)

## ------------------------------------------------
## Method `R6Map$centerObject`
## ------------------------------------------------

## Not run: 
library(rgee)

ee_Initialize()

Map &lt;- R6Map$new()
image &lt;- ee$Image("LANDSAT/LC08/C01/T1/LC08_044034_20140318")
Map$centerObject(image)
Map

## End(Not run)

## ------------------------------------------------
## Method `R6Map$addLayer`
## ------------------------------------------------

## Not run: 
library(rgee)
ee_Initialize()

# Load an Image
image &lt;- ee$Image("LANDSAT/LC08/C01/T1/LC08_044034_20140318")

# Create
Map &lt;- R6Map$new()
Map$centerObject(image)

# Simple display: Map just will
Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max = 10000, bands = c("B4", "B3", "B2")),
  name = "l8_01"
)

Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max = 20000, bands = c("B4", "B3", "B2")),
  name = "l8_02"
)

# Simple display: Map just will (if the position is not specified it will
# be saved on the right side)
Map$reset() # Reset Map to the initial arguments.
Map$centerObject(image)
Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max=10000, bands = c("B4", "B3", "B2")),
  name = "l8_left",
  position = "left"
)

Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max=20000, bands = c("B4", "B3", "B2")),
  name = "l8_right"
)

Map$reset()

## End(Not run)

## ------------------------------------------------
## Method `R6Map$addLayers`
## ------------------------------------------------

## Not run: 
library(sf)
library(rgee)

ee_Initialize()

Map &lt;- R6Map$new()

nc &lt;- st_read(system.file("shape/nc.shp", package = "sf")) %&gt;%
  st_transform(4326) %&gt;%
  sf_as_ee()

ee_s2 &lt;- ee$ImageCollection("COPERNICUS/S2")$
  filterDate("2016-01-01", "2016-01-31")$
  filterBounds(nc)
ee_s2 &lt;- ee$ImageCollection(ee_s2$toList(2))

Map$centerObject(nc$geometry())
Map$addLayers(eeObject = ee_s2,position = "right")

# digging up the metadata
Map$previous_map_right$rgee$tokens

Map$reset()

## End(Not run)

## ------------------------------------------------
## Method `R6Map$addLegend`
## ------------------------------------------------

## Not run: 
library(leaflet)
library(rgee)
ee_Initialize()

Map$reset()

# Load MODIS ImageCollection
imgcol &lt;- ee$ImageCollection$Dataset$MODIS_006_MOD13Q1

# Parameters for visualization
labels &lt;- c("good", "marginal", "snow", "cloud")
cols   &lt;- c("#999999", "#00BFC4", "#F8766D", "#C77CFF")
vis_qc &lt;- list(min = 0, max = 3, palette = cols, bands = "SummaryQA", values = labels)

# Create interactive map
m_qc &lt;- Map$addLayer(imgcol$median(), vis_qc, "QC")

# continous palette
Map$addLegend(vis_qc)

# categorical palette
Map$addLegend(vis_qc, name = "Legend1", color_mapping = "discrete")

# character palette
Map$addLegend(vis_qc, name = "Legend2", color_mapping = "character")

## End(Not run)
</code></pre>


</div>