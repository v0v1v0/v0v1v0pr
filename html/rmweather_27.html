<div class="container">

<table style="width: 100%;"><tr>
<td>rmw_prepare_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to prepare a data frame for modelling with <strong>rmweather</strong>.</h2>

<h3>Description</h3>

<p><code>rmw_prepare_data</code> will test and prepare a data frame for further use 
with <strong>rmweather</strong>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rmw_prepare_data(
  df,
  value = "value",
  na.rm = FALSE,
  replace = FALSE,
  fraction = 0.8
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>Input data frame. Generally a time series of air quality data with
pollutant concentrations and meteorological variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>Name of the dependent variable. Usually a pollutant, for example,
<code>"no2"</code> or <code>"pm10"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>Should missing values (<code>NA</code>) be removed from <code>value</code>?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace</code></td>
<td>
<p>When adding the date variables to the set, should they replace
the versions already contained in the data frame if they exist?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fraction</code></td>
<td>
<p>Fraction of the observations to make up the training set. 
Default is 0.8, 80 %.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>rmw_prepare_data</code> will check if a <code>date</code> variable is present and 
is of the correct data type, impute missing numeric and categorical values, 
randomly split the input into training and testing sets, and rename the 
dependent variable to <code>"value"</code>. The <code>date</code> variable will also be 
used to calculate new variables such as <code>date_unix</code>, <code>day_julian</code>, 
<code>weekday</code>, and <code>hour</code> which can be used as independent variables. 
These attributes are needed for other <strong>rmweather</strong> functions to operate. 
</p>
<p>Use <code>set.seed</code> in an R session to keep results reproducible.
</p>


<h3>Value</h3>

<p>Tibble, the input data transformed ready for modelling with 
<strong>rmweather</strong>.
</p>


<h3>Author(s)</h3>

<p>Stuart K. Grange
</p>


<h3>See Also</h3>

<p><code>set.seed</code>, <code>rmw_train_model</code>, 
<code>rmw_normalise</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Load package
library(dplyr)

# Keep things reproducible
set.seed(123)

# Prepare example data for modelling, only use no2 data here
data_london_prepared &lt;- data_london %&gt;% 
  filter(variable == "no2") %&gt;% 
  rmw_prepare_data()

</code></pre>


</div>