<div class="container">

<table style="width: 100%;"><tr>
<td>pcr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>pcr: Process Capability Indices</h2>

<h3>Description</h3>

<p>Calculates the process capability <code>cp</code>, <code>cpk</code>, <code>cpkL</code> (onesided) and <code>cpkU</code> (onesided) for a given dataset and distribution.
A histogram with a density curve is displayed along with the specification limits and a Quantile-Quantile Plot for the specified distribution.
Lower-, upper and total fraction of nonconforming entities are calculated. Box-Cox Transformations are supported as well as the calculation of Anderson Darling Test Statistics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pcr(
  x,
  distribution = "normal",
  lsl,
  usl,
  target,
  boxcox = FALSE,
  lambda = c(-5, 5),
  main,
  xlim,
  grouping = NULL,
  std.dev = NULL,
  conf.level = 0.9973002,
  bounds.lty = 3,
  bounds.col = "red",
  col.fill = "lightblue",
  col.border = "black",
  col.curve = "red",
  plot = TRUE,
  ADtest = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Numeric vector containing the values for which the process capability should be calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distribution</code></td>
<td>
<p>Character string specifying the distribution of <code>x</code>. The function <code>cp</code> will accept the following character strings for <code>distribution</code>:
</p>

<ul>
<li> <p><code>`normal`</code>
</p>
</li>
<li> <p><code>`log-normal`</code>
</p>
</li>
<li> <p><code>`exponential`</code>
</p>
</li>
<li> <p><code>`logistic`</code>
</p>
</li>
<li> <p><code>`gamma`</code>
</p>
</li>
<li> <p><code>`weibull`</code>
</p>
</li>
<li> <p><code>`cauchy`</code>
</p>
</li>
<li> <p><code>`gamma3`</code>
</p>
</li>
<li> <p><code>`weibull3`</code>
</p>
</li>
<li> <p><code>`lognormal3`</code>
</p>
</li>
<li> <p><code>`beta`</code>
</p>
</li>
<li> <p><code>`f`</code>
</p>
</li>
<li> <p><code>`geometric`</code>
</p>
</li>
<li> <p><code>`poisson`</code>
</p>
</li>
<li> <p><code>`negative-binomial`</code>
</p>
</li>
</ul>
<p>By default <code>distribution</code> is set to <code>`normal`</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lsl</code></td>
<td>
<p>A numeric value specifying the lower specification limit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>usl</code></td>
<td>
<p>A numeric value specifying the upper specification limit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>(Optional) numeric value giving the target value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boxcox</code></td>
<td>
<p>Logical value specifying whether a Box-Cox transformation should be performed or not. By default <code>boxcox</code> is set to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>(Optional) lambda for the transformation, default is to have the function estimate lambda.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>A character string specifying the main title of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>A numeric vector of length 2 specifying the x-axis limits for the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grouping</code></td>
<td>
<p>(Optional) If grouping is given the standard deviation is calculated as mean standard deviation of the specified subgroups corrected by the factor <code>c4</code> and expected fraction of nonconforming is calculated using this standard deviation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>std.dev</code></td>
<td>
<p>An optional numeric value specifying the historical standard deviation (only provided for normal distribution). If <code>NULL</code>, the standard deviation is calculated from the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>Numeric value between <code>0</code> and <code>1</code> giving the confidence interval.
By default <code>conf.level</code> is <code>0.9973</code> (99.73%) which is the reference interval bounded by the 99.865% and 0.135% quantile.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bounds.lty</code></td>
<td>
<p>graphical parameter. For further details see <code>ppPlot</code> or <code>qqPlot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bounds.col</code></td>
<td>
<p>A character string specifying the color of the capability bounds. Default is "red".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.fill</code></td>
<td>
<p>A character string specifying the fill color for the histogram plot. Default is "lightblue".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.border</code></td>
<td>
<p>A character string specifying the border color for the histogram plot. Default is "black".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.curve</code></td>
<td>
<p>A character string specifying the color of the fitted distribution curve. Default is "red".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>A logical value indicating whether to generate a plot. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ADtest</code></td>
<td>
<p>A logical value indicating whether to print the Anderson-Darling. Default is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Distribution fitting is delegated to the function <code>FitDistr</code> from this package, as well as the calculation of lambda for the Box-Cox Transformation. p-values for the Anderson-Darling Test are reported for the most important distributions.
</p>
<p>The process capability indices are calculated as follows:
</p>

<ul>
<li> <p><strong>cpk</strong>: minimum of <code>cpK</code> and <code>cpL</code>.
</p>
</li>
<li> <p><strong>pt</strong>: total fraction nonconforming.
</p>
</li>
<li> <p><strong>pu</strong>: upper fraction nonconforming.
</p>
</li>
<li> <p><strong>pl</strong>: lower fraction nonconforming.
</p>
</li>
<li> <p><strong>cp</strong>: process capability index.
</p>
</li>
<li> <p><strong>cpkL</strong>: lower process capability index.
</p>
</li>
<li> <p><strong>cpkU</strong>: upper process capability index.
</p>
</li>
<li> <p><strong>cpk</strong>: minimum process capability index.
</p>
</li>
</ul>
<p>For a Box-Cox transformation, a data vector with positive values is needed to estimate an optimal value of lambda for the Box-Cox power transformation of the values. The Box-Cox power transformation is used to bring the distribution of the data vector closer to normality. Estimation of the optimal lambda is delegated to the function <code>boxcox</code> from the <code>MASS</code> package. The Box-Cox transformation has the form <code class="reqn">y(\lambda) = \frac{y^\lambda - 1}{\lambda}</code> for <code class="reqn">\lambda \neq 0</code>, and <code class="reqn">y(\lambda) = \log(y)</code> for <code class="reqn">\lambda = 0</code>. The function <code>boxcox</code> computes the profile log-likelihoods for a range of values of the parameter lambda. The function <code>boxcox.lambda</code> returns the value of lambda with the maximum profile log-likelihood.
</p>
<p>In case no specification limits are given, <code>lsl</code> and <code>usl</code> are calculated to support a process capability index of 1.
</p>


<h3>Value</h3>

<p>The function returns a list with the following components:
</p>
<p>The function <code>pcr</code> returns a list with <code>lambda</code>, <code>cp</code>, <code>cpl</code>, <code>cpu</code>, <code>ppt</code>, <code>ppl</code>, <code>ppu</code>, <code>A</code>, <code>usl</code>, <code>lsl</code>, <code>target</code>, <code>asTest</code>, <code>plot</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(1234)
data &lt;- rnorm(20, mean = 20)
pcr(data, "normal", lsl = 17, usl = 23)

set.seed(1234)
weib &lt;- rweibull(20, shape = 2, scale = 8)
pcr(weib, "weibull", usl = 20)
</code></pre>


</div>