<div class="container">

<table style="width: 100%;"><tr>
<td>as.data.frame.rstack</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert an rstack to a data.frame</h2>

<h3>Description</h3>

<p>Converts the elements of an rstack into rows of a data.frame, if this is reasonable.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'rstack'
as.data.frame(x, row.names = NULL, optional = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>rstack to convert.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row.names</code></td>
<td>
<p>passed on to <code>as.data.frame</code> before final conversion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optional</code></td>
<td>
<p>passed onto <code>as.data.frame</code> before final conversion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>passed onto <code>as.data.frame</code> before final conversion.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function runs in <code class="reqn">O(N)</code> time in the size of the rstack, and will only work if all
elements of the stack have the same length() (e.g., same number of columns), and if any of the
elements have names, then those names do not conflict (e.g., same column names where used).
This is accomplished by a call to
<code>do.call("rbind", as.list.rstack(x))</code>, where <code>as.list.rstack</code> converts the rstack to a list
where the top element becomes the first element of the list.
</p>


<h3>Value</h3>

<p>a data.frame with the first row the previous top of the stack.
</p>


<h3>See Also</h3>

<p><code>as.list.rstack</code> for conversion to a list and the generic <code>as.data.frame</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">s &lt;- rstack()
s &lt;- insert_top(s, data.frame(names = c("Bob", "Joe"), ages = c(25, 18)))
s &lt;- insert_top(s, data.frame(names = c("Mary", "Kate", "Ashley"), ages = c(27, 26, 21)))
print(s)

sd &lt;- as.data.frame(s)
print(sd)

## Elements may be similarly-named lists as well, representing individual rows:
s &lt;- rstack()
s &lt;- insert_top(s, list(name = "Bob", age = 25))
s &lt;- insert_top(s, list(name = "Mary", age = 24))
print(s)

sd &lt;- as.data.frame(s)
print(sd)

## Building a stack in a loop, converting to a dataframe after the fact:
s &lt;- rstack()
for(i in 1:1000) {
 if(runif(1,0,1) &lt; 0.5) {
   s &lt;- insert_top(s, data.frame(i = i, type = "sqrt", val = sqrt(i)))
 } else {
   s &lt;- insert_top(s, data.frame(i = i, type = "log", val = log(i)))
 }
 if(i %% 100 == 0) {
   print(i/1000)
 }
}
print(head(as.data.frame(s)))
</code></pre>


</div>