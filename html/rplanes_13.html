<div class="container">

<table style="width: 100%;"><tr>
<td>plane_diff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Difference component</h2>

<h3>Description</h3>

<p>This function implements the point-to-point difference plausibility component. Differences in evaluated signals are calculated from input values iteratively subtracted from the previous values (i.e., for each x at time point i, the difference will be calculated as xi - xi-1). The plausibility analysis uses the evaluated differences to compare against the maximum difference observed and recorded in the seed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plane_diff(location, input, seed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>location</code></td>
<td>
<p>Character vector with location code; the location must appear in input and seed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p>Input signal data to be scored; object must be one of forecast or observed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Prepared seed</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>list</code> with the following values:
</p>

<ul>
<li> <p><strong>indicator</strong>: Logical as to whether or not the absolute value of any of the evaluated differences exceeds the maximum difference
</p>
</li>
<li> <p><strong>values</strong>: A vector with the values assessed including the last value in seed concatenated with the evaluated signal values
</p>
</li>
<li> <p><strong>evaluated_differences</strong>: A vector with the consecutive differences for the values
</p>
</li>
<li> <p><strong>maximum_difference</strong>: A vector with one value for the maximum difference observed in seed
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## read in example observed data and prep observed signal
hosp &lt;- read.csv(system.file("extdata/observed/hdgov_hosp_weekly.csv", package = "rplanes"))
hosp$date &lt;- as.Date(hosp$date, format = "%Y-%m-%d")
prepped_observed &lt;- to_signal(hosp, outcome = "flu.admits", type = "observed", resolution = "weeks")

## read in example forecast and prep forecast signal
fp &lt;- system.file("extdata/forecast/2022-10-31-SigSci-TSENS.csv", package = "rplanes")
prepped_forecast &lt;- read_forecast(fp) %&gt;%
  to_signal(., outcome = "flu.admits", type = "forecast", horizon = 4)

## prepare seed with cut date
prepped_seed &lt;- plane_seed(prepped_observed, cut_date = "2022-10-29")

## run plane component
plane_diff(location = "10", input = prepped_forecast, seed = prepped_seed)
plane_diff(location = "51", input = prepped_forecast, seed = prepped_seed)

</code></pre>


</div>