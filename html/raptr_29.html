<div class="container">

<table style="width: 100%;"><tr>
<td>calcSpeciesAverageInPus</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate average value for species data in planning units</h2>

<h3>Description</h3>

<p>This function calculates the average of species values in each planning unit.
By default all polygons will be treated as having separate ids.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calcSpeciesAverageInPus(x, ...)

## S3 method for class 'SpatialPolygons'
calcSpeciesAverageInPus(x, y, ids = seq_len(terra::nlyr(y)), ...)

## S3 method for class 'SpatialPolygonsDataFrame'
calcSpeciesAverageInPus(x, y, ids = seq_len(terra::nlyr(y)), field = NULL, ...)

## S3 method for class 'sf'
calcSpeciesAverageInPus(x, y, ids = seq_len(terra::nlyr(y)), field = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>sf::st_as_sf()</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p><code>terra::rast()</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ids</code></td>
<td>
<p><code>integer</code> vector of ids. Defaults to indices of layers in
argument to <code>y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>field</code></td>
<td>
<p><code>integer</code> index or <code>character</code> name of column with
planning unit ids. Valid only when <code>x</code> is a
<code>sf::st_sf()</code> or <code>sp::SpatialPolygonsDataFrame()</code> object.
Default behavior is to treat each polygon as a different planning unit.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>base::data.frame()</code> object.
</p>


<h3>Note</h3>

<p>Although earlier versions of the package had an additional <code>ncores</code>
parameter, this parameter has been deprecated.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# simulate data
sim_pus &lt;- sim.pus(225L)
sim_spp &lt;- terra::rast(
  lapply(c("uniform", "normal", "bimodal"),
         sim.species, n = 1, res = 1, x = sim_pus)
)

# calculate average for 1 species
puvspr1.dat &lt;- calcSpeciesAverageInPus(sim_pus, sim_spp[[1]])

# calculate average for multiple species
puvspr2.dat &lt;- calcSpeciesAverageInPus(sim_pus, sim_spp)

## End(Not run)
</code></pre>


</div>