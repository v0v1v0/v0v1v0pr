<div class="container">

<table style="width: 100%;"><tr>
<td>do.optimFreeviz</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Optimize the Dimensional Anchors Position using the Freeviz algorithm</h2>

<h3>Description</h3>

<p>Allows to compute the best arrangement of Dimensional Anchors so that
visualization efficiency (i.e. separation between classes) is maximized.
The Freeviz algorithm is implemented in C++ for optimal computational efficiency.
</p>


<h3>Usage</h3>

<pre><code class="language-R">do.optimFreeviz(
  x,
  classes,
  attractG = 1,
  repelG = 1,
  law = 0,
  steps = 10,
  springs = NULL,
  multilevel = FALSE,
  nClusters = 5000,
  minTreeLevels = 3,
  subsetting = FALSE,
  minSamples = 1000,
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Dataframe or matrix, with observations as rows and attributes as columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>classes</code></td>
<td>
<p>Vector with class labels of the observations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attractG</code></td>
<td>
<p>Number specifying the weight of the attractive forces</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repelG</code></td>
<td>
<p>Number specifying the weight of the repulsive forces</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>law</code></td>
<td>
<p>Integer, specifying how forces change with distance: 0 = (inverse) linear, 1 = (inverse) square</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>steps</code></td>
<td>
<p>Number of iterations of the algorithm before re-considering convergence criterion</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>springs</code></td>
<td>
<p>Numeric matrix with initial anchor coordinates. When <code>NULL</code> (=default), springs are initialized by <code>make.S</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multilevel</code></td>
<td>
<p>Logical, indicating whether multi-level computation should be used. Setting it to TRUE can speed up computations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nClusters</code></td>
<td>
<p>Number of clusters to be used at coarsest level of hierarchical tree (only used when <code>multilevel</code> is set to TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minTreeLevels</code></td>
<td>
<p>Minimum number of clustering levels to consider (only used when <code>multilevel</code> is set to TRUE). This parameter might over-rule <code>nClusters</code> .</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subsetting</code></td>
<td>
<p>Logical, indicating whether a subsetting procedure should be used to compute the springs. The subset size is iteratively increased until the springs 
are found to be close enough to their true values, based on a confidence interval. For large datasets this option can considerably speed up computations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minSamples</code></td>
<td>
<p>Minimum number of samples to be considered for subsetting (only used when <code>subsetting</code> is set to TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>Logical, indicating whether information on the iterative procedure should be printed in the R console</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Freeviz is an optimization method that finds the linear projection that
best separates instances of different classes, based on a physical metaphor. Observations are considered as physical particles,
that exert forces onto each other. Attractive forces occur between observations of the same class, and repulsive forces between
observations of different classes, with the force strength depending on the distance between observations. The goal of Freeviz
is to find the projection with minimal potential energy. For more details, see the original Freeviz paper: doi: <a href="https://doi.org/10.1016/j.jbi.2007.03.010">10.1016/j.jbi.2007.03.010</a>
</p>


<h3>Value</h3>

<p>A matrix with 2 columns (x and y coordinates of dimensional anchors) and 1 line
per dimensional anchor (so called springs).
</p>


<h3>Author(s)</h3>

<p>Nicolas Sauwen
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(iris)
das &lt;- c('Sepal.Length','Sepal.Width','Petal.Length','Petal.Width')
S &lt;- make.S(das)
rv &lt;- do.radviz(iris,S)
plot(rv,anchors.only=FALSE)
new.S &lt;- do.optimFreeviz(x = iris[,das], classes = iris$Species)
new.rv &lt;- do.radviz(iris,new.S)
plot(new.rv,anchors.only=FALSE)

</code></pre>


</div>