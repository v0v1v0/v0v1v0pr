<div class="container">

<table style="width: 100%;"><tr>
<td>rym-calls</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Manage callss
</h2>

<h3>Description</h3>

<p>calls Management:
</p>

<dl>
<dt>rym_enable_calls</dt>
<dd>
<p>Enable calls tracking for the specified counter.</p>
</dd>
<dt>rym_disable_calls</dt>
<dd>
<p>Disable calls tracking for the specified counter.</p>
</dd>
<dt>rym_upload_calls</dt>
<dd>
<p>Upload callss.</p>
</dd>
<dt>rym_allow_calls</dt>
<dd>
<p>Returns the date and time from which conversions can be linked to visits for the specified counter.</p>
</dd>
<dt>rym_get_uploadings_callss</dt>
<dd>
<p>Returns a list of calls downloads.</p>
</dd>
</dl>
<h3>Usage</h3>

<pre><code class="language-R">rym_enable_calls(
   counter, 
   login      = getOption("rym.user"), 
   token.path = getOption("rym.token_path"))
           
rym_disable_calls(
   counter, 
   login      = getOption("rym.user"), 
   token.path = getOption("rym.token_path"))
   
rym_allow_calls(
   counter, 
   login      = getOption("rym.user"), 
   token.path = getOption("rym.token_path"))
   
rym_upload_calls(
   counter, 
   data,
   client.id.type = c("CLIENT_ID", "USER_ID"),
   new.goal.name  = NULL,
   comment        = paste0("Upload by rym at ", Sys.time()),
   login          = getOption("rym.user"), 
   token.path     = getOption("rym.token_path"))

rym_get_uploadings_calls(
   counter, 
   login      = getOption("rym.user"), 
   token.path = getOption("rym.token_path"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>counter</code></td>
<td>
<p>Your yandex metrica counter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data.frame, expense data for loading</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>client.id.type</code></td>
<td>
<p>Type of visitor identifiers: CLIENT_ID or USER_ID</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comment</code></td>
<td>
<p>Comment for data loading</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new.goal.name</code></td>
<td>
<p>The name of the new goal for calls in the event that such a goal does not exist. If the target exists, this parameter is ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>login</code></td>
<td>
<p>character, Your Yandex login</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token.path</code></td>
<td>
<p>character, Directory for store API credential</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Loading data format.
</p>
<p>Require:
</p>

<dl>
<dt>UserId, ClientId, Yclid</dt>
<dd>
<p>Identifier of the visitor to the site or advertising campaign in Yandex.Direct, for example: 12345</p>
</dd>
</dl>
<p>Optional:
</p>

<dl>
<dt>StaticCall</dt>
<dd>
<p>whether the call is static (1 - static, 0 - dynamic)</p>
</dd>
<dt>Price</dt>
<dd>
<p>target price, the decimal separator is the dot (.)</p>
</dd>
<dt>Currency</dt>
<dd>
<p>currency in the three-letter format ISO 4217, for example: RUB</p>
</dd>
<dt>PhoneNumber</dt>
<dd>
<p>phone number without spaces (with country and city code). For example, +70123456789</p>
</dd>
<dt>TalkDuration</dt>
<dd>
<p>call duration in seconds</p>
</dd>
<dt>HoldDuration</dt>
<dd>
<p>call waiting time in seconds</p>
</dd>
<dt>CallMissed</dt>
<dd>
<p>whether the call is missed (1 - missed, 0 - answered)</p>
</dd>
<dt>Tag</dt>
<dd>
<p>custom label. It can be used to mark the quality of a call or its outcome, etc. For example, “the customer was not satisfied with the price”</p>
</dd>
<dt>FirstTimeCaller</dt>
<dd>
<p>primary (1 - primary call, 0 - secondary call)</p>
</dd>
<dt>URL</dt>
<dd>
<p>The URL from which the call came (the page associated with the event). For example, this could be the landing page for an ad campaign that has a phone number (PhoneNumber)</p>
</dd>
<dt>CallTrackerURL</dt>
<dd>
<p>The URL to go to the call tracker interface</p>
</dd>
</dl>
<p>Example of <a href="https://download.cdn.yandex.net/from/yandex.ru/support/ru/metrica/files/offline-conversions.csv">CSV file</a>.
</p>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p>See official dox:
<a href="https://yandex.ru/dev/metrika/doc/api2/practice/calls-docpage/">API documents</a>
<a href="https://yandex.ru/dev/metrika/doc/api2/management/offline_conversion/uploadcalls-docpage/">Upload calls info into Yandex Metrica</a>
<a href="https://yandex.ru/support/metrica/data/calls.html">Calls in Yandex Metrica</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# read data for upload
data &lt;- read.csv("https://bit.ly/2CcsNyl")

# enable offline cnversion
rym_enable_calls(
   counter = 123456789, 
   login   = "your_login"
)

# upload data
rym_upload_calls(
   counter        = 123456789, 
   data           = data,
   client.id.type = "CLIENT_ID",
   login          = "your_login")
   
# check uploading
rym_allow_calls(
   counter = 123456789, 
   login   = "your_login")

## End(Not run)
</code></pre>


</div>