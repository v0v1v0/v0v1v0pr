<div class="container">

<table style="width: 100%;"><tr>
<td>RcppExample</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rcpp R / C++ interface example – deprecated API</h2>

<h3>Description</h3>

<p><code>RcppExample</code> illustrates how the older <code>Rcpp</code> R/C++ 
interface class library is used. It provides fairly complete coverage
for the older ‘classic’ API. 
</p>
<p>Note that the <span class="pkg">RcppClassic</span> package has been deprecated since
2010, all new development should use the <span class="pkg">Rcpp</span> package instead.
</p>


<h3>Usage</h3>

<pre><code class="language-R">RcppExample(params, nlist, numvec, nummat, df, datevec, stringvec, fnvec, fnlist)
## S3 method for class 'RcppExample'
print(x,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>A heterogeneous list specifying <code>method</code> (string),
<code>tolerance</code> (double), <code>maxIter</code> (int).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlist</code></td>
<td>
<p>a list of named numeric values (double or int).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numvec</code></td>
<td>
<p>a numeric 1D vector (double or int).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nummat</code></td>
<td>
<p>a numeric 2D matrix (double or int).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>a data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datevec</code></td>
<td>
<p>a vector of Date's.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stringvec</code></td>
<td>
<p>a vector of strings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fnvec</code></td>
<td>
<p>an R function with numeric vector argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fnlist</code></td>
<td>
<p>an R function with list argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object of type <code>RcppExample</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra named parameters.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The C++ represention of data frames are not passed back to R in a form
that R recognizes as a data frame, but it is a simple matter to do the
conversion. For example, the return value named <code>PreDF</code> (see
return values below) is not seen as a data frame on the R side (thus
the name "pre-data frame"), but it can be converted to a data frame
using <code>df &lt;- data.frame(result$PreDF)</code>.
</p>
<p>The print.RcppExample() function is defined so that we can control
what gets printed when a variable assigned the return value is entered
on a line by itself. It is defined to simply list the names of the
fields returned (see RcppExample.R).
</p>


<h3>Value</h3>

<p><code>RcppExample</code> returns a list containing:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>string input paramter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tolerance</code></td>
<td>
<p>double input paramter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxIter</code></td>
<td>
<p>int input parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlFirstName</code></td>
<td>
<p>first name in nlist</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlFirstValue</code></td>
<td>
<p>first value in nlist</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matD</code></td>
<td>
<p>R matrix from an RcppMatrix&lt;double&gt; object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stlvec</code></td>
<td>
<p>R vector from a vector&lt;double&gt; object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stlmat</code></td>
<td>
<p>R matrix from a vector&lt;vector&lt;double&gt; &gt; object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>R matrix from C/C++ matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>R vector from C/C++ vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strings</code></td>
<td>
<p>R vector of strings from vector&lt;string&gt; object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>InputDF</code></td>
<td>
<p>a data frame passed in from R</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PreDF</code></td>
<td>
<p>a data frame created on C++ side to be passed back to R</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>input parameter list (this is redundant because we returned the input parameters above)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Dominick Samperi wrote the initial versions of Rcpp (and
RcppTemplate) during 2005 and 2006.  Dirk Eddelbuettel made some
additions, and became maintainer in 2008. Dirk Eddelbuettel and Romain
Francois have been extending Rcpp since 2009.
</p>


<h3>References</h3>

<p><em>Writing R Extensions</em>, available at <a href="https://www.r-project.org">https://www.r-project.org</a>.
</p>


<h3>See Also</h3>

<p>See the RcppExamples-package for examples of the
recommended <span class="pkg">Rcpp</span> API and Rcpp-package for
documentation on the recommended API to extend R with C++ code, while
the deprecated RcppClassic-package documents the
older, deprecated API.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
params &lt;- list(method='BFGS',
               tolerance=1.0e-8,
               maxIter=1000,
               startDate=as.Date('2006-7-15'))

nlist &lt;- list(ibm = 80.50, hp = 53.64, c = 45.41)

numvec &lt;- seq(1,5) # numerical vector

nummat &lt;- matrix(seq(1,20),4,5) # numerical matrix

stringvec &lt;- c("hello", "world", "fractal") # string vector

datestr &lt;- c('2006-6-10', '2006-7-12', '2006-8-10')
datevec &lt;- as.Date(datestr, "%Y-%m-%d") # date vector

df &lt;- data.frame(a=c(TRUE, TRUE, FALSE), b=I(c('a','b','c')),
c=c('beta', 'beta', 'gamma'), dates=datevec)

fnvec &lt;- function(x) { sum(x) } # Add up components of vector

fnlist &lt;- function(l) { # Return vector with 1 added to each component
  vec &lt;- c(l$alpha + 1, l$beta + 1, l$gamma + 1)
  vec
}

result &lt;- RcppExample(params, nlist, numvec, nummat, df, datevec,
                      stringvec, fnvec, fnlist)

result

</code></pre>


</div>