<div class="container">

<table style="width: 100%;"><tr>
<td>weighted_quantile</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Weighted Quantile</h2>

<h3>Description</h3>

<p>Weighted population quantile.
</p>


<h3>Usage</h3>

<pre><code class="language-R">weighted_quantile(x, w, probs, na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>[numeric vector]</code> data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p><code>[numeric vector]</code> weights (same length as <code>x</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p><code>[numeric vector]</code> vector of probabilities with
values in <code>[0,1]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p><code>[logical]</code> indicating whether <code>NA</code> values
should be removed before the computation proceeds
(default: <code>FALSE</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>


<dl>
<dt>Overview.</dt>
<dd>
<p><code>weighted_quantile</code> computes the weighted
sample quantiles; argument <code>probs</code> allows vector inputs.</p>
</dd>
<dt>Implementation.</dt>
<dd>
<p>The function is based on a weighted version
of the quickselect/Find algorithm with the Bentley and McIlroy
(1993) 3-way partitioning scheme. For very small arrays,
we use insertion sort.</p>
</dd>
<dt>Compatibility.</dt>
<dd>
<p>For equal weighting, i.e., when all elements in
<code>w</code> are equal, <code>weighted_quantile</code> is identical with
<code>type = 2</code> of <code>stats::quantile</code>; see also
Hyndman and Fan (1996).</p>
</dd>
</dl>
<h3>Value</h3>

<p>Weighted estimate of the population quantiles
</p>


<h3>References</h3>

<p>Bentley, J. L. and McIlroy, D. M. (1993). Engineering a Sort Function,
<em>Software - Practice and Experience</em> <b>23</b>, 1249–1265.
<a href="https://doi.org/10.1002/spe.4380231105">doi:10.1002/spe.4380231105</a>
</p>
<p>Hyndman, R.J. and Fan, Y. (1996). Sample Quantiles in Statistical Packages,
<em>The American Statistician</em> <b>50</b>, 361–365.
<a href="https://doi.org/10.1080/00031305.1996.10473566">doi:10.1080/00031305.1996.10473566</a>
</p>


<h3>See Also</h3>

<p>Overview (of all implemented functions)
</p>
<p><code>weighted_median</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">head(workplace)

# Weighted 25% quantile (1st quartile)
weighted_quantile(workplace$employment, workplace$weight, 0.25)
</code></pre>


</div>