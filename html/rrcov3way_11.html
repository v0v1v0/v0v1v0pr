<div class="container">

<table style="width: 100%;"><tr>
<td>do3Postprocess</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Postprocessing: renormalization, reflection and reordering; access to some of the components of the model.
</h2>

<h3>Description</h3>

<p>The estimated model will be renormalized, reflected (change of sign) or the components will be reordered.
Functions that provide access to some components of the model: coordinates, weights.
</p>


<h3>Usage</h3>

<pre><code class="language-R">    ## S3 method for class 'tucker3'
do3Postprocess(x, reflectA, reflectB, reflectC, reorderA, reorderB, reorderC, ...)
    ## S3 method for class 'parafac'
do3Postprocess(x, reflectA, reflectB, reflectC, reorder, ...)
    ## S3 method for class 'parafac'
coordinates(x, mode = c("A", "B", "C"), type = c("normalized", "unit", "principal"), ...)
    ## S3 method for class 'tucker3'
coordinates(x, mode = c("A", "B", "C"), type = c("normalized", "unit", "principal"), ...)
    ## S3 method for class 'parafac'
weights(object, ...)
    ## S3 method for class 'tucker3'
weights(object, mode = c("A", "B", "C"), ...)
    ## S3 method for class 'parafac'
reflect(x, mode = c("A", "B", "C"), rsign = 1, ...)
    ## S3 method for class 'tucker3'
reflect(x, mode = c("A", "B", "C"), rsign = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Tucker3 or Parafac solution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Tucker3 or Parafac solution (alternative of <code>x</code> for the generic function <code>weights()</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reflectA</code></td>
<td>
<p>How to handle the signs of the components of mode A - can be a single number or a vector with length of the number of components of A</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reflectB</code></td>
<td>
<p>How to handle the signs of the components of mode B - can be a single number or a vector with length of the number of components of B</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reflectC</code></td>
<td>
<p>How to handle the signs of the components of mode C - can be a single number or a vector with length of the number of components of C</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reorder</code></td>
<td>
<p>How to reorder the components of a Parafac solution - a vector with length of the number of components</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reorderA</code></td>
<td>
<p>How to reorder the components of mode A - a vector with length of the number of components of A giving the new order</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reorderB</code></td>
<td>
<p>How to reorder the components of mode B - a vector with length of the number of components of B giving the new order</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reorderC</code></td>
<td>
<p>How to reorder the components of mode C - a vector with length of the number of components of C giving the new order</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>For which mode to provide the coordinates or weights. Default is mode A</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Which type of coordinates to provide. Default is "normalized"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rsign</code></td>
<td>
<p>How to change the sign of the components of the given mode. Can be a single number or a vector with length of the number of components of the corresponding mode.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Potential further arguments passed to lower level functions.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The output value of do3Postproces() is the postprocessed solution, Parafac or Tucker3. 
The output of <code>weights()</code> and <code>coordinates()</code> are the respective values.
</p>


<h3>Author(s)</h3>

<p>Valentin Todorov <a href="mailto:valentin.todorov@chello.at">valentin.todorov@chello.at</a> and
Maria Anna Di Palma <a href="mailto:madipalma@unior.it">madipalma@unior.it</a> and
Michele Gallo <a href="mailto:mgallo@unior.it">mgallo@unior.it</a>
</p>


<h3>References</h3>

<p>Kroonenberg (2008). Applied multiway data analysis. Wiley series 
in probability and statistics. Hoboken NJ, Wiley.
</p>


<h3>Examples</h3>

<pre><code class="language-R">    data(elind)
    x1 &lt;- do3Scale(elind, center=TRUE, scale=TRUE)
    (cp &lt;- Parafac(x1, ncomp=3, const=c("orth", "none", "none")))
    
    cp$B
    cp1 &lt;- do3Postprocess(cp, reflectB=-1)      # change the sign of all components of B
    cp1$B
    weights(cp1)
    coordinates(cp1)
    coordinates(cp1, type="principal")

    ## Same as above - the centering and scaling is done inside the Parafac procedure
    (cp1 &lt;- Parafac(elind, ncomp=3, const=c("orth", "none", "none"), 
        center=TRUE, scale=TRUE))

    ## Robust estimation with robust scaling with median and mad
    (cp1 &lt;- Parafac(elind, ncomp=3, const=c("orth", "none", "none"), 
        center=median, scale=mad, robust=TRUE))

    ## Robust estimation with robust scaling with median and Qn (Rousseeuw and Croux, 1993)
    require(robustbase)
    (cp1 &lt;- Parafac(elind, ncomp=3, const=c("orth", "none", "none"), 
        center=median, scale=Qn, robust=TRUE))
</code></pre>


</div>