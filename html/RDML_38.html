<div class="container">

<table style="width: 100%;"><tr>
<td>RDML.AsTable</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Represents fields of <code>RDML</code> object as <code>data.frame</code>
</h2>

<h3>Description</h3>

<p>Formats particular fields of <code>RDML</code> object as <code>data.frame</code>s,
filters or passes them to <code>RDML.GetFData</code> and <code>RDML.SetFData</code>
functions.
</p>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.default</code></td>
<td>
<p><code>list</code> of default columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name.pattern</code></td>
<td>
<p>expression to form <code>fdata.name</code> (see Examples)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.columns</code></td>
<td>
<p><code>list</code> of additional columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat.null.as.na</code></td>
<td>
<p>if value is <code>NULL</code> then convert it to <code>NA</code>. Helps to deal with incomplete records.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional columns</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default input this function forms <code>data.frame</code> with following columns:
</p>
 <dl>
<dt>exp.id</dt>
<dd>
<p>experiment$id</p>
</dd> <dt>run.id</dt>
<dd>
<p>run$id</p>
</dd>
<dt>react.id</dt>
<dd>
<p>react$id</p>
</dd>
<dt>position</dt>
<dd>
<p>react$position</p>
</dd>
<dt>sample</dt>
<dd>
<p>react$sample</p>
</dd>
<dt>target</dt>
<dd>
<p>data$tar$id</p>
</dd> <dt>target.dyeId</dt>
<dd>
<p>target[[data$id]]$dyeId</p>
</dd>
<dt>sample.type</dt>
<dd>
<p>sample[[react$sample]]$type</p>
</dd> </dl>
<p> You can overload default
columns list by parameter <code>.default</code> but note that columns
</p>
<pre>exp.id, run.id, react.id, target</pre>
<p> are necessary for usage
<code>AsTable</code> output as
input for <code>GetFData</code> and <code>SetFData</code>. <br> Additional columns can be
introduced by specifying them at input parameter <code>...</code> (see Examples).
All default and additional columns accession expressions must be named.
</p>
<p>Experiment, run, react and data to which belongs each fluorescence data vector
can be accessed by <code>experiment, run, react, data</code> (see Examples).
</p>
<p>Result table does not contain data from experiments with ids starting with '.'!
</p>


<h3>Author(s)</h3>

<p>Konstantin A. Blagodatskikh &lt;k.blag@yandex.ru&gt;, Stefan Roediger
&lt;stefan.roediger@b-tu.de&gt;, Michal Burdukiewicz
&lt;michalburdukiewicz@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## internal dataset stepone_std.rdml (in 'data' directory)
## generated by Applied Biosystems Step-One. Contains qPCR data.
library(chipPCR)
PATH &lt;- path.package("RDML")
filename &lt;- paste(PATH, "/extdata/", "stepone_std.rdml", sep ="")
stepone &lt;- RDML$new(filename)
## Mark fluorescense data which Cq &gt; 30 and add quantities to
## AsTable output.
## Names for fluorescense data will contain sample name and react
## positions
tab &lt;- stepone$AsTable(
         name.pattern = paste(react$sample$id, react$position),
         add.columns = list(cq30 = if(data$cq &gt;= 30) "&gt;=30" else "&lt;30",
         quantity = sample[[react$sample$id]]$quantity$value)
         )
## Show cq30 and quantities
tab[, c("cq30", "quantity")]
## Get fluorescence values for 'std' type samples
## in format ready for ggplot function
library(dplyr)
fdata &lt;- stepone$GetFData(
           filter(tab, sample.type == "std"),
           long.table = TRUE)
## Plot fdata with colour by cq30 and shape by quantity
library(ggplot2)
ggplot(fdata, aes(x = cyc, y = fluor,
                  group = fdata.name,
                  colour = cq30,
                  shape = as.factor(quantity))) +
                  geom_line() + geom_point()

## End(Not run)
</code></pre>


</div>