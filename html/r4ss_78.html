<div class="container">

<table style="width: 100%;"><tr>
<td>SS_fitbiasramp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate bias adjustment for recruitment deviates</h2>

<h3>Description</h3>

<p>Uses standard error of estimated recruitment deviates to estimate the 5
controls (Methot and Taylor, 2011)
for bias adjustment in Stock Synthesis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SS_fitbiasramp(
  replist,
  verbose = FALSE,
  startvalues = NULL,
  method = "BFGS",
  twoplots = TRUE,
  transform = FALSE,
  plot = TRUE,
  print = FALSE,
  plotdir = "default",
  shownew = TRUE,
  oldctl = NULL,
  newctl = NULL,
  altmethod = "nlminb",
  exclude_forecast = FALSE,
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  ptsize = 10,
  res = 300,
  cex.main = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>replist</code></td>
<td>
<p>A list object created by <code>SS_output()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Controls the amount of output to the screen.  Default=FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startvalues</code></td>
<td>
<p>A vector of 5 values for the starting points in the
minimization. Default=NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>A method to apply to the 'optim' function. See ?optim for
options. Default="BFGS". By default, optim is not used, and the optimization
is based on the input <code>altmethod</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>twoplots</code></td>
<td>
<p>Make a two-panel plot showing devs as well as transformed
uncertainty, or just the second panel in the set?  Default=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform</code></td>
<td>
<p>An experimental option to treat the transform the 5
quantities to improve minimization. Doesn't work well. Default=FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>Plot to active plot device?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>Print to PNG files?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotdir</code></td>
<td>
<p>Directory where PNG files will be written. By default it will
be the directory where the model was run.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shownew</code></td>
<td>
<p>Include new estimated bias adjustment values on top of values
used in the model? (TRUE/FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oldctl</code></td>
<td>
<p>Optional name of existing control file to modify.
Default=NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newctl</code></td>
<td>
<p>Optional name of new control file to create from old file with
estimated bias adjustment values. Default=NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>altmethod</code></td>
<td>
<p>Optimization tool to use in place of optim, either "nlminb"
or "psoptim". If not equal to either of these, then optim is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude_forecast</code></td>
<td>
<p>Exclude forecast values in the estimation of
alternative bias adjustment inputs?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pwidth</code></td>
<td>
<p>Default width of plots printed to files in units of
<code>punits</code>. The default is <code>pwidth=6.5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pheight</code></td>
<td>
<p>Height of plots printed to png files in units of <code>punits</code>.
Default is designed to allow two plots per page, with <code>pheight_tall</code> used
for plots that work best with a taller format and a single plot per page.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>punits</code></td>
<td>
<p>Units for <code>pwidth</code> and <code>pheight</code>. Can be "px"
(pixels), "in" (inches), "cm" (centimeters), or "mm" (millimeters).
The default is <code>punits="in"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptsize</code></td>
<td>
<p>Point size for plotted text in plots printed to files (see
<code>help("png")</code> in R for details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.main</code></td>
<td>
<p>Character expansion for plot titles.
The default is <code>cex.main=1</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Implementation of the bias adjustment ramp within Stock Synthesis increases
the likelihood that the estimated recruitment events, which are
log-normally distributed, are mean unbiased and comparable to results from
Markov chain Monte Carlo estimation routines
(Methot and Taylor, 2011).
Options to account for the fact that data typically do not equally represent
all modelled time periods are as follows:
</p>

<ol>
<li>
<p>fix the bias adjustment parameters at best-guess values informed by a previous
assessment or model run;
</p>
</li>
<li>
<p>fix values based on data availability, such that the start of the ramp aligns
with the availability of composition data, the ramp down begins the last year
those data are informative about recruitment, and the adjustment level is
informed by life history;
</p>
</li>
<li>
<p>set the adjustment level to 1.0 for all years to mimic how it was handled
it Stock Synthesis prior to 2009; or
</p>
</li>
<li>
<p>set the adjustment level to 0.0 for all years, but this last option is
not recommended because it will lead to biased results.
</p>
</li>
</ol>
<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>References</h3>

<p>Methot, R.D. and Taylor, I.G., 2011.
Adjusting for bias due to variability of estimated recruitments in fishery assessment models.
Can. J. Fish. Aquat. Sci., 68:1744-1760.
</p>


<h3>See Also</h3>

<p><code>SS_output()</code>
</p>


</div>