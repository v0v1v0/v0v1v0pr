<div class="container">

<table style="width: 100%;"><tr>
<td>wcvp_match_names</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Match names to the WCVP.</h2>

<h3>Description</h3>

<p>Match names to WCVP, first using exact matching and then using fuzzy matching
on any remaining unmatched names.
</p>


<h3>Usage</h3>

<pre><code class="language-R">wcvp_match_names(
  names_df,
  wcvp_names = NULL,
  name_col = NULL,
  id_col = NULL,
  author_col = NULL,
  join_cols = NULL,
  fuzzy = TRUE,
  progress_bar = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>names_df</code></td>
<td>
<p>Data frame of names for matching.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wcvp_names</code></td>
<td>
<p>Data frame of taxonomic names from WCVP version 7 or later.
If <code>NULL</code> (the default), names will be loaded from <a href="https://matildabrown.github.io/rWCVPdata/"><code>rWCVPdata::wcvp_names</code></a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name_col</code></td>
<td>
<p>Character. The column in <code>names_df</code> that has the taxon name
for matching.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id_col</code></td>
<td>
<p>Character. A column in <code>names_df</code> with a unique ID for each
name. Will be created from the row number if not provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>author_col</code></td>
<td>
<p>the column in <code>names_df</code> that has the name authority, to aid
matching. Set to <code>NULL</code> to match with no author string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>join_cols</code></td>
<td>
<p>Character. A vector of name parts to make the taxon name,
if <code>name_col</code> is not provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fuzzy</code></td>
<td>
<p>Logical; whether or not fuzzy matching should be used for names
that could not be matched exactly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress_bar</code></td>
<td>
<p>Logical. Show progress bar when matching? Defaults to
<code>TRUE</code>; should be changed to <code>FALSE</code> if used in a markdown report.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default, exact matching uses only the taxon name (supplied by <code>name_col</code>)
unless a column specifying the author string is provided (as <code>author_col</code>).
</p>
<p>Columns setting out name parts can be supplied as <code>join_cols</code> in place of a
taxon name, but must be supplied in the order you want them joined
(e.g. <code>c("genus", "species", "infra_rank", "infra")</code>).
</p>
<p>Fuzzy matching uses a combination of phonetic and edit distance matching,
and can optionally be turned off using <code>fuzzy=FALSE</code>.
</p>
<p>The WCVP can be loaded for matching from <a href="https://matildabrown.github.io/rWCVPdata/"><code>rWCVPdata::wcvp_names</code></a>.
</p>
<p>See <a href="https://matildabrown.github.io/rWCVP/articles/redlist-name-matching.html">here</a> for an example workflow.
</p>


<h3>Value</h3>

<p>Match results from WCVP bound to the original data from <code>names_df</code>.
</p>


<h3>See Also</h3>

<p>Other name matching functions: 
<code>wcvp_match_exact()</code>,
<code>wcvp_match_fuzzy()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"> # these examples require 'rWCVPdata'
if(requireNamespace("rWCVPdata")){
wcvp_names &lt;- rWCVPdata::wcvp_names

# without author
wcvp_match_names(redlist_example, wcvp_names,
  name_col = "scientificName",
  id_col = "assessmentId"
)

# with author
wcvp_match_names(redlist_example, wcvp_names,
  name_col = "scientificName",
  id_col = "assessmentId", author_col = "authority"
)
}


</code></pre>


</div>