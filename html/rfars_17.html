<div class="container">

<table style="width: 100%;"><tr>
<td>get_gescrss</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get GES/CRSS data</h2>

<h3>Description</h3>

<p>Bring GES/CRSS data into the current environment, whether by downloading it anew
or by using pre-existing files.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_gescrss(
  years = 2011:2022,
  regions = c("mw", "ne", "s", "w"),
  dir = NULL,
  proceed = FALSE,
  cache = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>years</code></td>
<td>
<p>Years to be downloaded, in yyyy (character or numeric formats),
currently limited to 2011-2021.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>regions</code></td>
<td>
<p>(Optional) Regions to keep: mw=midwest, ne=northeast, s=south, w=west.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>Directory in which to search for or save a 'GESCRSS data' folder. If
NULL (the default), files are downloaded and unzipped to temporary
directories and prepared in memory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proceed</code></td>
<td>
<p>Logical, whether or not to proceed with downloading files without
asking for user permission (defaults to FALSE, thus asking permission)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache</code></td>
<td>
<p>The name of an RDS file to save or use. If the specified file (e.g., 'myFARS.rds')
exists in 'dir' it will be returned; if not, an RDS file of this name will be
saved in 'dir' for quick use in subsequent calls.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function downloads raw data from the GES and CRSS crash databases.
If no directory (dir) is specified, raw CSV files are downloaded into a
tempdir(), where they are also prepared, combined, and then brought into
the current environment. If you specify a directory (dir), the function will
look there for a 'GESCRSS data' folder. If not found, it will be created and
populated with raw and prepared SAS and RDS files. If the directory is found, the
function makes sure all requested years are present and asks permission
to download any missing years.
</p>
<p>The object returned is a list with class 'GESCRSS'. It contains six tibbles:
flat, multi_acc, multi_veh, multi_per, events, and codebook.
</p>
<p>Flat files are wide-formatted and presented at the person level.
All <em>crashes</em> involve at least one motor <em>vehicle</em>, each of
which may contain one or multiple <em>people</em>. These are the three
entities of crash data. The flat files therefore repeat some data elements
across multiple rows. Please conduct your analysis with your entity in mind.
</p>
<p>Some data elements can include multiple values for any data level
(e.g., multiple weather conditions corresponding to the crash, or multiple
crash factors related to vehicle or person). These elements have been
collected in the yyyy_multi_[acc/veh/per].rds files in long format.
These files contain crash, vehicle, and person identifiers, and two
variables labelled <code>name</code> and <code>value</code>. These correspond to
variable names from the raw data files and the corresponding values,
respectively.
</p>
<p>The events tibble provides a sequence of events for all vehicles involved
in the crash. See Crash Sequences vignette for an example.
</p>
<p>The codebook tibble serves as a searchable codebook for all files of any given year.
</p>
<p>Please review the <a href="https://crashstats.nhtsa.dot.gov/Api/Public/ViewPublication/813436">CRSS Analytical User's Manual</a>
</p>
<p>Regions are as follows:
mw = Midwest   = OH, IN, IL, MI, WI, MN, ND, SD, NE, IA, MO, KS
ne = Northeast = PA, NJ, NY, NH, VT, RI, MA, ME, CT
s  = South     = MD, DE, DC, WV, VA, KY, TN, NC, SC, GA, FL, AL, MS, LA, AR, OK, TX
w  = West      = MT, ID, WA, OR, CA, NV, NM, AZ, UT, CO, WY, AK, HI
</p>


<h3>Value</h3>

<p>A GESCRSS data object (a list with six tibbles: flat, multi_acc,
multi_veh, multi_per, events, and codebook).
</p>


<h3>Examples</h3>

<pre><code class="language-R">
  ## Not run: 
    myGESCRSS &lt;- get_gescrss(years = 2021, regions = "s")
  
## End(Not run)
</code></pre>


</div>