<div class="container">

<table style="width: 100%;"><tr>
<td>model.table</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create table of MARK model selection results</h2>

<h3>Description</h3>

<p>Constructs a table of model selection results for MARK analyses. The table
includes the formulas, model name, number of parameters, deviance, AICc,
DeltaAICc, model weight and residual deviance.  If chat&gt;1 QAICc, QDeltaAICc
and QDeviance are used instead.
</p>


<h3>Usage</h3>

<pre><code class="language-R">model.table(
  model.list = NULL,
  type = NULL,
  sort = TRUE,
  adjust = TRUE,
  ignore = TRUE,
  pf = 1,
  use.lnl = FALSE,
  use.AIC = FALSE,
  model.name = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model.list</code></td>
<td>
<p>a vector of model names or a list created by the function
<code>collect.models</code> which has each model object and at the end a
<code>model.table</code> ; If nothing is specified then any mark object in the
workspace is collected for the table.  If <code>type</code> is specified all
analyses in parent frame(<code>pf</code>) of that <code>type</code> of model are used.
If specified set of models are of conflicting types or of different data
sets then an error is issued unless ignore=TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of model (eg "CJS")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>if true sorts models by criterion</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjust</code></td>
<td>
<p>if TRUE adjusts # of parameters to # of cols in design matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore</code></td>
<td>
<p>if TRUE collects all models and ignores that they are from
different models</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pf</code></td>
<td>
<p>parent frame value; default=1 so it looks in calling frame of
model.table; used in other functions with pf=2 when functions are nested
two-deep</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.lnl</code></td>
<td>
<p>display -2lnl instead of deviance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.AIC</code></td>
<td>
<p>use AIC instead of AICc</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.name</code></td>
<td>
<p>if TRUE uses the model.name in each mark object which uses
formula notation.  If FALSE it uses the R names for the model obtained from
collect.model.names or names assigned to marklist elements</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is used by <code>collect.models</code> to construct a table
of model selection results with the models that it collects; however it can
be called directly to construct the table.
</p>


<h3>Value</h3>

<p>result.table - dataframe containing summary of models
</p>
<table>
<tr style="vertical-align: top;">
<td><code>model.name</code></td>
<td>
<p>name of fitted model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter.name - an entry for
each parameter</code></td>
<td>
<p>formula for parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>npar</code></td>
<td>
<p>number of estimated
parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AICc or QAICc</code></td>
<td>
<p>AICc value or QAICc if chat&gt;1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DeltaAICc or DeltaQAICc</code></td>
<td>
<p>difference between AICc or QAICc value from
model with smallest value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>model weight based on
exp(-.5*DeltaAICc) or exp(-.5*QDeltaAICc)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Deviance or
QDeviance</code></td>
<td>
<p>residual deviance from saturated model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chat</code></td>
<td>
<p>overdispersion constant if not 1</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Jeff Laake
</p>


<h3>See Also</h3>

<p><code>collect.model.names</code>, <code>collect.models</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# This example is excluded from testing to reduce package check time
data(dipper)
run.dipper=function()
{
#
# Process data
#
dipper.processed=process.data(dipper,groups=("sex"))
#
# Create default design data
#
dipper.ddl=make.design.data(dipper.processed)
#
# Add Flood covariates for Phi and p that have different values
#
dipper.ddl$Phi$Flood=0
dipper.ddl$Phi$Flood[dipper.ddl$Phi$time==2 | dipper.ddl$Phi$time==3]=1
dipper.ddl$p$Flood=0
dipper.ddl$p$Flood[dipper.ddl$p$time==3]=1
#
#  Define range of models for Phi
#
Phi.dot=list(formula=~1)
Phi.time=list(formula=~time)
Phi.sex=list(formula=~sex)
Phi.sextime=list(formula=~sex+time)
Phi.sex.time=list(formula=~sex*time)
Phi.Flood=list(formula=~Flood)
#
#  Define range of models for p
#
p.dot=list(formula=~1)
p.time=list(formula=~time)
p.sex=list(formula=~sex)
p.sextime=list(formula=~sex+time)
p.sex.time=list(formula=~sex*time)
p.Flood=list(formula=~Flood)
#
# Return model table and list of models
#
cml=create.model.list("CJS")
return(mark.wrapper(cml,data=dipper.processed,ddl=dipper.ddl,delete=TRUE))
}

dipper.results=run.dipper()
dipper.results
dipper.results$model.table=model.table(dipper.results,model.name=FALSE)
dipper.results
#
# Compute matrices of model weights, number of parameters and Delta AICc values
#
model.weight.matrix=tapply(dipper.results$model.table$weight,
 list(dipper.results$model.table$Phi,dipper.results$model.table$p),mean)
model.npar.matrix=tapply(dipper.results$model.table$npar,
 list(dipper.results$model.table$Phi,dipper.results$model.table$p),mean)
model.DeltaAICc.matrix=tapply(dipper.results$model.table$DeltaAICc,
 list(dipper.results$model.table$p,dipper.results$model.table$Phi),mean)
#
# Output DeltaAICc as a tab-delimited text file that can be read into Excel 
# (to do that directly use RODBC or xlsreadwrite package for R)
#
# remove # to use next line
#write.table(model.DeltaAICc.matrix,"DipperDeltaAICc.txt",sep="\t")

</code></pre>


</div>