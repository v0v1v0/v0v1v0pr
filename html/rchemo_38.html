<div class="container">

<table style="width: 100%;"><tr>
<td>getknn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>KNN selection</h2>

<h3>Description</h3>

<p>Function <code>getknn</code> selects the <code class="reqn">k</code> nearest neighbours of each row observation of a new data set (= query) within a training data set, based on a dissimilarity measure.
</p>
<p><code>getknn</code> uses function <code>get.knnx</code> of package <code>FNN</code> (Beygelzimer et al.) available on CRAN.
</p>


<h3>Usage</h3>

<pre><code class="language-R">
getknn(Xtrain, X, k = NULL, diss = c("eucl", "mahal"), 
  algorithm = "brute", list = TRUE)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Xtrain</code></td>
<td>
<p>Training X-data (<code class="reqn">n, p</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>New X-data (<code class="reqn">m, p</code>) to consider.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>The number of nearest neighbors to select in <code>Xtrain</code> for each observation of <code>X</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diss</code></td>
<td>
<p>The type of dissimilarity used. Possible values are "eucl" (default; Euclidean distance) or "mahal" (Mahalanobis distance).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>algorithm</code></td>
<td>
<p>Search algorithm used for Euclidean and Mahalanobis distances. Default to <code>"brute"</code>. See <code>get.knnx</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>list</code></td>
<td>
<p>If <code>TRUE</code> (default), a list format is also returned for the outputs.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of outputs, such as:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>nn</code></td>
<td>
<p>A dataframe (<code class="reqn">m x k</code>) with the indexes of the neighbors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>A dataframe (<code class="reqn">m x k</code>) with the dissimilarities between the neighbors and the new observations.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>listnn</code></td>
<td>
<p>Same as <code>$nn</code> but in a list format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>listd</code></td>
<td>
<p>Same as <code>$d</code> but in a list format.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">
n &lt;- 10
p &lt;- 4
X &lt;- matrix(rnorm(n * p), ncol = p)
Xtrain &lt;- X
Xtest &lt;- X[c(1, 3), ]
m &lt;- nrow(Xtest)

k &lt;- 3
getknn(Xtrain, Xtest, k = k)

fm &lt;- pcasvd(Xtrain, nlv = 2)
Ttrain &lt;- fm$T
Ttest &lt;- transform(fm, Xtest)
getknn(Ttrain, Ttest, k = k, diss = "mahal")

</code></pre>


</div>