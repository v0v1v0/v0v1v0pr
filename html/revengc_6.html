<div class="container">

<table style="width: 100%;"><tr>
<td>reweight.univariatetable</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reweighting a univariate table</h2>

<h3>Description</h3>

<p>This function is used in the main function: rec. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">reweight.univariatetable(observed.table, estimated.table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>observed.table</code></td>
<td>
<p>A data.frame or matrix with two columns.  See Details section for formatting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimated.table</code></td>
<td>
<p>A numeric vector with uncensored row names. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><strong>Format for observed.table:</strong><br>
This univariate frequency table, which can be a data.frame or matrix class, must have two columns and n number of rows.  The categories must be in the first column with frequencies or probabilities in the second column.  Row names should never be placed in this table (the default row names should always be 1:n).  Column names can be any character string.  The only symbols accepted for censored data are listed below.  Note, less than or equal to (&lt;= and LE) is not equivalent to less than (&lt; and L) and greater than or equal to (&gt;=, +, and GE) is not equivalent to greater than (&gt; and G).  Also, calculations use closed intervals.    
</p>

<ul>
<li>
<p> left censoring: &lt;, L, &lt;=, LE
</p>
</li>
<li>
<p> interval censoring: - or I (symbol has to be placed in the middle of the two category values)
</p>
</li>
<li>
<p> right censoring: &gt;, &gt;=, +, G, GE
</p>
</li>
<li>
<p> uncensored: no symbol (only provide category value)
</p>
</li>
</ul>
<p>Below are three correctly formatted tables.  
</p>

<table>
<tr>
<td style="text-align: center;">
    Category</td>
<td style="text-align: center;"> Frequency</td>
</tr>
<tr>
<td style="text-align: center;">
    &lt;=6</td>
<td style="text-align: center;"> 11800 </td>
</tr>
<tr>
<td style="text-align: center;">
    7-12</td>
<td style="text-align: center;"> 57100 </td>
</tr>
<tr>
<td style="text-align: center;">
    13-19</td>
<td style="text-align: center;"> 14800 </td>
</tr>
<tr>
<td style="text-align: center;">
    20+</td>
<td style="text-align: center;"> 3900 </td>
</tr>
<tr>
<td style="text-align: center;">
  </td>
</tr>
</table>
<table>
<tr>
<td style="text-align: center;">
    Category</td>
<td style="text-align: center;"> Frequency</td>
</tr>
<tr>
<td style="text-align: center;">
    LE6</td>
<td style="text-align: center;"> 11800 </td>
</tr>
<tr>
<td style="text-align: center;">
    7I12</td>
<td style="text-align: center;"> 57100 </td>
</tr>
<tr>
<td style="text-align: center;">
    13I19</td>
<td style="text-align: center;"> 14800 </td>
</tr>
<tr>
<td style="text-align: center;">
    GE20</td>
<td style="text-align: center;"> 3900 </td>
</tr>
<tr>
<td style="text-align: center;">
  </td>
</tr>
</table>
<table>
<tr>
<td style="text-align: center;">
    Category</td>
<td style="text-align: center;"> Frequency</td>
</tr>
<tr>
<td style="text-align: center;">
    &lt;7</td>
<td style="text-align: center;"> 11800 </td>
</tr>
<tr>
<td style="text-align: center;">
    7I12</td>
<td style="text-align: center;"> 57100 </td>
</tr>
<tr>
<td style="text-align: center;">
    13-19</td>
<td style="text-align: center;"> 14800 </td>
</tr>
<tr>
<td style="text-align: center;">
    &gt;=20</td>
<td style="text-align: center;"> 3900 </td>
</tr>
<tr>
<td style="text-align: center;">
  </td>
</tr>
</table>
<h3>Value</h3>

<p>A censored univariate table (observed.table) of probabilities is reweighted to match probabilities in an uncensored numeric vector (estimated.table). If observed.table consist of frequencies, the reweight.contingencytable() function changes the frequencies to probabilities.    
</p>


<h3>Examples</h3>

<pre><code class="language-R"># use preloaded univariate table for observed table 
observed.table&lt;-univariatetable.csv

# estimate parameters from observed table
pars=cnbinom.pars(observed.table)
mu=pars$Average
r = pars$Dispersion

# create estimated table 
# truncated negative binomial probabilities
# uncensored range is from 1:15 
library(truncdist)
estimated.table&lt;-dtrunc(1:15, size = r, mu = mu, spec = "nbinom", a = 1-1, b = 15)
names(estimated.table)&lt;-1:15

# reweight observed table to estimated table
results&lt;-reweight.univariatetable(observed.table, estimated.table)

# check results for &gt;=9 
reweightedresults&lt;-sum(results[9:15])
# observed.table$V2[5] = 4.1
observedresults&lt;-observed.table$V2[5]/sum(observed.table$V2)  
# matching probabilities
all.equal(reweightedresults, observedresults)
</code></pre>


</div>