<div class="container">

<table style="width: 100%;"><tr>
<td>combineLevels</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>recode a factor by "combining" levels</h2>

<h3>Description</h3>

<p>This makes it easy to put levels together and create a new factor
variable. If a
factor variable is currently coded with levels
c("Male","Female","Man", "M"), and the user needs to combine the
redundant levels for males, this is the function to use!  This is a surprisingly difficult problem in R.
</p>


<h3>Usage</h3>

<pre><code class="language-R">combineLevels(fac, levs, newLabel = "combinedLevels")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fac</code></td>
<td>
<p>An R factor variable, either ordered or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levs</code></td>
<td>
<p>The levels to be combined. Users may specify either a
numerical vector of level values, such as c(1,2,3), to combine the
first three elements of level(fac), or they may specify level
names.  This can be done as a character vector of *correctly
spelled* factor values, such as c("Yes","Maybe","Always") or it
may be provided as a subset of the output from levels, such as
levels(fac)[1:3].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newLabel</code></td>
<td>
<p>A character string that represents the label of
the new level to be created when <code>levs</code> values are combined.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the factor is an ordinal factor, then levels may be combined
only if they are adjacent. A factor with levels
c("Lo","Med","Hi","Extreme") allows us to combine responses "Lo"
and "Med", while it will NOT allow us to combine "Lo" with "Hi".
</p>
<p>A non-ordered factor can be reorganized to combine any values, no
matter what positions they occupy in the levels vector.
</p>


<h3>Value</h3>

<p>A new factor variable, with unused levels removed.
</p>


<h3>Author(s)</h3>

<p>Paul E. Johnson <a href="mailto:pauljohn@ku.edu">pauljohn@ku.edu</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">x &lt;- c("M","A","B","C","A","B","A","M")
x &lt;- factor(x)
levels(x)
x2a &lt;- combineLevels(x, levs = c("M","A"), newLabel = "M_or_A")
addmargins(table(x2a, x, exclude=NULL))
x2b &lt;- combineLevels(x, c(1,4), "M_or_A")
addmargins(table(x2b, x, exclude=NULL))
x3 &lt;- combineLevels(x, levs = c("M","A","C"), newLabel = "MAC")
addmargins(table(x3, x, exclude=NULL))
## Now an ordinal factor
z &lt;- c("M","A","B","C","A","B","A","M")
z &lt;- ordered(z)
levels(z)
table(z, exclude=NULL)
z2a &lt;-  combineLevels(z, levs = c(1,2), "Good")
addmargins(table(z2a, z, exclude = NULL))
z2b &lt;- combineLevels(z, levs = c("A","B"), "AorB")
addmargins(table(z2b, z, exclude = NULL))

</code></pre>


</div>