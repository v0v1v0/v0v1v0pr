<div class="container">

<table style="width: 100%;"><tr>
<td>summary.redist_plans</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Diagnostic information on sampled plans</h2>

<h3>Description</h3>

<p>Prints diagnostic information, which varies by algorithm. All algorithms
compute the <code>plans_diversity()</code> of the samples.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'redist_plans'
summary(object, district = 1L, all_runs = TRUE, vi_max = 100, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a redist_plans object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>district</code></td>
<td>
<p>For R-hat values, which district to use for district-level
summary statistics. We strongly recommend calling <code>match_numbers()</code> or
<code>number_by()</code> before examining these district-level statistics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all_runs</code></td>
<td>
<p>When there are multiple SMC runs, show detailed summary
statistics for all runs (the default), or only the first run?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vi_max</code></td>
<td>
<p>The maximum number of plans to sample in computing the pairwise
variation of information distance (sample diversity).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments (ignored)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For SMC and MCMC, if there are multiple runs/chains, R-hat values will be
computed for each summary statistic. These values should be close to 1.
If they are not, then there is too much between-chain variation, indicating
that there are not enough samples. R-hat values are calculated after
rank-normalization and folding.  MCMC chains are split in half before R-hat
is computed. For summary statistics that vary across districts, R-hat is
calculated for the first district only.
</p>
<p>For SMC, diagnostics statistics include:
</p>

<ul>
<li> <p><strong>Effective samples</strong>: the effective sample size at each iteration, computed
using the SMC weights. Larger is better. The percentage in parentheses is the
ratio of the effective samples to the total samples.
</p>
</li>
<li> <p><strong>Acceptance rate</strong>: the fraction of drawn spanning trees which yield a valid
redistricting plan within the population tolerance. Very small values (&lt; 1%)
can indicate a bottleneck and may lead to a lack of diversity.
</p>
</li>
<li> <p><strong>Standard deviation of the log weights</strong>: More variable weights (larger s.d.)
indicate less efficient sampling. Values greater than 3 are likely problematic.
</p>
</li>
<li> <p><strong>Maximum unique plans:</strong> an upper bound on the number of unique redistricting
plans that survive each stage. The percentage in parentheses is the ratio of
this number to the total number of samples. Small values (&lt; 100) indicate a
bottleneck, which leads to a loss of sample diversity and a higher variance.
</p>
</li>
<li> <p><strong>Estimated <code>k</code> parameter</strong>: How many spanning tree edges were considered for
cutting at each split. Mostly informational, though large jumps may indicate
a need to increase <code>adapt_k_thresh</code>.
</p>
</li>
<li> <p><strong>Bottleneck</strong>: An asterisk will appear in the right column if a bottleneck
appears likely, based on the values of the other statistics.
</p>
</li>
</ul>
<p>In the event of problematic diagnostics, the function will provide
suggestions for improvement.
</p>


<h3>Value</h3>

<p>A data frame containing diagnostic information, invisibly.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(iowa)
iowa_map &lt;- redist_map(iowa, ndists = 4, pop_tol = 0.1)
plans &lt;- redist_smc(iowa_map, 100)
summary(plans)

</code></pre>


</div>