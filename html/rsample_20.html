<div class="container">

<table style="width: 100%;"><tr>
<td>clustering_cv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cluster Cross-Validation</h2>

<h3>Description</h3>

<p>Cluster cross-validation splits the data into V groups of
disjointed sets using k-means clustering of some variables.
A resample of the analysis data consists of V-1 of the
folds/clusters while the assessment set contains the final fold/cluster. In
basic cross-validation (i.e. no repeats), the number of resamples
is equal to V.
</p>


<h3>Usage</h3>

<pre><code class="language-R">clustering_cv(
  data,
  vars,
  v = 10,
  repeats = 1,
  distance_function = "dist",
  cluster_function = c("kmeans", "hclust"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>A vector of bare variable names to use to cluster the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>The number of partitions of the data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repeats</code></td>
<td>
<p>The number of times to repeat the clustered partitioning.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance_function</code></td>
<td>
<p>Which function should be used for distance calculations?
Defaults to <code>stats::dist()</code>. You can also provide your own
function; see <code>Details</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster_function</code></td>
<td>
<p>Which function should be used for clustering?
Options are either <code>"kmeans"</code> (to use <code>stats::kmeans()</code>)
or <code>"hclust"</code> (to use <code>stats::hclust()</code>). You can also provide your own
function; see <code>Details</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra arguments passed on to <code>cluster_function</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The variables in the <code>vars</code> argument are used for k-means clustering of
the data into disjointed sets or for hierarchical clustering of the data.
These clusters are used as the folds for cross-validation. Depending on how
the data are distributed, there may not be an equal number of points
in each fold.
</p>
<p>You can optionally provide a custom function to <code>distance_function</code>. The
function should take a data frame (as created via <code>data[vars]</code>) and return
a <code>stats::dist()</code> object with distances between data points.
</p>
<p>You can optionally provide a custom function to <code>cluster_function</code>. The
function must take three arguments:
</p>

<ul>
<li> <p><code>dists</code>, a <code>stats::dist()</code> object with distances between data points
</p>
</li>
<li> <p><code>v</code>, a length-1 numeric for the number of folds to create
</p>
</li>
<li> <p><code>...</code>, to pass any additional named arguments to your function
</p>
</li>
</ul>
<p>The function should return a vector of cluster assignments of length
<code>nrow(data)</code>, with each element of the vector corresponding to the matching
row of the data frame.
</p>


<h3>Value</h3>

<p>A tibble with classes <code>rset</code>, <code>tbl_df</code>, <code>tbl</code>, and <code>data.frame</code>.
The results include a column for the data split objects and
an identification variable <code>id</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(ames, package = "modeldata")
clustering_cv(ames, vars = c(Sale_Price, First_Flr_SF, Second_Flr_SF), v = 2)

</code></pre>


</div>