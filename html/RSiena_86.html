<div class="container">

<table style="width: 100%;"><tr>
<td>sienaAlgorithmCreate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to create an object containing the algorithm
specifications for parameter estimation in RSiena</h2>

<h3>Description</h3>

<p>Creates an object with specifications for the algorithm for  
parameter estimation in RSiena.   
</p>
<p><code>sienaAlgorithmCreate()</code> and <code>sienaModelCreate()</code>   
are identical functions; the second name was   
used from the start of the <code>RSiena</code> package, but the first name   
indicates more precisely the purpose of this function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sienaAlgorithmCreate(fn, projname = "Siena", MaxDegree = NULL, Offset = NULL,
     useStdInits = FALSE, n3 = 1000, nsub = 4, n2start = NULL,
     dolby=TRUE, maxlike = FALSE, gmm = FALSE, diagonalize=0.2*!maxlike,
     condvarno = 0, condname = "", firstg = 0.2, reduceg = 0.5,
     cond = NA, findiff = FALSE, seed = NULL,
     prML=1,
     maximumPermutationLength=40,
     minimumPermutationLength=2, initialPermutationLength=20,
     modelType=NULL, behModelType=NULL, mult=5, simOnly=FALSE, localML=FALSE,
     truncation=5, doubleAveraging=0, standardizeVar=(diagonalize&lt;1),
     lessMem=FALSE)

sienaModelCreate(fn, projname = "Siena", MaxDegree = NULL, Offset = NULL,
     useStdInits = FALSE, n3 = 1000, nsub = 4, n2start = NULL,
     dolby=TRUE, maxlike = FALSE, gmm = FALSE, diagonalize=0.2*!maxlike,
     condvarno = 0, condname = "", firstg = 0.2, reduceg = 0.5,
     cond = NA, findiff = FALSE, seed = NULL,
     prML=1,
     maximumPermutationLength=40,
     minimumPermutationLength=2, initialPermutationLength=20,
     modelType=NULL, behModelType=NULL, mult=5, simOnly=FALSE, localML=FALSE,
     truncation=5, doubleAveraging=0, standardizeVar=(diagonalize&lt;1),
     lessMem=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fn</code></td>
<td>
<p>Function to do one simulation in the Robbins-Monro
algorithm. Not to be touched.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>projname</code></td>
<td>
<p>Character string name of project; the output file will be
called projname.txt. No embedded spaces!!!<br>
If <code>projname=NULL</code>, output will be written to a file in the temporary
session directory, created as <code>tempfile(Siena)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MaxDegree</code></td>
<td>
<p>Named vector of maximum degree values for
corresponding networks. Allows to restrict the model to networks
with degrees not higher than this maximum.
Names should be the names of all dependent network variables,
in the same order as in the Siena data set.<br>
Default as well as value 0 imply no restrictions.<br>
This option is not available for maximum likelihood estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Offset</code></td>
<td>
<p>Named vector of offset values for symmetric networks with
<code>modelType = 3</code> (M.1), and for universal setting in Settings model.
Names should be the names of all dependent network variables,
in the same order as in the Siena data set.
Default <code>NULL</code> implies values 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useStdInits</code></td>
<td>
<p>Boolean. If TRUE, the initial values in the effects
object will be ignored and default values used instead.
If FALSE, the initial values in the effects object will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n3</code></td>
<td>
<p>Number of iterations in phase 3. For regular use with the
Method of Moments, n3=1000 mostly suffices.
For use in publications and for Maximum Likelihood,
at least n3=3000 is advised. Sometimes much higher values are required
for stable estimation of standard errors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsub</code></td>
<td>
<p>Number of subphases in phase 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n2start</code></td>
<td>
<p>Minimum number of iterations in subphase 1 of phase 2;
default is <code>2.52*(p+7)</code>, where <code>p</code> = number of estimated
parameters; if <code>useCluster=TRUE</code> in the call of
<code>siena07</code>, this is divided by <code>nbrNodes</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dolby</code></td>
<td>
<p>Boolean. Should there be noise reduction by regression
on augmented data score. In most cases dolby=TRUE yields better
convergence, but takes some extra computing time;
if convergence is problematic, however, dolby=FALSE may be tried.
Just use whatever works best.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxlike</code></td>
<td>
<p>Whether to use maximum likelihood method or
Method of Moments estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gmm</code></td>
<td>
<p>Whether to use the Generalized Method of Moments or the regular
Method of Moments estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diagonalize</code></td>
<td>
<p>Number between 0 and 1 (bounds included),
values outside this interval will be truncated;
for diagonalize=0 the complete estimated derivative matrix will be used
for updates in the Robbins-Monro procedure;
for diagonalize=1 only the diagonal entries will be used;
for values between 0 and 1, the weighted average will be used
with weight diagonalize for the diagonalized matrix.
Has no effect for ML estimation.<br>
Higher values are more stable, lower values potentially more efficient.
Default: for ML estimation, diagonalize=0; for MoM estimation,
diagonalize = 0.2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>condvarno</code></td>
<td>
<p>If <code>cond</code> (conditional simulation), the
sequential number of the network
or behavior variable on which to condition.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>condname</code></td>
<td>
<p>If conditional, the name of the dependent variable on
which to condition. Use one or other of <code>condname</code> or
<code>condvarno</code> to specify the variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>firstg</code></td>
<td>
<p>Initial value of scaling ("gain") parameter for updates
in the Robbins-Monro procedure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reduceg</code></td>
<td>
<p>Reduction factor for scaling ("gain") parameter for updates
in the Robbins-Monro procedure (MoM only).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cond</code></td>
<td>
<p>Boolean. Only relevant for Method of Moments
simulation/estimation.
If TRUE, use conditional simulation; if FALSE, unconditional simulation.
If missing, decision is deferred until <code>siena07</code>,
when it is set to TRUE if there is only one dependent variable,
FALSE otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>findiff</code></td>
<td>
<p> Boolean: If TRUE, estimate derivatives using finite
differences. If FALSE, use scores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Integer. Starting value of random seed. Not used if
parallel testing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prML</code></td>
<td>
<p>Either one real number, or a vector of 7 numbers.
Determines update probabilities used in Metropolis-Hastings
routine in ML estimation. Should be nonnegative; if a vector,
the sum should be &lt;= 1. See <code>Details</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maximumPermutationLength</code></td>
<td>
<p>Maximum length of permutation in steps in ML
estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minimumPermutationLength</code></td>
<td>
<p>Minimum length of permutation in steps in ML
estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initialPermutationLength</code></td>
<td>
<p>Initial length of permutation in steps in ML
estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelType</code></td>
<td>
<p>Named vector indicating the type of model to be fitted for
dependent network variables.
(See the examples below for how to specify a named vector.)<br>
Possible values are:<br>
1=directed standard,
<br>
2:6 for symmetric networks only: 2=dictatorial forcing (D.1),
3=Initiative model with reciprocal confirmation (M.1),
4=Pairwise dictatorial forcing model (D.2),
5=Pairwise mutual model (M.2), 6=Pairwise joint model (C.2),<br>
7:10 for directed one-mode only:
7=Double Step model with double step probability 0.25,
8=Double Step model with double step probability 0.50,
9=Double Step model with double step probability 0.75,
10=Double Step model with double step probability 1.00.
<br>
Names should be the names of all dependent network variables,
in the same order as in the Siena data set.<br>
See Snijders and Pickup (2016) for the meanings of the various models
for symmetric networks.<br>
Default <code>NULL</code> implies 1 for directed or two-mode, 2 for symmetric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>behModelType</code></td>
<td>
<p>Named vector indicating the type of model to be fitted for
behavioral dependent variables.
(See the examples below for how to specify a named vector.)<br>
Possible values are:<br>
1=standard (restricted), 2=absorbing.<br>
Names should be the names of all dependent behavioral variables,
in the same order as in the Siena data set.<br>
Default <code>NULL</code> implies values 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mult</code></td>
<td>
<p>Multiplication factor for maximum likelihood and Bayes. Number of
steps per iteration is set to this multiple of the total distance
between the observations at start and finish of the wave (and rounded).
Decreasing <code>mult</code> below a certain value has no further effect.<br><code>mult</code> can be either a number (which needs to be positive) or a vector
of numbers, of length equal to the total number of periods. Note that for
multi-group data, the total number of periods is equal to the number
of groups times the number of periods per group
(if the latter is constant).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simOnly</code></td>
<td>
<p>Logical: If TRUE, then the calculation of the covariance
matrix and standard errors of the estimates at the end of
Phase 3 of the estimation algorithm in function siena07 is skipped.
This is suitable if nsub=0 and <code>siena07</code> is used only for the
purpose of simulation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>localML</code></td>
<td>
<p>Logical: If TRUE, and <code>maxlike</code>, then calculations are
sped up for models with all local effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>truncation</code></td>
<td>
<p>Used for step truncation in the Robbins Monro algorithm
(applied to deviate/(standard deviation)).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doubleAveraging</code></td>
<td>
<p>subphase after which double averaging is used
in the Robbins Monro algorithm,
which probably increases algorithm efficiency.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standardizeVar</code></td>
<td>
<p>Logical: whether to limit deviations used in
Robbins-Monro updates to unit variances.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lessMem</code></td>
<td>
<p>Logical: whether to reduce storage during operation of
<code>siena07</code>, and of the object produced, by leaving out arrays
by iteration and by period of simulated statistics <code>sf2</code> and scores
<code>ssc</code>.<br>
if <code>lessMem=TRUE</code>, it will be impossible to run
<code>sienaTimeTest</code> or <code>sienaGOF</code> on
the object produced by <code>siena07</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Model specification is done via this object for
<code>siena07</code>.
This function creates an object with the elements required to control the
Robbins-Monro algorithm. Those not
available as arguments can be changed manually when desired.<br>
The value <code>prML=1</code> defines the defaults valid in RSiena up to version
1.3.16. <br>
If <code>prML</code> is given as a vector of 7 probabilities, these are,
consecutively: the probabilities of inserting a diagonal step, deleting a
diagonal step, permuting, inserting a CCP, deleting a CCP, inserting random
missing, deleting random missing; the residual (1 minus the sum)
is the probability of a move step.<br>
Further information about the implementation of the algorithm is in <br><a href="https://www.stats.ox.ac.uk/~snijders/siena/Siena_algorithms.pdf">https://www.stats.ox.ac.uk/~snijders/siena/Siena_algorithms.pdf</a>.<br>
Some of the examples use <code>projname=NULL</code>; this is just for the sake of
checking the examples, not necessarily intended for normal use.
</p>


<h3>Value</h3>

<p>Returns an object of class <code>sienaAlgorithm</code> containing
values implied by the parameters.</p>


<h3>Author(s)</h3>

<p>Ruth Ripley and Tom A.B. Snijders</p>


<h3>References</h3>

<p>For <code>modelType</code>:<br>
Snijders, T.A.B., and Pickup, M. (2016),
Stochastic Actor-Oriented Models for Network Dynamics.
In: Victor, J.N., Lubell, M., and Montgomery, A.H.,
<em>Oxford Handbook of Political Networks</em>. Oxford University Press.
</p>
<p>Also see <a href="https://www.stats.ox.ac.uk/~snijders/siena/">https://www.stats.ox.ac.uk/~snijders/siena/</a>
</p>


<h3>See Also</h3>

<p><code>siena07</code>, <code>simstats0c</code>.</p>


<h3>Examples</h3>

<pre><code class="language-R">myAlgorithm &lt;- sienaAlgorithmCreate(projname="NetworkDyn")
StdAlgorithm &lt;- sienaAlgorithmCreate(projname="NetworkDyn", useStdInits=TRUE)
CondAlgorithm &lt;- sienaAlgorithmCreate(projname="NetworkDyn", condvarno=1, cond=TRUE)
Max10Algorithm &lt;- sienaAlgorithmCreate(projname="NetworkDyn", MaxDegree=c(mynet=10),
     modelType=c(mynet=1))
Beh2Algorithm &lt;- sienaAlgorithmCreate(projname="NetBehDyn", behModelType=c(mybeh=2))
# where mynet is the name of the network object created by sienaDependent(),
# and mybeh the name of the behavior object created by the same function.
</code></pre>


</div>