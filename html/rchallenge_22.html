<div class="container">

<table style="width: 100%;"><tr>
<td>store_new_submissions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Store new submission files.</h2>

<h3>Description</h3>

<p><code>store_new_submissions</code> copies new files from the subdirectories of <code>submissions_dir</code> 
to the respective subdirectories of <code>hist_dir</code>.
Each team has a subdirectory.
The copied files in <code>hist_dir</code> are prefixed with the last modification date for uniqueness.
A file is considered new if its name and last modification time is new, i.e not present
in <code>hist_dir</code>.
The files must match <code>pattern</code> regular expression and must not
throw errors or warnings when given to the <code>valid_fun</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">store_new_submissions(
  submissions_dir = "submissions",
  hist_dir = "history",
  deadline,
  pattern = ".*\\.csv$",
  valid_fun
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>submissions_dir</code></td>
<td>
<p>string. directory of the submissions. contains one subdirectory per team</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hist_dir</code></td>
<td>
<p>string. directory where to store the history of the submissions. contains one subdirectory per team</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deadline</code></td>
<td>
<p>POSIXct. deadline time for submissions. The files with last modification date after
the deadline are skipped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p>string. regular expression that new submission files must match (with <code>ignore.case=TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valid_fun</code></td>
<td>
<p>function that reads a submission file and throws errors or warnings if
it is not valid.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>store_new_submissions</code> returns a named list of errors or warnings caught during the process.
Members named after the team names are lists with members named after the file
that throws an error which contain the error object.
</p>


</div>