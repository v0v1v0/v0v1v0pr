<div class="container">

<table style="width: 100%;"><tr>
<td>recode_to_pmml</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates a PMML document from variable and variable details sheets for specified database.</h2>

<h3>Description</h3>

<p>Creates a PMML document from variable and variable details sheets for specified database.
</p>


<h3>Usage</h3>

<pre><code class="language-R">recode_to_pmml(var_details_sheet, vars_sheet, db_name, vars_to_convert = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>var_details_sheet</code></td>
<td>
<p>A data frame representing a variable details sheet.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars_sheet</code></td>
<td>
<p>A data frame representing a variables sheet.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>db_name</code></td>
<td>
<p>A string containing the name of the database that holds
the start variables. Should match up with one of the databases in the
databaseStart column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars_to_convert</code></td>
<td>
<p>A vector of strings containing the names of variables
from the variable column in the variable details sheet that should be
converted to PMML. Passing in an empty vector will convert all the variables.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A PMML document.
</p>


<h3>Examples</h3>

<pre><code class="language-R">var_details_sheet &lt;-
data.frame(
 "variable" = rep(c("A", "B", "C"), each = 3),
 "dummyVariable" = c("AY", "AN", "ANA", "BY", "BN", "BNA", "CY", "CN", "CNA"),
 "toType" = rep("cat", times = 9),
 "databaseStart" = rep("tester", times = 9),
 "variableStart" = rep(
   c("tester::startA", "tester::startB", "tester::startC"),
   each = 3
 ),
 "fromType" = rep("cat", times = 9),
 "recTo" = rep(c("1", "2", "NA::a"), times = 3),
 "numValidCat" = rep("2", times = 9),
 "catLabel" = rep(c("Yes", "No", "Not answered"), times = 3),
 "catLabelLong" = rep(c("Yes", "No", "Not answered"), times =
                        3),
 "recFrom" = rep(c("1", "2", "9"), times = 3),
 "catStartLabel" = rep(c("Yes", "No", "Not answered"), times =
                         3),
 "variableStartShortLabel" = rep(c("Group A", "Group B", "Group C"), each =
                                   3),
 "variableStartLabel" = rep(c("Group A", "Group B", "Group C"), each =
                              3),
 "units" = rep("NA", times = 9),
 "notes" = rep("This is not real data", times = 9)
)
vars_sheet &lt;-
 data.frame(
   "variable" = c("A", "B", "C"),
   "label" = c("Group A", "Group B", "Group C"),
   "labelLong" = c("Group A", "Group B", "Group C"),
   "section" = rep("tester", times=3),
   "subject" = rep("tester",times = 3),
   "variableType" = rep("Categorical", times=3),
   "databaseStart" = rep("tester", times = 3),
   "units" = rep("NA", times = 3),
   "variableStart" = c("tester::startA", "tester::startB", "tester::startC")
 )
db_name &lt;- "tester"
vars &lt;- c("A", "B", "C")

actual_pmml &lt;- recode_to_pmml(
var_details_sheet,
vars_sheet,
db_name,
vars
)

</code></pre>


</div>