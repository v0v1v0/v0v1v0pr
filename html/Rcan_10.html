<div class="container">

<table style="width: 100%;"><tr>
<td>csu_group_cases</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>csu_group_cases</h2>

<h3>Description</h3>

<p><code>csu_group_cases</code> groups individual data into 5 years age-group data and other user defined variable (sex, registry, etc...).<br> 
Optionally: Group cancer based on a standard ICD10 coding; Extract year from custom year format.
</p>


<h3>Usage</h3>

<pre><code class="language-R">csu_group_cases(df_data, 
	var_age ,
	group_by=NULL,
	var_cases = NULL,
	df_ICD = NULL,
	var_ICD=NULL,
	var_year = NULL,
	all_cancer=FALSE) 
	</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df_data</code></td>
<td>

<p>Individual data (need to be R <code>data.frame</code> format, see examples to import csv file).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_age</code></td>
<td>

<p>Age variable. (Numeric). Value &gt; 150 will be considered as missing age.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_by</code></td>
<td>

<p>(Optional) A vector of variables to create the different population (sex, country, etc...).<br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_cases</code></td>
<td>

<p>(Optional) cases variable: If there is already a variable for the number of cases.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df_ICD</code></td>
<td>

<p>(Optional) ICD file for ICD grouping information. Must have 2 fields: "ICD", "LABEL"<br>.
2 formats are possible:<br>
Each ICD code separated by ICD group<br></p>

<table>
<tr>
<td style="text-align: left;">
		ICD </td>
<td style="text-align: left;"> LABEL</td>
</tr>
<tr>
<td style="text-align: left;">
		C82 </td>
<td style="text-align: left;"> NHL</td>
</tr>
<tr>
<td style="text-align: left;">
		C83 </td>
<td style="text-align: left;"> NHL</td>
</tr>
<tr>
<td style="text-align: left;">
		C84 </td>
<td style="text-align: left;"> NHL</td>
</tr>
<tr>
<td style="text-align: left;">
		C85 </td>
<td style="text-align: left;"> NHL</td>
</tr>
<tr>
<td style="text-align: left;">
		C96 </td>
<td style="text-align: left;"> NHL</td>
</tr>
<tr>
<td style="text-align: left;">
	</td>
</tr>
</table>
<p>ICD code already grouped.<br></p>

<table>
<tr>
<td style="text-align: left;">
		ICD_group </td>
<td style="text-align: left;"> LABEL</td>
</tr>
<tr>
<td style="text-align: left;">
		C82-85,C96 </td>
<td style="text-align: left;"> NHL</td>
</tr>
<tr>
<td style="text-align: left;">
	</td>
</tr>
</table>
<p>2 ICD codes separated by "-" includes all the ICD code between.<br>
2 ICD codes separated by "," includes only these 2 ICD code.<br>
For instance, C82-85, C96 (or C82-C85, C96) includes: <br>
C82, C83, C84, C85 and C96 <br>
Must be filled if <code>var_ICD</code> argument is defined
<br></p>
<p>example: <code>ICD_group_GLOBOCAN</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_ICD</code></td>
<td>

<p>(Optional) ICD variable: ICD variable in the individual data.<br>
Must be filled if <code>df_ICD</code> argument is defined
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_year</code></td>
<td>

<p>(Optional) Year variable: Extract year from custom format , as long as the year is expressed with 4 digits (i.e. ("yyyymmdd","ddmmyyyy", "yyyy/mm","dd-mm-yyyy", etc..) and group data by year.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all_cancer</code></td>
<td>

<p>(Optional) If <code>TRUE</code>, will calculate the number of cases for all cancers (C00-97) and all cancers but non-melanoma of skin (C00-97 but C44)<br>
Need <code>var_ICD</code> and <code>df_ICD</code> arguments to be defined 
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For most analysis, individual cases database need to be grouped by category.<br> 
This function groups data by 5 years age-group and other user defined variable.<br> 
Next step will be to add 5 years population data. (see <code>csu_merge_cases_pop</code>).
</p>


<h3>Value</h3>

<p>Return a dataframe.
</p>


<h3>Author(s)</h3>

<p>Mathieu Laversanne
</p>


<h3>See Also</h3>

<p><code>csu_merge_cases_pop</code>
<code>csu_asr</code>
<code>csu_cumrisk</code>
<code>csu_eapc</code>
<code>csu_ageSpecific</code>
<code>csu_ageSpecific_top</code>
<code>csu_bar_top</code>
<code>csu_time_trend</code>
<code>csu_trendCohortPeriod</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# you can import your data from csv file using read.csv:
# mydata &lt;-  read.csv("mydata.csv", sep=",")



	
data(ICD_group_GLOBOCAN)
data(data_individual_file)

#group individual data by 
# 5 year age group 
df_data_age &lt;- csu_group_cases(data_individual_file,
  var_age="age",
  group_by=c("sex", "regcode", "reglabel", "site")) 



	#group individual data by 
	# 5 year age group 
	# ICD grouping from dataframe ICD_group_GLOBOCAN

	df_data_icd &lt;- csu_group_cases(data_individual_file,
	  var_age="age",
	  group_by=c("sex", "regcode", "reglabel"),
	  df_ICD = ICD_group_GLOBOCAN,
	  var_ICD  ="site") 

	#group individual data by 
	# 5 year age group 
	# ICD grouping from dataframe ICD_group_GLOBOCAN
	# year (extract from date of incidence)

	df_data_year &lt;- csu_group_cases(data_individual_file,
	  var_age="age",
	  group_by=c("sex", "regcode", "reglabel"),
	  df_ICD = ICD_group_GLOBOCAN,
	  var_ICD  ="site",
	  var_year = "doi")       
	


# you can export your result as csv file using write.csv:
# write.csv(result, file="result.csv")
				  		  
</code></pre>


</div>