<div class="container">

<table style="width: 100%;"><tr>
<td>trim_levels_to_map</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Trim levels to map</h2>

<h3>Description</h3>

<p>This split function constructor creates a split function which trims levels of a variable to reflect restrictions
on the possible combinations of two or more variables which the data is split by (along the same axis) within a
layout.
</p>


<h3>Usage</h3>

<pre><code class="language-R">trim_levels_to_map(map = NULL)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>data.frame. A data.frame defining allowed combinations of
variables. Any combination at the level of this split not present in the
map will be removed from the data, both for the variable being split and
those present in the data but not associated with this split or any parents
of it.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>When splitting occurs, the map is subset to the values of all previously performed splits. The levels of the
variable being split are then pruned to only those still present within this subset of the map representing the
current hierarchical splitting context.
</p>
<p>Splitting is then performed via the <code>keep_split_levels()</code> split function.
</p>
<p>Each resulting element of the partition is then further trimmed by pruning values of any remaining variables
specified in the map to those values allowed under the combination of the previous and current split.
</p>


<h3>Value</h3>

<p>A function that can be used as a split function.
</p>


<h3>See Also</h3>

<p><code>trim_levels_in_group()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">map &lt;- data.frame(
  LBCAT = c("CHEMISTRY", "CHEMISTRY", "CHEMISTRY", "IMMUNOLOGY"),
  PARAMCD = c("ALT", "CRP", "CRP", "IGA"),
  ANRIND = c("LOW", "LOW", "HIGH", "HIGH"),
  stringsAsFactors = FALSE
)

lyt &lt;- basic_table() %&gt;%
  split_rows_by("LBCAT") %&gt;%
  split_rows_by("PARAMCD", split_fun = trim_levels_to_map(map = map)) %&gt;%
  analyze("ANRIND")
tbl &lt;- build_table(lyt, ex_adlb)

</code></pre>


</div>