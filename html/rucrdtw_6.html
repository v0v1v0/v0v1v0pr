<div class="container">

<table style="width: 100%;"><tr>
<td>ucrdtw_ff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>UCR DTW Algorithm file-file method</h2>

<h3>Description</h3>

<p>Sliding-window similarity search using DTW distance. This implementation is very close to the UCR Suite command line utility, in that it takes files as inputs for both query and data
</p>


<h3>Usage</h3>

<pre><code class="language-R">ucrdtw_ff(data, query, qlength, dtwwindow)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>character; path to data file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>character; path to query file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qlength</code></td>
<td>
<p>integer; length of the query (number of data points), usually this should be equivalent to length(query), but it can be shorter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dtwwindow</code></td>
<td>
<p>double; Size of the warping window size (as a proportion of query length). The DTW calculation in 'rucrdtw' uses a symmetric Sakoe-Chiba band. See Giorgino (2009) for a general coverage of warping window constraints.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a ucrdtw object. A list with the following elements
</p>

<ul>
<li> <p><strong>location:</strong> The starting location of the nearest neighbor of the given query, of size <code>length(query)</code>, in the data. Note that location starts from 1.
</p>
</li>
<li> <p><strong>distance:</strong> The DTW distance between the nearest neighbor and the query.
</p>
</li>
<li> <p><strong>prunedKim:</strong> Percentage of subsequences that were pruned based on the LB-Kim criterion.
</p>
</li>
<li> <p><strong>prunedKeogh:</strong> Percentage of subsequences that were pruned based on the LB-Keogh-EQ criterion.
</p>
</li>
<li> <p><strong>prunedKeogh2:</strong> Percentage of subsequences that were pruned based on the LB-Keogh-EC criterion.
</p>
</li>
<li> <p><strong>dtwCalc:</strong> Percentage of subsequences for which the full DTW distance was calculated.
</p>
</li>
</ul>
<p>For an explanation of the pruning criteria see Rakthanmanon et al. (2012).
</p>


<h3>References</h3>

<p>Rakthanmanon, Thanawin, Bilson Campana, Abdullah Mueen, Gustavo Batista, Brandon Westover, Qiang Zhu, Jesin Zakaria, and Eamonn Keogh. 2012. Searching and Mining Trillions of Time Series Subsequences Under Dynamic Time Warping. In Proceedings of the 18th ACM SIGKDD International Conference on Knowledge Discovery and Data Mining, 262-70. ACM. doi:<a href="https://doi.org/10.1145/2339530.2339576">doi:10.1145/2339530.2339576</a>.
</p>
<p>Giorgino, Toni (2009). Computing and Visualizing Dynamic Time Warping Alignments in R: The dtw Package. Journal of Statistical Software, 31(7), 1-24, doi:<a href="https://doi.org/10.18637/jss.v031.i07">doi:10.18637/jss.v031.i07</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#locate example data file
dataf &lt;- system.file("extdata/col_sc.txt", package="rucrdtw")
#locate example query file
queryf &lt;- system.file("extdata/mid_sc.txt", package="rucrdtw")
#determine length of query file
qlength &lt;- length(scan(queryf))
#run query
ucrdtw_ff(dataf, queryf, qlength, 0.05)
</code></pre>


</div>