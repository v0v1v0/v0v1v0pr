<div class="container">

<table style="width: 100%;"><tr>
<td>has_role</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Role Selection</h2>

<h3>Description</h3>

<p><code>has_role()</code>, <code>all_predictors()</code>, and <code>all_outcomes()</code> can be used to
select variables in a formula that have certain roles.
</p>
<p><strong>In most cases</strong>, the right approach for users will be use to use the
predictor-specific selectors such as <code>all_numeric_predictors()</code> and
<code>all_nominal_predictors()</code>. In general you should be careful about using
<code>-all_outcomes()</code> if a <code style="white-space: pre;">⁠*_predictors()⁠</code> selector would do what you want.
</p>
<p>Similarly, <code>has_type()</code>, <code>all_numeric()</code>, <code>all_integer()</code>, <code>all_double()</code>,
<code>all_nominal()</code>, <code>all_ordered()</code>, <code>all_unordered()</code>, <code>all_factor()</code>,
<code>all_string()</code>, <code>all_date()</code> and <code>all_datetime()</code> are used to select columns
based on their data type.
</p>
<p><code>all_factor()</code> captures ordered and unordered factors, <code>all_string()</code>
captures characters, <code>all_unordered()</code> captures unordered factors and
characters, <code>all_ordered()</code> captures ordered factors, <code>all_nominal()</code>
captures characters, unordered and ordered factors.
</p>
<p><code>all_integer()</code> captures integers, <code>all_double()</code> captures doubles,
<code>all_numeric()</code> captures all kinds of numeric.
</p>
<p><code>all_date()</code> captures <code>Date()</code> variables, <code>all_datetime()</code> captures
<code>POSIXct()</code> variables.
</p>
<p>See selections for more details.
</p>
<p><code>current_info()</code> is an internal function.
</p>
<p>All of these functions have have limited utility outside of column selection
in step functions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">has_role(match = "predictor")

has_type(match = "numeric")

all_outcomes()

all_predictors()

all_date()

all_date_predictors()

all_datetime()

all_datetime_predictors()

all_double()

all_double_predictors()

all_factor()

all_factor_predictors()

all_integer()

all_integer_predictors()

all_logical()

all_logical_predictors()

all_nominal()

all_nominal_predictors()

all_numeric()

all_numeric_predictors()

all_ordered()

all_ordered_predictors()

all_string()

all_string_predictors()

all_unordered()

all_unordered_predictors()

current_info()
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>match</code></td>
<td>
<p>A single character string for the query. Exact
matching is used (i.e. regular expressions won't work).</p>
</td>
</tr></table>
<h3>Value</h3>

<p>Selector functions return an integer vector.
</p>
<p><code>current_info()</code> returns an environment with objects <code>vars</code> and <code>data</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(biomass, package = "modeldata")

rec &lt;- recipe(biomass) %&gt;%
  update_role(
    carbon, hydrogen, oxygen, nitrogen, sulfur,
    new_role = "predictor"
  ) %&gt;%
  update_role(HHV, new_role = "outcome") %&gt;%
  update_role(sample, new_role = "id variable") %&gt;%
  update_role(dataset, new_role = "splitting indicator")

recipe_info &lt;- summary(rec)
recipe_info

# Centering on all predictors except carbon
rec %&gt;%
  step_center(all_predictors(), -carbon) %&gt;%
  prep(training = biomass) %&gt;%
  bake(new_data = NULL)

</code></pre>


</div>