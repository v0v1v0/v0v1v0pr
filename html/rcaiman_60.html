<div class="container">

<table style="width: 100%;"><tr>
<td>sky_grid_segmentation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Do sky grid segmentation</h2>

<h3>Description</h3>

<p>Segment the hemisphere view into segments of equal angular resolution for
both zenith and azimuth angles.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sky_grid_segmentation(z, a, angle_width, sequential = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>SpatRaster built with <code>zenith_image()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>SpatRaster built with <code>azimuth_image()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>angle_width</code></td>
<td>
<p>Numeric vector of length one. It should be <code style="white-space: pre;">⁠30, 15, 10, 7.5, 6, 5, 3.75, 3, 2.5, 1.875, 1⁠</code> or <code>0.5</code> degrees. This
constrain is rooted in the requirement of a value able to divide both the
<code>0</code> to <code>360</code> and <code>0</code> to <code>90</code> ranges into a whole number
of segments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sequential</code></td>
<td>
<p>Logical vector of length one. If it is <code>TRUE</code>, the
segments are labeled with sequential numbers. By default (<code>FALSE</code>),
labeling numbers are not sequential (see Details).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Intersecting rings with sectors makes a grid in which each cell is a
portion of the hemisphere. Each pixel of the grid is labeled with an ID that
codify both ring and sector IDs. For example, a grid with a regular interval
of one degree has segment from <code>1001</code> to <code>360090</code>. This numbers are
calculated with: <code class="reqn">sectorID \times 1000 + ringID</code>, where <code class="reqn">sectorID</code> is
the ID number of the sector and <code class="reqn">ringID</code> is the ID number of the ring.
</p>


<h3>Value</h3>

<p>An object from the class SpatRaster with segments
shaped like windshields, though some of them will look elongated in
height. The pattern is two opposite and converging straight sides and two
opposite and parallel curvy sides.
</p>


<h3>See Also</h3>

<p>Other Segmentation Functions: 
<code>chessboard()</code>,
<code>mask_hs()</code>,
<code>mask_sunlit_canopy()</code>,
<code>polar_qtree()</code>,
<code>qtree()</code>,
<code>rings_segmentation()</code>,
<code>sectors_segmentation()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">z &lt;- zenith_image(600, lens())
a &lt;- azimuth_image(z)
g &lt;- sky_grid_segmentation(z, a, 15)
plot(g == 24005)
## Not run: 
g &lt;- sky_grid_segmentation(z, a, 15, sequential = TRUE)
col &lt;- terra::unique(g) %&gt;% nrow() %&gt;% rainbow() %&gt;% sample()
plot(g, col = col)

## End(Not run)
</code></pre>


</div>