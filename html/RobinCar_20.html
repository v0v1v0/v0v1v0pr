<div class="container">

<table style="width: 100%;"><tr>
<td>robincar_SL_median</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>BETA: Covariate adjustment using working models from the super learner libraries
through the AIPW package with cross-fitting, with median adjustment.</h2>

<h3>Description</h3>

<p>Estimate treatment-group-specific response means and (optionally)
treatment group contrasts using a generalized linear working model.
Perform median adjustment to limit randomness induced from cross-fitting.
</p>


<h3>Usage</h3>

<pre><code class="language-R">robincar_SL_median(
  n_times,
  seed,
  df,
  treat_col,
  response_col,
  car_strata_cols = NULL,
  covariate_cols = NULL,
  car_scheme = "simple",
  covariate_to_include_strata = NULL,
  SL_libraries = c(),
  SL_learners = c(),
  k_split = 2,
  g_accuracy = 7,
  contrast_h = NULL,
  contrast_dh = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n_times</code></td>
<td>
<p>Number of times to run the robincar_SL function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Seed to set before running the set of functions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data.frame with the required columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat_col</code></td>
<td>
<p>Name of column in df with treatment variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response_col</code></td>
<td>
<p>Name of the column in df with response variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>car_strata_cols</code></td>
<td>
<p>Names of columns in df with car_strata variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariate_cols</code></td>
<td>
<p>Names of columns in df with covariate variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>car_scheme</code></td>
<td>
<p>Name of the type of covariate-adaptive randomization scheme. One of: "simple", "pocock-simon", "biased-coin", "permuted-block".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariate_to_include_strata</code></td>
<td>
<p>Whether to include car_strata variables in covariate adjustment. Defaults to F for ANOVA and ANCOVA; defaults to T for ANHECOVA. User may override by passing in this argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SL_libraries</code></td>
<td>
<p>Vector of super-learner libraries to use for the covariate adjustment (see SuperLearner::listWrappers)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SL_learners</code></td>
<td>
<p>Optional list of super-learner "learners" to use for the covariate adjustment (see SuperLearner::create.Learner())</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k_split</code></td>
<td>
<p>Number of splits to use in cross-fitting</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g_accuracy</code></td>
<td>
<p>Level of accuracy to check prediction un-biasedness (in digits).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrast_h</code></td>
<td>
<p>An optional function to specify a desired contrast</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrast_dh</code></td>
<td>
<p>An optional jacobian function for the contrast (otherwise use numerical derivative)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>*WARNING: This function is still under development and has not been extensively tested.*
This function currently only works for two treatment groups.
Before using this function, you must load the SuperLearner library with
'library(SuperLearner)', otherwise the function call will fail.
</p>


<h3>Value</h3>

<p>See value of RobinCar::robincar_SL.
Attributes 'mods' and 'mu_as' are lists of 'mod' and 'mu_a' attributes, respectively, for each replicate of 'robincar_SL' used in the median.
</p>


</div>