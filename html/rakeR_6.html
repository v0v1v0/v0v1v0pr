<div class="container">

<table style="width: 100%;"><tr>
<td>integerise</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>integerise</h2>

<h3>Description</h3>

<p>Generate integer cases from numeric weights matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">integerise(weights, inds, method = "trs", seed = 42)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>A matrix or data frame of fractional weights, typically
provided by <code>rakeR::weight()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inds</code></td>
<td>
<p>The individualâ€“level data (i.e. one row per individual)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The integerisation method specified as a character string.
Defaults to <code>"trs"</code>; currently other methods are not implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>The seed to use, defaults to 42.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Extracted weights (using rakeR::extract()) are more 'precise' than
integerised weights (although the user should be careful this is not
spurious precision based on context) as they return fractions.
Nevertheless, integerised weights are useful in cases when:
</p>

<ul>
<li>
<p>Numeric information (such as income) is required, as this needs
to be cut() to work with rakeR::extract()
</p>
</li>
<li>
<p>Simulated 'individuals' are required for case studies of key
areas.
</p>
</li>
<li>
<p>Input individual-level data for agent-based or dynamic models are
required
</p>
</li>
</ul>
<p>The default integerisation method uses the 'truncate, replicate, sample'
method developed by Robin Lovelace and Dimitris Ballas
<a href="http://www.sciencedirect.com/science/article/pii/S0198971513000240">http://www.sciencedirect.com/science/article/pii/S0198971513000240</a>
</p>
<p>Other methods (for example proportional probabilities) may be implemented
at a later date.
</p>


<h3>Value</h3>

<p>A data frame of integerised cases
</p>


<h3>Examples</h3>

<pre><code class="language-R">cons &lt;- data.frame(
  "zone"      = letters[1:3],
  "age_0_49"  = c(8, 2, 7),
  "age_gt_50" = c(4, 8, 4),
  "sex_f"     = c(6, 6, 8),
  "sex_m"     = c(6, 4, 3),
  stringsAsFactors = FALSE
)

inds &lt;- data.frame(
  "id"     = LETTERS[1:5],
  "age"    = c("age_gt_50", "age_gt_50", "age_0_49", "age_gt_50", "age_0_49"),
  "sex"    = c("sex_m", "sex_m", "sex_m", "sex_f", "sex_f"),
  "income" = c(2868, 2474, 2231, 3152, 2473),
  stringsAsFactors = FALSE
)
vars &lt;- c("age", "sex")

weights     &lt;- weight(cons = cons, inds = inds, vars = vars)
weights_int &lt;- integerise(weights, inds = inds)
</code></pre>


</div>