<div class="container">

<table style="width: 100%;"><tr>
<td>SolrSchema-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>SolrSchema</h2>

<h3>Description</h3>

<p>The <code>SolrSchema</code> object represents the schema of a Solr core.
Not all of the information in the schema is represented; only the
relevant elements are included. The user should not need to interact
with this class very often.
</p>
<p>One can infer a <code>SolrSchema</code> from a data.frame with
<code>deriveSolrSchema</code> and then write it out to a file for use with
Solr.
</p>


<h3>Accessors</h3>


<ul>
<li>
<p><code>name(x)</code>: Gets the name of the schema/dataset.

</p>
</li>
<li>
<p><code>uniqueKey(x)</code>: Gets the field that serves as the unique key,
i.e., the document identifier.

</p>
</li>
<li>
<p><code>fields(x, which)</code>: Gets a <code>FieldInfo</code>
object, restricted to the fields indicated by <code>which</code>.

</p>
</li>
<li>
<p><code>fieldTypes(x, fields)</code>: Gets a
<code>FieldTypeList</code> object, containing the type
definition for each field named in <code>fields</code>.

</p>
</li>
<li>
<p><code>copyFields(x)</code>: Gets the copy field relationships as
a graph.

</p>
</li>
</ul>
<h3>Generation and Export</h3>

<p>It may be convenient for R users to autogenerate a Solr schema from a
prototypical data frame. Note that to harness the full power of Solr,
it pays to get familiar with the details. After deriving a schema with
<code>deriveSolrSchema</code>, save it to the standard XML format with
<code>saveXML</code>. See the vignette for an example.
</p>

<ul>
<li>
<p><code>deriveSolrSchema(x, name, version="1.5", uniqueKey=NULL,
        required=colnames(Filter(Negate(anyEmpty), x)),
        indexed=colnames(x), stored=colnames(x),
        includeVersionField=TRUE)</code>: Derives a <code>SolrSchema</code> from a
data.frame (or data.frame-coercible) <code>x</code>. The <code>name</code>
is taken by quoting <code>x</code>, by default. Specify a unique key
via <code>uniqueKey</code>. The <code>required</code> fields are those that
are not allowed to contain missing/empty values. By default, we
guess that a field is required if it does not contain any NAs or
empty strings (both are the same as far as Solr is
concerned). The <code>indexed</code> and <code>stored</code> arguments name
the fields that should be indexed and stored, respectively (see
Solr docs for details). If <code>includeVersionField</code> is
<code>TRUE</code>, the magic <code>_version_</code> field is added to the
schema, and Solr will use it to track document versions, which
is needed for certain advanced features and generally recommended.

</p>
</li>
<li>
<p><code>saveXML(doc, file = NULL, compression = 0, indent = TRUE,
        prefix = "&lt;?xml version=\"1.0\"?&gt;\n", doctype = NULL, encoding =
        getEncoding(doc), ...)</code>: Writes the schema to XML. See
<code>saveXML</code> for more details.

</p>
</li>
</ul>
<h3>Author(s)</h3>

<p> Michael Lawrence </p>


</div>