<div class="container">

<table style="width: 100%;"><tr>
<td>getConditionalPower</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get Conditional Power</h2>

<h3>Description</h3>

<p>Calculates and returns the conditional power.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getConditionalPower(stageResults, ..., nPlanned, allocationRatioPlanned = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>stageResults</code></td>
<td>
<p>The results at given stage, obtained from <code>getStageResults()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further (optional) arguments to be passed:
</p>

<dl>
<dt>
<code>thetaH1</code> and <code>stDevH1</code> (or <code>assumedStDev</code> / <code>assumedStDevs</code>),
<code>pi1</code>, <code>pi2</code>, or <code>piTreatments</code>, <code>piControl(s)</code>
</dt>
<dd>
<p>The assumed effect size, standard deviation or rates to calculate the conditional power if <code>nPlanned</code>
is specified. For survival designs, <code>thetaH1</code> refers to the hazard ratio.
For one-armed trials with binary outcome, only <code>pi1</code> can be specified, for two-armed trials with binary outcome,
<code>pi1</code> and <code>pi2</code> can be specified referring to the assumed treatment and control rate, respectively.
In multi-armed or enrichment designs, you can
specify a value or a vector with elements referring to the treatment arms or the sub-populations,
respectively. For testing rates, the parameters to be specified are <code>piTreatments</code> and <code>piControl</code> (multi-arm
designs) and <code>piTreatments</code> and <code>piControls</code> (enrichment designs).<br>
If not specified, the conditional power is calculated under the assumption of observed effect sizes,
standard deviations, rates, or hazard ratios.</p>
</dd>
<dt><code>iterations</code></dt>
<dd>
<p>Iterations for simulating the power for Fisher's combination test.
If the power for more than one remaining stages is to be determined for
Fisher's combination test, it is estimated via simulation with specified <br><code>iterations</code>, the default is <code>1000</code>.</p>
</dd>
<dt><code>seed</code></dt>
<dd>
<p>Seed for simulating the conditional power for Fisher's combination test.
See above, default is a random seed.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nPlanned</code></td>
<td>
<p>The additional (i.e., "new" and not cumulative) sample size planned for each of the subsequent stages.
The argument must be a vector with length equal to the number of remaining stages and contain
the combined sample size from both treatment groups if two groups are considered. For survival outcomes,
it should contain the planned number of additional events.
For multi-arm designs, it is the per-comparison (combined) sample size.
For enrichment designs, it is the (combined) sample size for the considered sub-population.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allocationRatioPlanned</code></td>
<td>
<p>The planned allocation ratio <code>n1 / n2</code> for a two treatment groups
design, default is <code>1</code>. For multi-arm designs, it is the allocation ratio relating the active arm(s) to the control.
For simulating means and rates for a two treatment groups design, it can be a vector of length <code>kMax</code>, the number of stages.
It can be a vector of length kMax, too, for multi-arm and enrichment designs.
In these cases, a change of allocating subjects to treatment groups over the stages can be assessed.
Note that internally <code>allocationRatioPlanned</code> is treated as a vector of length <code>kMax</code>, not a scalar.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The conditional power is calculated if the planned sample size for the subsequent stages is specified.<br>
For testing rates in a two-armed trial, pi1 and pi2 typically refer to the rates in the treatment
and the control group, respectively. This is not mandatory, however, and so pi1 and pi2 can be interchanged.
In many-to-one multi-armed trials, piTreatments and piControl refer to the rates in the treatment arms and
the one control arm, and so they cannot be interchanged. piTreatments and piControls in enrichment designs
can principally be interchanged, but we use the plural form to indicate that the rates can be differently
specified for the sub-populations.
</p>
<p>For Fisher's combination test, the conditional power for more than one remaining stages is
estimated via simulation.
</p>


<h3>Value</h3>

<p>Returns a <code>ConditionalPowerResults</code> object.
The following generics (R generic functions) are available for this result object:
</p>

<ul>
<li> <p><code>names()</code> to obtain the field names,
</p>
</li>
<li> <p><code>print()</code> to print the object,
</p>
</li>
<li> <p><code>summary()</code> to display a summary of the object,
</p>
</li>
<li> <p><code>plot()</code> to plot the object,
</p>
</li>
<li> <p><code>as.data.frame()</code> to coerce the object to a <code>data.frame</code>,
</p>
</li>
<li> <p><code>as.matrix()</code> to coerce the object to a <code>matrix</code>.
</p>
</li>
</ul>
<h3>How to get help for generic functions</h3>

<p>Click on the link of a generic in the list above to go directly to the help documentation of
the <code>rpact</code> specific implementation of the generic.
Note that you can use the R function <code>methods</code> to get all the methods of a generic and
to identify the object specific name of it, e.g.,
use <code>methods("plot")</code> to get all the methods for the <code>plot</code> generic.
There you can find, e.g., <code>plot.AnalysisResults</code> and
obtain the specific help documentation linked above by typing <code>?plot.AnalysisResults</code>.
</p>


<h3>See Also</h3>

<p><code>plot.StageResults()</code> or <code>plot.AnalysisResults()</code>
for plotting the conditional power.
</p>
<p>Other analysis functions: 
<code>getAnalysisResults()</code>,
<code>getClosedCombinationTestResults()</code>,
<code>getClosedConditionalDunnettTestResults()</code>,
<code>getConditionalRejectionProbabilities()</code>,
<code>getFinalConfidenceInterval()</code>,
<code>getFinalPValue()</code>,
<code>getRepeatedConfidenceIntervals()</code>,
<code>getRepeatedPValues()</code>,
<code>getStageResults()</code>,
<code>getTestActions()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data &lt;- getDataset(
    n1     = c(22, 13, 22, 13),
    n2     = c(22, 11, 22, 11),
    means1 = c(1, 1.1, 1, 1),
    means2 = c(1.4, 1.5, 1, 2.5),
    stds1  = c(1, 2, 2, 1.3),
    stds2  = c(1, 2, 2, 1.3)
)
stageResults &lt;- getStageResults(
    getDesignGroupSequential(kMax = 4),
    dataInput = data, stage = 2, directionUpper = FALSE
)
getConditionalPower(stageResults, thetaH1 = -0.4,
    nPlanned = c(64, 64), assumedStDev = 1.5, 
    allocationRatioPlanned = 3
)

## End(Not run)

</code></pre>


</div>