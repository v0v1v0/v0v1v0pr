<div class="container">

<table style="width: 100%;"><tr>
<td>updateAmPercentageBarChart</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Update the data of a 100% stacked bar chart</h2>

<h3>Description</h3>

<p>Update the data of a 100% staced bar chart in a Shiny app
(<code>amPercentageBarChart</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">updateAmPercentageBarChart(session, outputId, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>session</code></td>
<td>
<p>the Shiny <code>session</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputId</code></td>
<td>
<p>the output id passed on to <code>amChart4Output</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>new data; if it is not valid, then nothing will happen (in order
to be valid it must have the same structure as the data passed on to
<code>amPercentageBarChart</code>); in this
case check the JavaScript console, it will report the encountered issue</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">library(rAmCharts4)
library(shiny)

dat &lt;- data.frame(
  country = c("Australia", "Canada", "France", "Germany"),
  "35-44" = c(2, 2, 3, 3),
  "45-54" = c(9, 5, 7, 6),
  "55+"   = c(8, 4, 6, 5),
  check.names = FALSE
)

newdat &lt;- data.frame(
  country = c("Australia", "Canada", "France", "Germany"),
  "35-44" = c(3, 2, 3, 4),
  "45-54" = c(7, 3, 5, 5),
  "55+"   = c(7, 4, 5, 3),
  check.names = FALSE
)


ui &lt;- fluidPage(
  br(),
  actionButton("update", "Update", class = "btn-primary"),
  br(), br(),
  amChart4Output("pbarchart", width = "650px", height = "470px")
)

server &lt;- function(input, output, session){

  output[["pbarchart"]] &lt;- renderAmChart4({
    amPercentageBarChart(
      dat,
      category = "country",
      values = c("35-44", "45-54", "55+"),
      chartTitle = "Profit by country and age breakdowns",
      xAxis = "Country",
      yAxis = "Profit",
      theme = "moonrisekingdom",
      legend = amLegend(position = "right")
    )
  })

  observeEvent(input[["update"]], {
    updateAmPercentageBarChart(session, "pbarchart", newdat)
  })

}

if(interactive()){
  shinyApp(ui, server)
}
</code></pre>


</div>