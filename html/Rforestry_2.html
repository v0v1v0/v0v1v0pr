<div class="container">

<table style="width: 100%;"><tr>
<td>compute_lp-forestry</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>compute lp distances</h2>

<h3>Description</h3>

<p>Return the L_p norm distances of selected test observations
relative to the training observations which the forest was trained on.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compute_lp(
  object,
  newdata,
  feature,
  p,
  scale = FALSE,
  aggregation = "average",
  trainingIdx = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A 'forestry' object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>A data frame of test predictors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature</code></td>
<td>
<p>A string denoting the dimension for computing lp distances.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>A positive real number determining the norm p-norm used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>A boolean indicating whether or not we want to center + scale
the features (based on the mean and sd of the training data) before calculating
the L_p norm. This is useful for computing the detachment index, but can be
less useful when we need to interpret the L_p distances.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aggregation</code></td>
<td>
<p>The aggregation used when the weightMatrix is calculated.
This can be useful for calculating the lp distances on observations in
the training data. This must be one of 'average', 'oob', or 'doubleOOB'.
When newdata has fewer rows than the training data, one must also pass
the vector of training indices corresponding to the indices of the observations
in the original data set. Default is 'average'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trainingIdx</code></td>
<td>
<p>This is an optional parameter that must be set when
aggregation is set to 'oob' or 'doubleOOB' and the newdata is not the same
size as the training data.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector of the lp distances.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Set seed for reproductivity
set.seed(292313)

# Use Iris Data
test_idx &lt;- sample(nrow(iris), 11)
x_train &lt;- iris[-test_idx, -1]
y_train &lt;- iris[-test_idx, 1]
x_test &lt;- iris[test_idx, -1]

rf &lt;- forestry(x = x_train, y = y_train,nthread = 2)
predict(rf, x_test)

# Compute the l2 distances in the "Petal.Length" dimension
distances_2 &lt;- compute_lp(object = rf,
                          newdata = x_test,
                          feature = "Petal.Length",
                          p = 2)
</code></pre>


</div>