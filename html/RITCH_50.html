<div class="container">

<table style="width: 100%;"><tr>
<td>write_itch</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Writes a data.frame or a list of data.frames of ITCH messages to file</h2>

<h3>Description</h3>

<p>Note that additional information, e.g., columns that were added, will be
dropped in the process and only ITCH-compliant information is saved.
</p>


<h3>Usage</h3>

<pre><code class="language-R">write_itch(
  ll,
  file,
  add_meta = TRUE,
  append = FALSE,
  compress = FALSE,
  buffer_size = 1e+08,
  quiet = FALSE,
  append_warning = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ll</code></td>
<td>
<p>a data.frame or a list of data.frames of ITCH messages, in the format
that the <code>read_functions()</code> return</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>the filename of the target file. If the folder to the file does
not exist, it will be created recursively</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_meta</code></td>
<td>
<p>if date and file information should be added to the filename.
Default value is TRUE. Note that adding meta information changes the filename.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>if the information should be appended to the file. Default value
is FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compress</code></td>
<td>
<p>if the file should be gzipped. Default value is FALSE.
Note that if you compress a file, buffer_size matters a lot, with larger
buffers you are more likely to get smaller filesizes in the end.
Alternatively, but slower, is to write the file without compression fully
and then gzip the file using another program.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>buffer_size</code></td>
<td>
<p>the maximum buffer size. Default value is 1e8 (100MB).
Accepted values are &gt; 52 and &lt; 5e9</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>if TRUE, the status messages are suppressed, defaults to FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append_warning</code></td>
<td>
<p>if append is set, a warning about timestamp ordering is
given. Set <code>append_warning = FALSE</code> to silence the warning. Default
value is TRUE</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that the ITCH filename contains the information for the date and exchange.
This can be specified explicitly in the file argument or it is added if not
turned off <code>add_meta = FALSE</code>.
</p>


<h3>Value</h3>

<p>the filename (invisibly)
</p>


<h3>Examples</h3>

<pre><code class="language-R">infile &lt;- system.file("extdata", "ex20101224.TEST_ITCH_50", package = "RITCH")
sys &lt;- read_system_events(infile, quiet = TRUE)
outfile &lt;- tempfile()
write_itch(sys, outfile)

# create a list of events, stock directory, and orders and write to a file
sdir &lt;- read_stock_directory(infile, quiet = TRUE)
od   &lt;- read_orders(infile, quiet = TRUE)

ll &lt;- list(sys, sdir, od)
write_itch(ll, outfile)
</code></pre>


</div>