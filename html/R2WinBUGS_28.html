<div class="container">

<table style="width: 100%;"><tr>
<td>write.model</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creating a WinBUGS model file</h2>

<h3>Description</h3>

<p>Convert <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> / S-PLUS function to a <span class="pkg">WinBUGS</span> model file</p>


<h3>Usage</h3>

<pre><code class="language-R">write.model(model, con = "model.bug", digits = 5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p><span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> / S-PLUS function containing the BUGS model in the BUGS
model language, for minor differences see Section Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>con</code></td>
<td>
<p>passed to <code>writeLines</code> which actually writes
the model file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>number of significant digits used for <span class="pkg">WinBUGS</span>
input, see <code>formatC</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>BUGS models follow closely S syntax. It is therefore possible to write
most BUGS models as <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> functions.
</p>
<p>As a difference, BUGS syntax allows truncation specification like this:
<code>dnorm(...) I(...)</code>  but this is illegal in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> and S-PLUS. To
overcome this incompatibility, use dummy operator <code>%_%</code> before
<code>I(...)</code>: <code>dnorm(...) %_% I(...)</code>. The dummy operator
<code>%_%</code> will be removed before the BUGS code is saved.
</p>
<p>In S-PLUS, a warning is generated when the model function is defined if
the last statement in the model is an assignment.  To avoid this
warning, add the line "invisible()" to the end of the model definition.
This line will be removed before the BUGS code is saved.
</p>


<h3>Value</h3>

<p>Nothing, but as a side effect, the model file is written</p>


<h3>Author(s)</h3>

<p>original idea by Jouni Kerman, modified by Uwe Ligges</p>


<h3>See Also</h3>

<p><code>bugs</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## Same "schoolsmodel" that is used in the examples in ?bugs:
schoolsmodel &lt;- function(){
    for (j in 1:J){
        y[j] ~ dnorm (theta[j], tau.y[j])
        theta[j] ~ dnorm (mu.theta, tau.theta)
        tau.y[j] &lt;- pow(sigma.y[j], -2)
    }
    mu.theta ~ dnorm (0.0, 1.0E-6)
    tau.theta &lt;- pow(sigma.theta, -2)
    sigma.theta ~ dunif (0, 1000)
}

## some temporary filename:
filename &lt;- file.path(tempdir(), "schoolsmodel.bug")


## write model file:
write.model(schoolsmodel, filename)
## and let's take a look:
file.show(filename)
</code></pre>


</div>