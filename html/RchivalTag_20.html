<div class="container">

<table style="width: 100%;"><tr>
<td>leaflet_geopos</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
reads and plots geolocation estimates derived from archival tagging data
</h2>

<h3>Description</h3>

<p>This function creates a Leaflet map widget using htmlwidgets from spatial tagging data. The widget can be rendered on HTML pages generated from R Markdown, Shiny, or other applications.
</p>


<h3>Usage</h3>

<pre><code class="language-R">leaflet_geopos(data, ID_label, add_label=NULL, except_label=NULL, 
               collapsedLayers=TRUE, radius=1000, pal,
               layer_title=ID_label, colorby="date", cb.title, cbpos="bottomright",
               showScaleBar=TRUE, showSlideBar=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>spatial data such as data.frame or SpatialPolygonsDataFrame.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID_label</code></td>
<td>

<p>Vector in spatial data that defines the ID of the tracks to be plotted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_label, except_label</code></td>
<td>

<p>additional labels or labels to be removed from hover.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapsedLayers</code></td>
<td>

<p>whether to collapse leaflet layer legend.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>radius</code></td>
<td>

<p>circle size, in case of simple Lon/Lat tracking dataframes.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pal</code></td>
<td>

<p>color map to be plotted in case of polygon (.nc-files) or scatter plots (default is the 'jet'-colormap, and 'year.jet' in case <code>standard_year</code> &amp; <code>full_year</code> are set <code>TRUE</code>). See cmap for pre-installed color maps. Note that tracking data with constant time steps is being assumed in the color assignment. To verify this, a data.frame containing the colors at each time steps will be returned for polygon and scatter plots.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layer_title</code></td>
<td>

<p>character string indicating the title of the layer legend (by default defined by <code>'ID_label'</code>.)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colorby</code></td>
<td>

<p>character string indicating the vector for which to apply the colorbar (by default <code>'date'</code>.)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cb.title</code></td>
<td>

<p>character string indicating the title of the colorbar (by default inferred from <code>colorby</code>),
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cbpos</code></td>
<td>

<p>position of the colorbar (by default <code>'bottomright'</code>.)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showScaleBar, showSlideBar</code></td>
<td>

<p>whether to show the scale bar or the slide bar.
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Robert K. Bauer
</p>


<h3>See Also</h3>

<p>ggplotly_geopos, ggplot_geopos, update_leaflet_elementId</p>


<h3>Examples</h3>

<pre><code class="language-R">
# csv_file &lt;- system.file("example_files/15P1019-104659-1-GPE3.csv",package="RchivalTag")
# s0 &lt;- get_geopos(csv_file)
# ggplot_geopos(s0)
# leaflet_geopos(s0,ID_label="DeployID")
# leaflet_geopos(s0,ID_label="DeployID",showSlideBar = T)
#
# kmz_file &lt;- system.file("example_files/15P1019-104659-1-GPE3.kmz",package="RchivalTag")
# k1 &lt;- get_geopos(kmz_file)
# kmz_file2 &lt;- system.file("example_files/15P0986-15P0986-2-GPE3.kmz",package="RchivalTag")
# k2 &lt;- get_geopos(kmz_file2)
# k0 &lt;- k3 &lt;- rbind(k1,k2)
# ggplot_geopos(k0,ggobj = ggplotmap("lion"))
# 
# # ggobj &lt;- ggplot_geopos(k1)
# # ggplot_geopos(ggobj = ggobj,k2)
# leaflet_geopos(k0,ID_label="DeployID",collapsedLayers = F) %&gt;% addMiniMap()
# leaflet_geopos(k0,ID_label="DeployID",showSlideBar = T)
#
## Code to illustrate how to avoid rendering issues in RMarkdown:
## only valid in RMarkdown chunks:
# kmz_file2 &lt;- system.file("example_files/15P0986-15P0986-2-GPE3.kmz",package="RchivalTag")
# k2 &lt;- get_geopos(kmz_file2)
# k0 &lt;- k3 &lt;- rbind(k1,k2)
#
# library(leaflet)
# map &lt;- leaflet_geopos(k0, ID_label="DeployID", collapsedLayers = F)
# map
# map # plot again to show rendering issues (in the layer menu title)
## this is required to avoid rendering issues when plotting the same map twice via RMarkdown 
# map &lt;- update_leaflet_elementId(map) 
#
# plot again with updated elementID:
# map %&gt;% addMiniMap()
</code></pre>


</div>