<div class="container">

<table style="width: 100%;"><tr>
<td>create_dataset</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create concentration-response datasets that can be applied in the <code>run_rcurvep()</code>
</h2>

<h3>Description</h3>

<p>The input dataset is created either by summarizing the response data
or by simulating the response data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_dataset(d, n_samples = NULL, vdata = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>Datasets with concentration-response data.
Examples are zfishbeh and zfishdev.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_samples</code></td>
<td>
<p>NULL (default) for not to simulate responses or an integer number to indicate the number of responses per concentration to simulate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vdata</code></td>
<td>
<p>NULL (default) for not to simulate responses or a vector of numeric responses in vehicle control wells to use as error.
This parameter only works when n_samples is not NULL; an experimental feature.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Curvep requires 1-to-1 concentration response relationship.
For the dataset that does not meet the requirement, the following strategies are applied:
</p>


<h4>Summary (when n_samples = NULL)</h4>


<ul>
<li>
<p> For dichotomous responses, percentage is reported (n_in/N*100).
</p>
</li>
<li>
<p> For continuous responses, median value of responses per concentration is reported.
</p>
</li>
</ul>
<h4>Simulation (when n_samples is a positive integer)</h4>


<ul>
<li>
<p> For dichotomous responses, bootstrap approach is used on the "n_in" vector
to create a vector of percent response.
</p>
</li>
<li>
<p> For continuous responses, options are a) direct sampling;
b) responses from the linear fit using the original data + error of responses based on the supplied vehicle control data
</p>
</li>
</ul>
<h3>Value</h3>

<p>The original dataset with a new column, sample_id (if n_samples is not NULL) or
the summarized dataset with columns as zfishbeh.
</p>


<h3>See Also</h3>

<p><code>run_rcurvep()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# datasets with continuous response data
data(zfishbeh)

## default
d &lt;- create_dataset(zfishbeh)

## add samples
d &lt;- create_dataset(zfishbeh, n_samples = 3)

## add samples and vdata
d &lt;- create_dataset(zfishbeh, n_samples = 3, vdata = rnorm(100))

# dataset with dichotomous response data
data(zfishdev)

## default
d &lt;- create_dataset(zfishdev)

## add samples
d &lt;- create_dataset(zfishdev, n_samples = 3)

</code></pre>


</div>