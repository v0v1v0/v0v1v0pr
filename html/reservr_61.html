<div class="container">

<table style="width: 100%;"><tr>
<td>prob_report</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Determine probability of reporting under a Poisson arrival Process</h2>

<h3>Description</h3>

<p>Determines the probability that claims occuring under a Poisson process with
arrival intensity <code>expo</code> and reporting delay distribution <code>dist</code> during the
time between <code>t_min</code> and <code>t_max</code> are reported between <code>tau_min</code> and
<code>tau_max</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prob_report(
  dist,
  intervals,
  expo = NULL,
  with_params = list(),
  .tolerance = .Machine$double.eps^0.5,
  .max_iter = 100L,
  .try_compile = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p>A reporting delay Distribution, or a compiled interval probability function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intervals</code></td>
<td>
<p>A data frame with columns <code>xmin</code>, <code>xmax</code>, <code>tmin</code>, <code>tmax</code>.
Claims occur within <code style="white-space: pre;">⁠[xmin, xmax]⁠</code> and be reported within <code style="white-space: pre;">⁠[tmin, tmax]⁠</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expo</code></td>
<td>
<p>Poisson intensity. If given, must be a vectorised function that
yields the intensity of the claim arrival process at a specified time.
<code>expo = NULL</code> is equivalent to a constant intensity function. <code>expo</code> is only
relevant up to a multiplicative constant.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>with_params</code></td>
<td>
<p>Parameters of <code>dist</code> to use. Can be a parameter set with
different values for each interval. If <code>dist</code> is a compiled interval probability function, <code>with_params</code> can be a
matrix instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.tolerance</code></td>
<td>
<p>Absolute element-wise tolerance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.max_iter</code></td>
<td>
<p>Maximum number of iterations. The number of
integration intervals will be at most <code>length(lower) * .max_iter</code>. Therefor the maximum
number of function evaluations per integration interval will be
<code>15 * .max_iter</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.try_compile</code></td>
<td>
<p>Try compiling the distributions probability function to speed up integration?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The reporting probability is given by
</p>
<p>P(x + d in [tmin, tmax] | x in [xmin, xmax])
= E(P(x + d in [tmin, tmax] | x) | x in [xmin, xmax]) /
P(x in [xmin, xmax])
= int_[xmin, xmax] expo(x) P(x + d in [tmin, tmax]) dx
= int_[xmin, xmax] expo(x) P(d in [tmin - x, tmax - x]) dx /
int_[xmin, xmax] expo(x) dx
</p>
<p><code>prob_report</code> uses <code>integrate_gk()</code> to compute the two integrals.
</p>


<h3>Value</h3>

<p>A vector of reporting probabilities, with one entry per row of <code>intervals</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">dist &lt;- dist_exponential()
ints &lt;- data.frame(
  xmin = 0,
  xmax = 1,
  tmin = seq_len(10) - 1.0,
  tmax = seq_len(10)
)
params &lt;- list(rate = rep(c(1, 0.5), each = 5))

prob_report(dist, ints, with_params = params)

</code></pre>


</div>