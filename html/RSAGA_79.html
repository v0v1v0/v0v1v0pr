<div class="container">

<table style="width: 100%;"><tr>
<td>rsaga.solar.radiation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Potential incoming solar radiation</h2>

<h3>Description</h3>

<p>This function calculates the potential incoming solar radiation in an area either using a lumped atmospheric transmittance model or estimating it based on water and dust content. Use <code>rsaga.pisr()</code> instead with SAGA GIS 2.0.6+.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rsaga.solar.radiation(
  in.dem,
  out.grid,
  out.duration,
  latitude,
  unit = c("kWh/m2", "J/m2"),
  solconst = 1367,
  method = c("lumped", "components"),
  transmittance = 70,
  pressure = 1013,
  water.content = 1.68,
  dust = 100,
  time.range = c(0, 24),
  time.step = 1,
  days = list(day = 21, month = 3),
  day.step = 5,
  env = rsaga.env(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>in.dem</code></td>
<td>
<p>name of input digital elevation model (DEM) grid in SAGA grid format (default extension: <code>.sgrd</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out.grid</code></td>
<td>
<p>output grid file for potential incoming solar radiation sums</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out.duration</code></td>
<td>
<p>Optional output grid file for duration of insolation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>latitude</code></td>
<td>
<p>Geographical latitude in degree North (negative values indicate southern hemisphere)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>unit of the <code>out.grid</code> output: <code>"kWh/m2"</code> (default) or <code>"J/m2"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>solconst</code></td>
<td>
<p>solar constant, defaults to 1367 W/m2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>specifies how the atmospheric components should be accounted for: either based on a lumped atmospheric transmittance as specified by argument <code>transmittance</code> (<code>"lumped"</code>, or numeric code <code>0</code>; default); or by calculating the components corresponding to water and dust (<code>"components"</code>, code <code>1</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transmittance</code></td>
<td>
<p>transmittance of the atmosphere in percent; usually between 60 (humid areas) and 80 percent (deserts)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pressure</code></td>
<td>
<p>atmospheric pressure in mbar</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>water.content</code></td>
<td>
<p>water content of a vertical slice of the atmosphere in cm: between 1.5 and 1.7cm, average 1.68cm (default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dust</code></td>
<td>
<p>dust factor in ppm; defaults to 100ppm</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.range</code></td>
<td>
<p>numeric vector of length 2:  time span (hours of the day) for numerical integration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.step</code></td>
<td>
<p>time step in hours for numerical integration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>days</code></td>
<td>
<p>either a list with components <code>day</code> and <code>month</code> specifying a single day of the year for radiation modeling; OR a numeric vector of length 2 specifying the start and end date (see Note below)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>day.step</code></td>
<td>
<p>if <code>days</code> indicates a range of days, this specifies the time step (number of days) for calculating the incoming solar radiation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>RSAGA geoprocessing environment obtained with <code>rsaga.env()</code>; this argument is required for version control (see Note)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional arguments to be passed to <code>rsaga.geoprocessor()</code></p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>This module ceased to exist under SAGA GIS 2.0.6+, which has a similar (but more flexible) module Potential Solar Radiation that is interfaced by <code>rsaga.pisr()</code>.
</p>
<p>SAGA_CMD uses zero-based days and months, but this R function uses the standard one-based days and months (e.g. day 1 is the first day of the month, month 1 is January) and translates to the SAGA system.
</p>
<p>In SAGA 2.0.2, solar radiation sums calculated for a range of days, say <code>days=c(a,b)</code> actually calculate radiation only for days <code style="white-space: pre;">⁠a,...,b-1⁠</code> (in steps of <code>day.step</code> - I used <code>day.step=1</code> in this example).  The setting <code>a=b</code> however gives the same result as <code>b=a+1</code>, and indeed <code>b=a+2</code> gives twice the radiation sums and potential sunshine duration that <code>a=b</code> and <code>b=a+1</code> both give.
</p>
<p>The solar radiation module of SAGA 2.0.1 had a bug that made it impossible to pass a range of <code>days</code> of the year or a range of hours of the day (<code>time.range</code>) to SAGA. These options work in SAGA 2.0.1.
</p>
<p>This function uses module Incoming Solar Radiation from SAGA GIS library <code>ta_lighting</code>.
</p>


<h3>Author(s)</h3>

<p>Alexander Brenning (R interface), Olaf Conrad (SAGA module)
</p>


<h3>References</h3>

<p>Wilson, J.P., Gallant, J.C. (eds.), 2000: Terrain analysis - principles and applications. New York, John Wiley &amp; Sons.
</p>


<h3>See Also</h3>

<p><code>rsaga.hillshade()</code>, <code>rsaga.insolation()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# potential solar radiation on Nov 7 in Southern Ontario...
rsaga.solar.radiation("dem","solrad","soldur",latitude=43,
    days=list(day=7,month=11),time.step=0.5)

## End(Not run)
</code></pre>


</div>