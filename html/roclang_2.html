<div class="container">

<table style="width: 100%;"><tr>
<td>extract_roc_text</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract a section, parameter or set of dot-parameters from a function documentation</h2>

<h3>Description</h3>

<p><code>extract_roc_text</code> cites sections or parameters from a function documentation
in the syntax of <code>@inherit</code>, <code>@inheritSection</code>, <code>@inheritParams</code> or <code>@inheritDotParams</code> tag
from <code>roxygen2</code> package. See details about how to use this function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">extract_roc_text(
  fun,
  type = c("general", "section", "param", "dot_params"),
  select = NULL,
  capitalize = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>Function or character (of length 1L) indicating function name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of extraction. Please choose one from the following table
according to the <code>@tag</code> you would otherwise use if you would like to inherit
the section, parameter or set of dot-parameters as a whole:</p>

<table>
<tr>
<td style="text-align: center;">
   <code>@tag</code> you would use </td>
<td style="text-align: center;"> <code>type</code> you should choose </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>@inherit</code> </td>
<td style="text-align: center;"> <code>"general"</code> </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>@inheritSection</code> </td>
<td style="text-align: center;"> <code>"section"</code> </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>@inheritParams</code> </td>
<td style="text-align: center;"> <code>"param"</code> </td>
</tr>
<tr>
<td style="text-align: center;">
   <code>@inheritDotParams</code> </td>
<td style="text-align: center;"> <code>"dot_params"</code> </td>
</tr>
<tr>
<td style="text-align: center;">
</td>
</tr>
</table>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select</code></td>
<td>
<p>Selection of extraction based on <code>type</code>.
</p>

<dl>
<dt><code>type = "general"</code></dt>
<dd>
<p>Character (of length 1L) indicating the section to extract</p>
</dd>
<dt><code>type = "section"</code></dt>
<dd>
<p>Character (of length 1L) indicating the section title to extract</p>
</dd>
<dt><code>type = "param"</code></dt>
<dd>
<p>Character (of length 1L) indicating the name of parameter to extract</p>
</dd>
<dt><code>type = "dot_params"</code></dt>
<dd>
<p>Character (of length 1L) or character vector to add or remove (with "-") parameters as <code>@inheritDotParams</code>;
if character vector provided, the elements are concatenated with spaces just as <code>@inheritDotParams</code> syntax,
e.g. <code>"x y"</code> to inherit two parameters, <code>"-z"</code> to remove a parameter or <code>c("-x", "-y")</code> to remove two parameters</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>capitalize</code></td>
<td>
<p>Logical (of length 1L) indicating whether the first letter of the return should be capitalized.
Default to <code>capitalize = NA</code>, in which case the first letter of the return is left as is.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To diffuse the function output into <code>roxygen2</code> comments,
one may write the function documentation with inline code like this:
</p>
<pre>
#' Diffusion of function documentation with inline code
#'
#' @return Same as \code{\link[stats]{lm}}:
#' `r extract_roc_text(stats::lm, type = "general", select = "return")`
my_fun &lt;- function() {}
</pre>
<p>or with code block like this:
</p>
<pre>
#' Diffusion of function documentation with code block
#'
#' @param lm_arg Named list of
#' ```{r}
#' extract_roc_text(stats::lm,
#'                  type = "dot_params",
#'                  select = c("-formula", "-data"),
#'                  capitalize = FALSE)
#' ```
my_fun &lt;- function(lm_arg) {}
</pre>


<h3>Value</h3>

<p>Character (of length 1L) as a valid Rd character string to diffuse into <code>roxygen2</code> comments.
</p>


<h3>Note</h3>

<p>Change log:
</p>

<ul>
<li>
<p>0.1.0 Xiurui Zhu - Initiate the function.
</p>
</li>
<li>
<p>0.1.1 Xiurui Zhu - Change the default of <code>capitalize</code> from <code>TRUE</code> to <code>NA</code>.
</p>
</li>
<li>
<p>0.1.1 Xiurui Zhu - Improve code security in evaluating the formal arguments of <code>fun</code>.
</p>
</li>
<li>
<p>0.2.0 Xiurui Zhu - Make changes for <code>roxygen2 &gt; 7.1.2</code> while keeping compatibility.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Xiurui Zhu
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Inherit a standard section, and leave the first letter as is
cat(
  extract_roc_text(stats::lm,
                   type = "general",
                   select = "description",
                   capitalize = NA)
)

# Inherit a self-defined section, and capitalize the first letter
cat(
  extract_roc_text(stats::lm,
                   type = "section",
                   select = "Using time series",
                   capitalize = TRUE)
)

# Inherit a parameter, and diffuse it into text
cat(
  paste0(
    "Here is the `formula` argument of `stats::lm`, defined as: ",
    extract_roc_text(stats::lm,
                     type = "param",
                     select = "formula",
                     capitalize = FALSE)
  )
)

# Inherit a set of dot params, and diffuse it into text
cat(
  paste0(
    "`lm_arg` is a named list of ",
    extract_roc_text(stats::lm,
                     type = "dot_params",
                     select = c("-formula", "-data"),
                     capitalize = FALSE)
  )
)
</code></pre>


</div>