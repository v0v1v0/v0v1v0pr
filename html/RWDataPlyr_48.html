<div class="container">

<table style="width: 100%;"><tr>
<td>rwslot_annual_sum</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simple aggregation functions for monthly matrix data</h2>

<h3>Description</h3>

<p>A family of functions that take a matrix containing monthly data (months by
traces) that has a "timespan" attribute, annualizes the data by summing, or
finding the minimum or maximum monthly values. Returns a years by traces
matrix. Matrices returned by <code>rdf_get_slot()</code> have the timespan attribute
added to them.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rwslot_annual_sum(rwslot, multFactor = 1)

sumMonth2Annual(rwslot, multFactor = 1)

rwslot_annual_min(rwslot)

getMinAnnValue(rwslot)

rwslot_annual_max(rwslot)

getMaxAnnValue(rwslot)

rwslot_fwaac(mass, flow)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rwslot</code></td>
<td>
<p>A matrix (months by traces) such as that returned by
<code>rdf_get_slot()</code>. Function will error if the <code>rwslot</code> does not contain
"regular" monthly data, i.e., the data must start in January and end in
December, or start in October and end in September (water year), and the
<code>rwslot</code> must have the timespan attribute.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multFactor</code></td>
<td>
<p>A factor the annual sum will be multiplied by.  Can be used
to convert from flow to volume, or to scale all results in another manor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mass</code></td>
<td>
<p>A matrix (months by traces), such as that returned by
<code>rdf_get_slot()</code>, of mass in tons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flow</code></td>
<td>
<p>A matrix (months by traces), such as that returned by
<code>rdf_get_slot()</code>, of flow in acre-ft/month.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Other functions: Annual matrix (years x traces)
</p>
<p><code>rwslot_fwaac()</code>: Annual matrix (years x traces). Units are mg/L.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>sumMonth2Annual</code>: Deprecated version of <code>rwslot_annual_sum()</code>.
</p>
</li>
<li> <p><code>rwslot_annual_min</code>: finds the minimum annual value
for all years and traces.
</p>
</li>
<li> <p><code>getMinAnnValue</code>: Deprecated version of <code>rwslot_annual_min()</code>.
</p>
</li>
<li> <p><code>rwslot_annual_max</code>: finds the maximum annual value for all years and
traces.
</p>
</li>
<li> <p><code>getMaxAnnValue</code>: Deprecated version of <code>rwslot_annual_max()</code>.
</p>
</li>
<li> <p><code>rwslot_fwaac</code>: calculates the flow-weighted average annual
concentration (fwaac). Given mass and flow at the monthly basis, the
flow-weighted average annual concentration is computed. <code>mass</code> and <code>flow</code>
should be monthly data. <code>rwslot_fwaac()</code> expects flow to be in acre-ft/month
and mass to be in tons; however, there are no checks to ensure this is true.
Return value will be in mg/L.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>rdf_get_slot()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">zz &lt;- rdf_get_slot(keyRdf, 'Powell.Outflow')

# returns in original units, e.g., acre-ft
annualTotVal &lt;- rwslot_annual_sum(zz)

# returns in scaled units, e.g., kaf
annualTotVal &lt;- rwslot_annual_sum(zz, 0.001) 

pe &lt;- rdf_get_slot(keyRdf,'Mead.Pool Elevation')
peMax &lt;- rwslot_annual_min(pe)

pe &lt;- rdf_get_slot(keyRdf,'Mead.Pool Elevation')
peMax &lt;- rwslot_annual_max(pe)

flow &lt;- rdf_get_slot(keyRdf,'Powell.Outflow')
# make up mass, since it's not stored in the example data
rr &lt;- matrix(
  rnorm((nrow(flow) * ncol(flow)), mean = 1000, sd = 200), 
  nrow = nrow(flow), 
  ncol = ncol(flow)
)
mass &lt;- flow / 1000000 * rr^2 - rr + 1500 
fwaac &lt;- rwslot_fwaac(mass, flow) 

</code></pre>


</div>