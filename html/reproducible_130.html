<div class="container">

<table style="width: 100%;"><tr>
<td>getRelative</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Relative paths</h2>

<h3>Description</h3>

<p>Extracting relative file paths.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getRelative(path, relativeToPath)

makeRelative(files, absoluteBase)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>character vector or list specifying file paths</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relativeToPath</code></td>
<td>
<p>directory against which <code>path</code> will be relativized.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>files</code></td>
<td>
<p>character vector or list specifying file paths</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>absoluteBase</code></td>
<td>
<p>base directory (as absolute path) to prepend to <code>files</code></p>
</td>
</tr>
</table>
<h3>Details</h3>


<ul>
<li> <p><code>getRelative()</code> searches <code>path</code> "from the right" (instead of "from the left")
and tries to reconstruct it relative to directory specified by <code>relativeToPath</code>.
This is useful when dealing with symlinked paths.
</p>
</li>
<li> <p><code>makeRelative()</code> checks to see if <code>files</code> and <code>normPath(absoluteBase)</code> share a common path
(i.e., "from the left"), otherwise it returns <code>files</code>.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">

## create a project directory (e.g., on a hard drive)
(tmp1 &lt;- tempdir2("myProject", create = TRUE))

## create a cache directory elsewhere (e.g., on an SSD)
(tmp2 &lt;- tempdir2("my_cache", create = TRUE))

## symlink the project cache directory to tmp2
## files created here are actually stored in tmp2
prjCache &lt;- file.path(tmp1, "cache")
file.symlink(tmp2, prjCache)

## create a dummy cache object file in the project cache dir
(tmpf &lt;- tempfile("cache_", prjCache))
cat(rnorm(100), file = tmpf)
file.exists(tmpf)
normPath(tmpf) ## note the 'real' location (i.e., symlink resolved)

getRelative(tmpf, prjCache) ## relative path
getRelative(tmpf, tmp2) ## relative path

makeRelative(tmpf, tmp2) ## abs path; tmpf and normPath(tmp2) don't share common path
makeRelative(tmpf, prjCache) ## abs path; tmpf and normPath(tmp2) don't share common path
makeRelative(normPath(tmpf), prjCache) ## rel path; share common path when both normPath-ed

unlink(tmp1, recursive = TRUE)
unlink(tmp2, recursive = TRUE)

</code></pre>


</div>