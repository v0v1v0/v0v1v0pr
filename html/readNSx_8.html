<div class="container">

<table style="width: 100%;"><tr>
<td>import_nsp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Import signal data from 'Blackrock-Microsystems' data files</h2>

<h3>Description</h3>

<p>Please use <code>import_nsp</code> to import 'NEV' and 'NSx' files.
</p>


<h3>Usage</h3>

<pre><code class="language-R">import_nsp(
  path,
  prefix = NULL,
  exclude_events = "spike",
  exclude_nsx = NULL,
  verbose = TRUE,
  partition_prefix = "/part"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>path to 'NEV' or 'NSx' files</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>path prefix to save data files into</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude_events</code></td>
<td>
<p>exclude one or more 'NEV' data events, choices are
<code>'spike'</code>, <code>'video_sync'</code>, <code>'digital_inputs'</code>,
<code>'tracking'</code>, <code>'button_trigger'</code>, <code>'comment'</code>,
<code>'configuration'</code>; default is <code>'spike'</code> since the spike data takes
very long time to parse, and most users might still use their own offline
spike-sorting algorithms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude_nsx</code></td>
<td>
<p>excluded 'NSx' types, integer vectors from 1 to 9; for
example, <code>exclude_nsx=c(1,2)</code> will prevent <code>'ns1'</code> and <code>'ns2'</code>
from being imported</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical or a progress object: when logical, <code>verbose</code>
indicates whether to print the progress as messages;
when <code>verbose</code> is a progress object, this object must have <code>inc</code>
method; examples are <code>Progress</code> in the <code>shiny</code> package,
<code>progress2</code> from <code>dipsaus</code>, or <code>shiny_progress</code> from
<code>shidashi</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>partition_prefix</code></td>
<td>
<p>additional prefix to the data partition; default is
<code>"/part"</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of configurations, see <code>get_specification</code> for
what's contained.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Please get your own sample data first. This package does not
# provide sample data for privacy and license concerns :)

if(interactive() &amp;&amp; file.exists("sampledata.nev")) {

library(readNSx)

# ---- Import for the first time --------------------------------
import_nsp(
  path = "sampledata.nev",
  prefix = file.path(
    "~/BIDSRoot/MyDataSet/sub-YAB/ses-008/ieeg/",
    "sub-YAB_ses-008_task-congruency_acq-NSP1_run-01"
  ),
  exclude_events = "spike", partition_prefix = "/part"
)

# ---- Load header information --------------------------------
prefix &lt;- "sub-YAB_ses-008_task-congruency_acq-NSP1_run-01"
nev &lt;- get_nev(prefix)
ns3 &lt;- get_nsx(prefix, which = 3)

# get nev from nsx, or nsx from nev
get_nev(ns3)
get_nsx(nev, which = 5)

# ---- Load channel data
result &lt;- get_channel(prefix, channel_id = 10)
channel_signal &lt;- result$channel_detail$part1$data
channel_signal[]

}


</code></pre>


</div>