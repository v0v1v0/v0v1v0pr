<div class="container">

<table style="width: 100%;"><tr>
<td>rarefit.cv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform K-fold cross validation</h2>

<h3>Description</h3>

<p>The function does K-fold cross validaton (CV) to choose an optimal pair of (<code>lambda</code>, <code>alpha</code>)
on which the model performs best according to the chosen error metric: mean squared error
or mean absolute error.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rarefit.cv(fitObj, y, X, errtype = "mean-squared-error", nfolds = 5,
  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fitObj</code></td>
<td>
<p>Output of <code>rarefit</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Response variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p><code>nobs</code>-by-<code>nvars</code> input matrix:
each row is an observation vector and each column stores
a count covariate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>errtype</code></td>
<td>
<p>Type of error metric used in cross validation.
Available choices are <em>mean-squared-error</em> (default)
and <em>mean-absolute-error</em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfolds</code></td>
<td>
<p>Number of folds (default is 5)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments that can be passed to <code>rarefit</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>folds</code></td>
<td>
<p>A length-<code>nfolds</code> list with the kth element being elements in the <code>k</code>th fold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>errs</code></td>
<td>
<p>A <code>nlam</code>-by-<code>nalpha</code>-by-<code>nfolds</code> 3-dimensional array of errors.
<code>errs[i,j,k]</code> is error incurred in using <code>lambda[i]</code> and <code>alpha[j]</code> on the <code>k</code>th fold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>A <code>nlam</code>-by-<code>nalpha</code> matrix for storing CV error (i.e., mean error across folds).
<code>m[i,j]</code> is CV error incurred in using <code>lambda[i]</code> and <code>alpha[j]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>A <code>nlam</code>-by-<code>nalpha</code> matrix for storing standard error across folds.
<code>se[i,j]</code> is standard error incurred in using <code>lambda[i]</code> and <code>alpha[j]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ibest</code></td>
<td>
<p>Indices of pair of (<code>lambda</code>, <code>alpha</code>) minimizing CV error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.best</code></td>
<td>
<p>Value of <code>lambda</code> minimizing CV error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.best</code></td>
<td>
<p>Value of <code>alpha</code> minimizing CV error.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>rarefit</code>, <code>rarefit.predict</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# See vignette for more details.
set.seed(100)
ts &lt;- sample(1:length(data.rating), 400) # Train set indices
# Fit the model on train set
ourfit &lt;- rarefit(y = data.rating[ts], X = data.dtm[ts, ], hc = data.hc, lam.min.ratio = 1e-6,
                  nlam = 20, nalpha = 10, rho = 0.01, eps1 = 1e-5, eps2 = 1e-5, maxite = 1e4)
# Cross validation
ourfit.cv &lt;- rarefit.cv(ourfit, y = data.rating[ts], X = data.dtm[ts, ],
                        rho = 0.01, eps1 = 1e-5, eps2 = 1e-5, maxite = 1e4)

## End(Not run)

</code></pre>


</div>