<div class="container">

<table style="width: 100%;"><tr>
<td>quantify_raceland</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Quantify a racial landscape</h2>

<h3>Description</h3>

<p>This function is a wrapper of several steps (functions) implemented in the raceland package: <code>create_realizations()</code>, <code>create_densities()</code>, <code>calculate_metrics()</code>, and <code>create_grid()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">quantify_raceland(
  x,
  n,
  window_size,
  neighbourhood = 4,
  fun,
  size = NULL,
  na_action = "replace",
  base = "log2",
  ordered = TRUE,
  threshold = 0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>SpatRaster with race-specific population densities assign to each cell</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>A number of realizations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window_size</code></td>
<td>
<p>Size, expressed in the number of cells, of a square-shaped local window for which local densities will be calculated; it is recommended to use the small window_size, i.e., 10</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>neighbourhood</code></td>
<td>
<p>The number of directions in which cell adjacencies are considered as neighbours: <code>4</code> (rook's case), <code>8</code> (queen's case). The default is <code>4</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>Function to calculate values from adjacent cells to contribute to exposure matrix, <code>"mean"</code> - calculate average values of local population densities from adjacent cells, <code>"geometric_mean"</code> - calculate geometric mean values of local population densities from adjacent cells, or <code>"focal"</code> assign value from the focal cell</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>Expressed in the numbers of cells, is a length of the side of a square-shaped block of cells. It defines the extent of a local pattern. If <code>size=NULL</code> calculations are performed for a whole area</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_action</code></td>
<td>
<p>Decides on how to behave in the presence of missing values in <code>w</code>. Possible options are <code>"replace"</code>, <code>"omit"</code>, <code>"keep"</code>. The default, <code>"replace"</code>, replaces missing values with 0, <code>"omit"</code> does not use cells with missing values, and <code>"keep"</code> keeps missing values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>The unit in which entropy is measured. The default is "log2", which compute entropy in "bits". <code>"log"</code> and <code>"log10"</code> can be also used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ordered</code></td>
<td>
<p>The type of pairs considered. Either ordered (<code>TRUE</code>) or unordered (<code>FALSE</code>). The default is <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>The share of NA cells to allow metrics calculation in a square-shaped window</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An sf polygon object with five columns - <code>row</code> and <code>col</code> allowing for identification of each square polygon, <code>ent</code> - entropy measuring racial diversity, <code>mutinf</code> - mutual information, which is associated with measuring racial segregation, and <code>geometry</code> containing spatial geometries.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(terra)
race_raster = rast(system.file("extdata/race_raster.tif", package = "raceland"))
rl = quantify_raceland(race_raster, n = 10, window_size = 10,
 neighbourhood = 4, fun = "mean", size = 20)
</code></pre>


</div>