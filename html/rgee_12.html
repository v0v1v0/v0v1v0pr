<div class="container">

<table style="width: 100%;"><tr>
<td>ee_as_thumbnail</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create an R spatial gridded object from an EE thumbnail image</h2>

<h3>Description</h3>

<p>Wrapper function around <code>ee$Image$getThumbURL</code> to create a stars or
RasterLayer R object from a
<a href="https://developers.google.com/earth-engine/guides/image_visualization">EE thumbnail image</a>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ee_as_thumbnail(
  image,
  region,
  dimensions,
  vizparams = NULL,
  raster = FALSE,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>image</code></td>
<td>
<p>EE Image object to be converted into a stars object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region</code></td>
<td>
<p>EE Geometry Rectangle (ee$Geometry$Rectangle) specifies the region to be exported.
The CRS must match the 'x' argument; otherwise, it will be forced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimensions</code></td>
<td>
<p>Numeric vector of length 2 that specifies the dimensions of the thumbnail image in pixels.
If only one integer is provided, it determines the size of the larger dimension of the image and scales
the other dimension proportionally. Defaults to 512 pixels for the larger image aspect dimension.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vizparams</code></td>
<td>
<p>A list containing the visualization parameters.See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raster</code></td>
<td>
<p>Logical. Should the thumbnail image be saved as a
RasterStack object?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>logical; suppress info messages.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>vizparams</code> set up the details of the thumbnail image. With
<code>ee_as_thumbnail</code> allows exporting only one-band (G) or three-band
(RGB) images. Several parameters can be passed on to control color,
intensity, the maximum and minimum values, etc. The table below provides
all the parameters that admit <code>ee_as_thumbnail</code>.
</p>

<table>
<tr>
<td style="text-align: left;">
<strong>Parameter</strong>
</td>
<td style="text-align: left;"> <strong>Description</strong>  </td>
<td style="text-align: left;"> <strong>Type</strong>
</td>
</tr>
<tr>
<td style="text-align: left;">
<strong>bands</strong>    </td>
<td style="text-align: left;">  Comma-delimited list of three band (RGB) </td>
<td style="text-align: left;">  list </td>
</tr>
<tr>
<td style="text-align: left;">
<strong>min</strong>      </td>
<td style="text-align: left;">  Value(s) to map to 0 </td>
<td style="text-align: left;">  number or list of three
numbers, one for each band </td>
</tr>
<tr>
<td style="text-align: left;">
<strong>max</strong>      </td>
<td style="text-align: left;">  Value(s) to map to 1 </td>
<td style="text-align: left;">  number or list of three
numbers, one for each band </td>
</tr>
<tr>
<td style="text-align: left;">
<strong>gain</strong>     </td>
<td style="text-align: left;">  Value(s) by which to multiply each pixel value </td>
<td style="text-align: left;">
number or list of three numbers, one for each band </td>
</tr>
<tr>
<td style="text-align: left;">
<strong>bias</strong>     </td>
<td style="text-align: left;">  Value(s) to add to each Digital Number
value </td>
<td style="text-align: left;"> number or list of three numbers, one for each band </td>
</tr>
<tr>
<td style="text-align: left;">
<strong>gamma</strong>    </td>
<td style="text-align: left;">  Gamma correction factor(s) </td>
<td style="text-align: left;">  number or list of
three numbers, one for each band </td>
</tr>
<tr>
<td style="text-align: left;">
<strong>palette</strong>  </td>
<td style="text-align: left;">  List of CSS-style color strings
(single-band only) </td>
<td style="text-align: left;">  comma-separated list of hex strings </td>
</tr>
<tr>
<td style="text-align: left;">
<strong>opacity</strong>   </td>
<td style="text-align: left;">  The opacity of the layer (from 0 to 1)  </td>
<td style="text-align: left;">  number </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>Value</h3>

<p>An stars or Raster object depending on the <code>raster</code> argument.
</p>


<h3>See Also</h3>

<p>Other image download functions: 
<code>ee_as_raster()</code>,
<code>ee_as_rast()</code>,
<code>ee_as_stars()</code>,
<code>ee_imagecollection_to_local()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(raster)
library(stars)
library(rgee)

ee_Initialize()

nc &lt;- st_read(system.file("shp/arequipa.shp", package = "rgee"))
dem_palette &lt;- c(
  "#008435", "#1CAC17", "#48D00C", "#B3E34B", "#F4E467",
  "#F4C84E", "#D59F3C", "#A36D2D", "#C6A889", "#FFFFFF"
)

## DEM data -SRTM v4.0
image &lt;- ee$Image("CGIAR/SRTM90_V4")
world_region &lt;- ee$Geometry$Rectangle(
  coords = c(-180,-60,180,60),
  proj = "EPSG:4326",
  geodesic = FALSE
)

## world - elevation
world_dem &lt;- ee_as_thumbnail(
  image = image,
  region = world_region,
  dimensions = 1024,
  vizparams = list(min = 0, max = 5000)
)

world_dem[world_dem &lt;= 0] &lt;- NA
world_dem &lt;- world_dem * 5000

plot(
  x = world_dem, col = dem_palette, breaks = "equal",
  reset = FALSE, main = "SRTM - World"
)

## Arequipa-Peru
arequipa_region &lt;- nc %&gt;%
  st_bbox() %&gt;%
  st_as_sfc() %&gt;%
  sf_as_ee()

arequipa_dem &lt;- ee_as_thumbnail(
  image = image,
  region = arequipa_region$buffer(1000)$bounds(),
  dimensions = 512,
  vizparams = list(min = 0, max = 5000)
)

arequipa_dem &lt;- arequipa_dem * 5000
st_crs(arequipa_dem) &lt;- 4326
plot(
  x = arequipa_dem[nc], col = dem_palette, breaks = "equal",
  reset = FALSE, main = "SRTM - Arequipa"
)

suppressWarnings(plot(
  x = nc, col = NA, border = "black", add = TRUE,
  lwd = 1.5
))
dev.off()

## LANDSAT 8
img &lt;- ee$Image("LANDSAT/LC08/C01/T1_SR/LC08_038029_20180810")$
  select(c("B4", "B3", "B2"))
Map$centerObject(img)
Map$addLayer(img, list(min = 0, max = 5000, gamma = 1.5))

## Teton Wilderness
l8_img &lt;- ee_as_thumbnail(
  image = img,
  region = img$geometry()$bounds(),
  dimensions = 1024,
  vizparams = list(min = 0, max = 5000, gamma = 1.5),
  raster = TRUE
)
crs(l8_img) &lt;- "+proj=longlat +datum=WGS84 +no_defs"
plotRGB(l8_img, stretch = "lin")

## End(Not run)
</code></pre>


</div>