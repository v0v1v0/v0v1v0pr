<div class="container">

<table style="width: 100%;"><tr>
<td>reshapeL2W</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Reshape Repeated-Measures Data from Long to Wide Format
</h2>

<h3>Description</h3>

<p>A simple front-end to the standard R <code>reshape</code> function. The data are assumed to be in "long" format, with several rows for each subject. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">reshapeL2W(data, within, id, varying, ignore)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame in long format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>within</code></td>
<td>
<p>a character vector of names of the within-subjects factors in the long form of the data; there must be at least one within-subjects factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>the (character) name of the variable representing the subject identifier in the long form of the data set; that is, rows with the same <code>id</code> belong to the same subject.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varying</code></td>
<td>
<p>a character vector of names of the occasion-varying variables in the long form of the data; there must be at least one such variable, and typically there will be just one, an occasion-varying response variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore</code></td>
<td>
<p>an optional character vector of names of variables in the long form of the data to exclude from the wide data set.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Between-subjects variables don't vary by occasions for each subject. Variables that aren't listed explicitly in the arguments to the function are assumed to be between-subjects variables, and a warning is printed if their values aren't invariant for each subject (see the <code>ignore</code> argument). 
</p>
<p>Within-subjects factors vary by occasions for each subject, and it is assumed that the within-subjects design is regular, completely crossed, and balanced, so that the same combinations of within-subjects factors are observed for each subject. 
</p>
<p>Occasion-varying variables, as their name implies, (potentially) vary by occasions for each subject, and include one or more "response" variables, possibly along with occasion-varying covariates; these variables can be factors as well as numeric variables. 
</p>
<p>The data are reshaped so that there is one row per subject, with columns for the between-subjects variables, and each occasion-varying variable as multiple columns representing the combinations of levels of the within-subjects factors. The names of the columns for the occasion-varying variables are composed from the combinations of levels of the within-subjects factors and from the names of the occasion-varying variables.  If a subject in the long form of the data set lacks any combination of levels of within-subjects factors, he or she is excluded (with a warning) from the wide form of the data.
</p>


<h3>Value</h3>

<p>a data frame in "wide" format, with one row for each subject, columns representing the between subjects factors, and columns for the occasion-varying variable(s) for each combination of within-subjects factors.</p>


<h3>Author(s)</h3>

<p>John Fox <a href="mailto:jfox@mcmaster.ca">jfox@mcmaster.ca</a></p>


<h3>See Also</h3>

<p><code>reshape</code>, <code>OBrienKaiser</code>, <code>OBrienKaiserLong</code>.</p>


<h3>Examples</h3>

<pre><code class="language-R">if (require(carData)){
  OBW &lt;- reshapeL2W(OBrienKaiserLong,
                    within=c("phase", "hour"), 
                    id="id", varying="score")
  brief(OBW)
  # should be the same as OBrienKaiser in the carData package:
  all.equal(OBrienKaiser, OBW, check.attributes=FALSE)
}
</code></pre>


</div>