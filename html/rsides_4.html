<div class="container">

<table style="width: 100%;"><tr>
<td>Example1</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Subgroup search in a clinical trial with a continuous endpoint 
</h2>

<h3>Description</h3>

<p>Consider a clinical trial that was conducted to evaluate the efficacy and safety of an experimental treatment compared to placebo. The primary endpoint is a continuous endpoint. The trial data can be found in the continuous data set. This data set includes five biomarkers (four numeric biomarkers and one nominal biomarker) as well as several covariates that can be included in the primary analysis model. The trial's sponsor is interested in identifying a set of promising subgroups with enhanced treatment effect. Subgroup search will be performed using the basic SIDES procedure and two SIDEScreen procedures (Fixed and Adaptive SIDEScreen procedures).<br>
The endpoint parameters will be defined as follows. First of all, the name of the outcome variable needs to be specified, i.e., <code>outcome_variable = "outcome"</code>. Since the endpoint is continuous, the <code>type</code> parameter is <code>"continuous"</code>, and further the <code>direction</code> parameter is set to 1 since a higher value of the primary endpoint indicates beneficial effect. <br>
Two sets of endpoint parameters will be considered to implement a simple evaluation of the treatment effect based on the two-sample t-test and a more advanced analysis based on an ANCOVA model with an adjustment for important prognostic covariates:
</p>

<ul>
<li>
<p> Analysis strategy 1: The <code>analysis_method</code> parameter is set to <code>"T-test"</code>.
</p>
</li>
<li>
<p> Analysis strategy 2: The <code>analysis_method</code> parameter is set to <code>"ANCOVA"</code>. The covariates to be included in the model need to be defined using the <code>cont_covariates</code> and <code>class_covariates</code> arguments. Suppose that the ANCOVA model will account for two continuous covariates (cont1, cont2) and one class/categorical covariate (class1), then <code>cont_covariates</code> is set to <code>"cont1, cont2"</code> and <code>class_covariates</code> is set to <code>"class1"</code>.
</p>
</li>
</ul>
<p>The data set parameters will be specified as follows:
</p>

<ul>
<li>
<p> The data set's name (<code>data_set</code>) is <code>continuous</code>.
</p>
</li>
<li>
<p> The treatment variable's name (<code>treatment_variable_name</code>) is <code>"treatment"</code>.
</p>
</li>
<li>
<p> The value of the treatment variable that defines the control arm <br> (<code>treatment_variable_control_value</code>) is <code>"0"</code>.
</p>
</li>
<li>
<p> The list of candidate biomarkers to be included in the subgroup search (<code>biomarker_names</code>) is <code>c("biomarker1", "biomarker2", "biomarker3", "biomarker4", "biomarker5")</code>.
</p>
</li>
<li>
<p> The list of biomarker types (<code>biomarker_types</code>) is <code>c(rep("numeric", 4), "nominal")</code>.
</p>
</li>
</ul>
<p>Finally, the following algorithm parameters will be used in the subgroup search procedures:
</p>

<ul>
<li>
<p> Search depth (<code>depth</code>) is 2, which means that patient subgroups will be defined in terms of one or two biomarkers. Note that this is the default value of this parameter and thus it does not need to be explicitly defined.
</p>
</li>
<li>
<p> Search width (<code>width</code>) is 2, i.e., only up to two best child subgroups will be retained for each parent group. This is the default value of this parameter and thus it does not need to be explicitly defined.
</p>
</li>
<li>
<p> Child-to-parent ratio (<code>gamma</code>) equals 1 for each search level. This is the default value of this parameter and thus it does not need to be explicitly defined.
</p>
</li>
<li>
<p> Minimum total number of patients in a promising subgroup (<code>min_subgroup_size</code>) is 60.
</p>
</li>
<li>
<p> Minimum number of unique values for continuous biomarkers for applying a percentile transformation (<code>nperc</code>) is 20, i.e., a percentile transformation will not be applied to a continuous biomarker if there are few than 20 unique values. This is the default value of this parameter and thus it does not need to be explicitly defined.
</p>
</li>
<li>
<p> Number of permutations to compute multiplicity-adjusted treatment effect p-values within promising subgroups (<code>n_perms_mult_adjust</code>) is 10. 
</p>
</li>
<li>
<p> Number of processor cores to be used in parallel calculations (<code>ncores</code>) is 1. 
</p>
</li>
</ul>
<p>The subgroup search will be performed using the basic SIDES procedure as well as two SIDEScreen procedures by calling the SubgroupSearch function and a comprehensive summary of subgroup search results will be generated by calling the GenerateReport function.
</p>


<h3>See Also</h3>

<p><code>Example2, Example3</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  
    ##############################################################################

    # Primary endpoint parameters

    # Analysis strategy 1: Analysis of the continuous endpoint without 
    # accounting for any covariates
    endpoint_parameters = list(outcome_variable = "outcome", 
      type = "continuous",
      label = "Outcome", 
      analysis_method = "T-test", 
      direction = 1)

    # Analysis strategy 2: Analysis of the continuous endpoint using an ANCOVA 
    # model that accounts for two continuous covariates (cont1, cont2) and 
    # one class/categorical covariate (class1)
    endpoint_parameters = list(outcome_variable = "outcome", 
      type = "continuous",
      label = "Outcome", 
      analysis_method = "ANCOVA", 
      cont_covariates = "cont1, cont2", 
      class_covariates = "class1", 
      direction = 1)

    ##############################################################################

    # Data set parameters

    # Set of candidate biomarkers
    biomarker_names = c("biomarker1", "biomarker2", 
                        "biomarker3", "biomarker4", 
                        "biomarker5")

    # Biomarker type 
    biomarker_types = c(rep("numeric", 4), "nominal")

    # Data set parameters
    data_set_parameters = list(data_set = continuous,
      treatment_variable_name = "treatment",
      treatment_variable_control_value = "0",
      biomarker_names = biomarker_names,
      biomarker_types = biomarker_types)

    ##############################################################################

    # Algorithm parameters for the basic SIDES procedure

    # Algorithm
    subgroup_search_algorithm = "SIDES procedure"

    # Number of permutations to compute multiplicity-adjusted treatment 
    # effect p-values within promising subgroups
    n_perms_mult_adjust = 10

    # Number of processor cores (use less or equal number of CPU cores on the current host)
    ncores = 1

    # Default values for the search depth (2), search width (2), 
    # maximum number of unique values for continuous biomarkers (20)

    # Algorithm parameters
    algorithm_parameters = list(
      n_perms_mult_adjust = n_perms_mult_adjust,
      min_subgroup_size = 60,
      subgroup_search_algorithm = subgroup_search_algorithm,
      ncores = ncores,
      random_seed = 3011)

    # Perform subgroup search

    # List of all parameters
    parameters = list(endpoint_parameters = endpoint_parameters,
      data_set_parameters = data_set_parameters,
      algorithm_parameters = algorithm_parameters)

    results = SubgroupSearch(parameters)

    # Simple summary of subgroup search results
    results

    # Generate a detailed Word-based report with a summary of subgroup search results
    report_information = GenerateReport(results,
      report_title = "Subgroup search report", 
      report_filename = tempfile(
        "Continuous endpoint (SIDES).docx", 
        fileext=".docx"
      )
    )

    ##############################################################################

    # Algorithm parameters for the Fixed SIDEScreen procedure

    # Algorithm
    subgroup_search_algorithm = "Fixed SIDEScreen procedure"

    # Number of permutations to compute multiplicity-adjusted treatment 
    # effect p-values within promising subgroups
    n_perms_mult_adjust = 10

    # Number of processor cores (use less or equal number of CPU cores on the current host)
    ncores = 1

    # Number of biomarkers selected for the second stage in the Fixed SIDEScreen algorithm
    n_top_biomarkers = 3

    # Default values for the search depth (2), search width (2), 
    # maximum number of unique values for continuous biomarkers (20)

    # Algorithm parameters
    algorithm_parameters = list(
      n_perms_mult_adjust = n_perms_mult_adjust,
      min_subgroup_size = 60,
      subgroup_search_algorithm = subgroup_search_algorithm,
      ncores = ncores,
      n_top_biomarkers = n_top_biomarkers,
      random_seed = 3011)

    # Perform subgroup search

    # List of all parameters
    parameters = list(endpoint_parameters = endpoint_parameters,
      data_set_parameters = data_set_parameters,
      algorithm_parameters = algorithm_parameters)

    results = SubgroupSearch(parameters)

    # Simple summary of subgroup search results
    results

    # Generate a detailed Word-based report with a summary of subgroup search results
    report_information = GenerateReport(results,
      report_title = "Subgroup search report", 
      report_filename = tempfile(
        "Continuous endpoint (Fixed SIDEScreen).docx", 
        fileext=".docx"
      )
    )

    ##############################################################################

    # Algorithm parameters for the Adaptive SIDEScreen procedure

    # Algorithm
    subgroup_search_algorithm = "Adaptive SIDEScreen procedure"

    # Number of permutations to compute multiplicity-adjusted treatment 
    # effect p-values within promising subgroups
    n_perms_mult_adjust = 10

    # Number of processor cores (use less or equal number of CPU cores on the current host)
    ncores = 1

    # Multiplier for selecting biomarkers for the second stage 
    # in the Adaptive SIDEScreen algorithm
    multiplier = 1

    # Number of permutations for computing the null distribution
    # of the maximum VI score in the Adaptive SIDEScreen algorithm
    n_perms_vi_score = 100

    # Default values for the search depth (2), search width (2), 
    # maximum number of unique values for continuous biomarkers (20)

    # Algorithm parameters
    algorithm_parameters = list(
      n_perms_mult_adjust = n_perms_mult_adjust,
      min_subgroup_size = 60,
      subgroup_search_algorithm = subgroup_search_algorithm,
      ncores = ncores,
      multiplier = multiplier,
      n_perms_vi_score = n_perms_vi_score,
      random_seed = 3011)

    # Perform subgroup search

    # List of all parameters
    parameters = list(endpoint_parameters = endpoint_parameters,
      data_set_parameters = data_set_parameters,
      algorithm_parameters = algorithm_parameters)

    results = SubgroupSearch(parameters)

    # Simple summary of subgroup search results
    results

    # Generate a detailed Word-based report with a summary of subgroup search results
    GenerateReport(results,
      report_title = "Subgroup search report", 
      report_filename = tempfile(
        "Continuous endpoint (Adaptive SIDEScreen).docx", 
        fileext=".docx"
      )
    )
  
</code></pre>


</div>