<div class="container">

<table style="width: 100%;"><tr>
<td>stackMeta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Import separate Landsat files into single stack</h2>

<h3>Description</h3>

<p>Reads Landsat MTL or XML metadata files and loads single Landsat Tiffs into a rasterStack.
Be aware that by default stackMeta() does NOT import panchromatic bands nor thermal bands with resolutions != 30m.
</p>


<h3>Usage</h3>

<pre><code class="language-R">stackMeta(file, quantity = "all", category = "image", allResolutions = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Character. Path to Landsat MTL metadata (*_MTL.txt) file or an Landsat CDR xml metadata file (*.xml).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantity</code></td>
<td>
<p>Character vector. Which quantity should be returned. Options: digital numbers ('dn'), top of atmosphere reflectance ('tre'), at surface reflectance ('sre'), brightness temperature ('bt'), spectral index ('index'), all quantities ('all').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>category</code></td>
<td>
<p>Character vector. Which category of data to return. Options 'image': image data, 'pan': panchromatic image, 'index': multiband indices, 'qa' quality flag bands, 'all': all categories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allResolutions</code></td>
<td>
<p>Logical. if <code>TRUE</code> a list will be returned with length = unique spatial resolutions.
This argument was introduced to maintain backward compatibility and will be switched to TRUE in an upcoming release. Please base all new code on terra.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns one single SpatRaster comprising all requested bands.
If <code>allResolutions = TRUE</code> *and* there are different resolution layers (e.g. a 15m panchromatic band along wit 30m imagery) a list of RasterStacks will be returned.
</p>


<h3>Note</h3>

<p>Be aware that by default stackMeta() does NOT import panchromatic bands nor thermal bands with resolutions != 30m. Use the allResolutions argument to import all layers.
Note that nowadays the USGS uses cubic convolution to resample the TIR bands to 30m resolution.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Example metadata file (MTL)
mtlFile  &lt;- system.file("external/landsat/LT52240631988227CUB02_MTL.txt", package="RStoolbox")

## Read metadata
metaData &lt;- readMeta(mtlFile)
summary(metaData)

## Load rasters based on metadata file
lsat     &lt;- stackMeta(mtlFile)
lsat
</code></pre>


</div>