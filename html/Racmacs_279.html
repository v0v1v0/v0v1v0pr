<div class="container">

<table style="width: 100%;"><tr>
<td>triangulationBlobs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate triangulation blobs data for an antigenic map</h2>

<h3>Description</h3>

<p>This function is to help give an idea of how well coordinated each point is
in a map, and to give some idea of uncertainty in it's position. It works
by moving each point in a grid search and seeing how the total map stress
changes, see details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">triangulationBlobs(
  map,
  optimization_number = 1,
  stress_lim = 1,
  grid_spacing = 0.25,
  antigens = TRUE,
  sera = TRUE,
  .check_relaxation = TRUE,
  .options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>The acmap data object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimization_number</code></td>
<td>
<p>The optimization number to check</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stress_lim</code></td>
<td>
<p>The blob stress limit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid_spacing</code></td>
<td>
<p>Grid spacing to use when searching map space and
inferring the blob</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>antigens</code></td>
<td>
<p>Should triangulation blobs be calculated for antigens</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sera</code></td>
<td>
<p>Should triangulation blobs be calculated for sera</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.check_relaxation</code></td>
<td>
<p>Should a check be performed that the map is fully
relaxed (all points in a local optima) before the search is performed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.options</code></td>
<td>
<p>List of named optimizer options to use when checking map
relaxation, see <code>RacOptimizer.options()</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The region or regions of the plot where total map stress is not
increased above a certain threshold (<code>stress_lim</code>) are shown when the map
is plotted. This function is really to check whether point positions are
clearly very uncertain, for example the underlying titers may support an
antigen being a certain distance away from a group of other points but due
to the positions of the sera against which it was titrated the direction
would be unclear, and you might see a blob that forms an arc or "banana"
that represents this. Note that it is not really a confidence interval
since a point may be well coordinated in terms of the optimization but
it's position may still be defined by perhaps only one particular titer
which is itself uncertain. For something more akin to confidence intervals
you can use other diagnostic functions like <code>bootstrapMap()</code>.
</p>


<h3>Value</h3>

<p>Returns the acmap data object with triangulation blob information added,
which will be shown when the map is plotted
</p>


<h3>See Also</h3>

<p>Other map diagnostic functions: 
<code>agCohesion()</code>,
<code>bootstrapBlobs()</code>,
<code>bootstrapMap()</code>,
<code>checkHemisphering()</code>,
<code>dimensionTestMap()</code>,
<code>logtiterTable()</code>,
<code>map-table-distances</code>,
<code>mapBootstrapCoords</code>,
<code>mapDistances()</code>,
<code>mapRelaxed()</code>,
<code>mapResiduals()</code>,
<code>pointStress</code>,
<code>ptBootstrapBlob</code>,
<code>ptBootstrapCoords()</code>,
<code>ptLeverage</code>,
<code>ptTriangulationBlob</code>,
<code>recalculateStress()</code>,
<code>stressTable()</code>,
<code>tableColbases()</code>,
<code>tableDistances()</code>,
<code>unstableMaps</code>
</p>


</div>