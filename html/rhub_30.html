<div class="container">

<table style="width: 100%;"><tr>
<td>rhub-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The rhub package</h2>

<h3>Description</h3>

<p>Tools for R package developers
</p>


<h3>Details</h3>



<h4>Installation</h4>

<p>Install rhub from CRAN:
</p>
<div class="sourceCode r"><pre>pak::pkg_install("rhub")
</pre></div>



<h4>Usage</h4>



<h5>Requirements</h5>


<ul>
<li>
<p> A Github account.
</p>
</li>
<li>
<p> Your R package must be in a GitHub repository.
</p>
</li>
<li>
<p> You need a GitHub <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token">Personal Access Token</a>.
You can use the <a href="https://gitcreds.r-lib.org/">gitcreds package</a> to add
the token to the git credential store.
</p>
</li>
</ul>
<p>See the <a href="#the-r-consortium-runners">R Consortium runners</a> section for
using rhub if your package is not on GitHub.
</p>



<h5>Private repositories</h5>

<p>rhub uses GitHub Actions, which is free for public repositories.
For private repositories you also get some minutes for free, depending on
the GitHub subscription you have. See
<a href="https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions">About billing for GitHub Actions</a> for details.
</p>



<h5>Setup</h5>


<ol><li>
<p> Switch to the directory of your package, and call <code>rhub::rhub_setup()</code> to
add the R-hub workflow file to your package.
</p>
</li></ol>
<div class="sourceCode r"><pre>rhub::rhub_setup()
</pre></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#&gt; Setting up R-hub v2.                                                            
#&gt; <span style="color: #A8CC8C;">✔</span> Found R package at <span style="color: #71BEF2;">/private/tmp/cli</span>.                                          
#&gt; <span style="color: #A8CC8C;">✔</span> Found git repository at <span style="color: #71BEF2;">/private/tmp/cli</span>.                                     
#&gt; <span style="color: #A8CC8C;">✔</span> Created workflow file <span style="color: #71BEF2;">/private/tmp/cli/.github/workflows/rhub.yaml</span>.           
#&gt;                                                                                 
#&gt; Notes:                                                                          
#&gt; <span style="color: #66C2CD;">•</span> The workflow file must be added to the <span style="font-style: italic;">default</span> branch of the GitHub           
#&gt;   repository.                                                                   
#&gt; <span style="color: #66C2CD;">•</span> GitHub actions must be enabled for the repository. They are disabled for      
#&gt;   forked repositories by default.                                               
#&gt;                                                                                 
#&gt; Next steps:                                                                     
#&gt; <span style="color: #66C2CD;">•</span> Add the workflow file to git using `git add &lt;filename&gt;`.                      
#&gt; <span style="color: #66C2CD;">•</span> Commit it to git using `git commit`.                                          
#&gt; <span style="color: #66C2CD;">•</span> Push the commit to GitHub using `git push`.                                   
#&gt; <span style="color: #66C2CD;">•</span> Call `rhub::rhub_doctor()` to check that you have set up R-hub correctly.     
#&gt; <span style="color: #66C2CD;">•</span> Call `rhub::rhub_check()` to check your package.                              
</pre></div>


<ol>
<li>
<p> Run <code style="white-space: pre;">⁠git commit⁠</code> and <code style="white-space: pre;">⁠git push⁠</code> to push the workflow file to GitHub.
</p>
</li>
<li>
<p> Run <code>rhub::rhub_doctor()</code> to check if everything is set up correctly:
</p>
</li>
</ol>
<div class="sourceCode r"><pre>rhub::rhub_doctor()
</pre></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#&gt; <span style="color: #A8CC8C;">✔</span> Found R package at <span style="color: #71BEF2;">/private/tmp/cli</span>.                                          
#&gt; <span style="color: #A8CC8C;">✔</span> Found git repository at <span style="color: #71BEF2;">/private/tmp/cli</span>.                                     
#&gt; <span style="color: #A8CC8C;">✔</span> Found GitHub PAT.                                                             
#&gt; <span style="color: #A8CC8C;">✔</span> Found repository on GitHub at <span style="font-style: italic;color: #71BEF2;">&lt;https://github.com/r-lib/cli&gt;</span>.                 
#&gt; <span style="color: #A8CC8C;">✔</span> GitHub PAT has the right scopes.                                              
#&gt; <span style="color: #A8CC8C;">✔</span> Found R-hub workflow in default branch, and it is active.                     
#&gt; → WOOT! You are ready to run `rhub::rhub_check()` on this package.              
</pre></div>




<h5>Run checks</h5>

<p>Use <code>rhub::rhub_platforms()</code> to get a list of supported platforms and checks:
</p>
<div class="sourceCode r"><pre>rhub::rhub_platforms()
</pre></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#&gt; ── Virtual machines ─────────────────────────────────────────────────────────── 
#&gt;  1 [VM]  <span style="font-weight: bold;color: #71BEF2;">linux</span>                                                                  
#&gt; <span style="color: #adadad;">   All R versions on GitHub Actions ubuntu-latest</span>                               
#&gt;  2 [VM]  <span style="font-weight: bold;color: #71BEF2;">macos</span>                                                                  
#&gt; <span style="color: #adadad;">   All R versions on GitHub Actions macos-latest</span>                                
#&gt;  3 [VM]  <span style="font-weight: bold;color: #71BEF2;">macos-arm64</span>                                                            
#&gt; <span style="color: #adadad;">   All R versions on GitHub Actions macos-14</span>                                    
#&gt;  4 [VM]  <span style="font-weight: bold;color: #71BEF2;">windows</span>                                                                
#&gt; <span style="color: #adadad;">   All R versions on GitHub Actions windows-latest</span>                              
#&gt;                                                                                 
#&gt; ── Containers ───────────────────────────────────────────────────────────────── 
#&gt;  5 [CT]  <span style="font-weight: bold;color: #71BEF2;">atlas</span><span style="color: #adadad;">  [ATLAS]</span>                                                         
#&gt; <span style="color: #adadad;">   R Under development (unstable) (2024-03-19 r86153) on Fedora Linux 38 (Conta</span>…
#&gt; <span style="font-style: italic;color: #adadad;">   ghcr.io/r-hub/containers/atlas:latest</span>                                        
#&gt;  6 [CT]  <span style="font-weight: bold;color: #71BEF2;">clang-asan</span><span style="color: #adadad;">  [asan, clang-ASAN, clang-UBSAN, ubsan]</span>                     
#&gt; <span style="color: #adadad;">   R Under development (unstable) (2024-03-19 r86153) on Ubuntu 22.04.4 LTS</span>     
#&gt; <span style="font-style: italic;color: #adadad;">   ghcr.io/r-hub/containers/clang-asan:latest</span>                                   
#&gt;  7 [CT]  <span style="font-weight: bold;color: #71BEF2;">clang16</span><span style="color: #adadad;">  [clang16]</span>                                                     
#&gt; <span style="color: #adadad;">   R Under development (unstable) (2024-03-18 r86148) on Ubuntu 22.04.4 LTS</span>     
#&gt; <span style="font-style: italic;color: #adadad;">   ghcr.io/r-hub/containers/clang16:latest</span>                                      
#&gt;  8 [CT]  <span style="font-weight: bold;color: #71BEF2;">clang17</span><span style="color: #adadad;">  [clang17]</span>                                                     
#&gt; <span style="color: #adadad;">   R Under development (unstable) (2024-03-18 r86148) on Ubuntu 22.04.4 LTS</span>     
#&gt; <span style="font-style: italic;color: #adadad;">   ghcr.io/r-hub/containers/clang17:latest</span>                                      
#&gt;  9 [CT]  <span style="font-weight: bold;color: #71BEF2;">clang18</span><span style="color: #adadad;">  [clang18]</span>                                                     
#&gt; <span style="color: #adadad;">   R Under development (unstable) (2024-03-18 r86148) on Ubuntu 22.04.4 LTS</span>     
#&gt; <span style="font-style: italic;color: #adadad;">   ghcr.io/r-hub/containers/clang18:latest</span>                                      
#&gt; 10 [CT]  <span style="font-weight: bold;color: #71BEF2;">donttest</span><span style="color: #adadad;">  [donttest]</span>                                                   
#&gt; <span style="color: #adadad;">   R Under development (unstable) (2024-03-18 r86148) on Ubuntu 22.04.4 LTS</span>     
#&gt; <span style="font-style: italic;color: #adadad;">   ghcr.io/r-hub/containers/donttest:latest</span>                                     
#&gt; 11 [CT]  <span style="font-weight: bold;color: #71BEF2;">gcc13</span><span style="color: #adadad;">  [gcc13]</span>                                                         
#&gt; <span style="color: #adadad;">   R Under development (unstable) (2024-03-19 r86153) on Fedora Linux 38 (Conta</span>…
#&gt; <span style="font-style: italic;color: #adadad;">   ghcr.io/r-hub/containers/gcc13:latest</span>                                        
#&gt; 12 [CT]  <span style="font-weight: bold;color: #71BEF2;">intel</span><span style="color: #adadad;">  [Intel]</span>                                                         
#&gt; <span style="color: #adadad;">   R Under development (unstable) (2024-03-19 r86153) on Fedora Linux 38 (Conta</span>…
#&gt; <span style="font-style: italic;color: #adadad;">   ghcr.io/r-hub/containers/intel:latest</span>                                        
#&gt; 13 [CT]  <span style="font-weight: bold;color: #71BEF2;">mkl</span><span style="color: #adadad;">  [MKL]</span>                                                             
#&gt; <span style="color: #adadad;">   R Under development (unstable) (2024-03-19 r86153) on Fedora Linux 38 (Conta</span>…
#&gt; <span style="font-style: italic;color: #adadad;">   ghcr.io/r-hub/containers/mkl:latest</span>                                          
#&gt; 14 [CT]  <span style="font-weight: bold;color: #71BEF2;">nold</span><span style="color: #adadad;">  [noLD]</span>                                                           
#&gt; <span style="color: #adadad;">   R Under development (unstable) (2024-03-19 r86153) on Ubuntu 22.04.4 LTS</span>     
#&gt; <span style="font-style: italic;color: #adadad;">   ghcr.io/r-hub/containers/nold:latest</span>                                         
#&gt; 15 [CT]  <span style="font-weight: bold;color: #71BEF2;">nosuggests</span><span style="color: #adadad;">  [noSuggests]</span>                                               
#&gt; <span style="color: #adadad;">   R Under development (unstable) (2024-03-19 r86153) on Fedora Linux 38 (Conta</span>…
#&gt; <span style="font-style: italic;color: #adadad;">   ghcr.io/r-hub/containers/nosuggests:latest</span>                                   
#&gt; 16 [CT]  <span style="font-weight: bold;color: #71BEF2;">ubuntu-clang</span><span style="color: #adadad;">  [r-devel-linux-x86_64-debian-clang]</span>                      
#&gt; <span style="color: #adadad;">   R Under development (unstable) (2024-03-19 r86153) on Ubuntu 22.04.4 LTS</span>     
#&gt; <span style="font-style: italic;color: #adadad;">   ghcr.io/r-hub/containers/ubuntu-clang:latest</span>                                 
#&gt; 17 [CT]  <span style="font-weight: bold;color: #71BEF2;">ubuntu-gcc12</span><span style="color: #adadad;">  [r-devel-linux-x86_64-debian-gcc]</span>                        
#&gt; <span style="color: #adadad;">   R Under development (unstable) (2024-03-19 r86153) on Ubuntu 22.04.4 LTS</span>     
#&gt; <span style="font-style: italic;color: #adadad;">   ghcr.io/r-hub/containers/ubuntu-gcc12:latest</span>                                 
#&gt; 18 [CT]  <span style="font-weight: bold;color: #71BEF2;">ubuntu-next</span><span style="color: #adadad;">  [r-next, r-patched, r-patched-linux-x86_64]</span>               
#&gt; <span style="color: #adadad;">   R version 4.3.3 Patched (2024-02-29 r86153) on Ubuntu 22.04.4 LTS</span>            
#&gt; <span style="font-style: italic;color: #adadad;">   ghcr.io/r-hub/containers/ubuntu-next:latest</span>                                  
#&gt; 19 [CT]  <span style="font-weight: bold;color: #71BEF2;">ubuntu-release</span><span style="color: #adadad;">  [r-release, r-release-linux-x86_64, ubuntu]</span>            
#&gt; <span style="color: #adadad;">   R version 4.3.3 (2024-02-29) on Ubuntu 22.04.4 LTS</span>                           
#&gt; <span style="font-style: italic;color: #adadad;">   ghcr.io/r-hub/containers/ubuntu-release:latest</span>                               
#&gt; 20 [CT]  <span style="font-weight: bold;color: #71BEF2;">valgrind</span><span style="color: #adadad;">  [valgrind]</span>                                                   
#&gt; <span style="color: #adadad;">   R Under development (unstable) (2024-03-19 r86153) on Fedora Linux 38 (Conta</span>…
#&gt; <span style="font-style: italic;color: #adadad;">   ghcr.io/r-hub/containers/valgrind:latest</span>                                     
</pre></div>

<p>Run <code>rhub::rhub_check()</code> to start R-hub v2 checks on GitHub Actions:
</p>
<div class="sourceCode r"><pre>rhub::rhub_check()
</pre></div>
<div class="asciicast" style="color: #B9C0CB;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000"><pre>
#&gt; <span style="color: #A8CC8C;">✔</span> Found git repository at <span style="color: #71BEF2;">/private/tmp/cli</span>.                                     
#&gt; <span style="color: #A8CC8C;">✔</span> Found GitHub PAT.                                                             
#&gt;                                                                                 
#&gt; Available platforms (see `rhub::rhub_platforms()` for details):                 
#&gt;                                                                                 
#&gt;  1 [VM] <span style="font-weight: bold;color: #71BEF2;">linux</span>          R-* (any version)                     ubuntu-latest on G…
#&gt;  2 [VM] <span style="font-weight: bold;color: #71BEF2;">macos</span>          R-* (any version)                     macos-latest on Gi…
#&gt;  3 [VM] <span style="font-weight: bold;color: #71BEF2;">macos-arm64</span>    R-* (any version)                     macos-14 on GitHub 
#&gt;  4 [VM] <span style="font-weight: bold;color: #71BEF2;">windows</span>        R-* (any version)                     windows-latest on …
#&gt;  5 [CT] <span style="font-weight: bold;color: #71BEF2;">atlas</span>          R-devel (2024-03-19 r86153)           Fedora Linux 38 (C…
#&gt;  6 [CT] <span style="font-weight: bold;color: #71BEF2;">clang-asan</span>     R-devel (2024-03-19 r86153)           Ubuntu 22.04.4 LTS 
#&gt;  7 [CT] <span style="font-weight: bold;color: #71BEF2;">clang16</span>        R-devel (2024-03-18 r86148)           Ubuntu 22.04.4 LTS 
#&gt;  8 [CT] <span style="font-weight: bold;color: #71BEF2;">clang17</span>        R-devel (2024-03-18 r86148)           Ubuntu 22.04.4 LTS 
#&gt;  9 [CT] <span style="font-weight: bold;color: #71BEF2;">clang18</span>        R-devel (2024-03-18 r86148)           Ubuntu 22.04.4 LTS 
#&gt; 10 [CT] <span style="font-weight: bold;color: #71BEF2;">donttest</span>       R-devel (2024-03-18 r86148)           Ubuntu 22.04.4 LTS 
#&gt; 11 [CT] <span style="font-weight: bold;color: #71BEF2;">gcc13</span>          R-devel (2024-03-19 r86153)           Fedora Linux 38 (C…
#&gt; 12 [CT] <span style="font-weight: bold;color: #71BEF2;">intel</span>          R-devel (2024-03-19 r86153)           Fedora Linux 38 (C…
#&gt; 13 [CT] <span style="font-weight: bold;color: #71BEF2;">mkl</span>            R-devel (2024-03-19 r86153)           Fedora Linux 38 (C…
#&gt; 14 [CT] <span style="font-weight: bold;color: #71BEF2;">nold</span>           R-devel (2024-03-19 r86153)           Ubuntu 22.04.4 LTS 
#&gt; 15 [CT] <span style="font-weight: bold;color: #71BEF2;">nosuggests</span>     R-devel (2024-03-19 r86153)           Fedora Linux 38 (C…
#&gt; 16 [CT] <span style="font-weight: bold;color: #71BEF2;">ubuntu-clang</span>   R-devel (2024-03-19 r86153)           Ubuntu 22.04.4 LTS 
#&gt; 17 [CT] <span style="font-weight: bold;color: #71BEF2;">ubuntu-gcc12</span>   R-devel (2024-03-19 r86153)           Ubuntu 22.04.4 LTS 
#&gt; 18 [CT] <span style="font-weight: bold;color: #71BEF2;">ubuntu-next</span>    R-4.3.3 (patched) (2024-02-29 r86153) Ubuntu 22.04.4 LTS 
#&gt; 19 [CT] <span style="font-weight: bold;color: #71BEF2;">ubuntu-release</span> R-4.3.3 (2024-02-29)                  Ubuntu 22.04.4 LTS 
#&gt; 20 [CT] <span style="font-weight: bold;color: #71BEF2;">valgrind</span>       R-devel (2024-03-19 r86153)           Fedora Linux 38 (C…
#&gt;                                                                                 
#&gt; Selection (comma separated numbers, 0 to cancel): 1, 5                          
#&gt;                                                                                 
#&gt; <span style="color: #A8CC8C;">✔</span> Check started: linux, atlas (apricot-flycatcher).                             
#&gt;   See <span style="font-style: italic;color: #71BEF2;">&lt;https://github.com/r-lib/cli/actions&gt;</span> for live output!                   
</pre></div>





<h4>The R Consortium runners</h4>

<p>If you don't want to put your package on GitHub, you can still use the
rhub package to run package checks on any supported platform using a
shared pool of runners in the https://github.com/r-hub2 GitHub
organization.
</p>
<p>The process is similar to the first version of R-hub:
</p>

<ul>
<li>
<p> Set your working directory to the R package you want to check.
</p>
</li>
<li>
<p> Obtain a token from R-hub, to verify your email address:
</p>
<div class="sourceCode"><pre>rc_new_token()
</pre></div>
<p>(You do not need to do this, if you already submitted packages to a
previous version of R-hub from the same machine, using the same email
address. Call <code>rc_list_local_tokens()</code> to check if you already have
tokens.)
</p>
</li>
<li>
<p> Submit a build with
</p>
<div class="sourceCode"><pre>rc_submit()
</pre></div>
</li>
<li>
<p> Select the platforms you want to use, and follow the instructions and
the link provided to see your check results.
</p>
</li>
</ul>
<h5>Limitations of the R Consortium runners</h5>


<ul>
<li>
<p> You package will be public for the world, and will be stored in the
https://github.com/r-hub2 organization. Your check output and results
will be public for anyone with a GitHub account. If you want to keep
your package private, you can put it in a private GitHub repository,
and use the <code>rhub_setup()</code> and <code>rhub_check()</code> functions instead.
</p>
</li>
<li>
<p> The R Consortium runners are shared among all users, so you might need
to wait for your builds to start.
</p>
</li>
<li>
<p> You have to wait at least five minutes between submissions with
<code>rc_submit()</code>.
</p>
</li>
<li>
<p> Currently you need to create a GitHub account to see the check logs of
your package. You don't need a GitHub account to submit the checks.
</p>
</li>
</ul>
<p>To avoid these limitations (except for the neeed for a GitHub accounr),
put your package in a GitHub repository, and use the <code>rhub_setup()</code> and
<code>rhub_check()</code> functions instead of <code>rc_submit()</code> and the R Consortium
runners.
</p>




<h4>Code of Conduct</h4>

<p>Please note that the rhub package is released with a
<a href="https://r-hub.github.io/rhub/dev/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>.
By contributing to this project, you agree to abide by its terms.
</p>



<h4>License</h4>

<p>MIT © R Consortium
</p>



</div>