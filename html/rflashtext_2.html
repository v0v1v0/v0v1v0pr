<div class="container">

<table style="width: 100%;"><tr>
<td>keyword_processor</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>FlashText algorithm to find and replace words</h2>

<h3>Description</h3>

<p>Based on the python library <a href="https://github.com/vi3k6i5/flashtext">flashtext</a>. To see more details about the algorithm visit: <a href="https://arxiv.org/abs/1711.00046">FlashText</a>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-keyword_processor-new"><code>keyword_processor$new()</code></a>
</p>
</li>
<li> <p><a href="#method-keyword_processor-show_attrs"><code>keyword_processor$show_attrs()</code></a>
</p>
</li>
<li> <p><a href="#method-keyword_processor-add_keys_words"><code>keyword_processor$add_keys_words()</code></a>
</p>
</li>
<li> <p><a href="#method-keyword_processor-contain_keys"><code>keyword_processor$contain_keys()</code></a>
</p>
</li>
<li> <p><a href="#method-keyword_processor-get_words"><code>keyword_processor$get_words()</code></a>
</p>
</li>
<li> <p><a href="#method-keyword_processor-find_keys"><code>keyword_processor$find_keys()</code></a>
</p>
</li>
<li> <p><a href="#method-keyword_processor-replace_keys"><code>keyword_processor$replace_keys()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-keyword_processor-new"></a>



<h4>Method <code>new()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>keyword_processor$new(
  ignore_case = TRUE,
  word_chars = c(letters, LETTERS, 0:9, "_"),
  dict = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>ignore_case</code></dt>
<dd>
<p>logical. If <code>FALSE</code> the search is case sensitive. Default <code>TRUE</code>.</p>
</dd>
<dt><code>word_chars</code></dt>
<dd>
<p>character vector. Used to validate if a word continues. Default <code>c(letters, LETTERS, 0:9, "_")</code> equivalent to <code style="white-space: pre;">⁠[a-zA-Z0-9_]⁠</code>.</p>
</dd>
<dt><code>dict</code></dt>
<dd>
<p>list. Internally built character by character and needed for the search. Recommended to let the default value <code>NULL</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>invisible. Assign to a variable to inspect the output. Logical. <code>TRUE</code> if all went good.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>library(rflashtext)

processor &lt;- keyword_processor$new(ignore_case = FALSE, word_chars = letters)
processor
</pre>
</div>


<hr>
<a id="method-keyword_processor-show_attrs"></a>



<h4>Method <code>show_attrs()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>keyword_processor$show_attrs(attrs = "all")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>attrs</code></dt>
<dd>
<p>character vector. Options are subsets of <code>c("all", "id", "word_chars", "dict", "ignore_case", "dict_size")</code>. Default <code>"all"</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>list with the values of the <code>attrs</code>. Useful to save <code>dict</code> and reuse it or to check the <code>dict_size</code>.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>library(rflashtext)

processor &lt;- keyword_processor$new()
processor$add_keys_words(keys = c("NY", "LA"), words = c("New York", "Los Angeles"))
processor$show_attrs(attrs = "dict_size")
processor$show_attrs(attrs = "dict")
</pre>
</div>


<hr>
<a id="method-keyword_processor-add_keys_words"></a>



<h4>Method <code>add_keys_words()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>keyword_processor$add_keys_words(keys, words = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>keys</code></dt>
<dd>
<p>character vector. Strings to identify (find/replace) in the text.</p>
</dd>
<dt><code>words</code></dt>
<dd>
<p>character vector. Strings to be returned (find) or replaced (replace) when found the respective <code>keys</code>. Should have the same length as <code>keys</code>. If not provided, <code>words = keys</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>invisible. Assign to a variable to inspect the output. Logical vector. <code>FALSE</code> if <code>keys</code> are duplicated, the respective <code>words</code> will be updated.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>library(rflashtext)

processor &lt;- keyword_processor$new()
processor$add_keys_words(keys = c("NY", "LA"), words = c("New York", "Los Angeles"))
correct &lt;- processor$add_keys_words(keys = c("NY", "CA"), words = c("New York City", "California"))
# To check if there are duplicate keys
correct
</pre>
</div>


<hr>
<a id="method-keyword_processor-contain_keys"></a>



<h4>Method <code>contain_keys()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>keyword_processor$contain_keys(keys)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>keys</code></dt>
<dd>
<p>character vector. Strings to check if already are on the search dictionary.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>logical vector. <code>TRUE</code> if the <code>keys</code> are on the search dictionary.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>library(rflashtext)

processor &lt;- keyword_processor$new()
processor$add_keys_words(keys = c("NY", "LA"), words = c("New York", "Los Angeles"))
processor$contain_keys(keys = c("NY", "LA", "TX"))
</pre>
</div>


<hr>
<a id="method-keyword_processor-get_words"></a>



<h4>Method <code>get_words()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>keyword_processor$get_words(keys)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>keys</code></dt>
<dd>
<p>character vector. Strings to get back the respective <code>words</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>character vector. Respective <code>words</code>. If <code>keys</code> not found returns <code>NA_character_</code>.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>library(rflashtext)

processor &lt;- keyword_processor$new()
processor$add_keys_words(keys = c("NY", "LA"), words = c("New York", "Los Angeles"))
processor$get_words(keys = c("NY", "LA", "TX"))
</pre>
</div>


<hr>
<a id="method-keyword_processor-find_keys"></a>



<h4>Method <code>find_keys()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>keyword_processor$find_keys(sentence, span_info = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>sentence</code></dt>
<dd>
<p>character. Text to find the <code>keys</code> previously defined. Not vectorized.</p>
</dd>
<dt><code>span_info</code></dt>
<dd>
<p>logical. <code>TRUE</code> to retrieve the <code>words</code> and the position of the matches. <code>FALSE</code> to only retrieve the <code>words</code>. Default <code>TRUE</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>list with the <code>words</code> corresponding to <code>keys</code> found in the <code>sentence</code>. Hint: Use <code>do.call(rbind, ...)</code> to transform the list to a matrix.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>library(rflashtext)

processor &lt;- keyword_processor$new()
processor$add_keys_words(keys = c("NY", "LA"), words = c("New York", "Los Angeles"))
words_found &lt;- processor$find_keys(sentence = "I live in LA but I like NY")
do.call(rbind, words_found)
</pre>
</div>


<hr>
<a id="method-keyword_processor-replace_keys"></a>



<h4>Method <code>replace_keys()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>keyword_processor$replace_keys(sentence)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>sentence</code></dt>
<dd>
<p>character. Text to replace the <code>keys</code> found by the corresponding <code>words</code>. Not vectorized.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>character. Text with the <code>keys</code> replaced by the respective <code>words</code>.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>library(rflashtext)

processor &lt;- keyword_processor$new()
processor$add_keys_words(keys = c("NY", "LA"), words = c("New York", "Los Angeles"))
new_sentence &lt;- processor$replace_keys(sentence = "I live in LA but I like NY")
new_sentence
</pre>
</div>




<h3>Examples</h3>

<pre><code class="language-R">library(rflashtext)

processor &lt;- keyword_processor$new()
processor$add_keys_words(keys = c("NY", "LA"), words = c("New York", "Los Angeles"))

processor$contain_keys(keys = "NY")
processor$get_words(keys = "LA")

processor$find_keys(sentence = "I live in LA but I like NY")
processor$replace_keys(sentence = "I live in LA but I like NY")

## ------------------------------------------------
## Method `keyword_processor$new`
## ------------------------------------------------

library(rflashtext)

processor &lt;- keyword_processor$new(ignore_case = FALSE, word_chars = letters)
processor

## ------------------------------------------------
## Method `keyword_processor$show_attrs`
## ------------------------------------------------

library(rflashtext)

processor &lt;- keyword_processor$new()
processor$add_keys_words(keys = c("NY", "LA"), words = c("New York", "Los Angeles"))
processor$show_attrs(attrs = "dict_size")
processor$show_attrs(attrs = "dict")

## ------------------------------------------------
## Method `keyword_processor$add_keys_words`
## ------------------------------------------------

library(rflashtext)

processor &lt;- keyword_processor$new()
processor$add_keys_words(keys = c("NY", "LA"), words = c("New York", "Los Angeles"))
correct &lt;- processor$add_keys_words(keys = c("NY", "CA"), words = c("New York City", "California"))
# To check if there are duplicate keys
correct

## ------------------------------------------------
## Method `keyword_processor$contain_keys`
## ------------------------------------------------

library(rflashtext)

processor &lt;- keyword_processor$new()
processor$add_keys_words(keys = c("NY", "LA"), words = c("New York", "Los Angeles"))
processor$contain_keys(keys = c("NY", "LA", "TX"))

## ------------------------------------------------
## Method `keyword_processor$get_words`
## ------------------------------------------------

library(rflashtext)

processor &lt;- keyword_processor$new()
processor$add_keys_words(keys = c("NY", "LA"), words = c("New York", "Los Angeles"))
processor$get_words(keys = c("NY", "LA", "TX"))

## ------------------------------------------------
## Method `keyword_processor$find_keys`
## ------------------------------------------------

library(rflashtext)

processor &lt;- keyword_processor$new()
processor$add_keys_words(keys = c("NY", "LA"), words = c("New York", "Los Angeles"))
words_found &lt;- processor$find_keys(sentence = "I live in LA but I like NY")
do.call(rbind, words_found)

## ------------------------------------------------
## Method `keyword_processor$replace_keys`
## ------------------------------------------------

library(rflashtext)

processor &lt;- keyword_processor$new()
processor$add_keys_words(keys = c("NY", "LA"), words = c("New York", "Los Angeles"))
new_sentence &lt;- processor$replace_keys(sentence = "I live in LA but I like NY")
new_sentence
</code></pre>


</div>