<div class="container">

<table style="width: 100%;"><tr>
<td>prepareInputToAllocation1</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Input dataframes for R2BEAT two-stages sample design when sampling frame is available
</h2>

<h3>Description</h3>

<p>In case of scenario 1 (no previous round of the survey available), prepares the following input dataframes for R2BEAT two-stages sample design starting from the sampling frame:
1. strata
2. deff
3. effst
4. rho
5. PSU_file
6. des_file
</p>


<h3>Usage</h3>

<pre><code class="language-R">prepareInputToAllocation1 ( 
  samp_frame,
  id_PSU,
  id_SSU,
  strata_var,
  target_vars,
  deff_var,
  domain_var,
  minimum,
  delta,
  deff_sugg) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>samp_frame</code></td>
<td>
<p>The dataframe containing sampling units in the reference population.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id_PSU</code></td>
<td>
<p>variables used as identifiers in sampling frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id_SSU</code></td>
<td>
<p>variables used as identifiers in sampling frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata_var</code></td>
<td>
<p>stratification variable used in sampling frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target_vars</code></td>
<td>
<p>target variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deff_var</code></td>
<td>
<p>stratification variable to be used when calculating deff.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>domain_var</code></td>
<td>
<p>the variable used to identify the domain of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minimum</code></td>
<td>
<p>minimum number of SSU to be selected from a PSU.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta</code></td>
<td>
<p>average number of analysis units per sampling unit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deff_sugg</code></td>
<td>
<p>suggested value of the deff.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing  (i) the vector of allocated PSUs in the iterations and (ii) the vector of allocated SSUs in the iterations
</p>


<h3>Author(s)</h3>

<p>Giulio Barcaroli</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(readr)
pop &lt;- read_rds("https://github.com/barcaroli/R2BEAT_workflows/blob/master/pop.RDS?raw=true")
library(R2BEAT)
# parameters
samp_frame &lt;- pop
id_PSU &lt;- "municipality"  
id_SSU &lt;- "id_ind"        
strata_var &lt;- "stratum"  
target_vars &lt;- c("income_hh","active","inactive","unemployed") 
deff_var &lt;- "stratum"        
domain_var &lt;- "region"        
minimum &lt;- 50 # minimum number of SSUs to be interviewed in each selected PSU
# average dimension of the SSU in terms of elementary survey units
# delta =  nrow(pop) /length(unique(pop$id_hh))     
delta =  1     
deff_sugg &lt;- 1.5
# prepare inputs
inp &lt;- prepareInputToAllocation1(samp_frame,
                                 id_PSU,
                                 id_SSU,
                                 strata_var,
                                 target_vars,
                                 deff_var,
                                 domain_var,
                                 minimum,
                                 delta,
                                 deff_sugg)

## End(Not run)
</code></pre>


</div>