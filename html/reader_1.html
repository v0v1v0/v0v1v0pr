<div class="container">

<table style="width: 100%;"><tr>
<td>reader-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Suite of Functions to Flexibly Read Data from Files
</h2>

<h3>Description</h3>

<p>A set of functions to simplify reading data from files. The main function, reader(), should read most common R datafile 
types without needing any parameters except the filename. Other functions provide simple ways of handling file paths and 
extensions, and automatically detecting file format and structure.
</p>


<h3>Details</h3>


<table>
<tr>
<td style="text-align: left;">
Package: </td>
<td style="text-align: left;"> reader</td>
</tr>
<tr>
<td style="text-align: left;">
Type: </td>
<td style="text-align: left;"> Package</td>
</tr>
<tr>
<td style="text-align: left;">
Version: </td>
<td style="text-align: left;"> 1.0.6</td>
</tr>
<tr>
<td style="text-align: left;">
Date: </td>
<td style="text-align: left;"> 2016-12-29</td>
</tr>
<tr>
<td style="text-align: left;">
License: </td>
<td style="text-align: left;"> GPL (&gt;= 2)</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>The reader() function, for which the package is named,
should be able to read most of the common types of datafiles used in R
without needing any arguments other than the filename. 
The structure, header, file-format and delimiter are determined automatically. 
Usually no extra parameters are needed. Other functions provide similarly flexibility
to run contigent on data type and file format, or can look for an input file in
multiple directory locations. The function cat.path() provides a simple interface to
construct file paths using directories, suffixes, prefixes and file extension.
Functions in this package can be nested inside new functions, providing flexible parameter format,
without having to use multiple if-statements to cope with contigencies. 
Supported types included delimited text files, R binary files,
big.matrix files, text list files, and unstructured text. Note that the file type
that will be attempted to read in is initially determine by the file extension,
using the function: 'classify.ext()'.
</p>
<p>List of key functions:
</p>

<ul>
<li>
<p><em>cat.path</em>  Simple and foolproof way to create full-path file names.
</p>
</li>
<li>
<p><em>classify.ext</em>  Classify file types readable by standard R I/O functions.
</p>
</li>
<li>
<p><em>column.salvage</em>  Change column name in different form to desired form.
</p>
</li>
<li>
<p><em>file.ncol</em>  Find the number of columns (lines) in a file.
</p>
</li>
<li>
<p><em>file.nrow</em>  Find the number of rows (lines) in a file.
</p>
</li>
<li>
<p><em>find.id.col</em>  Find which column in a dataframe contains a specified set of values.
</p>
</li>
<li>
<p><em>shift.rownames</em>  Shift the first column of a dataframe to rownames()
</p>
</li>
<li>
<p><em>force.frame</em>  returns a dataframe if 'unknown.data' can in anyway relate to such
</p>
</li>
<li>
<p><em>force.vec</em>  returns a vector if 'unknown.data' can in anyway relate to such
</p>
</li>
<li>
<p><em>get.delim</em>  Determine the delimiter for a text data file.
</p>
</li>
<li>
<p><em>get.ext</em>  Get the file extension from a file-name.
</p>
</li>
<li>
<p><em>is.file</em>  Test whether a file exists in a target directory.
</p>
</li>
<li>
<p><em>make.fixed.width</em>  Convert a matrix or dataframe to fixed-width.
</p>
</li>
<li>
<p><em>n.readLines</em>  Read 'n' lines (ignoring comments and header) from a file.
</p>
</li>
<li>
<p><em>parse.args</em>  Function to collect arguments when running R from the command line.
</p>
</li>
<li>
<p><em>reader</em>  Flexibly load from a text or binary file, accepts multiple file formats.
</p>
</li>
<li>
<p><em>rmv.ext</em>  Remove the file extension from a file-name.
</p>
</li>
<li>
<p><em>find.file</em>  Construct a path to a file, where multiple directories can be searched to find an existing file.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Nicholas Cooper
</p>
<p>Maintainer: 
Nicholas Cooper &lt;njcooper@gmx.co.uk&gt;
</p>


<h3>See Also</h3>

<p><code>NCmisc</code> ~~
</p>


<h3>Examples</h3>

<pre><code class="language-R">mydir &lt;- "/Documents"
cat.path(mydir,"temp.doc","NEW",suf=5)
## example for the reader() function ##
df &lt;- data.frame(ID=paste("ID",101:110,sep=""),
                 scores=sample(70,10,TRUE)+30,age=sample(7,10,TRUE)+11)
test.files &lt;- c("temp.txt","temp2.csv","temp3.rda")
write.table(df,file=test.files[1],col.names=TRUE,row.names=TRUE,sep="\t",quote=FALSE)
# file.nrow and file.ncol examples
file.nrow(test.files[1])
file.ncol(test.files[1])
write.csv(df,file=test.files[2])
save(df,file=test.files[3])
# use the same simple reader() function call to read in each file type
for(cc in 1:length(test.files)) {
    cat(test.files[cc],"\n")
    myobj &lt;- reader(test.files[cc])  # add 'quiet=F' to see some working
    print(myobj); cat("\n\n")
}
# inspect files before deleting if desired:
#  unlink(test.files)
#
# find id column in data frame
new.frame &lt;- data.frame(day=c("M","T","W"),time=c(9,12,3),staff=c("Mary","Jane","John"))
staff.ids &lt;- c("Mark","Jane","John","Andrew","Sally","Mary")
new.frame; find.id.col(new.frame,staff.ids)
</code></pre>


</div>