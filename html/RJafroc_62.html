<div class="container">

<table style="width: 100%;"><tr>
<td>SsPowerGivenJK</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Statistical power for specified numbers of readers and cases</h2>

<h3>Description</h3>

<p>Calculate the statistical power for specified numbers of readers J, 
cases K, analysis method and DBM or OR variances components
</p>


<h3>Usage</h3>

<pre><code class="language-R">SsPowerGivenJK(
  dataset,
  ...,
  FOM,
  J,
  K,
  effectSize = NULL,
  method = "OR",
  analysisOption = "RRRC",
  LegacyCode = FALSE,
  alpha = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataset</code></td>
<td>
<p>The <b>pilot</b> dataset. If set to NULL 
then variance components must be supplied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optional variance components. These are needed if <code>dataset</code> 
is not supplied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FOM</code></td>
<td>
<p>The figure of merit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>J</code></td>
<td>
<p>The number of readers in the pivotal study.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>The number of cases in the pivotal study.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effectSize</code></td>
<td>
<p>The effect size to be used in the <strong>pivotal</strong> study.
Default is NULL, which uses the observed effect size in the pilot dataset. 
Must be supplied if dataset is set to NULL and variance 
components are supplied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>"OR" (the default) or "DBM" (but see <code>LegacyCode</code> option
below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>analysisOption</code></td>
<td>
<p>Desired generalization, "RRRC" (the default), "FRRC", 
"RRFC" or "ALL". RRFC = random reader fixed case, etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LegacyCode</code></td>
<td>
<p>Logical, defaults to <code>FALSE</code>, which results in OR 
sample size method being used, even if DBM method is specified, as in 
Hillis 2011 &amp; 2018 papers. If <code>TRUE</code> the method based on 
Hillis-Berbaum 2004 sample size paper is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The significance level, default is 0.05.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The default <code>effectSize</code> uses the observed effect size in the 
pilot study. A numeric value over-rides the default value. This argument 
must be supplied if dataset = NULL and variance compenents 
(the ... arguments) are supplied.
</p>


<h3>Value</h3>

<p>The expected statistical power.
</p>


<h3>Note</h3>

<p>The procedure is valid for ROC studies only; for FROC studies see 
Vignettes 19.
</p>


<h3>References</h3>

<p>Hillis SL, Berbaum KS (2004). Power Estimation for the Dorfman-Berbaum-Metz Method. 
Acad Radiol, 11, 1260–1273.
</p>
<p>Hillis SL, Obuchowski NA, Berbaum KS (2011). Power Estimation for Multireader ROC Methods: 
An Updated and Unified Approach. Acad Radiol, 18, 129–142.
</p>
<p>Hillis SL, Schartz KM (2018). Multireader sample size program for 
diagnostic studies: demonstration and methodology. Journal of 
Medical Imaging, 5(04).
</p>


<h3>Examples</h3>

<pre><code class="language-R">## EXAMPLE 1: RRRC power 
## specify 2-treatment ROC dataset and force DBM alg.
SsPowerGivenJK(dataset = dataset02, FOM = "Wilcoxon", effectSize = 0.05, 
J = 6, K = 251, method = "DBM", LegacyCode = TRUE) # RRRC is default  

## EXAMPLE 1A: FRRC power 
SsPowerGivenJK(dataset = dataset02, FOM = "Wilcoxon", effectSize = 0.05, 
J = 6, K = 251, method = "DBM", LegacyCode = TRUE, analysisOption = "FRRC") 

## EXAMPLE 1B: RRFC power 
SsPowerGivenJK(dataset = dataset02, FOM = "Wilcoxon", effectSize = 0.05, 
J = 6, K = 251, method = "DBM", LegacyCode = TRUE, analysisOption = "RRFC") 

## EXAMPLE 2: specify NULL dataset &amp; DBM var. comp. &amp; force DBM-based alg.
vcDBM &lt;- UtilVarComponentsDBM(dataset02, FOM = "Wilcoxon")$VarCom
SsPowerGivenJK(dataset = NULL, FOM = "Wilcoxon", J = 6, K = 251, 
effectSize = 0.05, method = "DBM", LegacyCode = TRUE, 
list( 
VarTR = vcDBM["VarTR","Estimates"], # replace rhs with actual values as in 4A
VarTC = vcDBM["VarTC","Estimates"], # do:
VarErr = vcDBM["VarErr","Estimates"])) # do:
                     
## EXAMPLE 3: specify 2-treatment ROC dataset and use OR-based alg.
SsPowerGivenJK(dataset = dataset02, FOM = "Wilcoxon", effectSize = 0.05, 
J = 6, K = 251)

## EXAMPLE 4: specify NULL dataset &amp; OR var. comp. &amp; use OR-based alg.
JStar &lt;- length(dataset02$ratings$NL[1,,1,1])
KStar &lt;- length(dataset02$ratings$NL[1,1,,1])
vcOR &lt;- UtilORVarComponentsFactorial(dataset02, FOM = "Wilcoxon")$VarCom
SsPowerGivenJK(dataset = NULL, FOM = "Wilcoxon", effectSize = 0.05, J = 6, 
K = 251, list(JStar = JStar, KStar = KStar, 
   VarTR = vcOR["VarTR","Estimates"], # replace rhs with actual values as in 4A
   Cov1 = vcOR["Cov1","Estimates"],   # do:
   Cov2 = vcOR["Cov2","Estimates"],   # do:
   Cov3 = vcOR["Cov3","Estimates"],   # do:
   Var = vcOR["Var","Estimates"]))
   
## EXAMPLE 4A: specify NULL dataset &amp; OR var. comp. &amp; use OR-based alg.
SsPowerGivenJK(dataset = NULL, FOM = "Wilcoxon", effectSize = 0.05, J = 6, 
K = 251, list(JStar = 5, KStar = 114, 
   VarTR = 0.00020040252,
   Cov1 = 0.00034661371,
   Cov2 = 0.00034407483,
   Cov3 = 0.00023902837,
   Var = 0.00080228827))
   
## EXAMPLE 5: specify NULL dataset &amp; DBM var. comp. &amp; use OR-based alg.
## The DBM var. comp. are converted internally to OR var. comp.
vcDBM &lt;- UtilVarComponentsDBM(dataset02, FOM = "Wilcoxon")$VarCom
KStar &lt;- length(dataset02$ratings$NL[1,1,,1])
SsPowerGivenJK(dataset = NULL, J = 6, K = 251, effectSize = 0.05, 
method = "DBM", FOM = "Wilcoxon",
list(KStar = KStar,                # replace rhs with actual values as in 5A 
VarR = vcDBM["VarR","Estimates"], # do:
VarC = vcDBM["VarC","Estimates"], # do:
VarTR = vcDBM["VarTR","Estimates"], # do:
VarTC = vcDBM["VarTC","Estimates"], # do:
VarRC = vcDBM["VarRC","Estimates"], # do:
VarErr = vcDBM["VarErr","Estimates"]))

## EXAMPLE 5A: specify NULL dataset &amp; DBM var. comp. &amp; use OR-based alg.
SsPowerGivenJK(dataset = NULL, J = 6, K = 251, effectSize = 0.05, 
method = "DBM", FOM = "Wilcoxon",
list(KStar = 114,
VarR = 0.00153499935,
VarC = 0.02724923428,
VarTR = 0.00020040252,
VarTC = 0.01197529621,
VarRC = 0.01226472859,
VarErr = 0.03997160319))


</code></pre>


</div>