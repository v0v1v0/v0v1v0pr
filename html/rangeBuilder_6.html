<div class="container">

<table style="width: 100%;"><tr>
<td>filterByProximity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filter by proximity</h2>

<h3>Description</h3>

<p>Filter occurrence records by their proximity to each other.
</p>


<h3>Usage</h3>

<pre><code class="language-R">filterByProximity(xy, dist, returnIndex = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xy</code></td>
<td>
<p>longitude and latitude in decimal degrees, either as a matrix,
dataframe, or spatial points object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p>minimum allowed distance in km</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnIndex</code></td>
<td>
<p>if <code>TRUE</code>, will return indices of points that would
be dropped, if <code>FALSE</code>, returns the points that satisfy the distance
filter.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function will discard coordinates that fall within a certain distance
from other points.
</p>


<h3>Value</h3>

<p>If <code>returnIndex = TRUE</code>, returns a numeric vector of indices.
If <code>returnIndex = FALSE</code>, returns coordinates of the same class as the
input.
</p>


<h3>Author(s)</h3>

<p>Pascal Title
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(crotalus)

# within the first 100 points in the dataset, identify the set of points to 
# drop in order to have points no closer to each other than 20 km

subset &lt;- crotalus[1:100,]
tooClose &lt;- filterByProximity(xy= subset[ ,c('decimallongitude','decimallatitude')], 
	dist=20, returnIndex = TRUE)

plot(subset[ ,c('decimallongitude','decimallatitude')], pch=1, col='blue', cex=1.5)
points(subset[tooClose, c('decimallongitude','decimallatitude')], pch=20, col='red')


# testing different input options
samp &lt;- sample(1:nrow(crotalus), 100)
xy &lt;- crotalus[samp, c('decimallongitude', 'decimallatitude')]
sfpts &lt;- sf::st_as_sf(xy, coords = c('decimallongitude', 'decimallatitude'), crs = 4326)
sfptsEA &lt;- sf::st_transform(sfpts, crs = '+proj=eqearth')
spPts &lt;- as(sfpts, 'Spatial')
filterByProximity(xy, dist=20, returnIndex = TRUE)
filterByProximity(sfpts, dist=20, returnIndex = TRUE)
filterByProximity(sfptsEA, dist=20, returnIndex = TRUE)
filterByProximity(spPts, dist=20, returnIndex = TRUE)

</code></pre>


</div>