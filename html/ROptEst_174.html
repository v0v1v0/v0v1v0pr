<div class="container">

<table style="width: 100%;"><tr>
<td>getReq</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>getReq – computation of the radius interval where IC1 is better than IC2.</h2>

<h3>Description</h3>

<p>(tries to) compute a radius interval where IC1 is better than IC2,
respectively the number of (worst-case) outliers interval where IC1 is
better than IC2.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getReq(Risk,neighbor,IC1,IC2,n=1,upper=15, radOrOutl=c("radius","Outlier"), ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Risk</code></td>
<td>
<p>an object of class <code>"asGRisk"</code> – the risk at which IC1 is better than IC2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>neighbor</code></td>
<td>
<p> object of class <code>"Neighborhood"</code>; the neighborhood at which to compute the bias. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IC1</code></td>
<td>
<p>some IC of class <code>"IC"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IC2</code></td>
<td>
<p>some IC of class <code>"IC"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>the sample size; by default set to 1; then the radius interval refers to starting radii 
in the shrinking neighborhood setting of Rieder[94]. Otherwise the radius interval is scaled
down accordingly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper</code></td>
<td>
<p>the upper bound of the radius interval in which to search</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>radOrOutl</code></td>
<td>
<p> a character string specifying whether an interval of
radii  or a number of outliers is returned; must be one
of "radius" (default) and "Outlier". </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to be passed on <code>E()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The radius interval (given by its endpoints) where <code>IC1</code> is better than <code>IC2</code>
according to the risk. In case <code>IC2</code> is better than <code>IC1</code> as to both variance and bias,
the return value is <code>NA</code>.</p>


<h3>Author(s)</h3>

<p>Peter Ruckdeschel <a href="mailto:peter.ruckdeschel@fraunhofer.itwm.de">peter.ruckdeschel@fraunhofer.itwm.de</a></p>


<h3>References</h3>

<p>Hampel et al. (1986) <em>Robust Statistics</em>. 
The Approach Based on Influence Functions. New York: Wiley.
</p>
<p>Rieder, H. (1994) <em>Robust Asymptotic Statistics</em>. New York: Springer.
</p>


<h3>Examples</h3>

<pre><code class="language-R">N0 &lt;- NormLocationFamily(mean=2, sd=3)
## L_2 family + infinitesimal neighborhood
neighbor &lt;- ContNeighborhood(radius = 0.5)
N0.Rob1 &lt;- InfRobModel(center = N0, neighbor = neighbor)
## OBRE solution (ARE 95%)
N0.ICA &lt;- optIC(model = N0.Rob1, risk = asAnscombe(.95))
## MSE solution
N0.ICM &lt;- optIC(model=N0.Rob1, risk=asMSE())

getReq(asMSE(),neighbor,N0.ICA,N0.ICM,n=1)
getReq(asMSE(),neighbor,N0.ICA,N0.ICM,n=30)

## Don't test to reduce check time on CRAN

## RMX solution
N0.ICR &lt;- radiusMinimaxIC(L2Fam=N0, neighbor=neighbor,risk=asMSE())

getReq(asL1(),neighbor,N0.ICA,N0.ICM,n=30)
getReq(asL4(),neighbor,N0.ICA,N0.ICM,n=30)
getReq(asMSE(),neighbor,N0.ICA,N0.ICR,n=30)
getReq(asL1(),neighbor,N0.ICA,N0.ICR,n=30)
getReq(asL4(),neighbor,N0.ICA,N0.ICR,n=30)
getReq(asMSE(),neighbor,N0.ICM,N0.ICR,n=30)


### when to use MAD and when Qn 
##  for Qn, see C. Croux, P. Rousseeuw (1993). Alternatives to the Median 
##      Absolute Deviation, JASA 88(424):1273-1283
L2M &lt;- NormScaleFamily()
IC.mad &lt;- makeIC(function(x)sign(abs(x)-qnorm(.75)),L2M)
d.qn &lt;- (2^.5*qnorm(5/8))^-1
IC.qn &lt;- makeIC(function(x) d.qn*(1/4 - pnorm(x+1/d.qn) + pnorm(x-1/d.qn)), L2M)
getReq(asMSE(), neighbor, IC.mad, IC.qn)
getReq(asMSE(), neighbor, IC.mad, IC.qn, radOrOutl = "Outlier", n = 30)
# =&gt; MAD is better once r &gt; 0.5144 (i.e. for more than 2 outliers for n = 30)

</code></pre>


</div>