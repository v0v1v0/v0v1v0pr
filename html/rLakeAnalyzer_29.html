<div class="container">

<table style="width: 100%;"><tr>
<td>ts.layer.temperature</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate volume-weighted average water temperature across a range of depths
for a timeseries.</h2>

<h3>Description</h3>

<p>Function for simplifying the calculation of Wedderburn Number. Can usually
be called directly on data loaded directly using <code>load.ts</code> and
<code>load.bathy</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ts.layer.temperature(wtr, top, bottom, bathy, na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>wtr</code></td>
<td>
<p>A data frame of water temperatures (in Celsius). Loaded using
<code>load.ts</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top</code></td>
<td>
<p>Either a single numeric depth value to be used across the entire
timeseries, or a vector of same length as the timeseries (e.g.,
<code>nrow(wtr)</code>). This is useful when calculating a time-varying layer
average, like average epilimnion temperature.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bottom</code></td>
<td>
<p>Either a single numeric depth value to be used across the
entire timeseries, or a vector of same length as the timeseries (e.g.,
<code>nrow(wtr)</code>). This is useful when calculating a time-varying layer
average, like average epilimnion temperature.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bathy</code></td>
<td>
<p>A data frame containing hypsometric data. Loaded using
<code>load.bathy</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>Boolean indicated if step-by-step removal of NA's should be
tried. If false, a timestep with any NA values will return an NA value. If
true, best effort will be made to calculate indices despite NA values.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a data frame with the timeseries of the average layer
temperature. Includes ‘datetime’ and ‘layer.temp’ columns.
</p>


<h3>See Also</h3>

<p><code>layer.temperature</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

	#Get the path for the package example file included
	wtr.path &lt;- system.file('extdata', 'Sparkling.daily.wtr', package="rLakeAnalyzer")
	bathy.path &lt;- system.file('extdata', 'Sparkling.bth', package="rLakeAnalyzer")
	
	#Load data for example lake, Sparkilng lake, in Wisconsin.
	sp.wtr = load.ts(wtr.path)
	sp.bathy = load.bathy(bathy.path)
	
	
    l.t = ts.layer.temperature(sp.wtr, 0, 18, sp.bathy)
	plot(l.t$datetime, l.t$layer.temp, type='l', 
        ylab='Volumetrically averaged lake temperature', xlab='Date')
	
</code></pre>


</div>