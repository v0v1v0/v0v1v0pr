<div class="container">

<table style="width: 100%;"><tr>
<td>create_dimming_fn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create dimming_fn function</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>
<p>Creates a function that takes 2 inputs (<code>`x`</code>, <code>`d`</code>) and performs the operation:
</p>
<p style="text-align: center;"><code class="reqn">x * (numerator / ((add_to_distance + d) ^ exponent))</code>
</p>

<p>Here, <code>`x`</code> is the current value and <code>`d`</code> is its distance to an origin.
The greater the distance, the more we will dim the value of <code>`x`</code>.
</p>
<p>With the default values, the returned function is:
</p>
<p><code>function(x, d){</code>
</p>
<p><code style="white-space: pre;">⁠  ⁠</code><code>x * (1 / ((1 + d) ^ 2))</code>
</p>
<p><code>}</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_dimming_fn(numerator = 1, exponent = 2, add_to_distance = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>numerator</code></td>
<td>
<p>The numerator. Defaults to <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exponent</code></td>
<td>
<p>The exponent. Defaults to <code>2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_to_distance</code></td>
<td>
<p>Constant to add to the distance before exponentiation.
Ensures dimming even when the distance (<code>d</code>) is below <code>1</code>. Defaults to <code>1</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Function with the arguments <code>x</code> and <code>d</code>,
with both expected to be <code>numeric vector</code>s. More specifically:
</p>
<p><code>function(x, d){</code>
</p>
<p><code style="white-space: pre;">⁠  ⁠</code><code>x * (numerator / ((add_to_distance + d) ^ exponent))</code>
</p>
<p><code>}</code>
</p>


<h3>Author(s)</h3>

<p>Ludvig Renbo Olsen, <a href="mailto:r-pkgs@ludvigolsen.dk">r-pkgs@ludvigolsen.dk</a>
</p>


<h3>See Also</h3>

<p>Other function creators: 
<code>create_n_fn()</code>,
<code>create_origin_fn()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Attach packages
library(rearrr)
has_ggplot &lt;- require(ggplot2)  # Attach if installed

# Set seed
set.seed(1)

# Create two vectors
x &lt;- runif(10)
d &lt;- runif(10, max = 0.5)

# Create dimming_fn with an add_to_distance of 0
# Note: In practice this risks zero-division
non_smoothed_dimming_fn &lt;- create_dimming_fn(add_to_distance = 0)
non_smoothed_dimming_fn
as.list(environment(non_smoothed_dimming_fn))

# Use median_origin_fn
non_smoothed_dimming_fn(x, d)

# Plotting the dimming

# Create data.frame with distance-based dimming
df &lt;- data.frame(
  "x" = 1,
  "d" = 1:10
)
df$x_dimmed &lt;- non_smoothed_dimming_fn(df$x, df$d)

# Plot the dimming
if (has_ggplot){
  ggplot(df, aes(x=d, y=x_dimmed)) +
    geom_point() +
    geom_line() +
    theme_minimal()
}
</code></pre>


</div>