<div class="container">

<table style="width: 100%;"><tr>
<td>forestWeight</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Meinshausen forest weights</h2>

<h3>Description</h3>

<p>Normalized observation counts across a prediction set.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## Default S3 method:
forestWeight(objTrain, prediction, sampler=objTrain$sampler,
nThread=0, verbose = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>objTrain</code></td>
<td>
<p>an object of class <code>rfArb</code>, created from a
previous invocation of the command <code>Rborist</code> or <code>rfArb</code> to train.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction</code></td>
<td>
<p>an object of class <code>SummaryReg</code> or
<code>SummaryCtg</code> obtained from prediction using <code>objTrain</code> and
argument <code>indexing=TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampler</code></td>
<td>
<p>an object of class <code>Sampler</code>, as documented for
command of the same name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nThread</code></td>
<td>
<p>specifies a prefered thread count.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>whether to output progress of weighting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not currently used.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a numeric matrix having rows equal to the Meinshausen weight of each new datum.</p>


<h3>Author(s)</h3>

<p>Mark Seligman at Suiji.
</p>


<h3>References</h3>

<p>Meinshausen, N. (2016) Quantile Random Forests. Journal of Machine
Learning Research 17(1), 1-68.
</p>


<h3>See Also</h3>

<p><code>Rborist</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
  # Regression example:
  nRow &lt;- 5000
  x &lt;- data.frame(replicate(6, rnorm(nRow)))
  y &lt;- with(x, X1^2 + sin(X2) + X3 * X4) # courtesy of S. Welling.
  rb &lt;- Rborist(x,y)


  newdata &lt;- data.frame(replace(6, rnorm(nRow)))

  # Performs separate prediction on new data, saving indices:
  pred &lt;- predict(rb, newdata, indexing=TRUE)
  weights &lt;- forestWeight(rb, pred)

  obsIdx &lt;- 215 # Arbitrary observation index (zero-based row number)

  # Inner product should equal prediction, modulo numerical vagaries:
  yPredApprox &lt;- weights[obsIdx,] %*% y
  print((yPredApprox - pred$yPred[obsIdx])/yPredApprox) 

## End(Not run)

</code></pre>


</div>