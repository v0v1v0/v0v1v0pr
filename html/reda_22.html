<div class="container">

<table style="width: 100%;"><tr>
<td>mcfDiff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Comparing Two-Sample MCFs</h2>

<h3>Description</h3>

<p>This function estimates the sample MCF difference between two groups. Both
the point estimates and the confidence intervals are computed (Lawless and
Nadeau 1995). The two-sample pseudo-score test proposed by Cook, Lawless,
and Nadeau (1996) is also performed by default.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mcfDiff(mcf1, mcf2 = NULL, level = 0.95, ...)

mcfDiff.test(
  mcf1,
  mcf2 = NULL,
  testVariance = c("robust", "Poisson", "none"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mcf1</code></td>
<td>
<p>A <code>mcf.formula</code> object representing the MCF for one or two
groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mcf2</code></td>
<td>
<p>An optional second <code>mcf.formula</code> object or <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>A numeric value indicating the confidence level required. The
default value is 0.95.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed to <code>mcfDiff.test</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>testVariance</code></td>
<td>
<p>A character string specifying the method for computing
the variance estimate for the pseudo-score test statistic proposed by
Cook, Lawless, and Nadeau (1996). The applicable options include
<code>"robust"</code> (default) for an estimate robust to departures from
Poisson assumptions, <code>"Poisson"</code> for an estimate for Poisson
process, and <code>"none"</code> for not performing any test (if only the
difference estimates are of interest in <code>mcfDiff</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>mcfDiff</code> estimates the two-sample MCFs' difference and
internally calls function <code>mcfDiff.test</code> to perform the pseudo-score
tests by default. A <code>-</code> method is available as a simple wrapper for the
function <code>mcfDiff</code> for comparing two-sample MCFs from two
<code>mcf.formula</code> objects. For instance, suppose <code>mcf1</code> and
<code>mcf2</code> are <code>mcf.formula</code> objects, each of which represents the
sample MCF estimates for one group. The function call <code>mcf1 - mcf2</code> is
equivalent to <code>mcfDiff(mcf1, mcf2)</code>.
</p>
<p>The null hypothesis of the two-sample pseudo-score test is that there is no
difference between the two sample MCFs, while the alternative hypothesis
suggests a difference.  The test is based on a family of test statistics
proposed by Lawless and Nadeau (1995). The argument <code>testVariance</code>
specifies the method for computing the variance estimates of the test
statistics under different model assumption. See the document of argument
<code>testVariance</code> for all applicable options.  For the variance estimates
robust to departures from Poisson process assumption, both constant weight
and the linear weight function (with scaling) suggested in Cook, Lawless,
and Nadeau (1996) are implemented. The constant weight is powerful in cases
where the two MCFs are approximately proportional to each other. The linear
weight function is originally <code>a(u) = t - u</code>, where <code>u</code> represents
the time variable and <code>t</code> is the first time point when the risk set of
either group becomes empty. It is further scaled by <code>1 / t</code> for test
statistics invariant to the unit of measurement of the time variable.  The
linear weight function puts more emphasis on the difference at earily times
than later times and is more powerful for cases where the MCFs are no longer
proportional to each other, but not crossing. Also see Cook and Lawless
(2007, Section 3.7.5) for more details.
</p>


<h3>Value</h3>

<p>The function <code>mcfDiff</code> returns a <code>mcfDiff</code> object (of S4 class)
that contains the following slots:
</p>

<ul>
<li> <p><code>call</code>: Function call.
</p>
</li>
<li> <p><code>MCF</code>: Estimated Mean cumulative function Difference at each time
point.
</p>
</li>
<li> <p><code>origin</code>: Time origins of the two groups.
</p>
</li>
<li> <p><code>variance</code>: The method used for variance estimates.
</p>
</li>
<li> <p><code>logConfInt</code>: A logical value indicating whether normality is
assumed for <code>log(MCF)</code> instead of MCF itself.  For <code>mcfDiff</code>
object, it is always <code>FALSE</code>.
</p>
</li>
<li> <p><code>level</code>: Confidence level specified.
</p>
</li>
<li> <p><code>test</code>: A <code>mcfDiff.test</code> object for the hypothesis test
results.
</p>
</li>
</ul>
<p>The function <code>mcfDiff.test</code> returns a <code>mcfDiff.test</code> object (of S4
class) that contains the following slots:
</p>

<ul>
<li> <p><code>.Data</code>: A numeric matrix (of two rows and five columns) for
hypothesis testing results.
</p>
</li>
<li> <p><code>testVariance</code>: A character string (or vector of length one)
indicating the method used for the variance estimates of the test statistic.
</p>
</li>
</ul>
<h3>References</h3>

<p>Lawless, J. F., &amp; Nadeau, C. (1995). Some Simple Robust Methods for the
Analysis of Recurrent Events. <em>Technometrics</em>, 37(2), 158–168.
</p>
<p>Cook, R. J., Lawless, J. F., &amp; Nadeau, C. (1996). Robust Tests for Treatment
Comparisons Based on Recurrent Event Responses. <em>Biometrics</em>, 52(2),
557–571.
</p>
<p>Cook, R. J., &amp; Lawless, J. (2007). <em>The Statistical Analysis of
Recurrent Events</em>.  Springer Science &amp; Business Media.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## See examples given for function mcf.
</code></pre>


</div>