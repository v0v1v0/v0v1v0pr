<div class="container">

<table style="width: 100%;"><tr>
<td>predict.rrreg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predicted Probabilities for Randomized Response Regression</h2>

<h3>Description</h3>

<p><code>predict.rrreg</code> is used to generate predicted probabilities from a
multivariate regression object of survey data using randomized response
methods.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'rrreg'
predict(object, given.y = FALSE, alpha = .05, n.sims =
1000, avg = FALSE, newdata = NULL, quasi.bayes = FALSE, keep.draws = FALSE,
...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object of class "rrreg" generated by the <code>rrreg()</code>
function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>given.y</code></td>
<td>
<p>Indicator of whether to use "y" the response vector to
calculate the posterior prediction of latent responses. Default is
<code>FALSE</code>, which simply generates fitted values using the logistic
regression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Confidence level for the hypothesis test to generate upper and
lower confidence intervals. Default is <code> .05</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.sims</code></td>
<td>
<p>Number of sampled draws for quasi-bayesian predicted
probability estimation. Default is <code>1000</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>avg</code></td>
<td>
<p>Whether to output the mean of the predicted probabilities and
uncertainty estimates. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>Optional new data frame of covariates provided by the user.
Otherwise, the original data frame from the "rreg" object is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quasi.bayes</code></td>
<td>
<p>Option to use Monte Carlo simulations to generate
uncertainty estimates for predicted probabilities. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep.draws</code></td>
<td>
<p>Option to return the Monte Carlos draws of the quantity of
interest, for use in calculating differences for example.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to be passed to <code>predict.rrreg()</code> command.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function allows users to generate predicted probabilities for the
randomized response item given an object of class "rrreg" from the
<code>rrreg()</code> function. Four standard designs are accepted by this
function: mirrored question, forced response, disguised response, and
unrelated question. The design, already specified in the "rrreg" object, is
then directly inputted into this function.
</p>


<h3>Value</h3>

<p><code>predict.rrreg</code> returns predicted probabilities either for each
observation in the data frame or the average over all observations. The
output is a list that contains the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>est</code></td>
<td>
<p>Predicted probabilities for the randomized response item
generated either using fitted values, posterior predictions, or
quasi-Bayesian simulations. If <code>avg</code> is set to <code>TRUE</code>, the output
will only include the mean estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>Standard errors for the
predicted probabilities of the randomized response item generated using
Monte Carlo simulations. If <code>quasi.bayes</code> is set to <code>FALSE</code>, no
standard errors will be outputted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.lower</code></td>
<td>
<p>Estimates for the lower
confidence interval. If <code>quasi.bayes</code> is set to <code>FALSE</code>, no
confidence interval estimate will be outputted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.upper</code></td>
<td>
<p>Estimates
for the upper confidence interval. If <code>quasi.bayes</code> is set to
<code>FALSE</code>, no confidence interval estimate will be outputted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qoi.draws</code></td>
<td>
<p>Monte Carlos draws of the quantity of interest, returned
only if <code>keep.draws</code> is set to <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Blair, Graeme, Kosuke Imai and Yang-Yang Zhou. (2014) "Design
and Analysis of the Randomized Response Technique."  <em>Working Paper.</em>
Available at <a href="http://imai.princeton.edu/research/randresp.html">http://imai.princeton.edu/research/randresp.html</a>.
</p>


<h3>See Also</h3>

<p><code>rrreg</code> to conduct multivariate regression analyses in
order to generate predicted probabilities for the randomized response item.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(nigeria)

set.seed(1)

## Define design parameters
p &lt;- 2/3  # probability of answering honestly in Forced Response Design
p1 &lt;- 1/6 # probability of forced 'yes'
p0 &lt;- 1/6 # probability of forced 'no'

## Fit linear regression on the randomized response item of 
## whether citizen respondents had direct social contacts to armed groups

rr.q1.reg.obj &lt;- rrreg(rr.q1 ~ cov.asset.index + cov.married + I(cov.age/10) + 
                      I((cov.age/10)^2) + cov.education + cov.female,   
                      data = nigeria, p = p, p1 = p1, p0 = p0, 
                      design = "forced-known")

## Generate the mean predicted probability of having social contacts to 
## armed groups across respondents using quasi-Bayesian simulations. 

rr.q1.reg.pred &lt;- predict(rr.q1.reg.obj, given.y = FALSE, 
                                avg = TRUE, quasi.bayes = TRUE, 
                                n.sims = 10000)

## Replicates Table 3 in Blair, Imai, and Zhou (2014)

</code></pre>


</div>