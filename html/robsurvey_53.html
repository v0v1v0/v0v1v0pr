<div class="container">

<table style="width: 100%;"><tr>
<td>svyreg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Survey Regression Estimator â€“ Weighted Least Squares</h2>

<h3>Description</h3>

<p>Weighted least squares estimator of regression
</p>


<h3>Usage</h3>

<pre><code class="language-R">svyreg(formula, design, var = NULL, na.rm = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a <code>[formula]</code> object (i.e., symbolic description
of the model)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>an object of class <code>survey.design</code>; see
<code>svydesign</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>a one-sided <code>[formula]</code> object or variable name
(<code>[character]</code>) that defines the heteroscedastic variance
or <code>[NULL]</code> indicating homoscedastic variance (default:
<code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p><code>[logical]</code> indicating whether <code>NA</code> values
should be removed before the computation proceeds
(default: <code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments (currently not used).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Package <span class="pkg">survey</span> must be attached to the search path in order to use
the functions (see <code>library</code> or <code>require</code>).
</p>
<p><code>svyreg</code> computes the regression coefficients by weighted least
squares.
</p>
<p>Models for <code>svyreg_rob</code> are specified symbolically. A typical
model has the form <code>response ~ terms</code> where <code>response</code> is
the (numeric) response vector and <code>terms</code> is a series of terms
which specifies a linear predictor for <code>response</code>; see
<code>formula</code> and <code>lm</code>.
</p>
<p>A formula has an implied intercept term. To remove this use either
<code>y ~ x - 1</code> or <code>y ~ 0 + x</code>; see <code>formula</code> for more
details of allowed formulae.
</p>


<h3>Value</h3>

<p>Object of class <code>svyreg_rob</code>.
</p>


<h3>See Also</h3>

<p>Overview (of all implemented functions)
</p>
<p><code>summary</code>, <code>coef</code>,
<code>residuals</code>, <code>fitted</code>,
<code>SE</code> and <code>vcov</code>
</p>
<p><code>plot</code> for regression diagnostic plot methods
</p>
<p>Robust estimating methods <code>svyreg_huberM</code>,
<code>svyreg_huberGM</code>, <code>svyreg_tukeyM</code> and
<code>svyreg_tukeyGM</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">head(workplace)

library(survey)
# Survey design for stratified simple random sampling without replacement
dn &lt;- if (packageVersion("survey") &gt;= "4.2") {
        # survey design with pre-calibrated weights
        svydesign(ids = ~ID, strata = ~strat, fpc = ~fpc, weights = ~weight,
                  data = workplace, calibrate.formula = ~-1 + strat)
    } else {
        # legacy mode
        svydesign(ids = ~ID, strata = ~strat, fpc = ~fpc, weights = ~weight,
                  data = workplace)
    }

# Compute the regression estimate (weighted least squares)
m &lt;- svyreg(payroll ~ employment, dn)

# Regression inference
summary(m)

# Extract the coefficients
coef(m)

# Extract variance/ covariance matrix
vcov(m)

# Diagnostic plots (e.g., Normal Q-Q-plot)
plot(m, which = 2L)
</code></pre>


</div>