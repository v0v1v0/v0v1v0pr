<div class="container">

<table style="width: 100%;"><tr>
<td>addMapLegend</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a legend to a map</h2>

<h3>Description</h3>

<p>Creates a colour bar legend, showing the range of colours and the values the
colours correspond to. Relies heavily on image.plot() from the package
fields. For simple use, simply use addLegend=TRUE in a rworldmap map
function. Or users can call addMapLegend seperately to fine tune the legend.
The user should insure that data, catMethod,numCats and colourPalette match
the values used in the plot.  The legend is designed to be useful for the
variety of classification methods that exist.
</p>


<h3>Usage</h3>

<pre><code class="language-R">addMapLegend(
  colourVector = "",
  cutVector = "",
  legendLabels = "limits",
  labelFontSize = 1,
  legendWidth = 1.2,
  legendShrink = 0.9,
  legendMar = 3,
  horizontal = TRUE,
  legendArgs = NULL,
  tcl = -0.5,
  mgp = c(3, 1, 0),
  sigFigs = 4,
  digits = 3,
  legendIntervals = "data",
  plottedData = "",
  catMethod = "pretty",
  colourPalette = "heat"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>colourVector</code></td>
<td>
<p>colours used in the map</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutVector</code></td>
<td>
<p>the categories or breaks used in the map</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendLabels</code></td>
<td>
<p>Controls the style of the labels on the legend. Choose
"none" for no labels, "limits" for the two end values, and "all" to show all
the break values if they fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labelFontSize</code></td>
<td>
<p>Controls font size of the labels. A multiplier, so use
2 to double the size, 0.5 to halve it, etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendWidth</code></td>
<td>
<p>Controls the width of the colour bar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendShrink</code></td>
<td>
<p>Controls the length of the colour bar. 1 means full
width of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendMar</code></td>
<td>
<p>Moves the legend away from the side of the plot. Measured
in character widths.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horizontal</code></td>
<td>
<p>If TRUE the legend is horizontal, if FALSE, vertical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendArgs</code></td>
<td>
<p>For producing titles and labels. A list of arguments to be
passed to mtext.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tcl</code></td>
<td>
<p>Controls the length of the tick marks.Useful when labelFontSize
is changed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mgp</code></td>
<td>
<p>Numeric vector length 3. The second element controls the distance
between labels and the axis. Useful when labelFontSize is changed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigFigs</code></td>
<td>
<p>The number of significant figures for legend labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>An argument to the formatting of the labels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendIntervals</code></td>
<td>
<p>"page" or "data". Controls the division of the colour
bar, "page" sets the intervals equal on the page, "data" sets them to be
equal in the units of the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plottedData</code></td>
<td>
<p>unused but are passed with mapParams</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>catMethod</code></td>
<td>
<p>unused but are passed with mapParams</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colourPalette</code></td>
<td>
<p>unused but are passed with mapParams</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The default legend is a horizontal colour bar, with labels only at the
extremes.
</p>
<p>Can use a parameter list returned from mapping functions, e.g.
mapCountryData(). mapCountryData(addLegend=TRUE) produces same results as:
mapParams &lt;- mapCountryData(addLegend=FALSE) do.call(addMapLegend,
mapParams)
</p>
<p>Using the following allows the modification of the legend : mapParams &lt;-
mapCountryData(addLegend=FALSE) do.call(addMapLegend, c(mapParams,
legendLabels="all", legendWidth=0.5))
</p>


<h3>Value</h3>

<p>Adds a legend to a plot.
</p>


<h3>Note</h3>

<p>Can have the unintentional effect of modifying graphical parameters,
e.g. mfcol reverts to mfrow.
</p>


<h3>Author(s)</h3>

<p>Andy South
</p>


<h3>See Also</h3>

<p>mapCountryData, mapGriddedData, image.plot
</p>


<h3>Examples</h3>

<pre><code class="language-R">
#Set up the plot so the world map uses the full width.
mapDevice() 
#join eaxmple data to a map  
data("countryExData",envir=environment())
sPDF &lt;- joinCountryData2Map(countryExData
              , joinCode = "ISO3"
              , nameJoinColumn = "ISO3V10"
              )
#map the data with no legend              
mapParams &lt;- mapCountryData( sPDF
              , nameColumnToPlot="BIODIVERSITY"
              , addLegend='FALSE' 
              )
              
#add a modified legend using the same initial parameters as mapCountryData               
do.call( addMapLegend, c( mapParams
                        , legendLabels="all"
                        , legendWidth=0.5
                        ))




</code></pre>


</div>