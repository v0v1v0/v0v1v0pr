<div class="container">

<table style="width: 100%;"><tr>
<td>pkg_ref</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a package reference</h2>

<h3>Description</h3>

<p>Create a package reference from package name or filepath, producing an object
in which package metadata will be collected as risk assessments are
performed. Depending on where the package was found - whether it is found as
source code, in a local library or from a remote host - an S3 subclass is
given to allow for source-specific collection of metadata. See 'Details' for
a breakdown of subclasses. Different sources can be specified by passing a
subclass as an arguemnt named 'source', see details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pkg_ref(x, ...)

pkg_install(x, lib.loc = NULL)

pkg_source(x)

pkg_cran(x, repos = getOption("repos", "https://cran.rstudio.com"))

pkg_bioc(x)

pkg_missing(x)

pkg_library(lib.loc)

as_pkg_ref(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A singular <code>character</code> value, <code>character vector</code> or
<code>list</code> of <code>character</code> values of package names or source code
directory paths.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lib.loc</code></td>
<td>
<p>The path to the R library directory of the installed package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repos</code></td>
<td>
<p>URL of CRAN repository to pull package metadata.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Package reference objects are used to collect metadata pertaining to a given
package. As data is needed for assessing a package's risk, this metadata
populates fields within the package reference object.
</p>
<p>The <code>pkg_ref</code> S3 subclasses are used extensively for divergent metadata
collection behaviors dependent on where the package was discovered. Because
of this, there is a rich hierarchy of subclasses to articulate the different
ways package information can be found.
</p>
<p>A source argument can be passed using the 'source' argument. This will
override the logic that riskmetric does when determining a package source.
This can be useful when you are scoring the most recent version present on a
repository, or testing a specific library.
</p>

<dl>
<dt><strong><code>pkg_ref</code></strong></dt>
<dd>
<p> A default class for general metadata
collection.</p>
</dd>
</dl>
<dl>
<dt><strong><code>pkg_source</code></strong></dt>
<dd>
<p> A reference to a source code directory.</p>
</dd>
<dt><strong><code>pkg_install</code></strong></dt>
<dd>
<p> A reference to a package installation
location in a package library. A specific library can be passed by passing
the path to the library as the parameter 'lib.loc'</p>
</dd>
<dt><strong><code>pkg_remote</code></strong></dt>
<dd>
<p> A reference to package metadata on a
remote server.</p>
</dd>
</dl>
<dl>
<dt><strong><code>pkg_cran_remote</code></strong></dt>
<dd>
<p> A reference to package
information pulled from the CRAN repository.</p>
</dd>
<dt><strong><code>pkg_bioc_remote</code></strong></dt>
<dd>
<p> A reference to package
information pulled from the Bioconductor repository.</p>
</dd>
<dt><strong><code>pkg_git_remote</code></strong></dt>
<dd>
<p> A reference to a package source
code git repository. (not yet implemented)</p>
</dd>
</dl>
<h3>Value</h3>

<p>When a single value is provided, a single <code>pkg_ref</code> object is
returned, possibly with a subclass based on where the package was found. If
a <code>vector</code> or <code>list</code> is provided, a <code>list_of_pkg_ref</code> object
constructed with <code>list_of</code> is returned, which can be
considered analogous to a <code>list</code>. See 'Details' for further
information about <code>pkg_ref</code> subclasses.
</p>


<h3>Package Cohorts</h3>

<p>*Experimental!*
Package cohorts are structures to determine the risk of a set of packages.
'pkg_library()' can be called to create a object containing the pkg_ref
objects of all packages in a system library.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# riskmetric will check for installed packages by default
ref_1 &lt;- pkg_ref("utils")
ref_1$source # returns 'pkg_install'

# lib.loc can be used to specify a library for pkg_install
ref_3 &lt;- pkg_ref("utils", source = "pkg_install", lib.loc = .libPaths()[1])

# You can also override this behavior with a source argument
ref_2 &lt;- pkg_ref("utils", source = "pkg_cran_remote")
ref_2$source  # returns 'pkg_cran_remote'

## End(Not run)
</code></pre>


</div>