<div class="container">

<table style="width: 100%;"><tr>
<td>harmonized_dossier_visualize</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate a web-based visual report for a harmonized dossier</h2>

<h3>Description</h3>

<p>Generates a visual report of a harmonized dossier in an HTML bookdown
document, with summary figures and statistics for each harmonized variable.
The report outputs can be grouped by a categorical variable.
</p>


<h3>Usage</h3>

<pre><code class="language-R">harmonized_dossier_visualize(
  harmonized_dossier,
  bookdown_path,
  group_by = attributes(harmonized_dossier)$`Rmonize::harmonized_col_dataset`,
  harmonized_dossier_summary = NULL,
  dataschema = attributes(harmonized_dossier)$`Rmonize::DataSchema`,
  data_proc_elem = attributes(harmonized_dossier)$`Rmonize::Data Processing Element`,
  valueType_guess = FALSE,
  taxonomy = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>harmonized_dossier</code></td>
<td>
<p>A list containing the harmonized dataset(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bookdown_path</code></td>
<td>
<p>A character string identifying the folder path where
the bookdown report files will be saved.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_by</code></td>
<td>
<p>A character string identifying the column in the dataset
to use as a grouping variable. Elements will be grouped by this
column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>harmonized_dossier_summary</code></td>
<td>
<p>A list which identifies an existing
summary produced by <code>harmonized_dossier_summarize()</code> of the harmonized
variables.
Using this parameter can save time in generating the visual report.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataschema</code></td>
<td>
<p>A DataSchema object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_proc_elem</code></td>
<td>
<p>A Data Processing Elements object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valueType_guess</code></td>
<td>
<p>Whether the output should include a more accurate
valueType that could be applied to the dataset. FALSE by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>taxonomy</code></td>
<td>
<p>An optional data frame identifying a variable classification
schema.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A harmonized dossier is a named list containing one or more data frames,
which are harmonized datasets. A harmonized dossier is generally the
product of applying processing to a dossier object The name of each
harmonized dataset (data frame) is taken from the reference input dataset.
A harmonized dossier also contains the DataSchema and
Data Processing Elements used in processing as attributes.
</p>
<p>A DataSchema is the list of core variables to generate across datasets and
related metadata. A DataSchema object is a list of data frames with elements
named 'Variables' (required) and 'Categories' (if any). The 'Variables'
element must contain at least the <code>name</code> column, and the 'Categories'
element must contain at least the <code>variable</code> and <code>name</code> columns to be usable
in any function. In 'Variables' the <code>name</code> column must also have unique
entries, and in 'Categories' the combination of <code>variable</code> and <code>name</code> columns
must also be unique.
</p>
<p>The Data Processing Elements specifies the algorithms used to process input
variables into harmonized variables in the DataSchema format. It is also
contains metadata used to generate documentation of the processing.
A Data Processing Elements object is a data frame with specific columns
used in data processing: <code>dataschema_variable</code>, <code>input_dataset</code>,
<code>input_variables</code>, <code>Mlstr_harmo::rule_category</code> and <code>Mlstr_harmo::algorithm</code>.
To initiate processing, the first entry must be the creation of a harmonized
primary identifier variable (e.g., participant unique ID).
</p>
<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using valueType_list. The valueType can be used to
coerce the variable to the corresponding data type.
</p>
<p>A taxonomy is a classification schema that can be defined for variable
attributes. A taxonomy is usually extracted from an
<a href="https://www.obiba.org/pages/products/opal//">Opal environment</a>, and a
taxonomy object is a data frame that must contain at least the columns
<code>taxonomy</code>, <code>vocabulary</code>, and <code>terms</code>. Additional details about Opal
taxonomies are
<a href="https://opaldoc.obiba.org/en/latest/web-user-guide/administration/taxonomies.html">available online</a>.
</p>


<h3>Value</h3>

<p>A folder containing files for the bookdown site. To open the bookdown site
in a browser, open 'docs/index.html', or use <code>bookdown_open()</code> with the
folder path.
</p>


<h3>See Also</h3>

<p><code>dataset_visualize()</code>
<code>bookdown_open()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">{

# Use Rmonize_DEMO to run examples.

library(fs)
 
harmonized_dossier &lt;- Rmonize_DEMO$harmonized_dossier
harmonized_dossier_summary &lt;- Rmonize_DEMO$harmonized_dossier_summary
 
if(dir_exists(tempdir())) dir_delete(tempdir())
bookdown_path &lt;- tempdir()
 
harmonized_dossier_visualize(
   harmonized_dossier,
   bookdown_path = bookdown_path,
   harmonized_dossier_summary = harmonized_dossier_summary)

# To open the file in browser, open 'bookdown_path/docs/index.html'.
# Or use bookdown_open(bookdown_path) function

}

</code></pre>


</div>