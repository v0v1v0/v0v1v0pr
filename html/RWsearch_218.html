<div class="container">

<table style="width: 100%;"><tr>
<td>s_crandb_tvdb</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Search For Recent Packages In crandb And In Task View</h2>

<h3>Description</h3>

<p>This is a function for task view maintenance.
</p>
<p>Search packages in a subset of <code>crandb</code> within dates <code>from</code> and <code>to</code>
that contain one or several keywords in the columns "Package", "Title", "Description",
'Author" or "Maintainer", then verify if these packages are already refereed in one
of the task views stored in <code>tvdb</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">s_crandb_tvdb(..., char = NULL, tv = "Distributions", from = -10,
  to = Sys.Date(), select = "PTD", mode = "or", sensitive = FALSE,
  perl = FALSE, fixed = FALSE, agrep = FALSE, max.distance = 0.1,
  costs = NULL, crandb = get("crandb", envir = .GlobalEnv),
  tvdb = get("tvdb", envir = .GlobalEnv))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>any format recognized by <code>cnsc</code>, except list.
One or several keywords.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>char</code></td>
<td>
<p>(name to) a character vector. Use this argument if <code>...</code> fails
or if you call the function from another function. If used,
argument <code>...</code> is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tv</code></td>
<td>
<p>character. One task view among those listed in tvdb.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>character representing a date earlier than date <code>to</code>.
Or a negative integer representing the number of days preceeding
the date <code>to</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>date. The upper date in the search.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select</code></td>
<td>
<p>character vector. A sub-vector of <code>colnames(crandb)</code>. The
short form "P", "T", "D", "PT", "PD", "TD", "PTD", "A", "M", "AM"
describing the Package name, Title, Description, Author, Maintainer
or a combination of them is accepted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>character among "or", "and", "relax". The search mode.
"relax" is for 3 words and more. It is an intermediate between
"or" and "and" as it requires just 2 matching words:
<code>("word1" AND "word2")</code> <code>OR</code> <code>("word1" AND "word3")</code>
<code>OR</code> <code>("word1" AND "word3")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sensitive</code></td>
<td>
<p>logical. <code>TRUE</code> forces the search to be case sensitive.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perl</code></td>
<td>
<p>logical. Used only if <code>fixed = FALSE</code>. <code>TRUE</code> uses
Perl-compatible regex. <code>FALSE</code> uses default regexps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed</code></td>
<td>
<p>logical. <code>TRUE</code> matchs the keywords as is (and <code>sensitive</code>
is forced to <code>TRUE</code>). <code>FALSE</code> allows grep or Perl regexps.
See <code>grep</code>. Not used by <code>agrep</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agrep</code></td>
<td>
<p>logical. For approximate matching, use <code>agrep</code>
function rather than grep.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.distance</code></td>
<td>
<p>integer or numeric. See <code>agrep</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>costs</code></td>
<td>
<p>NULL or list. See <code>agrep</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crandb</code></td>
<td>
<p>data.frame <code>crandb</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tvdb</code></td>
<td>
<p>list. The list of the task views.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with the following vectors:
</p>

<ul>
<li>
<p> spkgs: The selected packages that contain the keyword(s).
</p>
</li>
<li>
<p> inTV: The packages that contain the keyword(s) already refereed in the task view.
</p>
</li>
<li>
<p> notinTV: The packages that contain the keyword(s) not (yet) refereed in the task view.
</p>
</li>
<li>
<p> inTV_in: Among the packages available in the task view, those installed in the computer.
</p>
</li>
<li>
<p> inTV_un: Among the packages available in the task view, those not installed in the computer.
</p>
</li>
<li>
<p> notinTV_in: Among the packages not refereed in the task view, those installed in the computer.
</p>
</li>
<li>
<p> notinTV_un: Among the packages not refereed in the task view, those not installed in the computer.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">### TASK VIEW MAINTENANCE (tvdb + crandb)
## In real life, download crandb and tvdb from CRAN or load them from your directory
## with functions crandb_down(), crandb_load(), tvdb_down(), tvdb_load().
## In this example, we use small files.
crandb_load(system.file("data", "zcrandb.rda", package = "RWsearch"))
tvdb_load(system.file("data", "ztvdb.rda", package = "RWsearch"))

## List the task views
tvdb_vec()

## Search for the recent packages in crandb that contain the keyword
## and verify that the packages are already refereed in the task view.
(lst &lt;- s_crandb_tvdb("Gumbel", tv = "Distributions", from = "2018-01-01"))

if (interactive()) {
p_display7(lst[c("inTV", "notinTV")], dir = file.path(tempdir(), "scrandbtvdb"))
}
</code></pre>


</div>