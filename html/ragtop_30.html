<div class="container">

<table style="width: 100%;"><tr>
<td>fit_to_option_market_df</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calibrate volatilities and equity-linked default intensity making many assumptions</h2>

<h3>Description</h3>

<p>This is a convenience function for calibrating variance cumulation (the
at-the-money volatility of the continuous process) and equity linked default
intensity of the form $h(s + (1-s)(S0/S_t)^p)$, using a <code>data.frame</code> of
option market data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fit_to_option_market_df(
  S0 = ragtop::TSLAMarket$S0,
  discount_factor_fcn = spot_to_df_fcn(ragtop::TSLAMarket$risk_free_rates),
  options_df = ragtop::TSLAMarket$options,
  min_maturity = 1/12,
  min_moneyness = 0.8,
  max_moneyness = 1.2,
  base_default_intensity = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>S0</code></td>
<td>
<p>Current underlying price</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>discount_factor_fcn</code></td>
<td>
<p>A function for computing present values to
time <code>t</code> of various cashflows occurring during this timestep, with
arguments <code>T</code>, <code>t</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options_df</code></td>
<td>
<p>A data frame of American option details.  It should
have columns <code>callput</code>, <code>K</code>, <code>time</code>,
<code>mid</code>, <code>bid</code>, and <code>ask</code>,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_maturity</code></td>
<td>
<p>Minimum option maturity to allow in calibration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_moneyness</code></td>
<td>
<p>Maximum option strike as a proportion of S0 to allow in calibration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_moneyness</code></td>
<td>
<p>Maximum option strike as a proportion of S0  to allow in calibration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base_default_intensity</code></td>
<td>
<p>Overall default intensity (in natural units)</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>fit_to_option_market</code> the underlying fit algorithm
</p>
<p>Other Equity Dependent Default Intensity: 
<code>find_present_value()</code>,
<code>fit_variance_cumulation()</code>,
<code>form_present_value_grid()</code>,
<code>implied_jump_process_volatility()</code>
</p>


</div>