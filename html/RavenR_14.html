<div class="container">

<table style="width: 100%;"><tr>
<td>rvn_annual_volume</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Annual Volume Comparison</h2>

<h3>Description</h3>

<p>Creates a plot of the annual observed and simulated volumes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rvn_annual_volume(
  sim,
  obs,
  mm = 9,
  dd = 30,
  add_line = TRUE,
  add_r2 = FALSE,
  add_eqn = FALSE,
  add_labels = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sim</code></td>
<td>
<p>time series object of simulated flows</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs</code></td>
<td>
<p>time series object of observed flows</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mm</code></td>
<td>
<p>month of water year ending (default 9)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dd</code></td>
<td>
<p>day of water year ending (default 30)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_line</code></td>
<td>
<p>optionally adds a 1:1 line to the plot for reference (default <code>TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_r2</code></td>
<td>
<p>optionally computes the R2 and adds to plot (default <code>FALSE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_eqn</code></td>
<td>
<p>optionally adds the equation for a linear regression line through the origin (default <code>FALSE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_labels</code></td>
<td>
<p>optionally adds year-ending labels to each point on plot using geom_text (default <code>FALSE</code>)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Creates a scatterplot of the annual observed and simulated
volumes, calculated for each available water year of data within the two series provided.
The sim and obs should be of time
series (xts) format and are assumed to be of the same length and time
period. Note that missing values in the observed series will impact the
volume estimation, and it is recommended that the NA values are filled in
prior to use of this function.
</p>
<p>The R2 diagnostic is calculated for a fit with no intercept (in a perfect
fit the points are identical, and intercept is automatically zero).
</p>
<p>Note that a plot title is purposely omitted in order to allow the automatic
generation of plot titles.
</p>


<h3>Value</h3>

<p>returns a list with annual volume data in a data frame, and a ggplot object
</p>
<table>
<tr style="vertical-align: top;">
<td><code>df_volume</code></td>
<td>
<p>data frame of the calculated annual volumes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p1</code></td>
<td>
<p>ggplot object with plotted annual volumes</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>rvn_flow_scatterplot</code> to create a scatterplot of flow
values
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# load sample hydrograph data, two years worth of sim/obs
data(rvn_hydrograph_data)
sim &lt;- rvn_hydrograph_data$hyd$Sub36
obs &lt;- rvn_hydrograph_data$hyd$Sub36_obs

# create a plot of the annual volumes with defaults
rvn_annual_volume(sim,obs)

# create a plot of the annual volumes with r2
rvn_annual_volume(sim,obs,add_r2=TRUE, add_eqn=TRUE)

# create a plot of the annual volumes with year-ending labels
rvn_annual_volume(sim,obs, add_labels=TRUE)

# calculate annual volumes for different water years (e.g. ending Oct 31)
vv &lt;- rvn_annual_volume(sim, obs, mm=10, dd=31)
vv$df.volume
vv$p1

</code></pre>


</div>