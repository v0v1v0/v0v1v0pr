<div class="container">

<table style="width: 100%;"><tr>
<td>make_multifig_sexratio</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create multi-figure sex ratio plots.</h2>

<h3>Description</h3>

<p>Modified version of <code>make_multifig()</code> for multi-figure
plots of sex ratio data with crude confidence intervals (+/i 1 se) and
fits from Stock Synthesis output.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_multifig_sexratio(
  dbase,
  sexratio.option = 2,
  CI = 0.75,
  sampsizeround = 1,
  maxrows = 6,
  maxcols = 6,
  rows = 1,
  cols = 1,
  fixdims = TRUE,
  main = "",
  cex.main = 1,
  xlab = "",
  ylab = "Fraction female",
  horiz_lab = "default",
  xbuffer = c(0.1, 0.1),
  ybuffer = "default",
  yupper = NULL,
  datonly = FALSE,
  showsampsize = TRUE,
  showeffN = TRUE,
  axis1 = NULL,
  axis2 = NULL,
  ptscex = 1,
  ptscol = gray(0.5),
  linescol = 4,
  lty = 1,
  lwd = 2,
  nlegends = 3,
  legtext = list("yr", "sampsize", "effN"),
  legx = "default",
  legy = "default",
  legadjx = "default",
  legadjy = "default",
  legsize = c(1.2, 1),
  legfont = c(2, 1),
  ipage = 0,
  multifig_oma = c(5, 5, 5, 2) + 0.1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dbase</code></td>
<td>
<p>element of list created by <code>SS_output()</code> passed from
<code>SSplotSexRatio()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sexratio.option</code></td>
<td>
<p>code to choose among (1) female:male ratio or
(2) fraction females out of the total (the default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CI</code></td>
<td>
<p>confidence interval for uncertainty</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampsizeround</code></td>
<td>
<p>rounding level for sample size values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxrows</code></td>
<td>
<p>maximum (or fixed) number or rows of panels in the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxcols</code></td>
<td>
<p>maximum (or fixed) number or columns of panels in the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rows</code></td>
<td>
<p>number or rows to return to as default for next plots to come or
for single plots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>number or cols to return to as default for next plots to come or
for single plots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixdims</code></td>
<td>
<p>fix the dimensions at maxrows by maxcols or resize based on
number of elements in <code>yr</code> input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>title of plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.main</code></td>
<td>
<p>character expansion for title</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>x-axis label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>y-axis label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horiz_lab</code></td>
<td>
<p>axis labels set horizontal all the time (TRUE), never
(FALSE) or only when relatively short ("default")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xbuffer</code></td>
<td>
<p>extra space around points on the left and right as fraction
of total width of plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ybuffer</code></td>
<td>
<p>extra space around points on the bottom and top as fraction
of total height of plot. "default" will cause c(0,.15) for sexratio.option=1
and c(.15, .3) for sexratio.option=2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yupper</code></td>
<td>
<p>upper limit on ymax (applied before addition of ybuffer)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datonly</code></td>
<td>
<p>make plots of data without fits?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showsampsize</code></td>
<td>
<p>add sample sizes to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showeffN</code></td>
<td>
<p>add effective sample sizes to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axis1</code></td>
<td>
<p>position of bottom axis values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axis2</code></td>
<td>
<p>position of left size axis values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptscex</code></td>
<td>
<p>character expansion factor for points (default=1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptscol</code></td>
<td>
<p>color for points/bars</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linescol</code></td>
<td>
<p>color for fitted model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>line type</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>line width</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlegends</code></td>
<td>
<p>number of lines of text to add as legends in each plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legtext</code></td>
<td>
<p>text in legend, a list of length=nlegends. values may be any
of 1.  "yr", 2. "sampsize", 3. "effN", or a vector of length = ptsx.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legx</code></td>
<td>
<p>vector of length=nlegends of x-values of legends (default is
first one on left, all after on right)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legy</code></td>
<td>
<p>vector of length=nlegends of y-values of legends (default is top
for all plots)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legadjx</code></td>
<td>
<p>left/right adjustment of legends around legx</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legadjy</code></td>
<td>
<p>left/right adjustment of legends around legy</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legsize</code></td>
<td>
<p>font size for legends. default=c(1.2,1.0) (larger for year
and normal for others)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legfont</code></td>
<td>
<p>font type for legends, same as "font" under ?par</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ipage</code></td>
<td>
<p>which page of plots when covering more than will fit within
maxrows by maxcols.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multifig_oma</code></td>
<td>
<p>vector of outer margins. Can be input to SS_plots and will be
passed to this function via the ... argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments (NOT YET IMPLEMENTED).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The SE of the sex ratio is crude and calculated as
follows. First, assume a multinomial which as MLEs of proportions. Then
use the delta method of the ratio F/M, using the MLE as the expected
values and analytical variances and covariance between F and M. After
some algebra this calculation reduces to: <code>SE(F/M)= sqrt((f/m)^2*( (1-f)/(f*N) + (1-m)/(m*N) +2/N ))</code>. Confidence intervals created from
these should be considered very crude and would not necessarily be
appropriate for future alternative compositional likelihoods.
</p>
<p>This function was derived from make_multifig and hence has a lot of
overlap in functionality and arguments.
</p>


<h3>Author(s)</h3>

<p>Cole Monnahan. Adapted from <code>make_multifig()</code>.
</p>


<h3>See Also</h3>

<p><code>SS_plots()</code>,<code>SSplotSexRatio()</code>
</p>


</div>