<div class="container">

<table style="width: 100%;"><tr>
<td>GET.seis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reads various seismic file formats</h2>

<h3>Description</h3>

<p>This fuction calls binary routines to read in ‘segy’, ‘sac’.
</p>


<h3>Usage</h3>

<pre><code class="language-R">GET.seis(fnames, kind = 1, Iendian=1, BIGLONG=FALSE ,
HEADONLY=FALSE,  PLOT = -1, RAW=FALSE)

JGET.seis(fnames, kind = 1, Iendian=1, BIGLONG=FALSE ,
HEADONLY=FALSE,  PLOT = -1, RAW=FALSE)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fnames</code></td>
<td>
<p>list of file names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kind</code></td>
<td>
<p>an integer -1, 0, 1, 2 ; 0="RDATA" , -1="RDS", 0="RDATA", 1 = "segy",
2 = "sac", see notes below</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Iendian</code></td>
<td>
<p> vector,   Endian-ness of the data: 1,2,3: "little", "big", "swap".
Default = 1 (little)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BIGLONG</code></td>
<td>
<p> logical, TRUE=long=8 bytes
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HEADONLY</code></td>
<td>
<p> logical, TRUE= header information only; not seismic
trace will be returned (runs a little faster).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PLOT</code></td>
<td>
<p>integer, &lt;0 no plot; 0 
interactive; &gt;0 number of seconds to sleep</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RAW</code></td>
<td>
<p>logical, default=FALSE(convert to volts) , TRUE (return counts intead of
volts) </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>"kind" can be numeric or character: options are
'RDS', 'RDATA', 'SEGY', 'SAC', corresponding to (-1, 0, 1, 2).
</p>
<p>Uses readBin to extract data in SAC/SEGY format.
User must know what kind of machine the data
was created on for I/O purposes.
</p>
<p>If data was created on a little endian machine but
is being read on big endian machine, need to call
the endian "swap" for swapping.
</p>
<p>Iendian can be a vector if input files have different endian-ness.
</p>
<p>If data was created on a machine with LONG=4 bytes,
be sure to call the program with BIGLONG=FALSE.
</p>
<p>The data returned is a list of lists, each element is one
trace not necessarily related to the other traces in the list.
</p>
<p>Once the data is read in, use prepSEIS to reformat
the data into a list more amenable to further analysis in RSEIS.
</p>
<p>See examples below for different cases.
</p>


<h3>Value</h3>

<p>List containing the seismic data and header information.
Each trace consists of a list with:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>fn</code></td>
<td>
<p>original file name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sta</code></td>
<td>
<p>station name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comp</code></td>
<td>
<p>compnent</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dt</code></td>
<td>
<p>delta t in seconds</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DATTIM</code></td>
<td>
<p>time list</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yr</code></td>
<td>
<p>year</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jd</code></td>
<td>
<p>julian day</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mo</code></td>
<td>
<p>month</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dom</code></td>
<td>
<p>day of month</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hr</code></td>
<td>
<p>hour</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mi</code></td>
<td>
<p>minute</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sec</code></td>
<td>
<p>sec</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>msec</code></td>
<td>
<p>milliseconds</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dt</code></td>
<td>
<p>delta t in seconds</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t1</code></td>
<td>
<p>time start of trace</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t2</code></td>
<td>
<p>time end of trace</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>off</code></td>
<td>
<p>off-set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>number of points in trace</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>units</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>amp</code></td>
<td>
<p>vector of trace values</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>The easiext way to process datais to convert the data to
an R-format type, using either save (kind=0) or saveRDS (kind=-1).
If these are used then I/O is simple.
</p>
<p>OLDER:
</p>
<p>Information in the file names is ignored, so be sure to modify headers
prior to using this method of extracting meta-data. (Or modify
the meta data from the file names after reading in the data.)
</p>
<p>For SEGY files, in LINUX-UNIX, use:
rename,    segymod (PASSCAL) to modify the headers
</p>
<p>JGET.seis  extracts digital seismic data from binary files
stored in the file system.  The program uses readBin for I/O
and passes data back to R.  Currently SAC, SEGY formats
are installed but it is easy to extend.  AH format
is available for LINUX systems, but there were problems compiling in
WINDOWS and MACOS so this feature was removed.
</p>
<p>A filter for mseed format is currently being developed. Could use
package 'IRISSeismic'
</p>


<h3>Author(s)</h3>

<p>Jonathan M. Lees &lt;jonathan.lees@unc.edu&gt;</p>


<h3>See Also</h3>

<p>plotJGET, JSAC.seis , prepSEIS, Mine.seis</p>


<h3>Examples</h3>

<pre><code class="language-R">

data(GH)

DD = data.frame(GH$info)

#### get only vertical traces
WV = which( GH$COMPS=='V' )
L1 = length(WV)

GIVE = vector(mode='list')

for(j in 1:L1 )
{
    i = WV[j]
    AA = DD[i,]
    GIVE[[j]] = list(fn = AA$fn, sta =GH$STNS[i] , comp = GH$COMP[i], 
                     dt = AA$dt, DATTIM = AA, N = AA$n1, units = NA, 
                     coords = NA, amp = GH$JSTR[[i]]  )
}
#### par(mfrow=c(length(GIVE) , 1) )
#   for(i in 1:length(GIVE) ) { plotGH(GIVE[[i]])   }
tdir = tempdir()
for(i in 1:length(GIVE) )
{
    sig = GIVE[[i]]
  d1 =  dateStamp(sig$DATTIM, sep='_')
   nam1 =  paste(d1,sig$sta, sig$comp, sep='_')
    nam2 = paste0(nam1, '.RDS')
    nam3 = paste(tdir, nam2, sep='/')
    saveRDS(file=nam3, sig) 
    }
########################  Now  read files and make the DataBase:
LF  = list.files(path=tdir,pattern='.RDS',  full.names=TRUE)


Gseis = GET.seis(LF, kind = -1, Iendian=1, BIGLONG=FALSE ,
HEADONLY=FALSE,  PLOT = -1, RAW=FALSE)

zed &lt;- prepSEIS(Gseis)

####   plot the data, and interact with the data
swig(zed, sel=which(zed$COMPS=='V'),  SHOWONLY=0)

if(interactive()){ plotJGET(Gseis) }

###   for data created on UNIX (SUN) but read on linux:
###   S1   &lt;-  GET.seis(Lname, kind = 1, Iendian="swap", BIGLONG=FALSE, PLOT = -1)

###   for data created on linux (32 bit)  but read on linux 64 bit:
###  S1   &lt;-  GET.seis(Lname, kind = 1, Iendian="little", BIGLONG=FALSE, PLOT = -1)

###   for SEGY data created on linux (64 bit)  but read on linux 32 bit:
###  S1   &lt;-  GET.seis(Lname, kind = 1, Iendian="little", BIGLONG=TRUE, PLOT = -1)


###   for SAC data created on MAC-OS (64 bit)  but read on linux 32 bit:
###  S1   &lt;-  GET.seis(Lname, kind = 2, Iendian="swap", BIGLONG=TRUE, PLOT = -1)


</code></pre>


</div>