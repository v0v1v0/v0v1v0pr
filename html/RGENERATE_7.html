<div class="container">

<table style="width: 100%;"><tr>
<td>generate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>generate</h2>

<h3>Description</h3>

<p>It generates a multivarite random series according to the model <code>x</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">generate(x = NULL, ...)

## Default S3 method:
generate(
  x,
  FUN = rnorm,
  n = 100,
  K = 3,
  names = NULL,
  cov = NULL,
  gap.filling = NULL,
  ...
)

## S3 method for class 'varest'
generate(
  x,
  FUN = rnorm,
  n = 100,
  names = NULL,
  noise = NULL,
  exogen = NULL,
  xprev = NULL,
  gap.filling = NULL,
  ...
)

## S3 method for class 'varest2'
generate(
  x,
  FUN = rnorm,
  n = 100,
  names = NULL,
  noise = NULL,
  exogen = NULL,
  xprev = NULL,
  gap.filling = NULL,
  ...
)

## S3 method for class 'GPCAvarest2'
generate(
  x,
  FUN = rnorm,
  n = 100,
  names = NULL,
  noise = NULL,
  exogen = NULL,
  xprev = NULL,
  extremes = TRUE,
  type = 3,
  gap.filling = NULL,
  GPCA.row.gap.filling.option = TRUE,
  ...
)

## S3 method for class 'matrix'
generate(
  x,
  FUN = rnorm,
  n = 100,
  noise = NULL,
  xprev = NULL,
  names = NULL,
  gap.filling = NULL,
  type = c("autoregression", "covariance"),
  ...
)

## S3 method for class 'list'
generate(x, factor.series = names(x), n = NA, ...)

## S3 method for class 'MonthlyList'
generate(x, origin, n, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>null object or the model used for random generation , e.g. a VAR model as a <code>varest-class</code> or <code>varest2-class</code> object. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments for <code>FUN</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>random function of the probability distribution used for noise random generation. Default is <code>rnorm</code>. See <a href="https://CRAN.R-project.org/view=Distributions">https://CRAN.R-project.org/view=Distributions</a></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>number of generations requested</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>number of the variables to be generated simultaneously, i.e. the K parameters of a VAR. It is automatically detected by <code>x</code>, <code>names</code> or <code>cov</code>, if one of these is not <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p>null object or string vectors or names of the variables to be generated simultaneously. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cov</code></td>
<td>
<p>null object or covariance matrix of the random variables to be generated simultaneously. Default is <code>NULL</code>, not used in case this information can be detected from <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gap.filling</code></td>
<td>
<p>data frame with time series with gabs (<code>NA</code> values) to be filled. Default is <code>NULL</code> and not considered, otherwise the method returns this data frame with <code>NA</code>  row replaced with generated (e.g auto-regressed) values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noise</code></td>
<td>
<p>null object or a generic external noise for <code>x</code> model residuals, e.g. standard white noise, for random generation with the model <code>x</code>. Default is <code>NULL</code>. If <code>NULL</code> the noise is automatically calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exogen</code></td>
<td>
<p>null object or amatrix or data frame with exogeneous variables (predictors) id requested by <code>x</code>. Default is <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xprev</code></td>
<td>
<p>null object or initial condition of the multivariate random process to be generated. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extremes</code></td>
<td>
<p>see <code>inv_GPCA</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>character string used in some method implementations. See <code>inv_GPCA</code>. In the matrix implementation, default is <code>"autoregression"</code>, i.e. the matrix is used as a vector auto-regression coefficient, if it is <code>"covariance"</code> the method genereted a sample with covariance matrix given by <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GPCA.row.gap.filling.option</code></td>
<td>
<p>logical value. Default is <code>TRUE</code>. In case of <code>GPCAvarest2-class</code> objects, If <code>gap.filling</code> contains both <code>NA</code> and finite values in the same row, 
this row will contains all <code>NA</code> values after GPCA. In this case all row values are generated through auto-regression. If <code>GPCA.row.gap.filling.option</code> all insterted non-NA <code>gap.filling</code> values   are repleced before returning the function value. 
Otherwise, in the rows with <code>NA</code>s all values are re-generated. The option <code>TRUE</code> is not safe in case the gaps are vary long becouse the genereted values is used for subsequent auto-regrossion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factor.series</code></td>
<td>
<p>factor series used by 'factor.series'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>origin</code></td>
<td>
<p>start date for generation. See <code>adddate</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a matrix or a data frame object
</p>


<h3>See Also</h3>

<p><code>getVARmodel</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">



library(RGENERATE)

set.seed(122)
NSTEP &lt;- 1000
x &lt;- rnorm(NSTEP)
y &lt;- x+rnorm(NSTEP)
z &lt;- c(rnorm(1),y[-1]+rnorm(NSTEP-1))
df &lt;- data.frame(x=x,y=y,z=z)
var &lt;- VAR(df,type="none")
gg &lt;- generate(var,n=20) 

cov &lt;- cov(gg)

ggg &lt;- generate(FUN=rnorm,n=NSTEP,cov=cov)

 
library(RMAWGEN)
exogen &lt;- as.data.frame(x+5)
gpcavar &lt;- getVARmodel(data=df,suffix=NULL,p=3,n_GPCA_iteration=5,
n_GPCA_iteration_residuals=5,exogen=exogen)
gpcagg &lt;- generate(gpcavar,n=20,exogen=exogen) 

## Generate an auto-regrassive time-series with a generic matrix 

A &lt;- diag(c(1,-1,1))
mgg &lt;- generate(A,n=100)

### Gap Filling Examples

 dfobs &lt;- df
 dfobs[20:30,] &lt;- NA 
 n &lt;- nrow(df)
 dffill &lt;- generate(gpcavar,n=n,exogen=exogen,gap.filling=dfobs,names=names(dfobs)) 
 
qqplot(dfobs$y,dffill$y)
abline(0,1)

### Gap filling with matrix 

mgg_n &lt;- mgg
mgg_n[20:30,2] &lt;- NA 

mgg_nfill &lt;- generate(A,gap.filling=mgg_n)

print(mgg_n[1:31,])
print(mgg_nfill[1:31,])

dfobs2 &lt;- df
dfobs2[20:30,2] &lt;- NA
n &lt;- nrow(df)
dffill2 &lt;- generate(gpcavar,n=n,exogen=exogen,gap.filling=dfobs2,names=names(dfobs2)) 

qqplot(dfobs$y,dffill$y)
abline(0,1)
 
### generation with 'generetion.matrix' 
### and matrix 'x' is a covariance matrix 

covariance &lt;- array(0.5,c(3,3))

diag(covariance) &lt;- 1

set.seed(127)
ngns &lt;- 1000
gg1 &lt;- generate(FUN=rnorm,n=ngns,cov=covariance)
set.seed(127)
gg2 &lt;- generate(covariance,type="covariance",n=ngns)


## generate with a list of covariance matrix 
ndim &lt;- 5
dim &lt;- c(ndim,ndim)
CS1 &lt;- array(0.3,dim)
CS2 &lt;- array(0.5,dim)
CS3 &lt;- array(0.7,dim)
CS4 &lt;- array(0.1,dim)

diag(CS1) &lt;- 1
diag(CS2) &lt;- 1
diag(CS3) &lt;- 1
diag(CS4) &lt;- 1

list &lt;- list(CS1=CS1,CS2=CS2,CS3=CS3,CS4=CS4)

series &lt;- rep(1:4,times=4,each=100)
series &lt;- sprintf("CS%d",series)
names_A &lt;- sprintf("A%d",1:ndim)
ggs &lt;- generate(list,factor.series=series,FUN=rnorm,type="covariance",names=names_A)

ggs_CS1 &lt;- ggs[series=="CS1",]
cov(ggs_CS1)

ggs_CS3 &lt;- ggs[series=="CS3",] 
cov(ggs_CS3)
</code></pre>


</div>