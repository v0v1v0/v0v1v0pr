<div class="container">

<table style="width: 100%;"><tr>
<td>simulate_choices</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate choice data</h2>

<h3>Description</h3>

<p>This function simulates choice data from a probit model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simulate_choices(
  form,
  N,
  T = 1,
  J,
  re = NULL,
  alternatives = NULL,
  ordered = FALSE,
  ranked = FALSE,
  base = NULL,
  covariates = NULL,
  seed = NULL,
  true_parameter = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>form</code></td>
<td>
<p>A <code>formula</code> object that is used to specify the model equation.
The structure is <code>choice ~ A | B | C</code>, where
</p>

<ul>
<li> <p><code>choice</code> is the name of the dependent variable (the choices),
</p>
</li>
<li> <p><code>A</code> are names of alternative and choice situation specific
covariates with a coefficient that is constant across alternatives,
</p>
</li>
<li> <p><code>B</code> are names of choice situation specific covariates with
alternative specific coefficients,
</p>
</li>
<li>
<p> and <code>C</code> are names of alternative and choice situation specific
covariates with alternative specific coefficients.
</p>
</li>
</ul>
<p>Multiple covariates (of one type) are separated by a <code>+</code> sign.
By default, alternative specific constants (ASCs) are added to the model.
They can be removed by adding <code>+0</code> in the second spot.
</p>
<p>In the ordered probit model (<code>ordered = TRUE</code>), the <code>formula</code>
object has the simple structure <code>choice ~ A</code>. ASCs are not estimated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>The number (greater or equal 1) of decision makers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T</code></td>
<td>
<p>The number (greater or equal 1) of choice occasions or a vector of choice
occasions of length <code>N</code> (i.e. a decision maker specific number).
Per default, <code>T = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>J</code></td>
<td>
<p>The number (greater or equal 2) of choice alternatives.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>re</code></td>
<td>
<p>A character (vector) of covariates of <code>form</code> with random effects.
If <code>re = NULL</code> (the default), there are no random effects.
To have random effects for the ASCs, include <code>"ASC"</code> in <code>re</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternatives</code></td>
<td>
<p>A character vector with the names of the choice alternatives.
If not specified, the choice set is defined by the observed choices.
If <code>ordered = TRUE</code>, <code>alternatives</code> is assumed to be specified with
the alternatives ordered from worst to best.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ordered</code></td>
<td>
<p>A boolean, <code>FALSE</code> per default. If <code>TRUE</code>, the choice set
<code>alternatives</code> is assumed to be ordered from worst to best.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ranked</code></td>
<td>
<p>TBA</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>A character, the name of the base alternative for covariates that are not
alternative specific (i.e. type 2 covariates and ASCs). Ignored and set to
<code>NULL</code> if the model has no alternative specific covariates (e.g. in the
ordered probit model).
Per default, <code>base</code> is the last element of <code>alternatives</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariates</code></td>
<td>
<p>A named list of covariate values. Each element must be a vector of length
equal to the number of choice occasions and named according to a covariate.
Covariates for which no values are supplied are drawn from a standard normal
distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Set a seed for the simulation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true_parameter</code></td>
<td>
<p>Optionally specify a named list with true parameter values for <code>alpha</code>,
<code>C</code>, <code>s</code>, <code>b</code>, <code>Omega</code>, <code>Sigma</code>, <code>Sigma_full</code>,
<code>beta</code>, <code>z</code>, or <code>d</code> for the simulation.
See <a href="https://loelschlaeger.de/RprobitB/articles/v01_model_definition.html">the vignette on model definition</a>
for definitions of these variables.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See <a href="https://loelschlaeger.de/RprobitB/articles/v02_choice_data.html">the vignette on choice data</a>
for more details.
</p>


<h3>Value</h3>

<p>An object of class <code>RprobitB_data</code>.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code>check_form()</code> for checking the model formula
</p>
</li>
<li> <p><code>overview_effects()</code> for an overview of the model effects
</p>
</li>
<li> <p><code>create_lagged_cov()</code> for creating lagged covariates
</p>
</li>
<li> <p><code>as_cov_names()</code> for re-labeling alternative-specific covariates
</p>
</li>
<li> <p><code>prepare_data()</code> for preparing empirical choice data
</p>
</li>
<li> <p><code>train_test()</code> for splitting choice data into a train and test subset
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">### simulate data from a binary probit model with two latent classes
data &lt;- simulate_choices(
  form = choice ~ cost | income | time,
  N = 100,
  T = 10,
  J = 2,
  re = c("cost", "time"),
  alternatives = c("car", "bus"),
  seed = 1,
  true_parameter = list(
    "alpha" = c(-1, 1),
    "b" = matrix(c(-1, -1, -0.5, -1.5, 0, -1), ncol = 2),
    "C" = 2
  )
)

### simulate data from an ordered probit model
data &lt;- simulate_choices(
  form = opinion ~ age + gender,
  N = 10,
  T = 1:10,
  J = 5,
  alternatives = c("very bad", "bad", "indifferent", "good", "very good"),
  ordered = TRUE,
  covariates = list(
    "gender" = rep(sample(c(0, 1), 10, replace = TRUE), times = 1:10)
  ),
  seed = 1
)

### simulate data from a ranked probit model
data &lt;- simulate_choices(
  form = product ~ price,
  N = 10,
  T = 1:10,
  J = 3,
  alternatives = c("A", "B", "C"),
  ranked = TRUE,
  seed = 1
)

</code></pre>


</div>