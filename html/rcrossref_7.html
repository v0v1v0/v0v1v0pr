<div class="container">

<table style="width: 100%;"><tr>
<td>cr_citation_count</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get a citation count via CrossRef OpenURL</h2>

<h3>Description</h3>

<p>Get a citation count via CrossRef OpenURL
</p>


<h3>Usage</h3>

<pre><code class="language-R">cr_citation_count(
  doi,
  url = "http://www.crossref.org/openurl/",
  key = "cboettig@ropensci.org",
  async = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>doi</code></td>
<td>
<p>(character) One or more digital object identifiers. If
<code>async=FALSE</code> we do synchronous HTTP requests in an <code>lapply</code> call, but
if <code>async=TRUE</code>, we do asynchronous HTTP requests.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>url</code></td>
<td>
<p>(character) the url for the function (should be left to default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>your Crossref OpenURL email address, either enter, or loads
from <code>.Rprofile</code>. We use a default, so you don't need to pass this.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>async</code></td>
<td>
<p>(logical) use async HTTP requests. Default: <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Curl options passed on to <code>crul::HttpClient()</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See https://www.crossref.org/labs/openurl/ for more info on this
Crossref API service.
</p>
<p>This number is also known as <strong>cited-by</strong>
</p>
<p>Note that this number may be out of sync/may not match that that the
publisher is showing (if they show it) for the same DOI/article.
</p>
<p>We've contacted Crossref about this, and they have confirmed this.
Unfortunately, we can not do anything about this.
</p>
<p>I would imagine it's best to use this data instead of from the publishers,
and this data you can get programatically :)
</p>


<h3>Value</h3>

<p>a data.frame, with columns <code>doi</code> and <code>count</code>. The count column
has numeric values that are the citation count for that DOI, or <code>NA</code> if
not found or no count available
</p>


<h3>failure behavior</h3>

<p>When a DOI does not exist, we may not get a proper HTTP status code
to throw a proper stop status, so we grep on the text itself, and throw
a stop if only one DOI passed and not using async, or warning if more
than one DOI passed or if using async.
</p>


<h3>Author(s)</h3>

<p>Carl Boettiger <a href="mailto:cboettig@gmail.com">cboettig@gmail.com</a>,
Scott Chamberlain
</p>


<h3>See Also</h3>

<p><code>cr_search()</code>, <code>cr_r()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
cr_citation_count(doi="10.1371/journal.pone.0042793")
cr_citation_count(doi="10.1016/j.fbr.2012.01.001")
## many
dois &lt;- c("10.1016/j.fbr.2012.01.001", "10.1371/journal.pone.0042793")
cr_citation_count(doi = dois)
# DOI not found
cr_citation_count(doi="10.1016/j.fbr.2012")

# asyc
dois &lt;- c("10.1016/j.fbr.2012.01.001", "10.1371/journal.pone.0042793", 
 "10.1016/j.fbr.2012", "10.1109/tsp.2006.874779", "10.1007/bf02231542", 
 "10.1007/s00277-016-2782-z", "10.1002/9781118339893.wbeccp020", 
 "10.1177/011542659200700105", "10.1002/chin.197444438", 
 "10.1002/9781118619599.ch4", "10.1007/s00466-012-0724-8", 
 "10.1017/s0376892900029477", "10.1167/16.12.824")
res &lt;- cr_citation_count(doi = dois, async = TRUE)
## verbose curl
res &lt;- cr_citation_count(doi = dois, async = TRUE, verbose = TRUE)
res
## time comparison
system.time(cr_citation_count(doi = dois, async = TRUE))
system.time(cr_citation_count(doi = dois, async = FALSE))

# from a set of random DOIs
cr_citation_count(cr_r(50), async = TRUE)

## End(Not run)
</code></pre>


</div>