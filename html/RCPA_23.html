<div class="container">

<table style="width: 100%;"><tr>
<td>runConsensusAnalysis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform Consensus Analysis</h2>

<h3>Description</h3>

<p>This function performs consensus analysis using two methods.
These methods are weighted.mean and RRA.
</p>


<h3>Usage</h3>

<pre><code class="language-R">runConsensusAnalysis(
  PAResults,
  method = c("weightedZMean", "RRA"),
  weightsList = NULL,
  useFDR = TRUE,
  rank.by = c("normalizedScore", "pFDR", "both"),
  backgroundSpace = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>PAResults</code></td>
<td>
<p>A list of at least length two from enrichment analysis results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The consensus analsyis method. This can be either weighted.mean or RRA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weightsList</code></td>
<td>
<p>A vector of integer values.
Each element shows the corresponding input result weight.
When selected method is weighted.mean this parameter needs to be specified.
If it is null all the weights are considered as equal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useFDR</code></td>
<td>
<p>A logical parameter, indicating if adjusted p-values should be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rank.by</code></td>
<td>
<p>An string parameter which specifies how the input results should be ranked.
This parameter is used when the selected method is RRA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>backgroundSpace</code></td>
<td>
<p>A list of lists with the same length as PAResults.
Each list contains underlying space (set of pathways) for each input dataframe in PAResults.
This parameter is optional.
NULL means all input dataframes share a common space.
So the union pathways of all input dataframes is taken into account.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A dataframe of consensus analysis result, which contains the following columns:
</p>

<ul>
<li>
<p>ID: The ID of pathway
</p>
</li>
<li>
<p>p.value: The p-value of pathway
</p>
</li>
<li>
<p>pFDR: The adjusted p-value using Benjamini-Hochberg method
</p>
</li>
<li>
<p>name: The name of pathway
</p>
</li>
<li>
<p>pathwaySize: The size of pathway
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">

library(RCPA)

affyFgseaResult &lt;- loadData("affyFgseaResult")
agilFgseaResult &lt;- loadData("agilFgseaResult")
RNASeqFgseaResult &lt;- loadData("RNASeqFgseaResult")

consensusPAResult &lt;- RCPA::runConsensusAnalysis(
    list(affyFgseaResult, agilFgseaResult, RNASeqFgseaResult),
    method = "weightedZMean"
)

print(head(consensusPAResult))


</code></pre>


</div>