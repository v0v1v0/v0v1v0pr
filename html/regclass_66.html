<div class="container">

<table style="width: 100%;"><tr>
<td>generalization_error</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Calculating the generalization error of a model on a set of data
</h2>

<h3>Description</h3>

<p>This function takes a linear regression from <code>lm</code>, logistic regression from <code>glm</code>, partition model from <code>rpart</code>, or random forest from <code>randomForest</code> and calculates the generalization error on a dataframe.  </p>


<h3>Usage</h3>

<pre><code class="language-R">generalization_error(MODEL,HOLDOUT,Kfold=FALSE,K=5,R=10,seed=NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>MODEL</code></td>
<td>

<p>A linear regression model created using <code>lm</code>, a logistic regression model created using <code>glm</code>, a partition model created using <code>rpart</code>, or a random forest created using <code>randomForest</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HOLDOUT</code></td>
<td>

<p>A dataset for which the generalization error will be calculated.  If not given, the error on the data used to build the model (<code>MODEL</code>) is used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Kfold</code></td>
<td>

<p>If <code>TRUE</code>, function will estimate the generalization error of <code>MODEL</code> using repeated K-fold cross validation (regression models only)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>

<p>The number of folds used in repeated K-fold cross-validation for the estimation of the generalization error for the model <code>MODEL</code>.  It is useful to compare this number to the actual generalization error on <code>HOLDOUT</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>

<p>The number of repeats used in repeated K-fold cross-validation.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>an optional argument priming the random number seed for estimating the generalization error</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function calculates the error on <code>MODEL</code>, its estimated generalization error from repeated K-fold cross-validation (for regression models only), and the actual generalization error on <code>HOLDOUT</code>.  If the response is quantitative, the RMSE is reported.  If the response is categorical, the confusion matrices and misclassification rates are returned.
</p>


<h3>Author(s)</h3>

<p>Adam Petrie
</p>


<h3>References</h3>

<p>Introduction to Regression and Modeling
</p>


<h3>Examples</h3>

<pre><code class="language-R">
  #Education analytics
  data(STUDENT)
  set.seed(1010)
  train.rows &lt;- sample(1:nrow(STUDENT),0.7*nrow(STUDENT))
  TRAIN &lt;- STUDENT[train.rows,]
  HOLDOUT &lt;- STUDENT[-train.rows,]
  M &lt;- lm(CollegeGPA~.,data=TRAIN)
  #Also estimate the generalization error of the model
  generalization_error(M,HOLDOUT,Kfold=TRUE,seed=5020)
  #Try partition and randomforest, though they do not perform as well as regression here
  TREE &lt;- rpart(CollegeGPA~.,data=TRAIN)
  FOREST &lt;- randomForest(CollegeGPA~.,data=TRAIN)
  generalization_error(TREE,HOLDOUT)
  generalization_error(FOREST,HOLDOUT) 

  #Wine
  data(WINE)
  set.seed(2020)
  train.rows &lt;- sample(1:nrow(WINE),0.7*nrow(WINE))
  TRAIN &lt;- WINE[train.rows,]
  HOLDOUT &lt;- WINE[-train.rows,]
  M &lt;- glm(Quality~.^2,data=TRAIN,family=binomial)
  generalization_error(M,HOLDOUT)
  #Random forest predicts best on the holdout sample
  TREE &lt;- rpart(Quality~.,data=TRAIN)
  FOREST &lt;- randomForest(Quality~.,data=TRAIN)
  generalization_error(TREE,HOLDOUT)
  generalization_error(FOREST,HOLDOUT) 

</code></pre>


</div>