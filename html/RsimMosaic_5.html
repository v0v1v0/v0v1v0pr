<div class="container">

<table style="width: 100%;"><tr>
<td>composeMosaicFromImageRandomOptim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Randomly transform an image into a mosaic optimizing the library usage
</h2>

<h3>Description</h3>

<p>A function to compose the mosaic of an image based on regular tiles. This function will compute the mosaic by randomly replacing the pixels of the original image with tiles from a tile library, and it will try to use as many tiles from the library as possible.
</p>


<h3>Usage</h3>

<pre><code class="language-R">composeMosaicFromImageRandomOptim(originalImageFileName, outputImageFileName, 
  imagesToUseInMosaic, useGradients = FALSE, removeTiles = TRUE, 
  fracLibSizeThreshold = 0.7, repFracSize = 0.25, verbose = TRUE, neig=20)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>originalImageFileName</code></td>
<td>

<p>The original image you want to use to create the mosaic from (note that for the sake of your computer's memory, this image should be small, about 128 or 256 pixels wide, or so...).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputImageFileName</code></td>
<td>

<p>The filename (with the path) where you want the image to be stored. This image can be quite large, depending on the number of pixels in the original image and on the tiles.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>imagesToUseInMosaic</code></td>
<td>

<p>A path with the folder where the tiles are contained (note that the tiles should be square and for the sake of your computer's memory, small, e.g. 40x40, 120x120 pixels or so...). You can use the function <code>createTiles</code> to create a folder with smaller tiles from a folder with your original images.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useGradients</code></td>
<td>

<p>A flag to indicate if approximate gradients should be taken into account when selecting the tiles.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>removeTiles</code></td>
<td>

<p>A flag to indicate if the user wants to temporarily remove tiles from the library after using them, so tile repetition would be discoraged by the software. If the tile library is small, the tiles will be added back to the library after its size reaches a certain threshold (defined by <code>fracLibSizeThreshold</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fracLibSizeThreshold</code></td>
<td>

<p>The fraction of the size of the original tile library when the tiles must be (randomly) put back into the library.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repFracSize</code></td>
<td>

<p>The fraction of the size of the original tile library to replace when filling back the array (it should be smaller than, or equal to, 1-fracLibSizeThreshold).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>A flag indicating if the user wants to have messages during the mosaic creation.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>neig</code></td>
<td>

<p>An integer indicating the number of neighbors to retrieve from the tile library.
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Alberto Krone-Martins
</p>


<h3>See Also</h3>

<p><code>composeMosaicFromImageRandom</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Set the filename of the original image
#origImgFileN &lt;- system.file("extdata", "verySmallMoon.jpg", package="RsimMosaic") 
origImgFileN &lt;- system.file("extdata", "reallyVerySmallMoon.jpg", package="RsimMosaic") 

# Set the folder where the tiles library is located
pathToTileLib &lt;- system.file("extdata/2Massier", package="RsimMosaic")

# Set the filename of the output image (the mosaic!)
outImgFileN &lt;- file.path(tempdir(), "verySmallMoon-2MASS-Mosaic.jpg")

# Create the mosaic
composeMosaicFromImageRandomOptim(origImgFileN, outImgFileN, pathToTileLib, removeTiles=FALSE)

</code></pre>


</div>