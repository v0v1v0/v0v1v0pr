<div class="container">

<table style="width: 100%;"><tr>
<td>point_ident_test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function performing the test of point identification on a validation sample.</h2>

<h3>Description</h3>

<p>Function performing the test of point identification on a validation sample.
</p>


<h3>Usage</h3>

<pre><code class="language-R">point_ident_test(
  validation,
  Ldata = NULL,
  Rdata = NULL,
  out_var,
  nc_var,
  c_var = NULL,
  alpha = 0.05,
  constraint = NULL,
  nc_sign = NULL,
  c_sign = NULL,
  weights_validation = NULL,
  weights_x = NULL,
  weights_y = NULL,
  nbCores = 1,
  grid = 10,
  eps_default = 0.5,
  R2bound = NULL,
  unchanged = FALSE,
  ties = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>validation</code></td>
<td>
<p>dataset containing the joint distribution (Y,Xnc,Xc) where Y is the outcome,  Xnc are the non commonly observed regressors,  Xc are potential common regressors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ldata</code></td>
<td>
<p>dataset containing (Y,Xc) where Y is the outcome, Xc are potential common regressors. Default is NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rdata</code></td>
<td>
<p>dataset containing (Xnc,Xc) where Xnc are the non commonly observed regressors, Xc are potential common regressors. Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_var</code></td>
<td>
<p>label of the outcome variable Y.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nc_var</code></td>
<td>
<p>label of the non commonly observed regressors Xnc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c_var</code></td>
<td>
<p>label of the commonly observed regressors Xc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>the level of the confidence intervals. Default is 0.05.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constraint</code></td>
<td>
<p>a vector indicating the different constraints in a vector of the size of X_c indicating the type of constraints, if any on f(X_c) : "concave", "concave", "nondecreasing", "nonincreasing", "nondecreasing_convex", "nondecreasing_concave",  "nonincreasing_convex", "nonincreasing_concave", or NULL for none. Default is NULL, no contraints at all.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nc_sign</code></td>
<td>
<p>if sign restrictions on the non-commonly observed regressors Xnc: -1 for a minus sign, 1 for a plus sign, 0 otherwise. Default is NULL, i.e. no constraints.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c_sign</code></td>
<td>
<p>if sign restrictions on the commonly observed regressors: -1 for a minus sign, 1 for a plus sign, 0 otherwise. Default is NULL, i.e. no constraints.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights_validation</code></td>
<td>
<p>the sampling weights for the full dataset (Y, Xnc,Xc). Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights_x</code></td>
<td>
<p>the sampling weights for the dataset (Xnc,Xc). Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights_y</code></td>
<td>
<p>the sampling weights for the dataset (Y,Xc). Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nbCores</code></td>
<td>
<p>number of cores for the parallel computation. Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid</code></td>
<td>
<p>the number of points for the grid search on epsilon. Default is 30. If NULL, then epsilon is taken fixed equal to eps_default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps_default</code></td>
<td>
<p>If grid =NULL, then epsilon is taken equal to eps_default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R2bound</code></td>
<td>
<p>the lower bound on the R2 of the long regression if any. Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unchanged</code></td>
<td>
<p>Boolean indicating if the categories based on Xc must be kept unchanged (TRUE). Otherwise (FALSE), a thresholding approach is taken imposing that each value appears more than 10 times in both datasets and 0.01 per cent is the pooled one. Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ties</code></td>
<td>
<p>Boolean indicating if there are ties in the dataset. Default is FALSE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list containing, in order:
- S: the point estimation used the statistic for the test
</p>
<p>- S_ci: the CI on the upper bound
</p>
<p>- stat: the statistic of the test
</p>
<p>- the critical value at level alpha
</p>
<p>- the p_value of the test
</p>
<p>- the fit with the OLS on this sample
</p>
<p>- n the sample size
</p>
<p>- epsilon, the choice of epsilon we made
</p>
<p>- r2long the r2 on the  long regression
</p>
<p>-r2short the r2 on the short regression
</p>


<h3>Examples</h3>

<pre><code class="language-R">
### Simulating joint distribution according to this DGP
n=200
Xnc = rnorm(n,0,1.5)
epsilon = rnorm(n,0,1)

## true value
beta0 =1
Y = Xnc*beta0 + epsilon
out_var = "Y"
nc_var = "Xnc"

# create the datasets
validation&lt;- as.data.frame(cbind(Y,Xnc))
colnames(validation) &lt;- c(out_var,nc_var)


############# Estimation #############
test = point_ident_test (validation, Ldata=NULL,Rdata=NULL,out_var,nc_var)


</code></pre>


</div>