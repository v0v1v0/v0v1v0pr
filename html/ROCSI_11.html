<div class="container">

<table style="width: 100%;"><tr>
<td>MClogit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>MClogit</h2>

<h3>Description</h3>

<p>function for modified covariate methods based on glmnet
</p>


<h3>Usage</h3>

<pre><code class="language-R">MClogit(
  dataset,
  yvar,
  xvars,
  trtvar,
  cvar = NULL,
  nfolds = 5,
  type = "binary",
  newx = NULL,
  bestsub = "lambda.1se",
  type.measure = "auc"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataset</code></td>
<td>
<p>data matrix for training dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yvar</code></td>
<td>
<p>column name for outcome</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xvars</code></td>
<td>
<p>a string vector of column names for input markers</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trtvar</code></td>
<td>
<p>column name for treatment (the column should contain binary code with 1 being treatment and 0 being control)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cvar</code></td>
<td>
<p>column name for censor (the column should contain binary code with 1 being event and 0 being censored)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfolds</code></td>
<td>
<p>n fold CV used for cv.glmnet</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>outcome type ("binary" for binary outcome and "survival" for time-to-event outcome)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newx</code></td>
<td>
<p>data matrix for testing dataset X</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bestsub</code></td>
<td>
<p>criteria for best lambda, used by glmnet</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type.measure</code></td>
<td>
<p>type of measure used by glmnet</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>function for ROCSI
</p>


<h3>Value</h3>

<p>A list with ROCSI output
</p>

<dl>
<dt>x.logit</dt>
<dd>
<p>final beta estimated from MClogit</p>
</dd>
<dt>predScore</dt>
<dd>
<p>a data.frame of testing data and its predictive signature scores (based on beta.aABC) for each subjects</p>
</dd>
<dt>abc</dt>
<dd>
<p>ABC in testing dataset based on optimal beta</p>
</dd>
<dt>fit.cv</dt>
<dd>
<p>the fitted glmnet object</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">n &lt;- 100
k &lt;- 5
prevalence &lt;- sqrt(0.5)
rho&lt;-0.2
sig2 &lt;- 2
rhos.bt.real &lt;- c(0, rep(0.1, (k-3)))*sig2
y.sig2 &lt;- 1
yvar="y.binary"
xvars=paste("x", c(1:k), sep="")
trtvar="treatment"
prog.eff &lt;- 0.5
effect.size &lt;- 1
a.constent &lt;- effect.size/(2*(1-prevalence))
ObsData &lt;- data.gen(n=n, k=k, prevalence=prevalence, prog.eff=prog.eff,
                    sig2=sig2, y.sig2=y.sig2, rho=rho,
                    rhos.bt.real=rhos.bt.real, a.constent=a.constent)
TestData &lt;- data.gen(n=n, k=k, prevalence=prevalence, prog.eff=prog.eff,
                     sig2=sig2, y.sig2=y.sig2, rho=rho,
                     rhos.bt.real=rhos.bt.real, a.constent=a.constent)
bst.mod &lt;- MClogit(dataset=ObsData$data, yvar=yvar, xvars=xvars,
trtvar=trtvar, nfolds = 5, newx=TestData$data,
type="binary", bestsub="lambda.1se")
bst.mod$abc
bst.mod$x.logit[-1,1]
</code></pre>


</div>