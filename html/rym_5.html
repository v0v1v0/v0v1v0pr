<div class="container">

<table style="width: 100%;"><tr>
<td>rym-offline-conversion</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Manage offline conversions
</h2>

<h3>Description</h3>

<p>Offline Conversion Management:
</p>

<dl>
<dt>rym_enable_offline_conversion</dt>
<dd>
<p>Enable offline conversion tracking for the specified counter.</p>
</dd>
<dt>rym_disable_offline_conversion</dt>
<dd>
<p>Disable offline conversion tracking for the specified counter.</p>
</dd>
<dt>rym_upload_offline_conversion</dt>
<dd>
<p>Upload offline conversions.</p>
</dd>
<dt>rym_allow_offline_conversion</dt>
<dd>
<p>Returns the date and time from which conversions can be linked to visits for the specified counter.</p>
</dd>
<dt>rym_get_uploadings_offline_conversions</dt>
<dd>
<p>Returns a list of offline conversion downloads.</p>
</dd>
</dl>
<h3>Usage</h3>

<pre><code class="language-R">rym_enable_offline_conversion(
   counter, 
   login      = getOption("rym.user"), 
   token.path = getOption("rym.token_path"))
           
rym_disable_offline_conversion(
   counter, 
   login      = getOption("rym.user"), 
   token.path = getOption("rym.token_path"))
   
rym_allow_offline_conversion(
   counter, 
   login      = getOption("rym.user"), 
   token.path = getOption("rym.token_path"))
   
rym_upload_offline_conversion(
   counter, 
   data,
   client.id.type = c("CLIENT_ID", "USER_ID"),
   comment        = paste0("Upload by rym at ", Sys.time()),
   login          = getOption("rym.user"), 
   token.path     = getOption("rym.token_path"))

rym_get_uploadings_offline_conversions(
   counter, 
   login      = getOption("rym.user"), 
   token.path = getOption("rym.token_path"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>counter</code></td>
<td>
<p>Your yandex metrica counter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data.frame, expense data for loading</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>client.id.type</code></td>
<td>
<p>Type of visitor identifiers: CLIENT_ID or USER_ID</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comment</code></td>
<td>
<p>Comment for data loading</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>login</code></td>
<td>
<p>character, Your Yandex login</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token.path</code></td>
<td>
<p>character, Directory for store API credential</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Loading data format.
</p>
<p>Require:
</p>

<dl>
<dt>UserId, ClientId, Yclid</dt>
<dd>
<p>Identifier of the visitor to the site or advertising campaign in Yandex.Direct, for example: 12345</p>
</dd>
<dt>Target</dt>
<dd>
<p>Target ID specified when creating the target, for example order_confirmed</p>
</dd>
<dt>DateTime</dt>
<dd>
<p>The time at which the conversion occurred in Unix Time Stamp format. Indicate the time in the time zone UTC + 0, for example: 1481718166</p>
</dd>
</dl>
<p>Optional:
</p>

<dl>
<dt>Price</dt>
<dd>
<p>Goal Value, for example: 1000</p>
</dd>
<dt>Currency</dt>
<dd>
<p>Three-letter currency code according to ISO 4217, for example: RUB</p>
</dd>
</dl>
<p>Example of <a href="https://download.cdn.yandex.net/from/yandex.ru/support/ru/metrica/files/offline-conversions.csv">CSV file</a>.
</p>


<h3>Author(s)</h3>

<p>Alexey Seleznev
</p>


<h3>References</h3>

<p>See official dox:
<a href="https://yandex.ru/dev/metrika/doc/api2/practice/conversion-docpage/#offline">API documents</a>
<a href="https://yandex.ru/support/metrica/data/offline-conversion_data.html">Yandex Metrica documents</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# read data for upload
data &lt;- read.csv("https://bit.ly/2CcsNyl")

# enable offline cnversion
rym_enable_offline_conversion(
   counter = 123456789, 
   login   = "your_login"
)

# upload data
rym_upload_offline_conversion(
   counter        = 123456789, 
   data           = data,
   client.id.type = "CLIENT_ID",
   login          = "your_login")
   
# check uploading
rym_allow_offline_conversion(
   counter = 123456789, 
   login   = "your_login")

## End(Not run)
</code></pre>


</div>