<div class="container">

<table style="width: 100%;"><tr>
<td>gbif_oai</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>GBIF registry data via OAI-PMH</h2>

<h3>Description</h3>

<p>GBIF registry data via OAI-PMH
</p>


<h3>Usage</h3>

<pre><code class="language-R">gbif_oai_identify(...)

gbif_oai_list_identifiers(
  prefix = "oai_dc",
  from = NULL,
  until = NULL,
  set = NULL,
  token = NULL,
  as = "df",
  ...
)

gbif_oai_list_records(
  prefix = "oai_dc",
  from = NULL,
  until = NULL,
  set = NULL,
  token = NULL,
  as = "df",
  ...
)

gbif_oai_list_metadataformats(id = NULL, ...)

gbif_oai_list_sets(token = NULL, as = "df", ...)

gbif_oai_get_records(ids, prefix = "oai_dc", as = "parsed", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Curl options passed on to <code>httr::GET</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>(character) A string to specify the metadata format in OAI-PMH
requests issued to the repository. The default (<code>"oai_dc"</code>) corresponds
to the mandatory OAI unqualified Dublin Core metadata schema.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>(character) string giving datestamp to be used as lower bound
for datestamp-based selective harvesting (i.e., only harvest records with
datestamps in the given range). Dates and times must be encoded using ISO
8601. The trailing Z must be used when including time. OAI-PMH implies
UTC for data/time specifications.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>until</code></td>
<td>
<p>(character) Datestamp to be used as an upper bound, for
datestamp-based selective harvesting (i.e., only harvest records with
datestamps in the given range).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>set</code></td>
<td>
<p>(character) A set to be used for selective harvesting (i.e., only
harvest records in the given set).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token</code></td>
<td>
<p>(character) a token previously provided by the server to resume
a request where it last left off. 50 is max number of records returned.
We will loop for you internally to get all the records you asked for.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as</code></td>
<td>
<p>(character) What to return. One of "df" (for data.frame;
default), "list" (get a list), or "raw" (raw text). For
<code>gbif_oai_get_records</code>, one of "parsed" or "raw"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id, ids</code></td>
<td>
<p>(character) The OAI-PMH identifier for the record. Optional.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions only work with GBIF registry data, and do so
via the OAI-PMH protocol
(https://www.openarchives.org/OAI/openarchivesprotocol.html)
</p>


<h3>Value</h3>

<p>raw text, list or data.frame, depending on requested output via
<code>as</code> parameter
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
gbif_oai_identify()

today &lt;- format(Sys.Date(), "%Y-%m-%d")
gbif_oai_list_identifiers(from = today)
gbif_oai_list_identifiers(set = "country:NL")

gbif_oai_list_records(from = today)
gbif_oai_list_records(set = "country:NL")

gbif_oai_list_metadataformats()
gbif_oai_list_metadataformats(id = "9c4e36c1-d3f9-49ce-8ec1-8c434fa9e6eb")

gbif_oai_list_sets()
gbif_oai_list_sets(as = "list")

gbif_oai_get_records("9c4e36c1-d3f9-49ce-8ec1-8c434fa9e6eb")
ids &lt;- c("9c4e36c1-d3f9-49ce-8ec1-8c434fa9e6eb",
         "e0f1bb8a-2d81-4b2a-9194-d92848d3b82e")
gbif_oai_get_records(ids)

## End(Not run)
</code></pre>


</div>