<div class="container">

<table style="width: 100%;"><tr>
<td>mvl_start_write_vector</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Piecewise output of very long numeric and integer vectors</h2>

<h3>Description</h3>

<p>While <code>mvl_fused_write_objects</code> can be used to create very large vectors and data frames of arbitrary type, it requires
piecewise data to be written first into an MVL file. Functions <code>mvl_start_write_vector()</code> and <code>mvl_rewrite_vector()</code> provide a way to create very long vectors in one pass.
Only numeric and integer vectors are supported.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mvl_start_write_vector(MVLHANDLE, x, expected.length = NULL, name = NULL)

mvl_rewrite_vector(obj, offset, x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>MVLHANDLE</code></td>
<td>
<p>handle to opened MVL file as generated by mvl_open()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an integer or numeric vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expected.length</code></td>
<td>
<p>the length of vector to create. Use double to pass large values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>if specified add a named entry to MVL file directory</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>an MVL vector object to modify</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>the offset into MVL vector (starting with 1) to write x</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>One convenient use is to compute <code>f(x,y,z,...)</code> with very long vector arguments by iterating over indices. The iteration can be done using fixed blocks of indices, or by using groups of indices computed with other MVL functions. 
</p>
<p>It is generally recommended to call <code>mvl_rewrite_vector()</code> with large blocks to improve I/O performance and reduce number of writes to underlying media.
</p>


<h3>See Also</h3>

<p>mvl_fused_write_objects
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
Mtmp&lt;-mvl_open("tmp_a.mvl", append=TRUE, create=TRUE)
offset&lt;-mvl_start_write_object(Mtmp, runif(10), expected.length=1000, "vec1")
Mtmp&lt;-mvl_remap(Mtmp)
mvl_rewrite_vector(Mtmp[offset], 50, rnorm(20))

## End(Not run)


</code></pre>


</div>