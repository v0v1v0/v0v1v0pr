<div class="container">

<table style="width: 100%;"><tr>
<td>dbIndex</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create an index.</h2>

<h3>Description</h3>

<p>Defines a new index on a PostgreSQL table.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dbIndex(
  conn,
  name,
  colname,
  idxname,
  unique = FALSE,
  method = c("btree", "hash", "rtree", "gist"),
  display = TRUE,
  exec = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>conn</code></td>
<td>
<p>A connection object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>A character string specifying a PostgreSQL table name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colname</code></td>
<td>
<p>A character string, or a character vector
specifying the name of the column to which the key will be
associated; alternatively, a character vector specifying the
name of the columns to build the index.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idxname</code></td>
<td>
<p>A character string specifying the name of the index
to be created. By default, this uses the name of the table
(without the schema) and the name of the columns as follows:
<code>&lt;table_name&gt;_&lt;column_names&gt;_idx</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unique</code></td>
<td>
<p>Logical. Causes the system to check for duplicate
values in the table when the index is created (if data already
exist) and each time data is added. Attempts to insert or
update data which would result in duplicate entries will
generate an error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The name of the method to be used for the
index. Choices are <code>"btree"</code>, <code>"hash"</code>,
<code>"rtree"</code>, and <code>"gist"</code>. The default method is
<code>"btree"</code>, although <code>"gist"</code> should be the index of
choice for PostGIS spatial types (geometry, geography,
raster).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>display</code></td>
<td>
<p>Logical. Whether to display the query (defaults to
<code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exec</code></td>
<td>
<p>Logical. Whether to execute the query (defaults to
<code>TRUE</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>exec = TRUE</code>, returns <code>TRUE</code> if the index was
successfully created.
</p>


<h3>Author(s)</h3>

<p>Mathieu Basille <a href="mailto:mathieu@basille.org">mathieu@basille.org</a>
</p>


<h3>See Also</h3>

<p>The PostgreSQL documentation:
<a href="http://www.postgresql.org/docs/current/static/sql-createindex.html">http://www.postgresql.org/docs/current/static/sql-createindex.html</a>;
the PostGIS documentation for GiST indexes:
<a href="http://postgis.net/docs/using_postgis_dbmanagement.html#id541286">http://postgis.net/docs/using_postgis_dbmanagement.html#id541286</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Examples use a dummy connection from DBI package
conn &lt;- DBI::ANSI()

## GIST index
dbIndex(conn, name = c("sch", "tbl"), colname = "geom", method = "gist",
    exec = FALSE)

## Regular BTREE index on multiple columns
dbIndex(conn, name = c("sch", "tbl"), colname = c("col1", "col2",
    "col3"), exec = FALSE)
</code></pre>


</div>