<div class="container">

<table style="width: 100%;"><tr>
<td>p_down</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Download the Package Documentation in One Directory or in Several Subdirectories</h2>

<h3>Description</h3>

<p>If <code>pkgs</code> is a vector of packages obtained from <code>s_crandb</code>,
<code>p_down</code> downloads from CRAN and saves in the <code>dir</code> directory (by default
the current directory) the index page, the manual, the vignettes, the README, NEWS,
ChangeLog, CRAN checks files, the source code in <em>pkg_ver.tar.gz</em> format,
the binary code in <em>pkg_ver.tgz</em> (Mac OSX) or <em>pkg_ver.zip</em> (Windows)
format and a minimal R-script of each package. The files that do not exist are
ignored, with no warning.
</p>
<p>If <code>pkgs</code> is a list of packages obtained from <code>s_crandb_list</code>,
<code>p_down</code> saves the downloaded files in subdirectories named after the names
of the list, e.g. the keywords used at the search step. The names are
eventually modified with <code>gsub(".", "_", make.names(pkg), fixed = TRUE)</code>
to cope with Unix and Windows directory names.
</p>
<p><code>p_down0</code> calls <code>p_down</code> with different values for each argument.
With the default configuration, this function downloads nothing. It is mostly
used to download one specific item which has not been previously downloaded.
</p>
<p><code>p_downarch</code> downloads from CRAN archive the tar.gz file of one or several
packages, either the last version(s) with <code>Sys.Date()</code> or the version(s)
before a given date. It combines 3 functions: <code>p_archive_lst</code>
lists the packages stored in CRAN archive and their version numbers,
<code>l_targz</code> extracts the appropriate version numbers available
before a given date, <code>targz_down</code> downloads the tar.gz files in the selected
directory (default is the current directory) and eventually decompresses it.
</p>
<p><code>targz_down</code> downloads the tar.gz files from CRAN archive to the selected
directory (default is the current directory) and eventually decompresses it.
If <code>url = "https://cran.r-project.org/src/contrib"</code>, <code>targz_down</code>
will take the latest version of the package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">p_down(..., char = NULL, index = TRUE, manual = TRUE, vignettes = TRUE,
  RqmdRmd = FALSE, README = TRUE, NEWS = FALSE, ChangeLog = FALSE,
  checks = FALSE, targz = FALSE, untar = FALSE, binary = FALSE,
  type = "binary", script = FALSE, dir = ".", crandb = get("crandb",
  envir = .GlobalEnv), repos = getOption("repos")[1])

p_down0(..., char = NULL, index = FALSE, manual = FALSE,
  vignettes = FALSE, RqmdRmd = FALSE, README = FALSE, NEWS = FALSE,
  ChangeLog = FALSE, checks = FALSE, targz = FALSE, untar = FALSE,
  binary = FALSE, type = "binary", script = FALSE, dir = ".",
  crandb = get("crandb", envir = .GlobalEnv),
  repos = getOption("repos")[1])

p_downarch(..., char = NULL, before = Sys.Date(), dir = ".",
  untar = FALSE, url = "https://cran.r-project.org/src/contrib/Archive")

targz_down(ptargz, dir = ".", untar = FALSE,
  url = "https://cran.r-project.org/src/contrib/Archive")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>any format recognized by <code>cnsc</code>, including list.
A vector or packages or a named list of packages (with names
being the keywords).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>char</code></td>
<td>
<p>(name to) a character vector or a list. Use this argument if
<code>...</code> fails or if you call the function from another function.
If used, argument <code>...</code> is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>logical. Download the html index page of each package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>manual</code></td>
<td>
<p>logical. Download the pdf manual.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vignettes</code></td>
<td>
<p>logical. Download the html and pdf vignettes, if they exist.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RqmdRmd</code></td>
<td>
<p>logical. Download the R, Rmd and qmd source files of the vignettes, if they exist.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>README</code></td>
<td>
<p>logical. Download the README file, if it exists.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NEWS</code></td>
<td>
<p>logical. Download the NEWS file, if it exists.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ChangeLog</code></td>
<td>
<p>logical. Download the ChangeLog file, if it exists.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checks</code></td>
<td>
<p>logical. Download the CRAN checks file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targz</code></td>
<td>
<p>logical. Download the *.tar.gz source file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>untar</code></td>
<td>
<p>logical. Decompress the downloaded tar.gz file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binary</code></td>
<td>
<p>logical. Download the *.tgz (Mac OSX) or *.zip (Windows)
binary file, depending the <code>type</code> value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>character. Either <code>"mac.binary"</code>, <code>"mac.binary.el-capitan"</code>,
or <code>"win.binary"</code>. The default, <code>"binary"</code>,
automatically detects the local OS and the variants
between R-3.6.3, R-4.0.0 or (for Windows) gcc8. See the
<code>type</code> section of <code>utils::install.packages</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>script</code></td>
<td>
<p>logical. Create a mini-script and save it in a *.R file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>character. The directory in which the files are saved.
Default value <code>"."</code> is the current directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crandb</code></td>
<td>
<p>data.frame <code>crandb</code>. The data.frame of CRAN packages.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repos</code></td>
<td>
<p>character. The address of your local CRAN.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>before</code></td>
<td>
<p>character which can be converted to a Date, for instance
"2017-05-14". Extract from CRAN archive the package(s)
available before this date. Can be synchronized with
the release dates of base-R versions listed at:
<a href="https://CRAN.R-project.org/src/contrib/">https://CRAN.R-project.org/src/contrib/</a> and
<a href="https://CRAN.R-project.org/package=rversions/readme/README.html">https://CRAN.R-project.org/package=rversions/readme/README.html</a></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>url</code></td>
<td>
<p>character. The url address of CRAN archive html file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptargz</code></td>
<td>
<p>character. A vector of package(s) with their version number
and tar.gz extension stored in CRAN archive. These packages
can be identified with <code>l_targz</code>.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## In real life, download crandb from CRAN or load it from your directory
## with functions crandb_down() or crandb_load().
## In this example, we use a small file.
crandb_load(system.file("data", "zcrandb.rda", package = "RWsearch"))

## Download the documentation in the "dirpkgs" directory. Flat representation.
dir &lt;- file.path(tempdir(), "dirpkgs")
p_down(RWsearch, pdfsearch, sos, dir = dir, repos = "https://cloud.r-project.org")
list.files(dir, recursive = TRUE, full.names = TRUE)

## Download the documentation in subdirectories named after the keywords.
dir   &lt;- file.path(tempdir(), "dirpkgslist")
(lst  &lt;- s_crandb_list(thermodynamic, "chemical reaction"))
(lst2 &lt;- lapply(lst, function(x) x[1:2]))
system.time(
  p_down(lst2, dir = dir, repos = "https://cloud.r-project.org")
)
list.files(dir, recursive = TRUE, full.names = TRUE)

## Download tar.gz files stored in CRAN archive.
dir &lt;- file.path(tempdir(), "targzip")
p_downarch(fitur, zmatrix, NotAPkg, before = "2017-05-14", dir = dir)
targz_down("SVN_1.0.tar.gz", dir = dir, untar = TRUE)
list.files(dir, recursive = TRUE, full.names = TRUE)

</code></pre>


</div>