<div class="container">

<table style="width: 100%;"><tr>
<td>cross_validation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform cross-validation on a list of fitted models.</h2>

<h3>Description</h3>

<p>Obtain several scores for a list of fitted models according
to a folding scheme.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cross_validation(
  models,
  model_names = NULL,
  scores = c("mse", "crps", "scrps", "dss"),
  cv_type = c("k-fold", "loo", "lpo"),
  k = 5,
  percentage = 20,
  number_folds = 10,
  n_samples = 1000,
  return_scores_folds = FALSE,
  orientation_results = c("negative", "positive"),
  include_best = TRUE,
  train_test_indexes = NULL,
  return_train_test = FALSE,
  parallelize_RP = FALSE,
  n_cores_RP = parallel::detectCores() - 1,
  true_CV = FALSE,
  save_settings = FALSE,
  print = TRUE,
  fit_verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>models</code></td>
<td>
<p>A fitted model obtained from calling the <code>bru()</code> function or a list of models fitted with the <code>bru()</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_names</code></td>
<td>
<p>A vector containing the names of the models to appear in the returned <code>data.frame</code>. If <code>NULL</code>, the names will be of the form <code style="white-space: pre;">⁠Model 1⁠</code>, <code style="white-space: pre;">⁠Model 2⁠</code>, and so on. By default, it will try to obtain the name from the models list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scores</code></td>
<td>
<p>A vector containing the scores to be computed. The options are "mse", "crps", "scrps" and "dss". By default, all scores are computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv_type</code></td>
<td>
<p>The type of the folding to be carried out. The options are <code>k-fold</code> for <code>k</code>-fold cross-validation, in which case the parameter <code>k</code> should be provided,
<code>loo</code>, for leave-one-out and <code>lpo</code> for leave-percentage-out, in this case, the parameter <code>percentage</code> should be given, and also the <code>number_folds</code>
with the number of folds to be done. The default is <code>k-fold</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>The number of folds to be used in <code>k</code>-fold cross-validation. Will only be used if <code>cv_type</code> is <code>k-fold</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percentage</code></td>
<td>
<p>The percentage (from 1 to 99) of the data to be used to train the model. Will only be used if <code>cv_type</code> is <code>lpo</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number_folds</code></td>
<td>
<p>Number of folds to be done if <code>cv_type</code> is <code>lpo</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_samples</code></td>
<td>
<p>Number of samples to compute the posterior statistics to be used to compute the scores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_scores_folds</code></td>
<td>
<p>If <code>TRUE</code>, the scores for each fold will also be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>orientation_results</code></td>
<td>
<p>character vector. The options are "negative" and "positive". If "negative", the smaller the scores the better. If "positive", the larger the scores the better.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_best</code></td>
<td>
<p>Should a row indicating which model was the best for each score be included?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>train_test_indexes</code></td>
<td>
<p>A list containing two entries <code>train</code>, which is a list whose elements are vectors of indexes of the training data, and <code>test</code>, which is a list whose elements are vectors of indexes of the test data.
Typically this will be returned list obtained by setting the argument <code>return_train_test</code> to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_train_test</code></td>
<td>
<p>Logical. Should the training and test indexes be returned? If 'TRUE' the train and test indexes will the 'train_test' element of the returned list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallelize_RP</code></td>
<td>
<p>Logical. Should the computation of CRPS and SCRPS be parallelized?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_cores_RP</code></td>
<td>
<p>Number of cores to be used if <code>parallelize_rp</code> is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true_CV</code></td>
<td>
<p>Should a <code>TRUE</code> cross-validation be performed? If <code>TRUE</code> the models will be fitted on the training dataset. If <code>FALSE</code>, the parameters will be kept fixed at the ones obtained in the result object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_settings</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the settings used in the cross-validation will also be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>Should partial results be printed throughout the computation?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit_verbose</code></td>
<td>
<p>Should INLA's run during cross-validation be verbose?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data.frame with the fitted models and the corresponding scores.
</p>


</div>