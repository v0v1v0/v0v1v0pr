<div class="container">

<table style="width: 100%;"><tr>
<td>predict.rrreg.predictor</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predicted Probabilities for Randomized Response as a Regression Predictor</h2>

<h3>Description</h3>

<p><code>predict.rrreg.predictor</code> is used to generate predicted probabilities
from a multivariate regression object of survey data using the randomized
response item as a predictor for an additional outcome.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'rrreg.predictor'
predict(object, fix.z = NULL, alpha = .05,
n.sims = 1000, avg = FALSE, newdata = NULL, quasi.bayes = FALSE, keep.draws
= FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object of class "rrreg.predictor" generated by the
<code>rrreg.predictor()</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fix.z</code></td>
<td>
<p>An optional value or vector of values between 0 and 1 that the
user inputs as the proportion of respondents with the sensitive trait or
probability that each respondent has the sensitive trait, respectively. If
the user inputs a vector of values, the vector must be the length of the
data from the "rrreg.predictor" object. Default is <code>NULL</code> in which case
predicted probabilities are generated for the randomized response item.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Confidence level for the hypothesis test to generate upper and
lower confidence intervals. Default is <code>.05</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.sims</code></td>
<td>
<p>Number of sampled draws for quasi-bayesian predicted
probability estimation. Default is <code>1000</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>avg</code></td>
<td>
<p>Whether to output the mean of the predicted probabilities and
uncertainty estimates. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>Optional new data frame of covariates provided by the user.
Otherwise, the original data frame from the "rreg" object is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quasi.bayes</code></td>
<td>
<p>Option to use Monte Carlo simulations to generate
uncertainty estimates for predicted probabilities. Default is <code>FALSE</code>
meaning no uncertainty estimates are outputted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep.draws</code></td>
<td>
<p>Option to return the Monte Carlos draws of the quantity of
interest, for use in calculating differences for example.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to be passed to
<code>predict.rrreg.predictor()</code> command.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function allows users to generate predicted probabilities for the
additional outcome variables with the randomized response item as a
covariate given an object of class "rrreg.predictor" from the
<code>rrreg.predictor()</code> function. Four standard designs are accepted by
this function: mirrored question, forced response, disguised response, and
unrelated question. The design, already specified in the "rrreg.predictor"
object, is then directly inputted into this function.
</p>


<h3>Value</h3>

<p><code>predict.rrreg.predictor</code> returns predicted probabilities
either for each observation in the data frame or the average over all
observations. The output is a list that contains the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>est</code></td>
<td>
<p>Predicted probabilities of the additional outcome variable given
the randomized response item as a predictor generated either using fitted
values or quasi-Bayesian simulations. If <code>avg</code> is set to <code>TRUE</code>,
the output will only include the mean estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>Standard errors
for the predicted probabilities of the additional outcome variable given the
randomized response item as a predictor generated using Monte Carlo
simulations. If <code>quasi.bayes</code> is set to <code>FALSE</code>, no standard
errors will be outputted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.lower</code></td>
<td>
<p>Estimates for the lower
confidence interval. If <code>quasi.bayes</code> is set to <code>FALSE</code>, no
confidence interval estimate will be outputted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.upper</code></td>
<td>
<p>Estimates
for the upper confidence interval. If <code>quasi.bayes</code> is set to
<code>FALSE</code>, no confidence interval estimate will be outputted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qoi.draws</code></td>
<td>
<p>Monte Carlos draws of the quantity of interest, returned
only if <code>keep.draws</code> is set to <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Blair, Graeme, Kosuke Imai and Yang-Yang Zhou. (2014) "Design
and Analysis of the Randomized Response Technique."  <em>Working Paper.</em>
Available at <a href="http://imai.princeton.edu/research/randresp.html">http://imai.princeton.edu/research/randresp.html</a>.
</p>


<h3>See Also</h3>

<p><code>rrreg.predictor</code> to conduct multivariate regression
analyses with the randomized response as predictor in order to generate
predicted probabilities.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(nigeria)

## Define design parameters


set.seed(44)

p &lt;- 2/3  # probability of answering honestly in Forced Response Design
p1 &lt;- 1/6 # probability of forced 'yes'
p0 &lt;- 1/6 # probability of forced 'no'

## Fit joint model of responses to an outcome regression of joining a civic 
## group and the randomized response item of having a militant social connection

rr.q1.pred.obj &lt;- 
    rrreg.predictor(civic ~ cov.asset.index + cov.married + I(cov.age/10) + 
              I((cov.age/10)^2) + cov.education + cov.female 
              + rr.q1, rr.item = "rr.q1", parstart = FALSE, estconv = TRUE,
              data = nigeria, verbose = FALSE, optim = TRUE,
              p = p, p1 = p1, p0 = p0, design = "forced-known")

## Generate predicted probabilities for the likelihood of joining 
## a civic group across respondents using quasi-Bayesian simulations. 

rr.q1.rrreg.predictor.pred &lt;- predict(rr.q1.pred.obj, 
                                 avg = TRUE, quasi.bayes = TRUE, 
                                 n.sims = 1000)

</code></pre>


</div>