<div class="container">

<table style="width: 100%;"><tr>
<td>rsaga.esri.wrapper</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Use RSAGA functions for ESRI grids</h2>

<h3>Description</h3>

<p>This wrapper converts input grid files provided in ESRI binary (.flt) or ASCII (.asc) formats to SAGA's (version 2) grid format, calls the RSAGA geoprocessing function, and converts the output grids back to the ESRI grid format. Conversion can also be limited to either input or output grids.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rsaga.esri.wrapper(
  fun,
  in.esri = TRUE,
  out.esri = TRUE,
  env = rsaga.env(),
  esri.workspace = env$workspace,
  format = "ascii",
  georef = "corner",
  prec = 5,
  esri.extension,
  condensed.res = TRUE,
  clean.up = TRUE,
  intern = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>function: one of the RSAGA geoprocessing functions, such as <code>rsaga.close.gaps()</code> or <code>rsaga.hillshade()</code> etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>in.esri</code></td>
<td>
<p>logical: are input grids provided as ESRI grids (<code>in.esri=TRUE</code>) or as SAGA grids?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out.esri</code></td>
<td>
<p>logical: should output grids be converted to ESRI grids?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>RSAGA environment as returned by <code>rsaga.env()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>esri.workspace</code></td>
<td>
<p>directory for the input and output ESRI ASCII/binary grids</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>output file format, either <code>"ascii"</code> (default; equivalent: <code>format=1</code>) for ASCII grids or <code>"binary"</code> (equivalent: <code>0</code>) for binary ESRI grids (<code>.flt</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>georef</code></td>
<td>
<p>character: <code>"corner"</code> (equivalent numeric code: <code>0</code>) or <code>"center"</code> (default; equivalent: <code>1</code>). Determines whether the georeference will be related to the center or corner of its extreme lower left grid cell.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prec</code></td>
<td>
<p>number of digits when writing floating point values to ASCII grid files (only relevant if <code>out.esri=TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>esri.extension</code></td>
<td>
<p>extension for input/output ESRI grids: defaults to <code>.asc</code> for <code>format="ascii"</code>, and to <code>.flt</code> for <code>format="binary"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>condensed.res</code></td>
<td>
<p>logical: return only results of the RSAGA geoprocessing function <code>fun</code> (<code>condensed.res=TRUE</code>), or include the results of the import and export operations, i.e. the calls to <code>rsaga.esri.to.sgrd()</code> and <code>rsaga.sgrd.to.esri()</code>? (see Value)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clean.up</code></td>
<td>
<p>logical: delete intermediate SAGA grid files?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intern</code></td>
<td>
<p><code>intern</code> argument to be passed to <code>rsaga.geoprocessor()</code>; see Value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments for <code>fun</code>; NOTE: ESRI ASCII/float raster file names should NOT include the file extension (.asc, .flt); the file extension is defined by the <code>esri.extension</code> and <code>format</code> arguments!</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>ESRI ASCII/float raster file names should NOT include the file extension (.asc, .flt); the file extension is defined by the <code>esri.extension</code> and <code>format</code> arguments!
</p>


<h3>Value</h3>

<p>The object returned depends on the <code>condensed.res</code> arguments and the <code>intern</code> argument passed to the <code>rsaga.geoprocessor()</code>.
</p>
<p>If <code>condensed.res=TRUE</code> and <code>intern=FALSE</code>, a single numerical error code (0: success) is returned. If <code>condensed.res=TRUE</code> and <code>intern=TRUE</code> (default), a character vector with the module's console  output is returned (invisibly).
</p>
<p>If <code>condensed.res=FALSE</code> the result is a list with components <code>in.res</code>, <code>geoproc.res</code> and <code>out.res</code>. Each of these components is either an error code (for <code>intern=FALSE</code>) or  (for <code>intern=TRUE</code>) a character vector with the console output of the input (<code>rsaga.esri.to.sgrd()</code>), the geoprocessing (<code>fun</code>), and the output conversion (<code>rsaga.sgrd.to.esri()</code>) step, respectively. For <code>in.esri=FALSE</code> or <code>out.esri=FALSE</code>, the corresponding component is <code>NULL</code>.
</p>


<h3>Note</h3>

<p>Note that the intermediate grids as well as the output grids may overwrite existing files with the same file names without prompting the user. See example below.
</p>


<h3>See Also</h3>

<p><code>rsaga.esri.to.sgrd()</code>, <code>rsaga.sgrd.to.esri()</code>, <code>rsaga.geoprocessor()</code>, <code>rsaga.env()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
rsaga.esri.wrapper(rsaga.hillshade,in.dem="dem",out.grid="hshd",condensed.res=FALSE,intern=FALSE)
# if successful, returns list(in.res=0,geoproc.res=0,out.res=0),
# and writes hshd.asc; intermediate files dem.sgrd, dem.hgrd, dem.sdat,
# hshd.sgrd, hshd.hgrd, and hshd.sdat are deleted.
# hshd.asc is overwritten if it already existed.

## End(Not run)
</code></pre>


</div>