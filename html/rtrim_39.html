<div class="container">

<table style="width: 100%;"><tr>
<td>read_tcf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read a TRIM command file</h2>

<h3>Description</h3>

<p>Read TRIM Command Files, compatible with the Windows TRIM programme.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_tcf(file, encoding = getOption("encoding"), simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Location of TRIM command file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encoding</code></td>
<td>
<p>The encoding in which the file is stored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simplify</code></td>
<td>
<p>Return a single <code>trimcommand</code> object if only one
model is specified in the TRIM command file.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A trimcommand object, or in the case of multiple models in a single
TRIM command file, a <code>list</code> of <code>trimcommand</code> objects. In the
latter case, a useful summary can be printed with <code>summary.trimbatch</code>.
</p>


<h3>TRIM Command file format</h3>

<p>TRIM command files are text files that specify a TRIM job, where a job
consists of one or more models to be computed on a single data input file.
TRIM command files are commonly stored with the extension <code>.tcf</code>, but
this is not a strict requirement.
</p>
<p>A TRIM command file consists of two parts. The first part describes the
data file to be read, the second part describes the model(s) to be run. A
TRIM command file can only contain a single data specification part, but multiple
models may be specified.
</p>
<p>Each command starts on a new line with a keyword, followed by at least
one space and at least one option value, where multiple option values are
separated by spaces. All commands must be written on a single line, except
the <code>LABELS</code> command (to set labels for covariates). The latter command
starts with <code>LABELS</code> on a single line, followed by a newline, followed
by a new label on each following line. The keyword <code>END</code> (at the beginning of a line)
signals the end of the labels command.
</p>
<p>The keyword <code>RUN</code> (at the beginning of a single line) ends the
specification of a single model. After this a new model can be specified.
Parameters not specified in the current model will be copied from the previous
one.
</p>


<h3>TRIM commands</h3>

<p>The commands are identical to those in the original TRIM software. Commands
that represent a simple toggle (on/off, present/absent) are translated to a
<code>logical</code> upon reading. Below we give commands in upper case, but the
commands are parsed case insensitively.
</p>

<table>
<tr>
<td style="text-align: left;">
<b>Data</b>
</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">
<code>FILE</code>   </td>
<td style="text-align: left;"> data filename and path.</td>
</tr>
<tr>
<td style="text-align: left;">
<code>TITLE</code>  </td>
<td style="text-align: left;"> A title (appears in output when exported).</td>
</tr>
<tr>
<td style="text-align: left;">
<code>NTIMES</code> </td>
<td style="text-align: left;"> [positive integer] Number of time points in data file.</td>
</tr>
<tr>
<td style="text-align: left;">
<code>NCOVARS</code>
</td>
<td style="text-align: left;"> [nonnegative integer] Number of covariates in data file.</td>
</tr>
<tr>
<td style="text-align: left;">
<code>LABELS</code> </td>
<td style="text-align: left;"> Covariate labels (multiline command). </td>
</tr>
<tr>
<td style="text-align: left;">
<code>END</code>    </td>
<td style="text-align: left;"> Signals end of <code>LABELS</code> command.</td>
</tr>
<tr>
<td style="text-align: left;">
<code>MISSING</code>
</td>
<td style="text-align: left;"> missing value indicator.</td>
</tr>
<tr>
<td style="text-align: left;">
<code>WEIGHT</code> </td>
<td style="text-align: left;"> [<code>present</code>, <code>absent</code>] Indicates whether weights are present in the data file [translated to <code>logical</code>].</td>
</tr>
<tr>
<td style="text-align: left;">
<b>Model</b>  </td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">
<code>COMMENT</code>  </td>
<td style="text-align: left;"> A comment for the current model.</td>
</tr>
<tr>
<td style="text-align: left;">
<code>WEIGHTING</code>
</td>
<td style="text-align: left;"> [<code>on</code>,<code>off</code>] Switch use of weights for current model [translated to <code>logical</code>].</td>
</tr>
<tr>
<td style="text-align: left;">
<code>SERIALCOR</code>
</td>
<td style="text-align: left;"> [<code>on</code>,<code>off</code>] Switch use of serial correlation for current model [translated to <code>logical</code>].</td>
</tr>
<tr>
<td style="text-align: left;">
<code>OVERDISP</code>
</td>
<td style="text-align: left;"> [<code>on</code>,<code>off</code>] Switch use of overdispersion for current model [translated to <code>logical</code>].</td>
</tr>
<tr>
<td style="text-align: left;">
<code>BASETIME</code>
</td>
<td style="text-align: left;"> [integer] Index of base time-point.</td>
</tr>
<tr>
<td style="text-align: left;">
<code>MODEL</code>
</td>
<td style="text-align: left;"> [<code>1</code>, <code>2</code>, <code>3</code>] Choose the current model</td>
</tr>
<tr>
<td style="text-align: left;">
<code>COVARIATES</code>
</td>
<td style="text-align: left;"> [integers] indices of covariates to use (1st covariate has index 1)</td>
</tr>
<tr>
<td style="text-align: left;">
<code>CHANGEPOINTS</code> </td>
<td style="text-align: left;"> [integers] indices of changepoints</td>
</tr>
<tr>
<td style="text-align: left;">
<code>STEPWISE</code> </td>
<td style="text-align: left;"> [<code>on</code>,<code>off</code>] Switch stepwise selection of changepoints [translated to <code>logical</code>].</td>
</tr>
<tr>
<td style="text-align: left;">
<code>AUTODELETE</code> </td>
<td style="text-align: left;"> [<code>on</code>, <code>off</code>] Delete changepoints when the corresponding time segment has to litte observations. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>OVERALLCHANGEPOINTS</code> </td>
<td style="text-align: left;">[integers] indices of overall changepoints</td>
</tr>
<tr>
<td style="text-align: left;">
<code>RUN</code>
</td>
<td style="text-align: left;"> Signals end of current model specification.</td>
</tr>
<tr>
<td style="text-align: left;">
<b>Output</b> </td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">
<code>IMPCOVOUT</code>
</td>
<td style="text-align: left;"> [<code>on</code>, <code>off</code>] Switch to save variance-covariance matrix </td>
</tr>
<tr>
<td style="text-align: left;">
<code>COVIN</code>
</td>
<td style="text-align: left;"> [<code>on</code>, <code>off</code>] Switch to read variance-covariance matrix
</td>
</tr>
</table>
<h3>Encoding issues</h3>

<p>To read files containing non-ASCII characters encoded in a format that is not
native to your system, specifiy the <code>encoding</code> option. This causes R to
re-encode to native encoding upon reading. Input encodings supported for your
system can be listed by calling <code>iconvlist()</code>. For more
information on Encoding in R, see <code>Encoding</code>.
</p>


<h3>Note on filenames</h3>

<p>If the <code>file</code> is specified using backslashes to separate directories
(Windows style), this will be converted to a filename using forward slashes
(POSIX style, as used by R).
</p>


<h3>See Also</h3>

<p><a href="../doc/Working_with_tcf.html">Working with TRIM command files and TRIM data files</a>.
</p>
<p>Other modelspec: 
<code>check_observations()</code>,
<code>read_tdf()</code>,
<code>set_trim_verbose()</code>,
<code>trim()</code>,
<code>trimcommand()</code>
</p>


</div>