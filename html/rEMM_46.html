<div class="container">

<table style="width: 100%;"><tr>
<td>fade</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fading Cluster Structure and EMM Layer</h2>

<h3>Description</h3>

<p>Reduces the weight of old observations in the data stream. 
<code>build</code> has a learning rate parameter
<code>lambda</code>. If this parameter is set, <code>build</code> automatically
fades all counts before a new data point is added. The second
mechanism is to explicitly call the function~<code>fade</code> whenever
fading is needed. This has the advantage that the overhead of manipulating
all counts in the EMM can be reduced and that fading can be used in a more
flexible manner. For example, if the data points are arriving at an irregular
rate, <code>fade</code> could be called at regular time intervals
(e.g., every second).
</p>


<h3>Usage</h3>

<pre><code class="language-R">fade(x, t, lambda)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> an object of class <code>"EMM"</code>. Note that this
function will change <code>x</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p> number of time intervals (if missing 1 is used) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p> learning rate. If <code>lambda</code> is missing, 
the learning rate specified for the EMM is used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Old data points are faded by using a weight.
We define the weight
for data that is <code class="reqn">t</code> timesteps in the past by the following strictly 
decreasing function:
</p>
<p style="text-align: center;"><code class="reqn">w_t = 2^{-\lambda t}</code>
</p>

<p>Since the weight is multiplicative, it can be applied iteratively by 
multiplying at each time step all counts by <code class="reqn">2^{-\lambda}</code>.
For the clustering algorithm the weight of the clusters (number of data
points assigned to the cluster) is faded. For the EMM the initial count vector
and all transition counts are faded.
</p>


<h3>Value</h3>

<p>Returns a reference to the changed object <code>x</code>.
</p>


<h3>See Also</h3>

<p><code>EMM</code> and <code>build</code></p>


<h3>Examples</h3>

<pre><code class="language-R">data("EMMTraffic")

## For the example we use a very high learning rate
## this calls fade after each new data point
emm_l &lt;- EMM(measure="eJaccard", threshold=0.2, lambda = 1)
build(emm_l, EMMTraffic)

## build a regular EMM for comparison
emm &lt;- EMM(measure="eJaccard", threshold=0.2)
build(emm, EMMTraffic)

## compare the transition matrix
transition_matrix(emm)
transition_matrix(emm_l)

## compare graphs
op &lt;- par(mfrow = c(1, 2), pty = "m")
plot(emm, main = "regular EMM")
plot(emm_l, main = "EMM with high learning rate")
par(op)

</code></pre>


</div>