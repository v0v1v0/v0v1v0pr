<div class="container">

<table style="width: 100%;"><tr>
<td>Optimus</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Acceptance Ratio Simulated Annealing and Acceptance Ratio Replica Exchange Monte Carlo Optimisation Engine</h2>

<h3>Description</h3>

<p>Acceptance Ratio Simulated Annealing and Acceptance Ratio Replica Exchange Monte Carlo Optimisation Engine
</p>


<h3>Usage</h3>

<pre><code class="language-R">Optimus(
  NUMITER = 1e+06,
  STATWINDOW = 70,
  T.INI = 1e-05,
  T.ADJSTEP = 5e-09,
  TSCLnum = 2,
  T.SCALING = 3,
  T.MIN = 5e-09,
  T.DELTA = 2,
  DUMP.FREQ = 10000,
  LIVEPLOT = TRUE,
  LIVEPLOT.FREQ = 1e+05,
  PDFheight = 29,
  PDFwidth = 20,
  NCPU = 4,
  LONG = TRUE,
  SEED = 840,
  OPTNAME = "",
  DATA = NULL,
  K.INITIAL = 0,
  rDEF,
  mDEF,
  uDEF,
  EXCHANGE.FREQ = 1000,
  ACCRATIO = c(90, 50, 5, 1),
  CYCLES = 10,
  ACCRATIO.IN = 90,
  ACCRATIO.FIN = 0.5,
  OPT.TYPE = "SA",
  DIR,
  starcore = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>NUMITER</code></td>
<td>
<p>Number of model optimisation steps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>STATWINDOW</code></td>
<td>
<p>Number of last ongoing iterations to calculate
acceptance ratio for temperature auto-adjustment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.INI</code></td>
<td>
<p>Initial temperature (K) for Metropolis criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.ADJSTEP</code></td>
<td>
<p>Temperature change step-size for temperature
auto-adjustment based on the actual acceptance ratio.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TSCLnum</code></td>
<td>
<p>Cutoff for one of the NumofAccRatSMIdeal and
NumofAccRatGRIdeal numbers after which the adjustment
step is multiplied by T.SCALING.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.SCALING</code></td>
<td>
<p>See above.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.MIN</code></td>
<td>
<p>Value to which the pseudo-temperature is set when the</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.DELTA</code></td>
<td>
<p>Minimum value by which acceptance ratio in a STATWINDOW
must differ from the ideal acceptance ratio for the
temperature control unit to make a temperature
adjustment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DUMP.FREQ</code></td>
<td>
<p>The frequency (in steps) of writing the found ongoing
best model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LIVEPLOT</code></td>
<td>
<p>Plotting the optimisation process in a pdf file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LIVEPLOT.FREQ</code></td>
<td>
<p>Frequency (in steps) of plotting the results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PDFheight</code></td>
<td>
<p>Plot height in inches.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PDFwidth</code></td>
<td>
<p>Plot width in inches.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NCPU</code></td>
<td>
<p>Number of CPU cores to use, by running more replicas
of the optimisation. The usage of more than 1 cores
will attempt to load the foreach and doParallel
libraries in the case of SA Optimus</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LONG</code></td>
<td>
<p>If TRUE, it means that a long simulation is expected to
be done, hence the memory-friendly mode will be
activated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SEED</code></td>
<td>
<p>Setting the seed for the random number generator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OPTNAME</code></td>
<td>
<p>The name of the optimisation process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DATA</code></td>
<td>
<p>A list that holds any supplementary data that
functions mDEF or uDEF need to access.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K.INITIAL</code></td>
<td>
<p>The initial parameter configuration from which the
optimisation process will begin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rDEF</code></td>
<td>
<p>Function that defines a rule by which the
parameters(K) are randomly altered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mDEF</code></td>
<td>
<p>Model function that operates on the parameters to be
optimized (K) and returns an observable object O.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uDEF</code></td>
<td>
<p>Function that evaluates the performance of a given set
of parameters K.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>EXCHANGE.FREQ</code></td>
<td>
<p>Frequency of exchanges (NUMITER should be divisible by
this number, for RE Optimus).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ACCRATIO</code></td>
<td>
<p>Vector of Acceptance Ratios for each replica (length of
ACCRATIO must be equal to NCPU, for RE Optimus).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CYCLES</code></td>
<td>
<p>Number of annealing cycles (NUMITER should be divisible
by this number, for SA Optimus).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ACCRATIO.IN</code></td>
<td>
<p>Initial acceptance ratio (%) at the beginning of each
constituent annealing cycles (for SA Optimus).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ACCRATIO.FIN</code></td>
<td>
<p>Final acceptance ratio (%) at the end of each
constituent annealing cycles (for SA Optimus).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OPT.TYPE</code></td>
<td>
<p>String specifying which optimisation protocol to use.
Enter "SA" for Simulated Annealing or "RE" for Replica
Exchange (default value is "SA")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DIR</code></td>
<td>
<p>String specifying which optimisation protocol to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>starcore</code></td>
<td>
<p>Experimental variable of type list, holding some
parameters for in-lab starcore use only.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A probabilistic optimal parameter configuration K.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
K &lt;- IJ_ORIG
K$j &lt;- sample(x=K$j, size=nrow(K), replace=FALSE)
out.dir &lt;- tempdir()

Optimus(NCPU=1, OPTNAME="IJ.NEW.OPTI.SA", NUMITER=500, CYCLES=2, DIR=out.dir,
        DUMP.FREQ=10, LONG=FALSE, OPT.TYPE="SA", K.INITIAL=K,
        rDEF=ex.r.fun, mDEF=ex.m.fun, uDEF=ex.u.fun,
        DATA=list(IJ_ORIG=IJ_ORIG, gaplimit=50, numContacts=nrow(IJ_ORIG)))
</code></pre>


</div>