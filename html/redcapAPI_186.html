<div class="container">

<table style="width: 100%;"><tr>
<td>metaDataMethods</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Export and Import the Project Meta Data (Data Dictionary)</h2>

<h3>Description</h3>

<p>These methods provide the user access to a REDCap project's
data dictionary. The data dictionary may be exported or altered via
the import.
</p>


<h3>Usage</h3>

<pre><code class="language-R">exportMetaData(rcon, ...)

importMetaData(rcon, data, ...)

## S3 method for class 'redcapApiConnection'
exportMetaData(
  rcon,
  fields = character(0),
  forms = character(0),
  ...,
  error_handling = getOption("redcap_error_handling"),
  config = list(),
  api_param = list()
)

## S3 method for class 'redcapApiConnection'
importMetaData(
  rcon,
  data,
  ...,
  field_types = REDCAP_METADATA_FIELDTYPE,
  validation_types = REDCAP_METADATA_VALIDATION_TYPE,
  error_handling = getOption("redcap_error_handling"),
  config = list(),
  api_param = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rcon</code></td>
<td>
<p>A <code>redcapConnection</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fields</code></td>
<td>
<p><code>character</code> vector of field names for which the metadata is to
be retrieved.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forms</code></td>
<td>
<p><code>character</code> vector of forms for which the metadata is to be
retrieved. If a form name is given, all of the fields on that form
will be returned, regardless of whether it is included in <code>fields</code> or
not.  Form names should match those in the second column of the data
dictionary, and not the display names shown on the web interface.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>data.frame</code> with the Meta Data to import.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to pass to other methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>field_types</code></td>
<td>
<p><code>character</code> giving the acceptable field types
when validating the <code>field_type</code> column. This</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>validation_types</code></td>
<td>
<p><code>character</code> giving the acceptable values
for the <code>text_validation_or_show_slider_number</code> column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error_handling</code></td>
<td>
<p><code>character(1)</code>. One of <code>c("error", "null")</code>.
An option for how to handle errors returned by the API.
see <code>redcapError()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>config</code></td>
<td>
<p>A named <code>list</code>. Additional configuration parameters to pass to
<code>httr::POST()</code>. These are appended to any parameters in
<code>rcon$config</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_param</code></td>
<td>
<p>A named <code>list</code>. Additional API parameters to pass into the
body of the API call. This provides users to execute calls with options
that may not otherwise be supported by <code>redcapAPI</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When importing meta data, the following conditions apply:
</p>
<p>Field names may start with a letter, have any number of letters,
numbers, or underscores, and end in either a letter or a number. All
letters must be lowercase (the function will coerce them to lower before
checking for duplicate field names).
</p>
<p>Form names may start with a letter, have any number of letters,
numbers, or underscores, and end in either a letter or a number. All
letters must be lowercase (the function will coerce them to lower before
checking for duplicate field names).
</p>
<p>Field types may be one of <code>REDCAP_METADATA_FIELDTYPE</code>. In the event that a
new field type is added to REDCap and <code>redcapAPI</code> is not yet updated,
the user may add additional values via <code>c(REDCAP_METADATA_FIELDTYPE, "new_type")</code>.
</p>
<p>Validation types may be one of <code>REDCAP_METADATA_VALIDATION_TYPE</code> or
<code>NA</code>. As with field types, additional values can be appended if
necessary. Only fields that have a field type of "text" or "slider"
should have a validation type. "slider" fields should be either <code>NA</code>
(do not display the selected number) or <code>"number"</code>.
</p>
<p>For multiple choice fields, the selection choices take the format of
<code>"code1, label1 | ... | coden, labeln"</code>. For slider fields, the
format is <code>"left_value | mid_value | right_value"</code>. Any of those
values may be an empty character, but the two pipes are required, nonetheless.
</p>
<p>For calculated fields, the values in <code>"select_choices_or_calculations"</code>
are currently unvalidated.
</p>
<p>All of the values between brackets in the branching logic must be either a
field name or an existing unique event name (such as <code>"event_1_arm_1"</code>)
</p>


<h3>Value</h3>

<p><code>exportMetaData</code> returns a data frame. Not all 18 (or more) columns are
documented here, but the most commonly used within <code>redcapAPI</code> are
(these may appear in a different order in the data frame):</p>

<table>
<tr>
<td style="text-align: left;">
    </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>field_name</code> </td>
<td style="text-align: left;"> The name of a field in the project. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>filed_label</code> </td>
<td style="text-align: left;"> The human-readable form of the field name. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>form_name</code> </td>
<td style="text-align: left;"> The name of the form on which the field is found. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>field_type</code> </td>
<td style="text-align: left;"> One of two fields used to determine how a field is transformed into an R object. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>select_choices_or_calculations</code> </td>
<td style="text-align: left;"> The second field used to determine how a field is translated into an R object. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>text_validation_type_or_show_slider_number</code> </td>
<td style="text-align: left;"> Describes how fields are validated. For slider fields, it gives the limits and center point to display. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>field_annotation</code> </td>
<td style="text-align: left;"> Contains annotations such as units of measures. Also contains action tags. </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p><code>importMetaData</code> invisibly returns the number of fields that were imported.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>exportMetaData()</code>: Export the Meta Data (Data Dictionary) of a REDCap Project
</p>
</li>
<li> <p><code>importMetaData()</code>: Import New Meta Data (Data Dictionary) Definitions
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>exportFieldNames()</code>,<br><code>exportInstruments()</code>,<br><code>exportMappings()</code>,<br><code>importMappings()</code>, <br><code>exportPdf()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
unlockREDCap(connections = c(rcon = "project_alias"), 
             url = "your_redcap_url", 
             keyring = "API_KEYs", 
             envir = globalenv())

# Export the MetaData from REDCap
exportMetaData(rcon)

# Export MetaData for select fields only (returns two rows)
exportMetaData(rcon, 
               fields = c("dropdown_test", "radio_test"))

# Export MetaData for select forms
exportMetaData(rcon, 
               forms = c("first_form", "second_form"))
               
# MetaData my be exported for a combination of fields and forms
exportMetaData(rcon, 
               fields = c("dropdown_test", "radio_test"), 
               forms = c("first_form", "second_form"))
               
# Alter and import new MetaData (change the record ID label)
Meta &lt;- exportMetaData(rcon)

Meta$field_label[1] &lt;- "A better description of the Record ID"
importMetaData(rcon, 
               data = Meta)

## End(Not run)
</code></pre>


</div>