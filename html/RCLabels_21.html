<div class="container">

<table style="width: 100%;"><tr>
<td>modify_label_pieces</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Modify pieces of row and column labels</h2>

<h3>Description</h3>

<p>Typical <code>piece</code>s include "noun" or a preposition,
such as "in" or "from".
See <code>RCLabels::prepositions</code> for additional examples.
This argument may be a single string or a character vector.
</p>


<h3>Usage</h3>

<pre><code class="language-R">modify_label_pieces(
  labels,
  piece,
  mod_map,
  prepositions = RCLabels::prepositions_list,
  inf_notation = TRUE,
  notation = RCLabels::bracket_notation,
  choose_most_specific = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>A vector of row or column labels in which pieces will be modified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>piece</code></td>
<td>
<p>The piece (or pieces) of the row or column label that will be modified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mod_map</code></td>
<td>
<p>A modification map. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prepositions</code></td>
<td>
<p>A list of prepositions, used to detect prepositional phrases.
Default is <code>RCLabels::prepositions_list</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inf_notation</code></td>
<td>
<p>A boolean that tells whether to infer notation for <code>x</code>.
Default is <code>TRUE</code>.
See <code>infer_notation()</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>notation</code></td>
<td>
<p>The notation type to be used when extracting prepositions.
Default is <code>RCLabels::notations_list</code>, meaning that
the notation is inferred using <code>infer_notation()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>choose_most_specific</code></td>
<td>
<p>A boolean that tells whether the most specific
notation is selected when more than one notation match.
Default is <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function modifies pieces of row and column labels
according to <code>label_map</code> that defines "one or many to one" relationships.
This function is useful for aggregations.
For example, replacing nouns can be done by
<code style="white-space: pre;">⁠modify_label_pieces(labels, piece = "noun", label_map = list(new_noun = c("a", "b", "c"))⁠</code>.
The string "new_noun" will replace any of "a", "b", or "c"
when they appear as nouns in a row or column label.
See examples for details.
</p>
<p>The <code>mod_map</code> argument should consist of a
named list of character vectors in which names indicate
strings to be inserted and values indicate
values that should be replaced.
The sense is <code>new = old</code> or <code>new = olds</code>,
where "new" is the new name (the replacement) and
"old"/"olds" is/are a string/vector of strings,
any one of which will be replaced by "new".
</p>
<p>Note <code>piece</code> can be "pref"/"suff" or "noun"/"prepositions"
If any <code>piece</code> is "pref" or "suff",
all pieces are assumed to be a prefix or a suffix.
If non of the <code>piece</code>s are "pref" or "suff",
all <code>piece</code>s are assumed to be nouns or prepositions,
such as "in" or "from".
See <code>RCLabels::prepositions</code> for additional examples.
This argument may be a single string or a character vector.
</p>


<h3>Value</h3>

<p><code>labels</code> with replacements according to <code>piece</code> and <code>mod_map</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Simple case
modify_label_pieces("a [of b in c]",
                    piece = "noun",
                    mod_map = list(new_noun = c("a", "b")))
# Works with a vector or list of labels
modify_label_pieces(c("a [of b in c]", "d [-&gt; e in f]"),
                    piece = "noun",
                    mod_map = list(new_noun = c("d", "e")))
# Works with multiple items in the mod_map
modify_label_pieces(c("a [of b in c]", "d [-&gt; e in f]"),
                    piece = "noun",
                    mod_map = list(new_noun1 = c("a", "b", "c"),
                                   new_noun2 = c("d", "e", "f")))
# Works with multiple pieces to be modified
modify_label_pieces(c("a [of b in c]", "d [-&gt; e in f]"),
                    piece = c("noun", "in"),
                    mod_map = list(new_noun = c("a", "b", "c"),
                                   new_in   = c("c", "f")))
</code></pre>


</div>