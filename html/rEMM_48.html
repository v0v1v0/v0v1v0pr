<div class="container">

<table style="width: 100%;"><tr>
<td>find_clusters</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Find the EMM State/Cluster for an Observation </h2>

<h3>Description</h3>

<p>Finds the cluster and thus the EMM states for observations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'tNN,matrix'
find_clusters(x, newdata, match_cluster=c("exact", "nn"), dist = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> an <code>EMM</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p> a matrix/data.frame with observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>match_cluster</code></td>
<td>
<p> find exact or nearest neighbor (nn) cluster/state. 
If a number is supplied then the threshold times this number is
used for exact matching.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p> also report the distance to the chosen cluster/state (as a
data.frame).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns the name of the matching clusters/states or a data.frame with
columns "state" and "dist" if <code>dist=TRUE</code>. 
</p>


<h3>See Also</h3>

<p><code>EMM</code> and <code>tNN</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">data("EMMTraffic")
emm &lt;- EMM(measure="eJaccard", threshold=0.2)
emm &lt;- build(emm, EMMTraffic)

find_clusters(emm, EMMTraffic)
find_clusters(emm, EMMTraffic, dist=TRUE)

## add noise to the data 
set.seed(1234)
newdata &lt;- sapply(EMMTraffic, jitter, amount=15)
## default is exact match
find_clusters(emm, newdata, dist=TRUE)
## match with nearest neighbor
find_clusters(emm, newdata, match_cluster="nn", dist=TRUE)
## exact match only if within .5 times threshold
find_clusters(emm, newdata, match_cluster=.5, dist=TRUE)
## exact match only if within 2 times threshold
find_clusters(emm, newdata, match_cluster=2, dist=TRUE)
</code></pre>


</div>