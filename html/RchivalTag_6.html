<div class="container">

<table style="width: 100%;"><tr>
<td>dy_DepthTS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
plot time series data via the dygraphs interactive time series plotting interface.
</h2>

<h3>Description</h3>

<p>plot time series data (e.g. depth or temperature time series data from archival tags) via the dygraphs interactive time series plotting interface.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dy_TS(ts_df, y="Depth", xlim, ylim, 
           ylab=y, xlab, main,
           ID, ID_label="Serial", 
           plot_DayTimePeriods=TRUE, twilight.set="ast", 
           color="darkblue",
           doRangeSelector=TRUE, drawPoints=FALSE, pointSize=2, tz="UTC",...)


dy_DepthTS(ts_df, y="Depth", xlim, ylim, 
           ylab=y, xlab, main,
           ID, ID_label="Serial", 
           plot_DayTimePeriods=TRUE, twilight.set="ast", 
           color="darkblue",
           doRangeSelector=TRUE, drawPoints=FALSE, pointSize=2, tz="UTC", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ts_df</code></td>
<td>
<p>data.frame holding the time series data to be plotted, including the x-vector 'datetime' (in <code>POSIXct</code>-format  and UTC), and the numeric y-vector whose label is defined by <code>y</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>character label of time series vector to be plotted (by default 'Depth').
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>the x limits (x1, x2) of the plot (by default range(ts_df$datetime), but needs to be specified in <code>empty.plot_TS</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>the y limits of the plot (by default range(ts_df[[y]]), but needs to be specified in <code>empty.plot_TS</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab, xlab</code></td>
<td>

<p>the y- and x-axis labels. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>

<p>main title (by default "Tag ID") for the plot).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID, ID_label</code></td>
<td>

<p>Tag ID and its label (column name; by default "Serial") to be selected (e.g. if input data frame holds tagging data from several tags).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_DayTimePeriods, twilight.set</code></td>
<td>

<p>whether day-time periods ('Night', 'Dawn', 'Day', 'Dusk') should be plotted as shaded areas. In case that <code>plot_DayTimePeriods</code> is set <code>TRUE</code>), the limits of each time period are required (columns <code>sunrise</code>, <code>sunset</code>, <code>dawn.ast</code>,/<code>dawn.naut</code> and <code>dawn.ast</code>/<code>dawn.naut</code> in <code>POSIXct</code>-format. In case of the twilight events, the additional argument <code>twilight.set</code> defines the suffix of the twlight-set to be selected ( <code>"ast"</code> for astronomical dawn and dusks vs <code>"naut"</code> for nautical twilight events).
If any of the day-time columns, described above, is missing, it/they will be calculated based on geolocation estimates (required columns <code>Lon</code> and <code>Lat</code>) through an internal call of function <code>get_DayTimeLimits</code>.<br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>

<p>color of the line to be plotted (by default "darkblue")
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doRangeSelector</code></td>
<td>

<p>whether to add dygraph interactive range selection and zooming bar below the figure (by default <code>TRUE</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drawPoints, pointSize</code></td>
<td>

<p>Whether to indicate add points to the figure at the sampling time steps as well their size.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tz</code></td>
<td>

<p>The time zone in which the data should be illustrated (By default "UTC"). ATTENTION: The required date format of the input data is "UTC" (across all RchivalTag-functions). Run <code>OlsonNames(tzdir = NULL)</code> for valid time zone definitions.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>additional arguments to be passed to dygraph.Further arguments can be passed after the function call, e.g. via dyOptions.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An interactive dygraph plot object that can be altered further using for exemple the dyOptions.
</p>


<h3>Author(s)</h3>

<p>Robert K. Bauer
</p>


<h3>See Also</h3>

<p>plot_TS, plot_DepthTempTS</p>


<h3>Examples</h3>

<pre><code class="language-R">### load sample depth and temperature time series data from miniPAT:
# ts_file &lt;- system.file("example_files/104659-Series.csv",package="RchivalTag")
# ts_df &lt;- read_TS(ts_file)
# ts_df$Serial &lt;- ts_df$DeployID
# head(ts_df)

## plot depth-time series data
# dy_DepthTS(ts_df)

## add missing Lon, Lat information for night-time and twilight shadings
# ts_df$Lon &lt;- 5; ts_df$Lat &lt;- 43

# dy_DepthTS(ts_df)

## same figure with plot_DepthTS:
# plot_DepthTS(ts_df, plot_DayTimePeriods = TRUE)

## some further arguments:
# dy_DepthTS(ts_df, xlim = unique(ts_df$date)[2:3], plot_DayTimePeriods = FALSE)

## add further options via dyOptions-call:
# dg &lt;- dy_DepthTS(ts_df, xlim = unique(ts_df$date)[2:3], 
#                  plot_DayTimePeriods = FALSE, drawPoints = TRUE)
# dg &lt;- dyOptions(dg,drawGrid=FALSE)
# dg

</code></pre>


</div>