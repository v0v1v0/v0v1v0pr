<div class="container">

<table style="width: 100%;"><tr>
<td>position_max</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Positions the highest values with values decreasing around it</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>
<p>The highest value is positioned at the given index/quantile with the other
values decreasing around it.
</p>
<p><strong>Example</strong>:
</p>
<p>The column values:
</p>
<p><code>c(1, 2, 3, 4, </code><strong><code>5</code></strong><code>)</code>
</p>
<p>and <code>position = 2</code>
</p>
<p>are <strong>ordered as</strong>:
</p>
<p><code>c(3,</code> <strong><code>5</code></strong><code>, 4, 2, 1)</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">position_max(data, col = NULL, position = NULL, shuffle_sides = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>data.frame</code> or <code>vector</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Column to create sorting factor by.
When <code>`NULL`</code> and <code>`data`</code> is a <code>data.frame</code>,
the row numbers are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>position</code></td>
<td>
<p>Index or quantile (in <code>0-1</code>) at which to position the element of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shuffle_sides</code></td>
<td>
<p>Whether to shuffle which elements are left and right of the position. (Logical)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The sorted <code>data.frame</code> (<code>tibble</code>) / <code>vector</code>.
</p>


<h3>Author(s)</h3>

<p>Ludvig Renbo Olsen, <a href="mailto:r-pkgs@ludvigolsen.dk">r-pkgs@ludvigolsen.dk</a>
</p>


<h3>See Also</h3>

<p>Other rearrange functions: 
<code>center_max()</code>,
<code>center_min()</code>,
<code>closest_to()</code>,
<code>furthest_from()</code>,
<code>pair_extremes()</code>,
<code>position_min()</code>,
<code>rev_windows()</code>,
<code>roll_elements()</code>,
<code>shuffle_hierarchy()</code>,
<code>triplet_extremes()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Attach packages
library(rearrr)
library(dplyr)

# Set seed
set.seed(1)

# Create a data frame
df &lt;- data.frame(
  "index" = 1:10,
  "A" = sample(1:10),
  "B" = runif(10),
  "C" = LETTERS[1:10],
  "G" = c(
    1, 1, 1, 2, 2,
    2, 3, 3, 3, 3
  ),
  stringsAsFactors = FALSE
)

# Position the highest index (row number)
position_max(df, position = 3)$index
position_max(df, position = 8)$index

# Position the maximum value in each of the columns
position_max(df, col = "A", position = 3)$A
position_max(df, col = "B", position = 3)$B
position_max(df, col = "C", position = 3)$C

# Randomize which elements are left and right of the position
position_max(df, col = "A", position = 3, shuffle_sides = TRUE)$A

# Grouped by G
df %&gt;%
  dplyr::select(G, A) %&gt;% # For clarity
  dplyr::group_by(G) %&gt;%
  position_max(col = "A", position = 2)

# Plot the rearranged values
plot(x = 1:10, y = position_max(df, col = "B", position = 3)$B)
plot(x = 1:10, y = position_max(df, col = "B", position = 3, shuffle_sides = TRUE)$B)
</code></pre>


</div>