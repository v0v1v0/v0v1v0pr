<div class="container">

<table style="width: 100%;"><tr>
<td>redist_map</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a <code>redist_map</code> object.</h2>

<h3>Description</h3>

<p>Sets up a redistricting problem.
</p>


<h3>Usage</h3>

<pre><code class="language-R">redist_map(
  ...,
  existing_plan = NULL,
  pop_tol = NULL,
  total_pop = c("pop", "population", "total_pop", "POP100"),
  ndists = NULL,
  pop_bounds = NULL,
  adj = NULL,
  adj_col = "adj",
  planarize = 3857
)

as_redist_map(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>column elements to be bound into a <code>redist_map</code> object or a
single <code>list</code> or <code>data.frame</code>.  These will be passed on to the
<code>tibble</code> constructor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>existing_plan</code></td>
<td>
<p><code>&lt;tidy-select&gt;</code> the
existing district assignment. Must be numeric or convertible to numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pop_tol</code></td>
<td>
<p><code>&lt;data-masking&gt;</code> the population tolerance.
The percentage deviation from the average population will be constrained to
be no more than this number. If <code>existing_plan</code> is provided, defaults to
the parity of that plan; otherwise, defaults to 0.01.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>total_pop</code></td>
<td>
<p><code>&lt;tidy-select&gt;</code> the vector
of precinct populations. Defaults to the <code>pop</code>, <code>population</code>, or
<code>total_pop</code> columns, if one exists.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndists</code></td>
<td>
<p><code>&lt;data-masking&gt;</code> the integer number of
districts to partition the map into. Must be specified if <code>existing_plan</code> is not supplied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pop_bounds</code></td>
<td>
<p><code>&lt;data-masking&gt;</code> more specific
population bounds, in the form of <code>c(lower, target, upper)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adj</code></td>
<td>
<p>the adjacency graph for the object. Defaults to being computed
from the data if it is coercible to a shapefile.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adj_col</code></td>
<td>
<p>the name of the adjacency graph column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>planarize</code></td>
<td>
<p>a number, indicating the CRS to project the shapefile to if
it is latitude-longitude based. Set to NULL or FALSE to avoid planarizing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object to be coerced</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A <code>redist_map</code> object is a <code>tibble</code> which contains an
adjacency list and additional information about the number of districts and
population bounds.  It supports all of the <code>dplyr</code> generics, and will
adjust the adjacency list and attributes according to these functions; i.e.,
if we <code>filter</code> to a subset of units, the graph will change to subset to
these units, and the population bounds will adjust accordingly.  If an
existing map is also attached to the object, the number of districts will
also adjust.  Subsetting with <code>`[`</code> and <code>`[[`</code> does not recompute
graphs or attributes.
</p>
<p>Other useful methods for <code>redist_map</code> objects:
</p>

<ul>
<li> <p><code>merge_by</code>
</p>
</li>
<li> <p><code>get_adj</code>
</p>
</li>
<li> <p><code>plot.redist_map</code>
</p>
</li>
</ul>
<h3>Value</h3>

<p>A redist_map object
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(fl25)
d &lt;- redist_map(fl25, ndists = 3, pop_tol = 0.05, total_pop = pop)
dplyr::filter(d, pop &gt;= 10e3)

</code></pre>


</div>