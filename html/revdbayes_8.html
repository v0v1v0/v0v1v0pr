<div class="container">

<table style="width: 100%;"><tr>
<td>create_prior_xptr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create an external pointer to a C++ prior</h2>

<h3>Description</h3>

<p>This function provides an example of a way in which a user can specify
their own prior density to <code>rpost_rcpp</code>.
More specifically, a function like this (the user will need to create
an edited version tailored to their own C++ function(s)) can be used to
generate an external pointer to a compiled C++ function that evaluates
the log-prior density.  Please see the vignette
"Faster simulation using revdbayes" for more information.
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_prior_xptr(fstr)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>fstr</code></td>
<td>
<p>A string indicating the C++ function required.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>Suppose that the user's C++ functions are in a file called "user_fns.cpp".
These functions must be compiled and made available to R before the
pointer is created. This can be achieved using the function
<code>sourceCpp</code> in the <strong>Rcpp</strong> package
or using RStudio's Source button on the editor toolbar.
</p>
<p>For details see the examples in the documentation of the functions
<code>rpost_rcpp</code> and <code>set_prior</code>,
the vignette "Faster simulation using revdbayes"
and the vignette "Rusting Faster: Simulation using Rcpp" in the package
<strong>rust</strong>.
</p>


<h3>Value</h3>

<p>An external pointer.
</p>


<h3>See Also</h3>

<p><code>set_prior</code> to specify a prior distribution using
an external pointer returned by <code>create_prior_xptr</code> and for
details of in-built named prior distributions.
</p>
<p>The examples in the documentation of <code>rpost_rcpp</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">ptr_gp_flat &lt;- create_prior_xptr("gp_flat")
prior_cfn &lt;- set_prior(prior = ptr_gp_flat, model = "gp", min_xi = -1)

ptr_gev_flat &lt;- create_prior_xptr("gev_flat")
prior_cfn &lt;- set_prior(prior = ptr_gev_flat, model = "gev", min_xi = -1,
                       max_xi = Inf)

mat &lt;- diag(c(10000, 10000, 100))
ptr_gev_norm &lt;- create_prior_xptr("gev_norm")
pn_u &lt;- set_prior(prior = ptr_gev_norm, model = "gev", mean = c(0,0,0),
                  icov = solve(mat))
</code></pre>


</div>