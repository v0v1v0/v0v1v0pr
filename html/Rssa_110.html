<div class="container">

<table style="width: 100%;"><tr>
<td>reconstruct</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform a series reconstruction</h2>

<h3>Description</h3>

<p>Reconstruct the data given the SSA decomposition and the desired
grouping of the elementary components.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'ssa'
reconstruct(x, groups, ..., drop.attributes = FALSE, cache = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>SSA object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>
<p>list of numeric vectors, indices of elementary components
used for reconstruction, the entries of the list can be named, see
'Value' for more information</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to routines (e.g. to
<code>decompose</code> routine if the continuation is desired).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop.attributes</code></td>
<td>
<p>logical, if 'TRUE' then the attributes of the
input objects are not copied to the reconstructed ones.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache</code></td>
<td>
<p>logical, if 'TRUE' then intermediate results will be
cached in the SSA object.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Reconstruction is performed in a common form for different types of input objects.
See Section 1.1.2.6 in Golyandina et al (2018) for the explanation.
Formal algorithms are described in this book in Algorithm 2.2 for 1D-SSA, Algorithm 4.3 for MSSA,
Algorithm 5.2 for 2D-SSA and Algorithm 5.6 for Shaped 2D-SSA.
</p>
<p>Fast implementation of reconstruction with the help of FFT is described in Korobeynikov (2010)
for the 1D case and in Section 6.2 (Rank-one quasi-hankelization) of Golyandina et al (2015) 
for the general case.
</p>


<h3>Value</h3>

<p>List of reconstructed objects. Elements of the list have the same
names as elements of <code>groups</code>. If the group is unnamed, then
corresponding component will obtain name ‘Fn’, where ‘n’ is its index
in <code>groups</code> list.
</p>


<h3>Note</h3>

<p>By default (argument <code>drop.attributes</code>) the routine tries to
preserve all the attributes of the input object. This way, for
example, the reconstruction result of 'ts' object is the 'ts' object
with the same time scale.
</p>


<h3>References</h3>

<p>Golyandina N., Korobeynikov A., Zhigljavsky A. (2018):
<em>Singular Spectrum Analysis with R.</em>  Use R!.
Springer, Berlin, Heidelberg.
</p>
<p>Korobeynikov, A. (2010): <em>Computation- and space-efficient
implementation of SSA.</em> Statistics and Its Interface, Vol. 3, No. 3,
Pp. 257-268
</p>
<p>Golyandina, N., Korobeynikov, A., Shlemov, A. and Usevich, K. (2015):
<em>Multivariate and 2D Extensions of Singular Spectrum Analysis
with the Rssa Package</em>. Journal of Statistical Software, Vol. 67, Issue 2.
<a href="https://doi.org/10.18637/jss.v067.i02">doi:10.18637/jss.v067.i02</a>
</p>


<h3>See Also</h3>

<p><code>Rssa</code> for an overview of the package, as well as,
<code>ssa-input</code>,  
<code>ssa</code>,
<code>plot.reconstruction</code>,
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Decompose 'co2' series with default parameters
s &lt;- ssa(co2)
# Reconstruct the series, grouping elementary series.
r &lt;- reconstruct(s, groups = list(Trend = c(1, 4), Season1 = c(2,3), Season2 = c(5, 6)))
plot(r)
# 'groups' argument might contain duplicate entries as well
r &lt;- reconstruct(s, groups = list(1, 1:4, 1:6))
plot(r)


# Real example: Mars photo
data(Mars)
# Decompose only Mars image (without backgroud)
s &lt;- ssa(Mars, mask = Mars != 0, wmask = circle(50), kind = "2d-ssa")
# Reconstruct and plot trend
plot(reconstruct(s, 1), fill.uncovered = "original")
# Reconstruct and plot texture pattern
plot(reconstruct(s, groups = list(c(13, 14, 17, 18))))

# Decompose 'EuStockMarkets' series with default parameters
s &lt;- ssa(EuStockMarkets, kind = "mssa")
r &lt;- reconstruct(s, groups = list(Trend = 1:2))
# Plot original series, trend and residuals superimposed
plot(r, plot.method = "xyplot", superpose = TRUE,
     auto.key = list(columns = 3),
     col = c("blue", "green", "red", "violet"),
     lty = c(rep(1, 4), rep(2, 4), rep(3, 4)))

</code></pre>


</div>