<div class="container">

<table style="width: 100%;"><tr>
<td>idig_search_media</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Searching of iDigBio media records</h2>

<h3>Description</h3>

<p>Function to query the iDigBio API for media records
</p>


<h3>Usage</h3>

<pre><code class="language-R">idig_search_media(
  mq = FALSE,
  rq = FALSE,
  fields = FALSE,
  max_items = 1e+05,
  limit = 0,
  offset = 0,
  sort = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mq</code></td>
<td>
<p>iDigBio media query in nested list format</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rq</code></td>
<td>
<p>iDigBio record query in nested list format</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fields</code></td>
<td>
<p>vector of fields that will be contained in the data.frame,
defaults to "all" which is all indexed fields</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_items</code></td>
<td>
<p>maximum number of results allowed to be retrieved (fail
-safe)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit</code></td>
<td>
<p>maximum number of results returned</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>number of results to skip before returning results</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>vector of fields to use for sorting, UUID is always appended to
make paging safe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Also see <code>idig_search_records</code> for the full examples of all the
parameters related to searching iDigBio.
</p>
<p>Wraps <code>idig_search</code> to provide defaults specific to searching
media records. Using this function instead of <code>idig_search</code>
directly is recommened. Record queries and media queries objects are allowed
(rq and mq parameters) and media records returned will match the
requirements of both.
</p>
<p>This function defaults to returning all indexed media record fields.
</p>


<h3>Value</h3>

<p>A data frame with fields requested or the following default fields:
</p>

<ul>
<li>
<p><a href="https://ac.tdwg.org/termlist/#ac_accessURI">accessuri</a> 
</p>
</li>
<li>
<p>datemodified: Date last modified, which is assigned by iDigBio.
</p>
</li>
<li>
<p>dqs: Data quality score assigned by iDigBio.
</p>
</li>
<li>
<p>etag: Tag assigned by iDigBio.
</p>
</li>
<li>
<p>flags: Data quality flag assigned by iDigBio.
</p>
</li>
<li>
<p><a href="https://purl.org/dc/terms/format">format</a> 
</p>
</li>
<li>
<p>hasSpecimen: TRUE or FALSE, indicates if there is an associated record for this media.
</p>
</li>
<li>
<p><a href="https://ac.tdwg.org/termlist/#ac_licenseLogoURL">licenselogourl</a>
</p>
</li>
<li>
<p>mediatype: Media object type.
</p>
</li>
<li>
<p><a href="https://purl.org/dc/terms/modified">modified</a>
</p>
</li>
<li>
<p>recordids: List of UUID for associated records.
</p>
</li>
<li>
<p>records: UUID for the associated record.
</p>
</li>
<li>
<p>recordset: Record set ID assigned by iDigBio.
</p>
</li>
<li>
<p><a href="https://purl.org/dc/terms/rights">rights</a>
</p>
</li>
<li>
<p><a href="https://rs.tdwg.org/ac/terms/tag">tag</a>
</p>
</li>
<li>
<p><a href="https://purl.org/dc/terms/type">type</a>
</p>
</li>
<li>
<p>uuid: Unique identifier assigned by iDigBio.
</p>
</li>
<li>
<p>version: Media record version assigned by iDigBio.
</p>
</li>
<li>
<p><a href="https://developer.adobe.com/xmp/docs/XMPNamespaces/xmpRights/">webstatement</a>
</p>
</li>
<li>
<p>xpixels: As defined by EXIF, x dimension in pixel.
</p>
</li>
<li>
<p>ypixels: As defined by EXIF,y dimension in pixels.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Matthew Collins
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Searching for media using a query on related specimen information - first
# 10 media records with image URIs related to a specimen in the genus Acer:
df &lt;- idig_search_media(rq=list(genus="acer"),
                        mq=list("data.ac:accessURI"=list("type"="exists")),
                        fields=c("uuid","data.ac:accessURI"), limit=10)

## End(Not run)
</code></pre>


</div>