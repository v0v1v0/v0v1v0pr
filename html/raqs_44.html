<div class="container">

<table style="width: 100%;"><tr>
<td>aqs_metadata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>AQS API Meta Data service</h2>

<h3>Description</h3>

<p>A collection of functions to fetch information about the AQS API. The main
purpose of this service is to let you know the system is up before you run a
long job.
</p>


<h3>Usage</h3>

<pre><code class="language-R">aqs_metadata(
  aqs_filter = c("isAvailable", "revisionHistory", "fieldsByService", "issues"),
  aqs_variables = NULL,
  header = FALSE,
  ...
)

metadata_isavailable(...)

metadata_revisionhistory(
  email = get_aqs_email(),
  key = get_aqs_key(),
  header = FALSE,
  ...
)

metadata_fieldsbyservice(
  service,
  email = get_aqs_email(),
  key = get_aqs_key(),
  header = FALSE,
  ...
)

metadata_issues(
  email = get_aqs_email(),
  key = get_aqs_key(),
  header = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>aqs_filter</code></td>
<td>
<p>A string specifying one of the service filters. NOT
case-sensitive.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aqs_variables</code></td>
<td>
<p>A named list of variables to fetch data (e.g.,
<code>state</code>). Only necessary variables are passed to a specific endpoint
(service/filter) to make a valid request.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>header</code></td>
<td>
<p>A logical specifying whether the function returns additional
information from the API header. Default is <code>FALSE</code> to return data only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Reserved for future use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>email</code></td>
<td>
<p>A string specifying the email address of the requester. If you
set your email and key with set_aqs_user, you don't have to specify
this.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>A string specifying the key matching the email address for the
requester. If you set your email and key with set_aqs_user, you don't
have to specify this.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>service</code></td>
<td>
<p>A string specifying one of the services available (e.g.,
sampleData)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>aqs_metadata sends a request to the AQS API based on a user-provided
filter using the following underlying functions:
</p>

<ul>
<li> <p>metadata_isavailable checks if the API is up and running.
</p>
</li>
<li> <p>metadata_revisionhistory returns a complete list of revisions to the API
in reverse chronological order.
</p>
</li>
<li> <p>metadata_fieldsbyservice returns a list and definitions of fields in a
user-provided service.
</p>
</li>
<li> <p>metadata_issues returns a list of any known issues with system
functionality or the data.
</p>
</li>
</ul>
<h3>Value</h3>

<p>A data.frame containing parsed data or a named list containing
header and data.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

## Set your API Key first using set_aqs_user to run the following codes

aqs_metadata(aqs_filter = "isAvailable")
metadata_isavailable() # equivalent to above

aqs_metadata("revisionHistory")
metadata_revisionhistory()

aqs_metadata("fieldsByService", aqs_variables = list(service = "annualData"))
metadata_fieldsbyservice(service = "annualData")

aqs_metadata("issues")
metadata_issues()

## End(Not run)

</code></pre>


</div>