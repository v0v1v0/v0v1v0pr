<div class="container">

<table style="width: 100%;"><tr>
<td>items_sign_planetary_computer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Signs URL to access assets from Microsoft's Planetary Computer.</h2>

<h3>Description</h3>

<p>These functions provide support to access assets from Planetary Computer.
</p>

<ul>
<li> <p><code>items_sign_planetary_computer()</code>: <a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
A simplified function to sign assets' URL from Microsoft Planetary
Computer to be able to access the data.
</p>
</li>
<li> <p><code>sign_planetary_computer()</code>: Creates a signing function to be
used by <code>items_sign()</code>. This function sign all the assets' URL.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">items_sign_planetary_computer(items, subscription_key = NULL, ...)

sign_planetary_computer(..., headers = NULL, token_url = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>items</code></td>
<td>
<p>a <code>doc_item</code> or <code>doc_items</code> object
representing the result of <code style="white-space: pre;">⁠/stac/search⁠</code>,
<code>/collections/{collectionId}/items</code> or
<code>/collections/{collectionId}/items/{itemId}</code> endpoints.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subscription_key</code></td>
<td>
<p>the <code>subscription-key</code> to access restricted
assets in Microsoft Planetary Computer. You can keep this parameter
empty for non-protected assets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters can be supplied to the <code>GET</code> function
of the <code>httr</code> package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>headers</code></td>
<td>
<p>a named character vector with headers key-value content.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token_url</code></td>
<td>
<p>a <code>character</code> with the URL that generates the tokens
in the Microsoft service.
By default is used:
<code>"https://planetarycomputer.microsoft.com/api/sas/v1/token"</code></p>
</td>
</tr>
</table>
<h3>Value</h3>


<ul>
<li> <p><code>items_sign_planetary_computer()</code>: items with signed assets URLs.
</p>
</li>
<li> <p><code>sign_planetary_computer()</code>: a function to to be passed to
<code>items_sign()</code>.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
 # doc_items object
 stac_obj &lt;- stac("https://planetarycomputer.microsoft.com/api/stac/v1/") %&gt;%
  stac_search(collections = "sentinel-2-l2a",
              bbox = c(-47.02148, -17.35063, -42.53906, -12.98314)) %&gt;%
  get_request()

 # the new way to authenticate:
 stac_obj &lt;- stac_obj %&gt;%
   items_sign_planetary_computer()

 # this is the old way of authentication (still works):
 # stac_obj &lt;- stac_obj %&gt;%
 #   items_sign(sign_fn = sign_planetary_computer())

 # example of access to collections that require authentication
 stac_obj &lt;- stac("https://planetarycomputer.microsoft.com/api/stac/v1") %&gt;%
   stac_search(collections = c("sentinel-1-rtc"),
               bbox = c(-64.8597, -10.4919, -64.79272527, -10.4473),
               datetime = "2019-01-01/2019-01-28") %&gt;%
   post_request()

 # the new way to authenticate:
 # stac_obj &lt;- stac_obj %&gt;%
 #   items_sign_planetary_computer("&lt;subscription-key&gt;")

 # this is the old way of authentication (still works):
 # stac_obj &lt;- stac_obj %&gt;%
 #   items_sign(
 #     sign_fn = sign_planetary_computer(
 #       headers = c("Ocp-Apim-Subscription-Key" = &lt;your-mpc-token&gt;)
 #     )
 #   )

## End(Not run)

</code></pre>


</div>