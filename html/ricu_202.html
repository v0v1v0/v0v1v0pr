<div class="container">

<table style="width: 100%;"><tr>
<td>min_or_na</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Utility functions</h2>

<h3>Description</h3>

<p>Several utility functions exported for convenience.
</p>


<h3>Usage</h3>

<pre><code class="language-R">min_or_na(x)

max_or_na(x)

is_val(x, val)

not_val(x, val)

is_true(x)

is_false(x)

last_elem(x)

first_elem(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>val</code></td>
<td>
<p>Value to compare against or to use as replacement</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The two functions <code>min_or_na()</code> and <code>max_or_na()</code> overcome a design choice
of <code>base::min()</code> (or <code>base::max()</code><code style="white-space: pre;">⁠) that can yield undesirable results. If called on a vector of all missing values with ⁠</code>na.rm = TRUE<code style="white-space: pre;">⁠, ⁠</code>Inf<code style="white-space: pre;">⁠(and⁠</code>-Inf<code style="white-space: pre;">⁠respectively) are returned. This is changed to returning a missing value of the same type as⁠</code>x'.
</p>
<p>The functions <code>is_val()</code> and <code>not_val()</code> (as well as analogously
<code>is_true()</code> and <code>is_false()</code>) return logical vectors of the same length as
the value passed as <code>x</code>, with non-base R semanticists of comparing against
<code>NA</code>: instead of returning <code>c(NA, TRUE)</code> for <code>c(NA, 5) == 5</code>, <code>is_val()</code>
will return <code style="white-space: pre;">⁠c(FALSE TRUE)⁠</code>. Passing <code>NA</code> as <code>val</code> might lead to unintended
results but no warning is thrown.
</p>
<p>Finally, <code>first_elem()</code> and <code>last_elem()</code> has the same semantics as
<code>utils::head()</code> and <code>utils::tail()</code> with <code>n = 1L</code> and <code>replace_na()</code> will
replace all occurrences of <code>NA</code> in <code>x</code> with <code>val</code> and can be called on both
objects inheriting from <code>data.table</code> in which case internally
<code>data.table::setnafill()</code> is called or other objects.
</p>


<h3>Value</h3>


<ul>
<li> <p><code>min_or_na()</code>/<code>max_or_na()</code>: scalar-valued extrema of a vector
</p>
</li>
<li> <p><code>is_val()</code>/<code>not_val()</code>/<code>is_true()</code>/<code>is_false()</code>: Logical vector of the
same length as the object passed as <code>x</code>
</p>
</li>
<li> <p><code>first_elem()</code>/<code>last_elem()</code>: single element of the object passed as <code>x</code>
</p>
</li>
<li> <p><code>replace_na()</code>: modified version of the object passed as <code>x</code>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">some_na &lt;- c(NA, sample(1:10, 5), NA)
identical(min(some_na, na.rm = TRUE), min_or_na(some_na))

all_na &lt;- rep(NA, 5)
min(all_na, na.rm = TRUE)
min_or_na(all_na)

is_val(some_na, 5)
some_na == 5

is_val(some_na, NA)

identical(first_elem(letters), head(letters, n = 1L))
identical(last_elem(letters), tail(letters, n = 1L))

replace_na(some_na, 11)
replace_na(all_na, 11)
replace_na(1:5, 11)

tbl &lt;- ts_tbl(a = 1:10, b = hours(1:10), c = c(NA, 1:5, NA, 8:9, NA))
res &lt;- replace_na(tbl, 0)
identical(tbl, res)

</code></pre>


</div>