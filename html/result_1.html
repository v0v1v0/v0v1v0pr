<div class="container">

<table style="width: 100%;"><tr>
<td>as_result</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Wraps an expression in <code>result</code> type, choosing between <code>success</code>
and <code>failure</code> based on the outcome of the expression.</h2>

<h3>Description</h3>

<p>Use <code>as_result</code> on expressions whose outcomes are not known in advance or not
safe to be examined. The expression will be evualted immediately and wrapped
in <code>success</code> if it produces a value or <code>failure</code> if it produces an
error. If the expression produces a warning, it will be wrapped in
<code>success</code> or <code>failure</code> depending on the <code>fail_on_warning</code>
argument.
</p>


<h3>Usage</h3>

<pre><code class="language-R">as_result(.expr, detect_warning = TRUE, fail_on_warning = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.expr</code></td>
<td>
<p>expression to evaluate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>detect_warning</code></td>
<td>
<p>logical, whether to detect warnings; note
<code>as_result()</code> cannot capture the outcome of an expression if it
catches warnings, so use <code>detect_warning = TRUE </code> only if you want
to capture the warning message (e.g., after a side-effect).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fail_on_warning</code></td>
<td>
<p>logical, whether to treat warnings as <code>failure</code>
or <code>success</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>result</code> object of subclass <code>success</code> or <code>failure</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">as_result(42)
as_result(1 + 1)

stopper &lt;- as_result(stop("This is my error message"))
is_failure(stopper)
value(stopper)

as_result(warning("You've been warned")) |&gt; is_success()
as_result(warning("You've been warned"), fail_on_warning = FALSE) |&gt; value()
</code></pre>


</div>