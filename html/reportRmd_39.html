<div class="container">

<table style="width: 100%;"><tr>
<td>rm_survsum</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Summarise survival data by group</h2>

<h3>Description</h3>

<p>Displays event counts, median survival time and survival rates at specified
times points for the entire cohort and by group. The logrank test of
differences in survival curves is displayed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rm_survsum(
  data,
  time,
  status,
  group = NULL,
  survtimes = NULL,
  survtimeunit,
  survtimesLbls = NULL,
  CIwidth = 0.95,
  unformattedp = FALSE,
  conf.type = "log",
  na.action = "na.omit",
  showCounts = TRUE,
  showLogrank = TRUE,
  eventProb = FALSE,
  digits = getOption("reportRmd.digits", 2),
  caption = NULL,
  tableOnly = FALSE,
  fontsize
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame containing survival data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>string indicating survival time variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status</code></td>
<td>
<p>string indicating event status variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>string or character vector indicating the variable(s) to group
observations by. If this is left as NULL (the default) then summaries are
provided for the entire cohort.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>survtimes</code></td>
<td>
<p>numeric vector specifying when survival probabilities should
be calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>survtimeunit</code></td>
<td>
<p>unit of time to suffix to the time column label if
survival probabilities are requested, should be plural</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>survtimesLbls</code></td>
<td>
<p>if supplied, a vector the same length as survtimes with
descriptions (useful for displaying years with data provided in months)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CIwidth</code></td>
<td>
<p>width of the survival probabilities, default is 95%</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unformattedp</code></td>
<td>
<p>boolean indicating if you would like the p-value to be
returned unformatted (ie not rounded or prefixed with '&lt;'). Should be used
in conjunction with the digits argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.type</code></td>
<td>
<p>type of confidence interval see <code>survfit</code> for
details. Default is 'log'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>default is to omit missing values, but can be set to throw
and error using na.action='na.fail'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showCounts</code></td>
<td>
<p>boolean indicating if the at risk, events and censored
columns should be output; default is TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showLogrank</code></td>
<td>
<p>boolean indicating if the log-rank test statistic and
p-value should be output; default is TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eventProb</code></td>
<td>
<p>boolean indicating if event probabilities, rather than
survival probabilities, should be displayed; default is FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>the number of digits in the survival rate, default is 2, unless
the reportRmd.digits option is set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption</code></td>
<td>
<p>table caption for markdown output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tableOnly</code></td>
<td>
<p>should a dataframe or a formatted object be returned</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fontsize</code></td>
<td>
<p>PDF/HTML output only, manually set the table fontsize</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This summary table is supplied for simple group comparisons only. To examine
differences in groups with stratification see <code>rm_survdiff</code>. To
summarise differences in survival rates controlling for covariates see
<code>rm_survtime</code>.
</p>


<h3>Value</h3>

<p>A character vector of the survival table source code, unless
tableOnly=TRUE in which case a data frame is returned
</p>


<h3>See Also</h3>

<p><code>survfit</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Simple median survival table
data("pembrolizumab")
rm_survsum(data=pembrolizumab,time='os_time',status='os_status')

# Survival table with yearly survival rates
rm_survsum(data=pembrolizumab,time='os_time',status='os_status',
survtimes=c(12,24),survtimesLbls=1:2, survtimeunit='yr')

#Median survival by group
rm_survsum(data=pembrolizumab,time='os_time',status='os_status',group='sex')

# Survival Summary by cohort, displayed in years
rm_survsum(data=pembrolizumab,time='os_time',status='os_status',
group="cohort",survtimes=seq(12,72,12),
survtimesLbls=seq(1,6,1),
survtimeunit='years')

# Survival Summary by Sex and ctDNA group
rm_survsum(data=pembrolizumab,time='os_time',status='os_status',
group=c('sex','change_ctdna_group'),survtimes=c(12,24),survtimeunit='mo')

</code></pre>


</div>