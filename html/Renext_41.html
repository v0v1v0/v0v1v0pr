<div class="container">

<table style="width: 100%;"><tr>
<td>plot.Renouv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Plot an object of class "Renouv"
</h2>

<h3>Description</h3>

<p>Plot an object of class "Renouv". The plot is a return level plot with
some supplementary elements to display historical data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'Renouv'
plot(x,
     pct.conf = x$pct.conf,
     show = list(OT = TRUE, quant = TRUE, conf = TRUE,
                 MAX = TRUE, OTS = TRUE),
     mono = TRUE,
     predict = FALSE,
     par = NULL,
     legend = TRUE,
     label = NULL,
     problim = NULL,
     Tlim = NULL,
     main = NULL, xlab = "periods", ylab = "level",
     posOptions = NULL,
     byBlockStyle = NULL,
     ...)
## S3 method for class 'Renouv'
lines(x,
      pct.conf = x$pct.conf,
      show = NULL,
      mono = TRUE,
      predict = FALSE,
      par = NULL,
      legend = FALSE,
      label = NULL,
      posOptions = NULL,
      byBlockStyle = NULL,
      ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>Object of class <code>"Renouv"</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pct.conf</code></td>
<td>

<p>Percents for confidence limits (lower and
upper). These levels should be found within those computed in the
object <code>x</code>. By default, all computed levels will be used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show</code></td>
<td>

<p>A <em>list with named elements</em> specifying which parts of the
return level plot must be drawn. Element <code>OT</code> is for the the
sample points (Over the Threshold data), <code>quant</code> is for the
quantile curve (or Return Level curve), <code>conf</code> is for the
confidence limits. These three elements can be set to <code>TRUE</code> or
<code>FALSE</code>.  When the element <code>conf</code> is <code>TRUE</code>, only the
percent levels given in <code>pct.conf</code> are drawn. Moreover, the
levels not already computed in the object given in <code>x</code> will be
drawn only if the predictions are recomputed with <code>predict</code> set
to <code>TRUE</code>.  Finally, the <code>MAX</code> and <code>OTS</code> elements are
for the two possible types of historical data. They can be logical
vectors with length one or with length equal to the corresponding of
blocks if only some blocks are to be shown. These two elements can
also be character vectors indicating the names of the blocks which
are to be shown (by partial matching). These names should match one
or several elements of the character vector named <code>blockNames</code>
within the lists <code>x$history.MAX</code> or <code>x$history.OTS</code>
respectively.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mono</code></td>
<td>

<p>Logical, <code>TRUE</code> for a monochrome plot.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predict</code></td>
<td>

<p>Logical. When <code>TRUE</code>, predictions are re-computed from the
model before plotting. One effect is that the points used to draw
the curves are designed to cover the whole range (if specified by
the user). One other effect is that the confidence limits are
recomputed in order to include the percent levels given on entry.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>par</code></td>
<td>

<p>A list such as returned by the <code>RLpar</code> function.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>

<p>Logical. If <code>TRUE</code>, a legend is built and drawn on the graph. 
</p>
</td>
</tr>
</table>
<table>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>

<p>A character label used to build the labels used in the legend. The
default is to use the name of the <code>x</code> object. Using an empty
string <code>""</code> can be better in some cases.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>problim</code></td>
<td>

<p>Limits for the x-axis in probability scale. Can be used as an
alternative to <code>Tlim</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tlim</code></td>
<td>

<p>Limits for the x-axis in return period scale. The values are given
as a numeric vector of length 2, containing values <code class="reqn">\ge 1</code>.
The first element (minimal return period can be 0 in which case it
will be replaced by a very small positive value.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>

<p>Label of the x-axis (time periods, with log scale).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>

<p>Main title (character).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>

<p>Label of the y-axis (labels).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>posOptions</code></td>
<td>

<p>A pair list to be passed as list of formals to the <code>SandT</code>
function computing the plotting positions.
</p>
</td>
</tr>
</table>
<table>
<tr style="vertical-align: top;">
<td><code>byBlockStyle</code></td>
<td>

<p>Logical list (or named logical vector) with elements <code>MAX</code> and
<code>OTS</code>. The value indicates if each (MAX or OTS) block must be
plotted with a specific style (plotting character and color), or if
instead a common style is used for all blocks of the same type
(MAX or OTS). In the first case, each block will create a line in
the legend with a label taken from the <code>history.MAX</code> element of
the object given in <code>x</code>. These legend lines will not appear if
<code>legend</code> is <code>FALSE</code> but can be shown later using
<code>RLlegend.show</code>.  In the second case, only one legend line
will be generated. When the number of blocks is large for one type
and the corresponding value of <code>byBlockStyle</code> is <code>TRUE</code>,
the styles will be recycled and the plot/legend might not be clear.
When <code>byBlockStyle</code> is <code>NULL</code> or does not contain
all needed information, default choices are made.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Other arguments passed to the default <code>plot</code> function
e.g., <code>ylim</code> to adjust the y-axis.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Historical data blocks (MAX or OTS) embedded in the <code>x</code> object (if any)
can be plotted or not depending on the value of the corresponding
element in <code>show</code>.
</p>

<ul>
<li>
<p>If the <code>MAX</code> element is <code>TRUE</code> and if <code>x</code>
embeds historical data of type <code>MAX</code>, then these will be
shown with a symbol differing from the one for ordinary points.
</p>

</li>
<li>
<p>If <code>OTS</code> element is <code>TRUE</code> and is <code>x</code> embeds
historical data of type <code>OTS</code>, then these will be shown with
a symbol differing from the one for ordinary points. An exception
is when one or several OTS block have no data. Then each such
block is shown as an horizontal segment; its right end-point shows
the effective duration of the block and the ordinate shows the OTS
threshold for this block. No data exceeded the threshold within
the block.
</p>

</li>
</ul>
<p>This function acts on a list variable named <code>.RLlegend</code> and
stored in a special environment bound to the package. This variable is
used to build legends for plots produced with multiple commands. See
the <code>RLlegend</code> help page.
Examples of possible combined uses of the argument of the <code>plot</code>
and <code>lines</code> together with the <code>RLlegend*</code> functions
are given in the "Renext Graphics" chapter of the <em>Renext
Guide</em> document shipped with this package.
</p>


<h3>Value</h3>

<p>No value returned.
</p>


<h3>Caution</h3>

<p>Remind that the methods <code>plot</code> and <code>lines</code> may change the
value of the variable <code>.RLlegend</code> in the environment
<code>legendEnvir</code>. This variable describes the material to be used in
the legend at the next call of <code>RLlegend.show</code>.
</p>


<h3>Note</h3>

<p>The return level plot is of exponential type i.e. uses a log-scale for
return periods. This contrasts with the Gumbel plot which is also used
in similar contexts.
</p>


<h3>Author(s)</h3>

<p>Yves Deville
</p>


<h3>See Also</h3>

<p>The <code>RLlegend</code> page for the legend construction and
<code>RLpar</code> to specify the graphical parameters (colors, line
types, ...) of the elements.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## two fits for the Garonne data
fit.exp &lt;- Renouv(x = Garonne, plot = FALSE)
fit.gpd &lt;- Renouv(x = Garonne, distname.y = "gpd", plot = FALSE)

## simple plot (legend is TRUE here)
plot(fit.exp,
     main = "Two fits overlapped",
     label = "",
     ## Tlim = c(1, 5000),
     predict = TRUE)

## Now try 'lines' and RLlegend.xxx functions
plot(fit.exp,
     main = "Fancy legend",
     show = list(OT = FALSE, quant = FALSE, conf = FALSE,
                 OTS = FALSE, MAX = FALSE),
     legend = FALSE,
     Tlim = c(1, 5000))
RLlegend.ini(x = "bottomright", bg = "lightyellow") ## initialise legend
lines(fit.exp,
      show = list(quant = FALSE, conf = FALSE, OT = TRUE, MAX = TRUE),
      label = "expon",
      par = RLpar(quant.col = "orange", 
        OT.pch = 21, OT.cex = 1.2, OT.col = "SeaGreen", OT.bg = "yellow",
        MAX.block1.col = "purple", MAX.block1.bg = "mistyrose",
        MAX.block1.lwd = 1.4))
lines(fit.gpd,
      pct.conf = c(95, 70),
      show = list(quant = TRUE, conf = TRUE),
      label = "GPD",
      par = RLpar(quant.col = "darkcyan", conf.conf1.col = "red"))
RLlegend.show() ## now draw legend
</code></pre>


</div>