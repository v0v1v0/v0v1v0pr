<div class="container">

<table style="width: 100%;"><tr>
<td>rvn_res_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot Reservoir Stage</h2>

<h3>Description</h3>

<p>Creates a reservoir stage plot for the supplied stage series.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rvn_res_plot(
  sim = NULL,
  obs = NULL,
  precip = NULL,
  prd = NULL,
  winter_shading = FALSE,
  wsdates = c(12, 1, 3, 31)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sim</code></td>
<td>
<p>time series object of simulated stage</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs</code></td>
<td>
<p>time series object of observed stage</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>precip</code></td>
<td>
<p>time series object of precipitation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prd</code></td>
<td>
<p>period to use in plotting</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>winter_shading</code></td>
<td>
<p>optionally adds shading for winter months (default <code>FALSE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wsdates</code></td>
<td>
<p>integer vector of winter shading period dates (see details)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Creates a reservoir stage plot using the supplied time series;
any series not supplied will not be plotted. If the precip time series is
supplied, the secondary y axis will be used to plot the precip time series.
</p>
<p>The function assumes that the supplied time series have the same length and
duration in time. If this is not true, then the defined period or period
calculated from the first available stage series will be used to determine
the plotting limits in time. If the data is used directly from Raven output,
this is not a concern. The supplied time series should be in xts format,
which again can be obtained directly by using the <code>rvn_res_extract</code> function.
</p>
<p>The winter_shading argument will add a transparent grey shading for the
December 1st to March 31st period in each year that is plotted (or other
period specified by wsdates).
</p>
<p>wsdates is formatted as c(winter start month, winter start day, winter end month, winter end day).
</p>


<h3>Value</h3>

<table><tr style="vertical-align: top;">
<td><code>p1</code></td>
<td>
<p>returns ggplot plot object</p>
</td>
</tr></table>
<h3>See Also</h3>

<p><code>rvn_hyd_read</code> for reading in the Hydrographs.csv file, and
<code>rvn_res_extract</code> to extract time series from Raven objects
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# read in sample reservoir file
ff &lt;- system.file("extdata","ReservoirStages.csv", package="RavenR")
rvn_res_read(ff) %&gt;%
rvn_res_extract(subs="sub36", res=.) -&gt; mystage
sim &lt;- mystage$sim
obs &lt;- mystage$obs
precip &lt;- rvn_res_read(ff)$res$precip

# create a nice reservoir stage plot
rvn_res_plot(sim,obs)

# create a reservoir stage plot with precip as well
rvn_res_plot(sim,obs,precip=precip)

# create a reservoir stage plot with precip as well for a specific subperiod
prd &lt;- "2003-10-01/2005-10-01"
rvn_res_plot(sim,obs,precip=precip,prd=prd)

# add winter shading
rvn_res_plot(sim,obs,precip=precip, winter_shading=TRUE)

</code></pre>


</div>