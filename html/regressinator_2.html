<div class="container">

<table style="width: 100%;"><tr>
<td>augment_longer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Augment a model fit with residuals, in "long" format</h2>

<h3>Description</h3>

<p>Use <code>broom::augment()</code> to augment a model fit with residual and fit
information, then reformat the resulting data frame into a "long" format with
one row per predictor per observation, to facilitate plotting of the result.
</p>


<h3>Usage</h3>

<pre><code class="language-R">augment_longer(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A model fit object, such as those returned by <code>lm()</code> or <code>glm()</code>. See
the broom documentation for the full list of model types supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to <code>broom::augment()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The name comes by analogy to <code>tidyr::pivot_longer()</code>, and the concept of long
versus wide data formats.
</p>


<h3>Value</h3>

<p>A data frame (tibble) in similar form to those produced by
<code>broom::augment()</code>, but expanded to have one row per predictor per
observation. Columns <code>.predictor_name</code> and <code>.predictor_value</code> identify the
predictor and its value. An additional column <code>.obs</code> records the original
observation numbers so results can be matched to observations in the
original model data.
</p>


<h3>Limitations</h3>

<p>Factor predictors (as factors, logical, or character vectors) can't coexist
with numeric variables in the <code>.predictor_value</code> column. If there are some
numeric and some factor predictors, the factor predictors will automatically
be omitted. If all predictors are factors, they will be combined into one
factor with all levels. However, if a numeric variable is converted to factor
in the model formula, such as with <code>y ~ factor(x)</code>, the function cannot
determine the appropriate types and will raise an error. Create factors as
needed in the source data frame <em>before</em> fitting the model to avoid this
issue.
</p>


<h3>See Also</h3>

<p><code>partial_residuals()</code>, <code>binned_residuals()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">fit &lt;- lm(mpg ~ cyl + disp + hp, data = mtcars)

# each observation appears 3 times, once per predictor:
augment_longer(fit)
</code></pre>


</div>