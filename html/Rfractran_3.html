<div class="container">

<table style="width: 100%;"><tr>
<td>fracDo</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
The FRACTRAN Interpreter Function
</h2>

<h3>Description</h3>

<p>This implements the FRACTRAN process, to wit 
For the first fraction f in the list for which nf is an integer,
replace n by nf. 
Repeat this rule until no fraction in the list produces
an integer when multiplied by n, then halt. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">fracDo(input, fractions = NULL, nums, denoms, tries = 100,
 stopFun = NULL, liveUpdate = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>

<p>The starting integer for the given FRACTRAN code (fraction sequence) 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fractions</code></td>
<td>

<p>The sequence of fractions. Must be in <code>bigq</code> form. If NULL, then 
<code>nums</code> and <code>denoms</code> must be supplied.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nums</code></td>
<td>

<p>Vector of integers (or <code>bigz</code> values ) representing the numerators
of the FRACTRAN fractions. If <code>fractions</code> is supplied, this is ignored.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>denoms</code></td>
<td>

<p>Vector of integers (or <code>bigz</code> values ) representing the denominators
of the FRACTRAN fractions. If <code>fractions</code> is supplied, this is ignored.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tries</code></td>
<td>

<p>A 'safety' limiter on the number of times to process the next integer
generated. This avoids possible infinite runs or other time-wasters. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stopFun</code></td>
<td>

<p>Optional user-supplied function that can be used to terminate a FRACTRAN
run early, or to take mid-run actions such as sending information to 
the console.  See Details for more information. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>liveUpdate</code></td>
<td>

<p>If set to TRUE, a few dots and words are sent to the console to indicate 
that the algorithm is still running. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Possible additional arguments for <code>stopFun</code> or future use. 
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Some FRACTRAN programs do not terminate, most famously the prime generators. 
If a specific value is being looked for, an appropriate <code>stopFun</code>
can be supplied to check for that value. <code>stopFun</code> must return a
single logical value (R, as always will convert numerics to logical if
necessary) indicating success as TRUE. The first argument
to <code>stopFun</code> must accept a single <code>bigq</code> value.
If there are more arguments, they must be entered after all named
arguments.  Note that this function does not have to send TRUE; it could be 
used solely to execute other commands mid-run. 
See <code>stopPrime</code> for one such example. 
</p>


<h3>Value</h3>

<p>A vector of all the <code>bigq</code> values generated. 
These all have denominator == 1, as they are the integers found in 
each iteration of the FRACTRAN algorithm. 
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft &lt;carl@witthoft.com
</p>


<h3>References</h3>

<p><a href="https://esolangs.org/wiki/Fractran">https://esolangs.org/wiki/Fractran</a>
<a href="https://oeis.org/wiki/List_of_FRACTRAN_programs_to_compute_core_sequences">https://oeis.org/wiki/List_of_FRACTRAN_programs_to_compute_core_sequences</a>
</p>


<h3>See Also</h3>

<p><code>fracMake</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># addition:  { 3/2   } .  enter 2^a*3^b and get 3^(a+b) answer when terminated
addit &lt;- fracDo(2^5*3^8,nums = 3, denoms = 2)
# Last value returned is what we want. But can't take log(bigq) 
log(numerator(addit[length(addit)]),3)
</code></pre>


</div>