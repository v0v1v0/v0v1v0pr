<div class="container">

<table style="width: 100%;"><tr>
<td>vital_rate_exprs.pdb_proto_ipm_list</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Padrino methods for 'ipmr' generic functions</h2>

<h3>Description</h3>

<p>Provides wrappers around <code>ipmr</code> generic functions to extract
some quantities of interest from <code>pdb_proto_ipm_list</code>s and <code>pdb_ipm</code>s.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'pdb_proto_ipm_list'
vital_rate_exprs(object)

## S3 method for class 'pdb_ipm'
vital_rate_exprs(object)

## S3 method for class 'pdb_proto_ipm_list'
kernel_formulae(object)

## S3 method for class 'pdb_ipm'
kernel_formulae(object)

## S3 method for class 'pdb_proto_ipm_list'
domains(object)

## S3 method for class 'pdb_ipm'
domains(object)

## S3 method for class 'pdb_proto_ipm_list'
parameters(object)

## S3 method for class 'pdb_ipm'
parameters(object)

## S3 method for class 'pdb_proto_ipm_list'
pop_state(object)

## S3 method for class 'pdb_ipm'
pop_state(object)

## S3 method for class 'pdb_ipm'
vital_rate_funs(ipm)

## S3 method for class 'pdb_ipm'
int_mesh(ipm, full_mesh = TRUE)

## S3 method for class 'pdb_ipm'
lambda(ipm, ...)

## S3 method for class 'pdb_ipm'
right_ev(ipm, iterations = 100, tolerance = 1e-10, ...)

## S3 method for class 'pdb_ipm'
left_ev(ipm, iterations = 100, tolerance = 1e-10, ...)

## S3 method for class 'pdb_ipm'
is_conv_to_asymptotic(ipm, tolerance = 1e-10, burn_in = 0.1)

## S3 method for class 'pdb_ipm'
conv_plot(ipm, iterations = NULL, log = FALSE, show_stable = TRUE, ...)

## S3 method for class 'pdb_ipm'
make_iter_kernel(ipm, ..., name_ps = NULL, f_forms = NULL)

## S3 method for class 'pdb_ipm'
mean_kernel(ipm)

pdb_new_fun_form(...)

## S3 replacement method for class 'pdb_proto_ipm_list'
parameters(object, ...) &lt;- value

## S3 replacement method for class 'pdb_proto_ipm_list'
vital_rate_exprs(object, kernel = NULL, vital_rate = NULL) &lt;- value

## S3 replacement method for class 'pdb_proto_ipm_list'
kernel_formulae(object, kernel) &lt;- value

## S3 method for class 'pdb_ipm'
x[i]
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object produced by <code>pdb_make_proto_ipm</code> or
<code>pdb_make_ipm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ipm</code></td>
<td>
<p>A <code>pdb_ipm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>full_mesh</code></td>
<td>
<p>Logical. Return the complete set of meshpoints or only the
unique ones.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Usage depends on the function - see Details and Examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iterations</code></td>
<td>
<p>The number of times to iterate the model to reach
convergence. Default is 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tolerance</code></td>
<td>
<p>Tolerance to evaluate convergence to asymptotic dynamics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>burn_in</code></td>
<td>
<p>The proportion of iterations to discard as burn in when
assessing convergence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>Log-transform lambdas for plotting?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_stable</code></td>
<td>
<p>Show horizontal line denoting stable population growth?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name_ps</code></td>
<td>
<p>For <code>pdb_ipm</code> objects that contain <code>age_x_size</code> IPMs,
a named list. The names of the list should be the <code>ipm_id</code>s that are
<code>age_x_size</code> models, and the values in the list should be the the name
of the survival/growth kernels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_forms</code></td>
<td>
<p>For <code>pdb_ipm</code> objects that contain <code>age_x_size</code> IPMs,
a named list. The names of the list should be the <code>ipm_id</code>s that are
<code>age_x_size</code> models, and the values in the list should be the the name
of the fecundity kernels. If multiple sub-kernels contribute to fecundity, we
can also supply a string specifying how they are combined (e.g.
<code>f_forms = "F + C"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>The value to insert. See details and Examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kernel</code></td>
<td>
<p>Ignored, present for compatibility with <code>ipmr</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vital_rate</code></td>
<td>
<p>Ignored, present for compatibility with <code>ipmr</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>pdb_ipm</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>The index to extract</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>There are number of uses for <code>...</code> which depend on the function
used for them. These are described below.
</p>


<h3>Value</h3>

<p>Most of these return named lists where names correspond to
<code>ipm_ids</code>. The exception is <code>pdb_new_fun_form</code>, which returns a list
of expressions. It is only intended for setting new expressions with
<code>vital_rate_exprs&lt;-</code>.
</p>


<h3><code>pdb_new_fun_form</code></h3>

<p>This must be used when setting new expressions for
vital rates and kernel formulae. The <code>...</code> argument should be a named list
of named lists. The top most layer should be <code>ipm_id</code>'s. The next layer
should be a list where the names are vital rates you wish to modify, and the
values are the expressions you want to insert. See examples.
</p>


<h3><code>make_iter_kernel</code></h3>

<p>The <code>...</code> here should be expressions representing the block kernel of
the IPMs in question. The names of each expression should be the ipm_id,
and the expressions should take the form of <code>c(&lt;upper_left&gt;,
&lt;upper_right&gt;, &lt;lower_left&gt;, &lt;lower_right&gt;)</code>
(i.e. a vector of symbols would create a matrix in row-major order).
See examples.
</p>


<h3>
<code>conv_plot</code>/<code>lambda</code>
</h3>

<p>The <code>...</code> are used pass additional arguments to <code>lambda</code>
and <code>conv_plot</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(pdb)
my_pdb &lt;- pdb_make_proto_ipm(pdb, c("aaaa17", "aaa310"))

# These values will be appended to the parameter list for each IPM, as they
# aren't currently present in them.

parameters(my_pdb) &lt;- list(
  aaa310 = list(
    g_slope_2 = 0.0001,
    establishment_prob = 0.02
  ),
  aaaa17 = list(
    g_var = 4.2,
    germ_prob = 0.3
  )
)

# We can overwrite a parameter value with a new one as well. Old values aren't
# saved anywhere except in the pdb object, so be careful!

parameters(my_pdb) &lt;- list(
  aaa310 = list(
    s_s    = 0.93, # old value is 0.92
    gvar_i = 0.13 # old value is 0.127
  )
)

vital_rate_exprs(my_pdb) &lt;- pdb_new_fun_form(
    list(
      aaa310 = list(mu_g = g_int + g_slope * size_1 + g_slope_2 * size_1^2),
      aaaa17 = list(sigmax2 = sqrt(g_var * exp(cfv1 + cfv2 * size_1))
     )
   )
 )

 kernel_formulae(my_pdb) &lt;- pdb_new_fun_form(
   list(
     aaaa17 = list(Y = recr_size * yearling_s * germ_prob * d_size),
     aaa310 = list(F = f_n * f_d * establishment_prob)
   )
 )

 my_ipms    &lt;- pdb_make_ipm(my_pdb)
 iter_kerns &lt;- make_iter_kernel(my_ipms, aaaa17 = c(0, F_yr, Y, P_yr))

</code></pre>


</div>