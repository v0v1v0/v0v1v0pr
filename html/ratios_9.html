<div class="container">

<table style="width: 100%;"><tr>
<td>relError_dataset</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>relError_dataset</h2>

<h3>Description</h3>

<p>The function calculates for each observation for every variable 'vars' in 'Data' the relative error by median absolute deviation (<code>mad</code>) and median (<code>median</code>):
</p>
<p style="text-align: center;"><code class="reqn">
\delta Data[vars_{i}] = \frac{mad(Data[vars_{i}], na.rm = T)}{median(Data[vars_{i}], na.rm = T)}
</code>
</p>

<p>The observations (e.g. samples) are subset into groups by the column <code>group1.vars</code>.
The relative error is calculated by 'Data' if there are more than 'minNr' entries for each subset of observations.
If there are less observations than 'minNr' for a group in 'Data' than the relative error will be calculated by a replacement data set 'STD',
e.g. you could use a data set of standard reference samples measured at the same machine as your samples.
If you would like to calculate the relative error of all observations in 'Data' set <code>group1.vars</code> to the column of your sample ID (column with unique entries) and set minNr = 1.
</p>


<h3>Usage</h3>

<pre><code class="language-R">relError_dataset(Data, vars, group1.vars, group2.vars = NULL, minNr = 7,
  STD)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Data</code></td>
<td>
<p>a data.frame or matrix with samples (observations) as rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>optional, character vector of variables of 'Data' for which the error should be calculated.
If left empty the function <code>select.VarsElements</code> will try to find element abbreviations in the variables of 'Data' and 'STD' if STD is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group1.vars</code></td>
<td>
<p>character vector of variables in 'Data' for splitting 'Data' into subsets. Error will be calculated for each subset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group2.vars</code></td>
<td>
<p>optional, if a variable name of 'Data' is given here a second splitting by <code>group1.vars</code> + <code>group2.vars</code> into subsets is performed.
If for grouping by <code>group1.vars</code> for one subset there are less entries than 'minNr' the function will look up in the second subset
if there are enough entries (&gt; minNr) in the group2 corresponding to group1.
For example if <code>group1.vars</code> = "Month" then <code>group2.vars</code> = "Year" would fill up the gaps if in one month there had been less than 'minNr' observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minNr</code></td>
<td>
<p>minimum numbers of samples/observations for calculating a relative error of observations.
If the number of samples of <code>Data</code> is smaller than <code>minNr</code> the error is calculated via the data set STD.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>STD</code></td>
<td>
<p>data set for calculating the relative errors if in <code>Data</code> there are less rows per group than <code>minNr</code>.
This replacement data set could for e.g. consist of reference standards with repeated measurement for each standard.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>data.frame or data.table with relative errors for each observation of 'Data'.
</p>


<h3>Author(s)</h3>

<p>Solveig Pospiech
</p>


<h3>See Also</h3>

<p>Other sub functions: <code>check_readline</code>,
<code>select.VarsElements</code>
</p>


</div>