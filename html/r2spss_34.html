<div class="container">

<table style="width: 100%;"><tr>
<td>ANOVA</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>One-way and Two-way ANOVA</h2>

<h3>Description</h3>

<p>Perform one-way or two-way ANOVA on variables of a data set.  The output is
printed as a LaTeX table that mimics the look of SPSS output, and a profile
plot of the results mimics the look of SPSS graphs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ANOVA(data, variable, group, conf.level = 0.95)

## S3 method for class 'ANOVA_SPSS'
to_SPSS(
  object,
  statistics = c("test", "variance", "descriptives"),
  version = r2spss_options$get("version"),
  digits = 3,
  ...
)

## S3 method for class 'ANOVA_SPSS'
print(
  x,
  statistics = c("descriptives", "variance", "test"),
  version = r2spss_options$get("version"),
  ...
)

## S3 method for class 'ANOVA_SPSS'
plot(x, y, which = 1, version = r2spss_options$get("version"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame containing the variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variable</code></td>
<td>
<p>a character string specifying the numeric variable of
interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>a character vector specifying one or two grouping variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>a number between 0 and 1 giving the confidence level of
the confidence interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object, x</code></td>
<td>
<p>an object of class <code>"ANOVA_SPSS"</code> as returned by
function <code>ANOVA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statistics</code></td>
<td>
<p>a character string or vector specifying which SPSS tables
to produce.  Available options are <code>"descriptives"</code> for descriptive
statistics, <code>"variance"</code> for Levene's test on homogeneity of the
variances, and <code>"test"</code> for ANOVA results.  For the <code>to_SPSS</code>
method, only one option is allowed (the default is the table of ANOVA
results), but the <code>print</code> method allows several options (the default
is to print all tables).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>version</code></td>
<td>
<p>a character string specifying whether the table or plot
should mimic the content and look of recent SPSS versions (<code>"modern"</code>)
or older versions (&lt;24; <code>"legacy"</code>).  For the table, the main
differences in terms of content are that recent versions include different
variations of Levene's test, and that small p-values are displayed
differently.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>an integer giving the number of digits after the comma to be
printed in the SPSS tables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>for  the <code>to_SPSS</code> and <code>print</code> methods, additional
arguments to be passed down to <code>format_SPSS</code>.  For the
<code>plot</code> method, additional arguments to be passed down to
<code>linesSPSS</code>, in particular graphical parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>ignored (only included because it is defined for the generic
function <code>plot</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>for two-way ANOVA, an integer with possible values <code>1</code> or
<code>2</code> indicating whether the first or the second factor should be used on
the <code class="reqn">x</code>-axis.  The other factor will then be used for drawing separate
lines.  For one-way ANOVA, this is not meaningful and ignored.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>print</code> method first calls the <code>to_SPSS</code> method followed
by <code>to_latex</code>.  Further customization can be done by calling
those two functions separately, and modifying the object returned by
<code>to_SPSS</code>.
</p>


<h3>Value</h3>

<p><code>ANOVA</code> returns an object of class <code>"ANOVA_SPSS"</code> with the
following components:
</p>

<dl>
<dt><code>descriptives</code></dt>
<dd>
<p>a data frame containing per-group descriptive
statistics.</p>
</dd>
<dt><code>levene</code></dt>
<dd>
<p>an object as returned by
<code>leveneTest</code> (if <code>version = "legacy"</code>); or a
list of such objects containing different variations of Levene's test
(if <code>version = "modern"</code>).</p>
</dd>
<dt><code>test</code></dt>
<dd>
<p>a data frame containing the ANOVA table.</p>
</dd>
<dt><code>variable</code></dt>
<dd>
<p>a character string containing the name of the
numeric variable of interest.</p>
</dd>
<dt><code>group</code></dt>
<dd>
<p>a character vector containing the name(s) of the
grouping variable(s).</p>
</dd>
<dt><code>i</code></dt>
<dd>
<p>an integer giving the number of groups in the (first)
grouping variable.</p>
</dd>
<dt><code>j</code></dt>
<dd>
<p>an integer giving the number of groups in the second
grouping variable (only two-way ANOVA).</p>
</dd>
<dt><code>conf.level</code></dt>
<dd>
<p>numeric; the confidence level used.</p>
</dd>
<dt><code>type</code></dt>
<dd>
<p>a character string giving the type of ANOVA performed
(<code>"one-way"</code> or <code>"two-way"</code>).</p>
</dd>
</dl>
<p>The <code>to_SPSS</code> method returns an object of class <code>"SPSS_table"</code>
which contains all relevant information in the required format to produce
the LaTeX table.  See <code>to_latex</code> for possible components and
how to further customize the LaTeX table based on the returned object.
</p>
<p>The <code>print</code> method produces a LaTeX table that mimics the look of SPSS
output.
</p>
<p>The <code>plot</code> method returns an object of class
<code>"ggplot"</code>, which produces a profile plot of the ANOVA
results when printed.
</p>


<h3>Note</h3>

<p>The test statistic and p-value for Levene's test based on the trimmed mean
(only returned for <code>version = "modern"</code>) differ slightly from those
returned by SPSS.  Function <code>trimmed_mean</code> rounds the number of
observations to be trimmed in a different manner than the base <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> function
<code>mean</code>, which brings the results closer to those of SPSS, but
they are still not identical.
</p>
<p>LaTeX tables that mimic recent versions of SPSS (<code>version = "modern"</code>)
may require several LaTeX compilations to be displayed correctly.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load data
data("Eredivisie")
# log-transform market values
Eredivisie$logMarketValue &lt;- log(Eredivisie$MarketValue)

# one-way ANOVA
oneway &lt;- ANOVA(Eredivisie, "logMarketValue",
                group = "Position")
oneway        # print LaTeX table
plot(oneway)  # create profile plot

# two-way ANOVA
twoway &lt;- ANOVA(Eredivisie, "logMarketValue",
                group = c("Position", "Foreign"))
twoway        # print LaTeX table
plot(twoway)  # create profile plot

</code></pre>


</div>