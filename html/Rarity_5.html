<div class="container">

<table style="width: 100%;"><tr>
<td>Irr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Index of Relative Rarity
</h2>

<h3>Description</h3>

<p>Calculates the Index of Relative Rarity for a single or a set of assemblages of species.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Irr(assemblages, W, abundance = F, Wmin = min(W), Wmax = max(W))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>assemblages</code></td>
<td>

<p><code>vector</code>, <code>matrix</code> or <code>data.frame</code>. Data of the assemblage(s) of species for which the Index will be calculated. If <code>matrix</code> or <code>data.frame</code>, species are in rows and assemblages are in columns (see details).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W</code></td>
<td>

<p><code>vector</code>, <code>matrix</code> or <code>data.frame</code>. Rarity weights of the species. If <code>matrix</code> or <code>data.frame</code>, species are in rows (see details). 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abundance</code></td>
<td>

<p>logical. If <code>TRUE</code>, then abundance values in <code>assemblages</code> are taken into account to calculate the Index of Relative Rarity.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Wmin</code></td>
<td>

<p>decimal or <code>vector</code>. Minimum weight(s)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Wmax</code></td>
<td>

<p>decimal or <code>vector</code>. Maximum weight(s)
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>assemblages</code> can contain a single (vector) or several (matrix or data.frame) assemblages. If <code>assemblages</code> is a vector, values must be named with species names (e.g. with <code>names(assemblages) &lt;- sp.names</code>). If <code>assemblages</code> is a matrix or a data.frame, then rows must be named with species names.
</p>
<p>All the species of <code>assemblages</code> must be contained in <code>W</code>
</p>
<p><code>W</code> can contain a single vector of rarity weights, or a matrix or a data.frame of rarity weights (e.g. to calculate different Indices of Relative Rarity for different scales). If <code>W</code> is a vector, values must be named with species names. If <code>W</code> is a matrix or a data.frame, then species are in rows and each column contains rarity weights. Rows must be named with species names.
</p>
<p>If the input of <code>rWeights</code> is directly entered, then columns <code>Q</code> (occurrence), <code>R</code> (rarity status) and <code>cut.off</code> (rarity cut-off points) will be dropped.
</p>

<ul>
<li>
<p>Occurrence-based Irr, normalised between 0 and 1:
</p>
<p style="text-align: center;"><code class="reqn">\frac{\frac{\sum w_i}{S} - w_{min}}{w_{max} - w_{min}}</code>
</p>

<p>where <em>wi</em> is the weight of the <em>i</em>th species in the assemblage, <em>S</em> the assemblage species richness, <em>w</em>min and <em>w</em>max the minimum and maximum weights respectively.

</p>
</li>
<li>
<p>Abundance-based Irr, normalised between 0 and 1:
</p>
<p style="text-align: center;"><code class="reqn">\frac{\frac{\sum a_i w_i}{N} - w_{min}}{w_{max} - w_{min}}</code>
</p>

<p>where <em>ai</em> and <em>wi</em> are respectively the abundance and weight of the <em>i</em>th species in the assemblage, <em>N</em> the total number of individuals in the assemblage, and <em>w</em>min and <em>w</em>max the minimum and maximum weights respectively.
</p>
</li>
</ul>
<p>Species with <code>NA</code> weights are excluded when indices are computed (they are kept for richness). 
</p>


<h3>Value</h3>

<p>A data.frame containing the Indices of Relative Rarity and the species richness of the assemblage(s).
</p>


<h3>Warning</h3>

<p>Column names of <code>W</code> with names like "Q", "R", "cut.off", "Q1" "Q2" "Q3" and so on, "R1", "R2" "R3" and so on, "cut.off1", "cut.off2", and so on will be ignored.
</p>


<h3>Author(s)</h3>

<p>Boris Leroy leroy.boris@gmail.com
</p>


<h3>References</h3>

<p>Leroy B., Petillon J., Gallon R., Canard A., &amp; Ysnel F. (2012) Improving occurrence-based rarity metrics in conservation studies by including multiple rarity cut-off points. <em>Insect Conservation and Diversity</em>, <b>5</b>, 159-168.
</p>
<p>Leroy B., Canard A., &amp; Ysnel F. 2013. Integrating multiple scales in rarity assessments of invertebrate taxa. <em>Diversity and Distributions</em>, <b>19</b>, 794-803.
</p>


<h3>See Also</h3>

<p><code>rWeights</code>, <code>Isr</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Input rarity weights
data(spid.occ)

# Example of a single scale dataset
regional.occ &lt;- spid.occ$occurMA
names(regional.occ) &lt;- rownames(spid.occ)
head(regional.occ)

# Preparation of rarity weights
rarity.weights &lt;- rWeights(regional.occ)

# Generation of an assemblage matrix
assemblages.matrix &lt;- cbind(assemblage.1 = sample(c(0, 1), 50, replace = TRUE),
                            assemblage.2 = sample(c(0, 1), 50, replace = TRUE),
                            assemblage.3 = sample(c(0, 1), 50, replace = TRUE),
                            assemblage.4 = sample(c(0, 1), 50, replace = TRUE),
                            assemblage.5 = sample(c(0, 1), 50, replace = TRUE))
# Random attribution of names to the sampled species
rownames(assemblages.matrix) &lt;- sample(names(regional.occ), 50, replace = FALSE)
head(assemblages.matrix)

# Calculation of Irr
Irr(assemblages.matrix, rarity.weights)


# Example of a multi scale dataset
rarity.weights &lt;- rWeights(spid.occ, extended = TRUE)
head(rarity.weights)

# Generation of an assemblage matrix
assemblages.matrix &lt;- cbind(assemblage.1 = sample(c(0, 1), 50, replace = TRUE),
                            assemblage.2 = sample(c(0, 1), 50, replace = TRUE),
                            assemblage.3 = sample(c(0, 1), 50, replace = TRUE),
                            assemblage.4 = sample(c(0, 1), 50, replace = TRUE),
                            assemblage.5 = sample(c(0, 1), 50, replace = TRUE))
rownames(assemblages.matrix) &lt;- sample(names(regional.occ), 50, replace = FALSE)
head(assemblages.matrix)

# Calculation of Irr
Irr(assemblages.matrix, rarity.weights)
</code></pre>


</div>