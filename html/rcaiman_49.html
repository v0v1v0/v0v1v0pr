<div class="container">

<table style="width: 100%;"><tr>
<td>qtree</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Do quad-tree segmentation</h2>

<h3>Description</h3>

<p>The quad-tree segmentation algorithm is a top-down process that makes
recursive divisions in four equal parts until a condition is satisfied and
stops locally. This is the usual implementation of the quad-tree algorithm,
so it produces squared segments of different sizes. This particular
implementation allows up to five sizes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">qtree(r, scale_parameter = 0.2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>SpatRaster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale_parameter</code></td>
<td>
<p>Numeric vector of length one. Quad-tree is a top-down
method. This parameter controls the stopping condition. Therefore, it
allows controlling the size of the resulting segments. Ultimately, segments
sizes will depend on both this parameter and the heterogeneity of <code>r</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The algorithm starts splitting the entire image into large squared segments.
Depending on the aspect ratio, starting grids will going from <code class="reqn">4 \times
4</code> to <code class="reqn">1 \times 4</code> or <code class="reqn">4 \times 1</code>. Then, it splits each segment into
four sub-segments and calculates the standard deviation of the pixels from
<code>r</code> delimited by each of those sub-segments and segment. The splitting
process stops locally if <em>delta</em>, the sum of the standard deviation of the
sub-segments minus the standard deviation of the parent segment, is less or
equal than the <code>scale_parameter</code>. If <code>r</code> has more than one layer,
<em>delta</em> is calculated separately and <em>delta</em> mean is used to
evaluate the stopping condition.
</p>


<h3>Value</h3>

<p>A single layer image of the class SpatRaster with integer
values.
</p>


<h3>See Also</h3>

<p>Other Segmentation Functions: 
<code>chessboard()</code>,
<code>mask_hs()</code>,
<code>mask_sunlit_canopy()</code>,
<code>polar_qtree()</code>,
<code>rings_segmentation()</code>,
<code>sectors_segmentation()</code>,
<code>sky_grid_segmentation()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
caim &lt;- read_caim() %&gt;% normalize()
seg &lt;- qtree(caim, scale_parameter = 0.05)
plot(caim$Blue)
plot(extract_feature(caim$Blue, seg))
plot(extract_feature(seg, seg, length))

## End(Not run)
</code></pre>


</div>