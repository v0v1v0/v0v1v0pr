<div class="container">

<table style="width: 100%;"><tr>
<td>score_simple.cluster_pairs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Score pairs based on a number of comparison vectors</h2>

<h3>Description</h3>

<p>Score pairs based on a number of comparison vectors
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'cluster_pairs'
score_simple(
  pairs,
  variable,
  on,
  w1 = 1,
  w0 = 0,
  wna = 0,
  new_name = NULL,
  ...
)

score_simple(pairs, variable, on, w1 = 1, w0 = 0, wna = 0, ...)

## S3 method for class 'pairs'
score_simple(
  pairs,
  variable,
  on,
  w1 = 1,
  w0 = 0,
  wna = 0,
  inplace = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pairs</code></td>
<td>
<p>a <code>pairs</code> object, such as generated by 
<code>pair_blocking</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variable</code></td>
<td>
<p>the name of the new variable to create in pairs. This will be a
logical variable with a value of <code>TRUE</code> for the selected pairs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>on</code></td>
<td>
<p>character vector of variables on which the score should be based.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w1</code></td>
<td>
<p>a vector or list with weights for agreement for each of the
variables. It can either be a numeric vector of length 1 in which case the
same weight is used for all variables; A numeric vector of length equal to
the length of <code>on</code> in which case the weights correspond one-to-one to
the variables in <code>on</code>; A named numeric vector where the names
correspond to those in <code>on</code>, missing values are assigned a value of 1;
or a named list with numeric values.  See details for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w0</code></td>
<td>
<p>a vector or list with weights for non-agreement for each of the
variables. See details for more information. For the format see <code>w1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wna</code></td>
<td>
<p>a vector or list with weights for agreement for each of the
variables. See details for more information. For the format see <code>w1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_name</code></td>
<td>
<p>name of new object to assign the pairs to on the cluster
nodes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inplace</code></td>
<td>
<p>logical indicating whether <code>pairs</code> should be modified in place. When
pairs is large this can be more efficient.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The individual contribution of a variable <code>x</code> to the total score is
given by <code>x * w1 + (1-x) * w0</code> in case of non-<code>NA</code> values and
<code>wna</code> in case of <code>NA</code>. This assumes that the values 1 corresponds
to complete agreement and the value 0 to complete non-agreement. In case of
complete agreement a variable contributes <code>w1</code> to the total score and in
case of complete non-agreement it contributes <code>w0</code> to the total score.
</p>


<h3>Value</h3>

<p>Returns the <code>data.table</code> <code>pairs</code> with the column <code>variable</code> added in
case of <code>score_simple.pairs</code>. 
</p>
<p>In case of <code>score_simple.cluster_pairs</code>, <code>score_simple.pairs</code> is called on
each cluster node and the resulting pairs are assigned to <code>new_name</code> in
the environment <code>reclin_env</code>. When <code>new_name</code> is not given (or
equal to NULL) the original pairs on the nodes are overwritten.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("linkexample1", "linkexample2")
pairs &lt;- pair_blocking(linkexample1, linkexample2, "postcode")
compare_pairs(pairs, on = c("firstname", "lastname", "sex"), inplace = TRUE)

score_simple(pairs, "score", on = c("firstname", "lastname", "sex"))

# Change the default weights
score_simple(pairs, "score", on = c("firstname", "lastname", "sex"), 
  w1 = 2, w0 = -1, wna = NA)

# Use a named vector; omited elements from w1 get a weight of 1; those from
# w0 and wna a weight of 0.
score_simple(pairs, "score", on = c("firstname", "lastname", "sex"), 
  w1 = c("firstname" = 2, "lastname" = 3), 
  w0 = c("firstname" = -1, "lastname" = -0.5))

# Use a named list; omited elements from w1 get a weight of 1; those from
# w0 and wna a weight of 0.
score_simple(pairs, "score", on = c("firstname", "lastname", "sex"), 
  w1 = list("firstname" = 2, "lastname" = 3), 
  w0 = list("firstname" = -1, "lastname" = -0.5))

</code></pre>


</div>