<div class="container">

<table style="width: 100%;"><tr>
<td>rrreg.predictor</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Randomized Response as a Regression Predictor</h2>

<h3>Description</h3>

<p><code>rrreg.predictor</code> is used to jointly model the randomized response item
as both outcome and predictor for an additional outcome given a set of
covariates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rrreg.predictor(formula, p, p0, p1, q, design, data, rr.item,
model.outcome = "logistic", fit.sens = "bayesglm", fit.outcome = "bayesglm",
bstart = NULL, tstart = NULL, parstart = TRUE, maxIter = 10000, verbose =
FALSE, optim = FALSE, em.converge = 10^(-4), glmMaxIter = 20000, estconv =
TRUE, solve.tolerance = .Machine$double.eps)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>An object of class "formula": a symbolic description of the
model to be fitted with the randomized response item as one of the
covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>The probability of receiving the sensitive question (Mirrored
Question Design, Unrelated Question Design); the probability of answering
truthfully (Forced Response Design); the probability of selecting a red card
from the 'yes' stack (Disguised Response Design).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p0</code></td>
<td>
<p>The probability of forced 'no' (Forced Response Design).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p1</code></td>
<td>
<p>The probability of forced 'yes' (Forced Response Design).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>The probability of answering 'yes' to the unrelated question, which
is assumed to be independent of covariates (Unrelated Question Design).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>One of the four standard designs: "forced-known", "mirrored",
"disguised", or "unrelated-known".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame containing the variables in the model. Observations
with missingness are list-wise deleted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rr.item</code></td>
<td>
<p>A string containing the name of the randomized response item
variable in the data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.outcome</code></td>
<td>
<p>Currently the function only allows for logistic
regression, meaning the outcome variable must be binary.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.sens</code></td>
<td>
<p>Indicator for whether to use Bayesian generalized linear
modeling (bayesglm) in the Maximization step for the
Expectation-Maximization (EM) algorithm to generate coefficients for the
randomized response item as the outcome.  Default is <code>"bayesglm"</code>;
otherwise input <code>"glm"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.outcome</code></td>
<td>
<p>Indicator for whether to use Bayesian generalized linear
modeling (bayesglm) in the Maximization step for the EM algorithm to
generate coefficients for the outcome variable given in the formula with the
randomized response item as a covariate. Default is <code>"bayesglm"</code>;
otherwise input <code>"glm"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bstart</code></td>
<td>
<p>Optional starting values of coefficient estimates for the
randomized response item as outcome for the EM algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tstart</code></td>
<td>
<p>Optional starting values of coefficient estimates for the
outcome variable given in the formula for the EM algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parstart</code></td>
<td>
<p>Option to use the function <code>rrreg</code> to generate starting
values of coefficient estimates for the randomized response item as outcome
for the EM algorithm. The default is <code>TRUE</code>, but if starting estimates
are inputted by the user in <code>bstart</code>, this option is overidden.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxIter</code></td>
<td>
<p>Maximum number of iterations for the Expectation-Maximization
algorithm. The default is <code>10000</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>A logical value indicating whether model diagnostics counting
the number of EM iterations are printed out.  The default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optim</code></td>
<td>
<p>A logical value indicating whether to use the quasi-Newton
"BFGS" method to calculate the variance-covariance matrix and standard
errors. The default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>em.converge</code></td>
<td>
<p>A value specifying the satisfactory degree of convergence
under the EM algorithm. The default is <code>10^(-4)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>glmMaxIter</code></td>
<td>
<p>A value specifying the maximum number of iterations to run
the EM algorithm. The default is <code>20000</code> .</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estconv</code></td>
<td>
<p>Option to base convergence on the absolute value of the
difference between subsequent coefficients generated through the EM
algorithm rather than the subsequent log-likelihoods. The default is
<code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>solve.tolerance</code></td>
<td>
<p>When standard errors are calculated, this option
specifies the tolerance of the matrix inversion operation solve.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function allows users to perform multivariate regression analysis with
the randomized response item as a predictor for a separate outcome of
interest. It does so by jointly modeling the randomized response item as
both outcome and predictor for an additional outcome given the same set of
covariates. Four standard designs are accepted by this function: mirrored
question, forced response, disguised response, and unrelated question.
</p>


<h3>Value</h3>

<p><code>rrreg.predictor</code> returns an object of class "rrpredreg"
associated with the randomized response item as predictor.  The object
<code>rrpredreg</code> is a list that contains the following components (the
inclusion of some components such as the design parameters are dependent
upon the design used):
</p>
<table>
<tr style="vertical-align: top;">
<td><code>est.t</code></td>
<td>
<p>Point estimates for the effects of the randomized response item
as predictor and other covariates on the separate outcome variable specified
in the formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se.t</code></td>
<td>
<p>Standard errors for estimates of the effects of
the randomized response item as predictor and other covariates on the
separate outcome variable specified in formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est.b</code></td>
<td>
<p>Point
estimates for the effects of covariates on the randomized response item.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcov</code></td>
<td>
<p>Variance-covariance matrix for estimates of the effects of the
randomized response item as predictor and other covariates on the separate
outcome variable specified in formula as well as for estimates of the
effects of covariates on the randomized response item.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se.b</code></td>
<td>
<p>Standard
errors for estimates of the effects of covariates on the randomized response
item.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The <code>data</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef.names</code></td>
<td>
<p>Variable
names as defined in the data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The model matrix of
covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>The randomized response vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>o</code></td>
<td>
<p>The separate
outcome of interest vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>Call of standard design used:
"forced-known", "mirrored", "disguised", or "unrelated-known".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>The
<code>p</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p0</code></td>
<td>
<p>The <code>p0</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p1</code></td>
<td>
<p>The
<code>p1</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>The <code>q</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>The
matched call.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Blair, Graeme, Kosuke Imai and Yang-Yang Zhou. (2014) "Design
and Analysis of the Randomized Response Technique."  <em>Working Paper.</em>
Available at <a href="http://imai.princeton.edu/research/randresp.html">http://imai.princeton.edu/research/randresp.html</a>.
</p>


<h3>See Also</h3>

<p><code>rrreg</code> for multivariate regression.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(nigeria)

## Define design parameters

set.seed(44)

p &lt;- 2/3  # probability of answering honestly in Forced Response Design
p1 &lt;- 1/6 # probability of forced 'yes'
p0 &lt;- 1/6 # probability of forced 'no'

## Fit joint model of responses to an outcome regression of joining a civic 
## group and the randomized response item of having a militant social connection
rr.q1.pred.obj &lt;- 
    rrreg.predictor(civic ~ cov.asset.index + cov.married + I(cov.age/10) + 
              I((cov.age/10)^2) + cov.education + cov.female 
              + rr.q1, rr.item = "rr.q1", parstart = FALSE, estconv = TRUE,
              data = nigeria, verbose = FALSE, optim = TRUE,
              p = p, p1 = p1, p0 = p0, design = "forced-known")

summary(rr.q1.pred.obj)

## Replicates Table 4 in Blair, Imai, and Zhou (2014)

</code></pre>


</div>