<div class="container">

<table style="width: 100%;"><tr>
<td>mice.impute.rfpred.norm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Univariate sampler function for continuous variables for prediction-based
imputation, assuming normality for prediction errors of random forest</h2>

<h3>Description</h3>

<p>Please note that functions with names starting with "mice.impute" are
exported to be visible for the mice sampler functions. Please do not call
these functions directly unless you know exactly what you are doing.
</p>
<p>For continuous variables only.
</p>
<p>This function is for <code>RfPred.Norm</code>
multiple imputation method, adapter for <code>mice</code> samplers.
In the <code>mice()</code> function, set <code>method = "rfpred.norm"</code> to call it.
</p>
<p>The function performs multiple imputation based on normality assumption using
out-of-bag mean squared error as the estimate for the variance.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mice.impute.rfpred.norm(
  y,
  ry,
  x,
  wy = NULL,
  num.trees.cont = 10,
  norm.err.cont = TRUE,
  alpha.oob = 0,
  pre.boot = TRUE,
  num.threads = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Vector to be imputed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ry</code></td>
<td>
<p>Logical vector of length <code>length(y)</code> indicating the
the subset <code>y[ry]</code> of elements in <code>y</code> to which the imputation
model is fitted. The <code>ry</code> generally distinguishes the observed
(<code>TRUE</code>) and missing values (<code>FALSE</code>) in <code>y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Numeric design matrix with <code>length(y)</code> rows with predictors for
<code>y</code>. Matrix <code>x</code> may have no missing values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wy</code></td>
<td>
<p>Logical vector of length <code>length(y)</code>. A <code>TRUE</code> value
indicates locations in <code>y</code> for which imputations are created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.trees.cont</code></td>
<td>
<p>Number of trees to build for continuous variables.
The default is <code>num.trees = 10</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>norm.err.cont</code></td>
<td>
<p>Use normality assumption for prediction errors of random
forests. The default is <code>norm.err.cont = TRUE</code>, and normality will be
assumed for the distribution for the prediction errors, the variance estimate
equals to overall out-of-bag prediction error, i.e. out-of-bag mean squared
error (see Shah et al. 2014). If <code>FALSE</code>, then the predictions of random
forest are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.oob</code></td>
<td>
<p>The "significance level" for individual out-of-bag
prediction errors used for the calculation for out-of-bag mean squared error,
useful when presence of extreme values.
For example, set alpha = 0.05 to use 95% confidence level.
The default is <code>alpha.oob = 0.0</code>, and all the individual out-of-bag
prediction errors will be kept intact.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pre.boot</code></td>
<td>
<p>If <code>TRUE</code>, bootstrapping prior to imputation will be
performed to perform 'proper' multiple imputation, for accommodating sampling
variation in estimating population regression parameters
(see Shah et al. 2014).
It should be noted that if <code>TRUE</code>, this option is in effect even if the
number of trees is set to one.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.threads</code></td>
<td>
<p>Number of threads for parallel computing. The default is
<code>num.threads = NULL</code> and all the processors available can be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments to pass down.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>RfPred.Norm</code> imputation sampler.
</p>


<h3>Value</h3>

<p>Vector with imputed data, same type as <code>y</code>, and of length
<code>sum(wy)</code>.
</p>


<h3>Author(s)</h3>

<p>Shangzhi Hong
</p>


<h3>References</h3>

<p>Shah, Anoop D., et al. "Comparison of random forest and parametric
imputation models for imputing missing data using MICE: a CALIBER study."
American journal of epidemiology 179.6 (2014): 764-774.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Users can set method = "rfpred.norm" in call to mice to use this method
data("airquality")
impObj &lt;- mice(airquality, method = "rfpred.norm", m = 5,
maxit = 5, maxcor = 1.0, eps = 0,
remove.collinear = FALSE, remove.constant = FALSE,
printFlag = FALSE)

</code></pre>


</div>