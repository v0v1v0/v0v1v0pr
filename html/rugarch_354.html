<div class="container">

<table style="width: 100%;"><tr>
<td>VaRDurTest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
VaR Duration Test
</h2>

<h3>Description</h3>

<p>Implements the VaR Duration Test of Christoffersen and Pelletier.
</p>


<h3>Usage</h3>

<pre><code class="language-R">VaRDurTest(alpha, actual, VaR, conf.level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>

<p>The quantile (coverage) used for the VaR.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>actual</code></td>
<td>

<p>A numeric vector of the actual (realized) values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>VaR</code></td>
<td>
<p>The numeric vector of VaR.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>

<p>The confidence level at which the Null Hypothesis is evaluated.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The duration of time between VaR violations (no-hits) should ideally be 
independent and not cluster. Under the null hypothesis of a correctly specified 
risk model, the no-hit duration should have no memory. Since the only continuous
distribution which is memory free is the exponential, the test can conducted on
any distribution which embeds the exponential as a restricted case, and a 
likelihood ratio test then conducted to see whether the restriction holds. 
Following Christoffersen and Pelletier (2004), the Weibull distribution is used 
with parameter ‘b=1’ representing the case of the exponential. A future
release will include the choice of using a bootstrap method to evaluate the 
p-value, and until then care should be taken when evaluating series of length
less than 1000 as a rule of thumb.
</p>


<h3>Value</h3>

<p>A list with the following items:<br></p>
<table>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p> The estimated Weibull parameter which when restricted to the value 
of 1 results in the Exponential distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uLL</code></td>
<td>
<p> The unrestricted Log-Likelihood value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rLL</code></td>
<td>
<p>The restricted Log-Likelihood value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LRp</code></td>
<td>
<p>The Likelihood Ratio Test Statistic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>H0</code></td>
<td>
<p>The Null Hypothesis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Decision</code></td>
<td>
<p> The on H0 given the confidence level</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Alexios Ghalanos</p>


<h3>References</h3>

<p>Christoffersen, P. and Pelletier, D. 2004, Backtesting value-at-risk: A 
duration-based approach, <em>Journal of Financial Econometrics</em>, <b>2(1)</b>,
84–108.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data(dji30ret)
spec = ugarchspec(mean.model = list(armaOrder = c(1,1), include.mean = TRUE),
variance.model = list(model = "gjrGARCH"), distribution.model = "sstd")
fit = ugarchfit(spec, data = dji30ret[1:1000, 1, drop = FALSE])
spec2 = spec
setfixed(spec2)&lt;-as.list(coef(fit))
filt = ugarchfilter(spec2, dji30ret[1001:2500, 1, drop = FALSE], n.old = 1000)
actual = dji30ret[1001:2500,1]
# location+scale invariance allows to use [mu + sigma*q(p,0,1,skew,shape)]
VaR = fitted(filt) + sigma(filt)*qdist("sstd", p=0.05, mu = 0, sigma = 1, 
skew  = coef(fit)["skew"], shape=coef(fit)["shape"])
print(VaRDurTest(0.05, actual, VaR))

# Try with the Normal Distribution (it fails)
spec = ugarchspec(mean.model = list(armaOrder = c(1,1), include.mean = TRUE),
variance.model = list(model = "gjrGARCH"), distribution.model = "norm")
fit = ugarchfit(spec, data = dji30ret[1:1000, 1, drop = FALSE])
spec2 = spec
setfixed(spec2)&lt;-as.list(coef(fit))
filt = ugarchfilter(spec2, dji30ret[1001:2500, 1, drop = FALSE], n.old = 1000)
actual = dji30ret[1001:2500,1]
# location+scale invariance allows to use [mu + sigma*q(p,0,1,skew,shape)]
VaR = fitted(filt) + sigma(filt)*qdist("norm", p=0.05, mu = 0, sigma = 1)
print(VaRDurTest(0.05, actual, VaR))

## End(Not run)</code></pre>


</div>