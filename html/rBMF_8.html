<div class="container">

<table style="width: 100%;"><tr>
<td>topFiberM</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
topFiberM
</h2>

<h3>Description</h3>

<p>implements topFiberM Boolean matrix factorization algorithm. 
topFiberM chooses in a greedy way the fibers (rows or columns) to represent the 
entire matrix. Fibers are extended to rectangles according to a threshold on precision. 
The search for these" top fibers" can continue beyond the required rank and according 
to an optional parameter that defines the limit for this search.
</p>


<h3>Usage</h3>

<pre><code class="language-R">topFiberM(X, r = 2, tP = 0.5, verbose = 2, SR = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>

<p>the input boolean sparse matrix
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>

<p>rank (number of factors) required.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tP</code></td>
<td>

<p>parameter to put threshold on precision
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>integer value to control the appearance of messages.
0 minimal messages will be showed. Default 2
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SR</code></td>
<td>

<p>search limit which defines the number iterations, minimum value is rank
and maximum value is minimum number of columns and number of rows
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List of the following four components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>A</code></td>
<td>
<p>Factor matrix A</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>Factor matrix B</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X1</code></td>
<td>
<p>remaining uncovered ones, (False negatives)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tf</code></td>
<td>
<p>dataframe logging of steps giving description of each factor,
contains index, based on column (2) / row (1), nnz, TP, FP</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Abdelmoneim Amer Desouki
</p>


<h3>References</h3>

<p>Desouki, A. A., Roeder, M., &amp; Ngomo, A. C. N. (2019). 
topFiberM: Scalable and Efficient Boolean Matrix Factorization.
arXiv preprint arXiv:1903.10326.
</p>


<h3>See Also</h3>

<p><code>GreConD</code>
<code>Asso_approximate</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(DBLP)
    r=7
    tP=0.6
    X=DBLP
    Xb=X==1#Convert to boolean
    
 Res=topFiberM(Xb,r=r,tP=tP,SR=100,verbose=1)
    X_=Res$A %*% Res$B
    X_=as(X_,'TsparseMatrix')
    #Calculate metrics
    tempX=as(X,'TsparseMatrix')
    li=tempX@i[tempX@x==1]+1
    lj=tempX@j[tempX@x==1]+1
    tp=sum(X_[cbind(li,lj)]&gt;0)
    fn=sum(X)-tp#sum(!X_[cbind(li,lj)])
    fp=sum(X_@x&gt;0)-tp
    cv=1-(fp+fn)/(tp+fn)
    
print(sprintf("tp:%d, fp:%d,fn:%d, Error:%d, covered=%.3f",tp,fp,fn,fn+fp,cv))
    
</code></pre>


</div>