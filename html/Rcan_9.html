<div class="container">

<table style="width: 100%;"><tr>
<td>csu_eapc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>csu_eapc</h2>

<h3>Description</h3>

<p><code>csu_eapc</code> calculate the Estimated Annual Percentage Change (EAPC) of rates during a time period with the Confidence Interval (CI) across different population (Registry, year, sex...)
</p>


<h3>Usage</h3>

<pre><code class="language-R">csu_eapc(df_data,
	var_rate="asr",
	var_year="year",
	group_by=NULL,
	var_eapc = "eapc",
	CI_level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df_data</code></td>
<td>

<p>Data (need to be R <code>data.frame</code> format, see example to import csv file).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_rate</code></td>
<td>

<p>Rate variable. (Standardized or not, incidence, mortality, etc..)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_year</code></td>
<td>

<p>Period variable. (Year, month, etc...)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_by</code></td>
<td>

<p>A vector of variables to compare different EAPC (sex, country, cancer ...).<br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_eapc</code></td>
<td>

<p>Name of the new variable for the EAPC.<br>
The variable for the CI will be name based on <code>var_eapc</code> + "_" +  up/Low.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CI_level</code></td>
<td>

<p>Confidence interval level. Default is 0.95.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function use Generalized Linear Model (GLM):<br>
glm(log(rate) ~ year, family=gaussian(link = "identity")). <br> 
0 value are ignored. More details in reference below.<br></p>


<h3>Value</h3>

<p>Return a dataframe.
</p>


<h3>Author(s)</h3>

<p>Mathieu Laversanne
</p>


<h3>References</h3>

<p><a href="https://regstattools.iconcologia.net/stats/sart/eapc/eapc_method.pdf">https://regstattools.iconcologia.net/stats/sart/eapc/eapc_method.pdf</a>
</p>


<h3>See Also</h3>

<p><code>csu_group_cases</code>
<code>csu_merge_cases_pop</code>
<code>csu_asr</code>
<code>csu_cumrisk</code>
<code>csu_ageSpecific</code>
<code>csu_ageSpecific_top</code>
<code>csu_bar_top</code>
<code>csu_time_trend</code>
<code>csu_trendCohortPeriod</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(csu_registry_data_2)

# you import your data from csv file using read.csv:
# mydata &lt;-  read.csv("mydata.csv", sep=",")

# Estimated Annual Percentage Change (EAPC) base on ASR.


df_asr &lt;- 
	csu_asr(csu_registry_data_2, 
	  "age", "cases", "py",
	  group_by = c("registry", "registry_label", "sex", "year", "ethnic" ),
	  var_age_group = c("registry_label"), 
	  missing_age = 99
	  )
				  
result &lt;- 
	csu_eapc(df_asr,
		"asr", "year",
		group_by=c("registry", "registry_label", "sex", "ethnic" )
		)

					
# you can export your result as csv file using write.csv:
# write.csv(result, file="result.csv")
				  		  
</code></pre>


</div>