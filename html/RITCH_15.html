<div class="container">

<table style="width: 100%;"><tr>
<td>count_functions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Counts the messages of an ITCH-file</h2>

<h3>Description</h3>

<p>Counts the messages of an ITCH-file
</p>


<h3>Usage</h3>

<pre><code class="language-R">count_messages(
  file,
  add_meta_data = FALSE,
  buffer_size = -1,
  quiet = FALSE,
  force_gunzip = FALSE,
  gz_dir = tempdir(),
  force_cleanup = TRUE
)

count_orders(x)

count_trades(x)

count_modifications(x)

count_system_events(x)

count_stock_directory(x)

count_trading_status(x)

count_reg_sho(x)

count_market_participant_states(x)

count_mwcb(x)

count_ipo(x)

count_luld(x)

count_noii(x)

count_rpii(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>the path to the input file, either a gz-file or a plain-text file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_meta_data</code></td>
<td>
<p>if the meta-data of the messages should be added, defaults to FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>buffer_size</code></td>
<td>
<p>the size of the buffer in bytes, defaults to 1e8 (100 MB), if you have a large amount of RAM, 1e9 (1GB) might be faster</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>if TRUE, the status messages are supressed, defaults to FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force_gunzip</code></td>
<td>
<p>only applies if file is a gz-file and a file with the same (gunzipped) name already exists.
if set to TRUE, the existing file is overwritten. Default value is FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gz_dir</code></td>
<td>
<p>a directory where the gz archive is extracted to.
Only applies if file is a gz archive. Default is <code>tempdir()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force_cleanup</code></td>
<td>
<p>only applies if file is a gz-file. If force_cleanup=TRUE, the gunzipped raw file will be deleted afterwards.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a file or a data.table containing the message types and the counts,
as outputted by <code>count_messages</code></p>
</td>
</tr>
</table>
<h3>Details</h3>


<ul><li> <p><code>count_orders</code>: Counts order messages. Message type <code>A</code> and <code>F</code>
</p>
</li></ul>
<ul><li> <p><code>count_trades</code>: Counts trade messages. Message type <code>P</code>, <code>Q</code> and <code>B</code>
</p>
</li></ul>
<ul><li> <p><code>count_modifications</code>: Counts order modification messages. Message
type <code>E</code>, <code>C</code>, <code>X</code>, <code>D</code>, and <code>U</code>
</p>
</li></ul>
<ul><li> <p><code>count_system_events</code>: Counts system event messages. Message type <code>S</code>
</p>
</li></ul>
<ul><li> <p><code>count_stock_directory</code>: Counts stock trading messages. Message
type <code>R</code>
</p>
</li></ul>
<ul><li> <p><code>count_trading_status</code>: Counts trading status messages. Message
type <code>H</code> and <code>h</code>
</p>
</li></ul>
<ul><li> <p><code>count_reg_sho</code>: Counts messages regarding reg SHO. Message type
<code>Y</code>
</p>
</li></ul>
<ul><li> <p><code>count_market_participant_states</code>: Counts messages regarding the
status of market participants. Message type <code>L</code>
</p>
</li></ul>
<ul><li> <p><code>count_mwcb</code>: Counts messages regarding Market-Wide-Circuit-Breakers
(MWCB). Message type <code>V</code> and <code>W</code>
</p>
</li></ul>
<ul><li> <p><code>count_ipo</code>: Counts messages regarding IPOs. Message type <code>K</code>
</p>
</li></ul>
<ul><li> <p><code>count_luld</code>: Counts messages regarding LULDs (limit up-limit down)
auction collars. Message type <code>J</code>
</p>
</li></ul>
<ul><li> <p><code>count_noii</code>: Counts Net Order Imbalance Indicatio (NOII) messages.
Message type <code>I</code>
</p>
</li></ul>
<ul><li> <p><code>count_rpii</code>: Counts Retail Price Improvement Indicator (RPII)
messages. Message type <code>N</code>
</p>
</li></ul>
<h3>Value</h3>

<p>a data.table containing the message-type and their counts for <code>count_messages</code>
or an integer value for the other functions.
</p>


<h3>Examples</h3>

<pre><code class="language-R">file &lt;- system.file("extdata", "ex20101224.TEST_ITCH_50", package = "RITCH")
count_messages(file)
count_messages(file, add_meta_data = TRUE, quiet = TRUE)

# file can also be a .gz file
gz_file &lt;- system.file("extdata", "ex20101224.TEST_ITCH_50.gz", package = "RITCH")
count_messages(gz_file, quiet = TRUE)

# count only a specific class
msg_count &lt;- count_messages(file, quiet = TRUE)

# either count based on a given data.table outputted by count_messages
count_orders(msg_count)

# or count orders from a file and not from a msg_count
count_orders(file)

### Specific class count functions are:
count_orders(msg_count)
count_trades(msg_count)
count_modifications(msg_count)
count_system_events(msg_count)
count_stock_directory(msg_count)
count_trading_status(msg_count)
count_reg_sho(msg_count)
count_market_participant_states(msg_count)
count_mwcb(msg_count)
count_ipo(msg_count)
count_luld(msg_count)
count_noii(msg_count)
count_rpii(msg_count)
</code></pre>


</div>