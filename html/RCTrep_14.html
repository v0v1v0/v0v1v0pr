<div class="container">

<table style="width: 100%;"><tr>
<td>TEstimator_wrapper</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimating conditional average treatment effects</h2>

<h3>Description</h3>

<p>Estimating conditional average treatment effects
</p>


<h3>Usage</h3>

<pre><code class="language-R">TEstimator_wrapper(
  Estimator,
  data,
  vars_name,
  name = "",
  outcome_method = "glm",
  treatment_method = "glm",
  two_models = FALSE,
  outcome_formula = NULL,
  treatment_formula = NULL,
  data.public = TRUE,
  isTrial = FALSE,
  strata_cut = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Estimator</code></td>
<td>
<p>A character specifying an estimator for conditional average treatment effects. The allowed estimators are: <code>"G_computation"</code>, <code>"IPW"</code>, and <code>"DR"</code>.i The corresponding object wll be created by the function <code>TEstimator_wrapper()</code>. The default is <code>"G_computation"</code>, which, along with <code>outcome_method="glm"</code> models the potential outcomes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame containing variables named in <code>vars_name</code> and possible other variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars_name</code></td>
<td>
<p>A list containing four character vectors <code>outcome_predictors</code>, <code>treatment_name</code>, and <code>outcome_name</code>. <code>outcome_predictors</code> is a character vector containing the adjustment variables, which, along with <code>TEstimator</code> and the corresponding <code>outcome_method</code> or <code>treatment_method</code> to correct for confounding; <code>outcome_name</code> is a character vector of length one containing the name of outcome; <code>treatment_name</code> is a character vector of length one containing the name of treatment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>A character indicating the name of the output object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome_method</code></td>
<td>
<p>A character specifying a model for outcome. Possible values are found using <code>names(getModelInfo())</code>. See <a href="http://topepo.github.io/caret/train-models-by-tag.html">http://topepo.github.io/caret/train-models-by-tag.html</a>. Default is "glm".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment_method</code></td>
<td>
<p>A character specifying a model for treatment. Possible values are found using <code>names(getModelInfo())</code>. See <a href="http://topepo.github.io/caret/train-models-by-tag.html">http://topepo.github.io/caret/train-models-by-tag.html</a>. Default is "glm".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>two_models</code></td>
<td>
<p>An optional logical indicating whether potential outcomes should be modeled separately when <code>TEstimator="DR"</code>. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome_formula</code></td>
<td>
<p>An optional object of class <code>formula</code> describing the outcome model specification when <code>Estimator="G_computation"</code> or <code>Estimator="DR"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment_formula</code></td>
<td>
<p>An optional object of class <code>formula</code> describing the treatment model specification when <code>Estimator="IPW"</code> or <code>Estimator="DR"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.public</code></td>
<td>
<p>An optional logical indicating whether individual-level <code>data</code> is public in the output object. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>isTrial</code></td>
<td>
<p>An optional logical indicating whether the treatment assignment of <code>data</code> is random or unknown.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata_cut</code></td>
<td>
<p>An optional list containing lists. Each component is a list with tag named by a variable in <code>data</code> to discretize, containing <code>break</code> which is a vector specifying the interval of range of the variable to divide, <code>lable</code> which is a character vector specifying how to code value in the variable according to which interval they fall. The leftmost interval corresponds to level one, the next leftmost to level two and so on. This parameter is useful in the case we concern the integrated treatment effect conditioning on variables with multiple levels (for instance, continuous variable or ordinal variable with multiple levels). Note that we first model based on these continuous variables, then we discretize these variables according to <code>strata_cut</code>. The variables in <code>data</code> of the output object are discretized.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>An optional argument passed to the private function <code>fit()</code> of each class for model training and tuning. See <a href="https://topepo.github.io/caret/model-training-and-tuning.html">https://topepo.github.io/caret/model-training-and-tuning.html</a> for details.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>TEstimator</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data &lt;- RCTrep::source.data[sample(dim(RCTrep::source.data)[1],500),]
vars_name &lt;- list(outcome_predictors = c("x1","x2","x3","x4","x5","x6"),
                  treatment_name = c('z'),
                  outcome_name = c('y'))

obj &lt;- TEstimator_wrapper(
 Estimator = "G_computation",
 data = data,
 vars_name = vars_name,
 name = "RCT",
 data.public = TRUE,
 isTrial = FALSE)


</code></pre>


</div>