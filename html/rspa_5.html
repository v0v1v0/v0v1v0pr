<div class="container">

<table style="width: 100%;"><tr>
<td>adjust</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>DEPRECATED Adjust a data to meet linear (in)equality constraints</h2>

<h3>Description</h3>

<p>Adjust a vector <code class="reqn">\boldsymbol{x}</code> to meet
constraints <code class="reqn">\boldsymbol{Ax} \leq \boldsymbol{b}</code>. 
As of version 0.2 this function is deprecated. Please use
</p>

<ul>
<li>
<p><code>project</code> from package <code>lintools</code> to replace <code>adjust.matrix</code>
</p>
</li>
<li>
<p><code>sparse_project</code> from pacakge <code>lintools</code> to replace <code>adjust.sparseConstraints</code>
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">adjust(object, ...)

## S3 method for class 'editmatrix'
adjust(object, x, w = rep(1, length(x)), method = c("dense", "sparse"), ...)

## S3 method for class 'sparseConstraints'
adjust(object, x, w = rep(1, length(x)), tol = 0.01, maxiter = 1000L, ...)

## S3 method for class 'matrix'
adjust(
  object,
  b,
  x,
  neq = length(b),
  w = rep(1, length(x)),
  tol = 0.01,
  maxiter = 1000L,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an <code>R</code> object describing constraints (see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed to other methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The vector to be adjusted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>A positive weight vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>use dense or sparse matrix method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>The maximum allowed deviation from the constraints (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxiter</code></td>
<td>
<p>maximum number of iterations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>Constant vector of the constraint system <code class="reqn">Ax\leq b</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>neq</code></td>
<td>
<p>the first <code>neq</code> linear relations are equalities.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Object of class <code>adjusted</code>.
</p>


<h3>Details</h3>

<p><code>adjust</code> is a generic function allowing several definitions of the constraints in <code>object</code>.
</p>

<ul>
<li>
<p><code>editmatrix</code>:If <code>object</code> is an <code>editmatrix</code>, the function will 
try to match the names of <code>x</code> to the variable names in <code>object</code> before further
processing. In that case the <code>length</code> of <code>x</code> is unimportant, as long as all variables in <code>object</code> 
are also in <code>x</code>. Depending on the choice of <code>method</code>, <code>object</code> is converted to <code>matrix</code> or 
<code>sparseConstraints</code> format before solving the adjustment problem.

</p>
</li>
<li>
<p><code>matrix</code>: If <code>object</code> is a <code>matrix</code>, you also need to provide the constant vector
<code>b</code> and the number of equations <code>neq</code> to define the problem. It is assumed that the first
<code>neq</code> rows of <code>object</code> and the first <code>new</code> elements of <code>b</code> correspond to equalities. No names are matched, so <code>x</code>
must be in the correct order and must be of the right dimension.
See <code>sparseConstraints</code> on how to translate
a <code>matrix</code> problem to the sparse version.
 
</p>
</li>
<li>
<p><code>sparseConstraints</code>: If <code>object</code> is of class <code>sparseConstraints</code>, 
the sparse method is used to adjust <code>x</code>. Some basic checks on <code>x</code> and <code>w</code> 
are performed, but no attempt is made to match names of <code>x</code> to those of <code>object</code>.

</p>
</li>
</ul>
<p>The tolerance <code>tol</code> is defined as the maximum absolute value of the difference vector 
<code class="reqn">\boldsymbol{Ax}-\boldsymbol{b}</code> for equalities. For inequalities, the difference vector
is set to zero when it's value is lesser than zero (i.e. when the restriction is obeyed). The
function keeps iterating until either the tolerance is met, the number of allowed iterations is
exceeded or divergence is detected.
</p>


<h3>Note</h3>

<p><code>adjust</code> does not perform any consistency checks. When the system of constraints is
contradictory (<em>e.g.</em> <code class="reqn">x&gt;1</code> and <code class="reqn">x&lt;0</code>) this will result in either divergence
or in exceeding the number of iterations.
</p>


</div>