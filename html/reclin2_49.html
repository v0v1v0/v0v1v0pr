<div class="container">

<table style="width: 100%;"><tr>
<td>select_threshold.cluster_pairs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Select matching pairs with a score above or equal to a threshold</h2>

<h3>Description</h3>

<p>Select matching pairs with a score above or equal to a threshold
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'cluster_pairs'
select_threshold(pairs, variable, score, threshold, new_name = NULL, ...)

select_threshold(pairs, variable, score, threshold, ...)

## S3 method for class 'pairs'
select_threshold(pairs, variable, score, threshold, inplace = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pairs</code></td>
<td>
<p>a <code>pairs</code> object, such as generated by 
<code>pair_blocking</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variable</code></td>
<td>
<p>the name of the new variable to create in pairs. This will be a
logical variable with a value of <code>TRUE</code> for the selected pairs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>score</code></td>
<td>
<p>name of the score/weight variable of the pairs. When not given
and <code>attr(pairs, "score")</code> is defined, that is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>the threshold to apply. Pairs with a score above or equal to the 
threshold are selected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_name</code></td>
<td>
<p>name of new object to assign the pairs to on the cluster
nodes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inplace</code></td>
<td>
<p>logical indicating whether <code>pairs</code> should be modified in place. When
pairs is large this can be more efficient.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns the <code>pairs</code> with the variable given by <code>variable</code> added. This
is a logical variable indicating which pairs are selected a matches.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("linkexample1", "linkexample2")
pairs &lt;- pair_blocking(linkexample1, linkexample2, "postcode")
pairs &lt;- compare_pairs(pairs, c("lastname", "firstname", "address", "sex"))
model &lt;- problink_em(~ lastname + firstname + address + sex, data = pairs)
pairs &lt;- predict(model, pairs, type = "mpost", add = TRUE, binary = TRUE)
# Select pairs with a mpost &gt; 0.5
select_threshold(pairs, "selected", "mpost", 0.5, inplace = TRUE)

# Example using cluster;
# In general the syntax is exactly the same except for the first call to 
# to cluster_pair. Note the in general `inplace = TRUE` is implied when
# working with a cluster; therefore the assignment back to pairs can be 
# omitted (also not a problem if it is not).
library(parallel)
data("linkexample1", "linkexample2")
cl &lt;- makeCluster(2)

pairs &lt;- cluster_pair(cl, linkexample1, linkexample2)
compare_pairs(pairs, c("lastname", "firstname", "address", "sex"))
model &lt;- problink_em(~ lastname + firstname + address + sex, data = pairs)
predict(model, pairs, type = "mpost", add = TRUE, binary = TRUE)
# Select pairs with a mpost &gt; 0.5
# Unlike the regular pairs: inplace = TRUE is implied here
select_threshold(pairs, "selected", "mpost", 0.5)
stopCluster(cl)

</code></pre>


</div>