<div class="container">

<table style="width: 100%;"><tr>
<td>createLiger</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create liger object</h2>

<h3>Description</h3>

<p>This function allows creating liger object from
multiple datasets of various forms (See <code>rawData</code>).
</p>
<p><b>DO</b> make a copy of the H5AD files because rliger functions write to
the files and they will not be able to be read back to Python. This will be
fixed in the future.
</p>


<h3>Usage</h3>

<pre><code class="language-R">createLiger(
  rawData,
  modal = NULL,
  cellMeta = NULL,
  removeMissing = TRUE,
  addPrefix = "auto",
  formatType = "10X",
  anndataX = "X",
  dataName = NULL,
  indicesName = NULL,
  indptrName = NULL,
  genesName = NULL,
  barcodesName = NULL,
  newH5 = TRUE,
  verbose = getOption("ligerVerbose", TRUE),
  ...,
  raw.data = rawData,
  take.gene.union = NULL,
  remove.missing = removeMissing,
  format.type = formatType,
  data.name = dataName,
  indices.name = indicesName,
  indptr.name = indptrName,
  genes.name = genesName,
  barcodes.name = barcodesName
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rawData</code></td>
<td>
<p>Named list of datasets. Required. Elements allowed include a
matrix, a <code>Seurat</code> object, a <code>SingleCellExperiment</code> object, an
<code>AnnData</code> object, a ligerDataset object or a filename to
an HDF5 file. See detail for HDF5 reading.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modal</code></td>
<td>
<p>Character vector for modality setting. Use one string for all
datasets, or the same number of strings as the number of datasets. Currently
options of <code>"default"</code>, <code>"rna"</code>, <code>"atac"</code>, <code>"spatial"</code>
and <code>"meth"</code> are supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cellMeta</code></td>
<td>
<p>data.frame of metadata at single-cell level. Default
<code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>removeMissing</code></td>
<td>
<p>Logical. Whether to remove cells that do not have any
counts and features not expressed in any cells from each dataset. Default
<code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addPrefix</code></td>
<td>
<p>Logical. Whether to add "&lt;dataset name&gt;_" as a prefix of
cell identifiers (e.g. barcodes) to avoid duplicates in multiple libraries (
common with 10X data). Default <code>"auto"</code> detects if matrix columns
already has the exact prefix or not. Logical value forces the action.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formatType</code></td>
<td>
<p>Select preset of H5 file structure. Current available
options are <code>"10x"</code> and <code>"anndata"</code>. Can be either a single
specification for all datasets or a character vector that match with each
dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anndataX</code></td>
<td>
<p>The HDF5 path to the raw count data in an H5AD file. See
<code>createH5LigerDataset</code> Details. Default <code>"X"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataName, indicesName, indptrName</code></td>
<td>
<p>The path in a H5 file for the raw
sparse matrix data. These three types of data stands for the <code>x</code>,
<code>i</code>, and <code>p</code> slots of a <code>dgCMatrix-class</code>
object. Default <code>NULL</code> uses <code>formatType</code> preset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>genesName, barcodesName</code></td>
<td>
<p>The path in a H5 file for the gene names and
cell barcodes. Default <code>NULL</code> uses <code>formatType</code> preset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newH5</code></td>
<td>
<p>When using HDF5 based data and subsets created after removing
missing cells/features, whether to create new HDF5 files for the subset.
Default <code>TRUE</code>. If <code>FALSE</code>, data will be subset into memory and
can be dangerous for large scale analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical. Whether to show information of the progress. Default
<code>getOption("ligerVerbose")</code> or <code>TRUE</code> if users have not set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional slot values that should be directly placed in object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raw.data, remove.missing, format.type, data.name, indices.name, indptr.name, genes.name, barcodes.name</code></td>
<td>
<p><b>Deprecated.</b> See Usage section for replacement.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>take.gene.union</code></td>
<td>
<p>Defuncted. Will be ignored.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>createLigerDataset</code>, <code>createH5LigerDataset</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Create from raw count matrices
ctrl.raw &lt;- rawData(pbmc, "ctrl")
stim.raw &lt;- rawData(pbmc, "stim")
pbmc1 &lt;- createLiger(list(ctrl = ctrl.raw, stim = stim.raw))

# Create from H5 files
h5Path &lt;- system.file("extdata/ctrl.h5", package = "rliger")
tempPath &lt;- tempfile(fileext = ".h5")
file.copy(from = h5Path, to = tempPath)
lig &lt;- createLiger(list(ctrl = tempPath))

# Create from other container object
if (requireNamespace("SeuratObject", quietly = TRUE)) {
    ctrl.seu &lt;- SeuratObject::CreateSeuratObject(ctrl.raw)
    stim.seu &lt;- SeuratObject::CreateSeuratObject(stim.raw)
    pbmc2 &lt;- createLiger(list(ctrl = ctrl.seu, stim = stim.seu))
}
</code></pre>


</div>