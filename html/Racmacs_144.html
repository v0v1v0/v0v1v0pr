<div class="container">

<table style="width: 100%;"><tr>
<td>optimizeAgReactivity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Optimize antigen reactivity adjustments</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>


<h3>Usage</h3>

<pre><code class="language-R">optimizeAgReactivity(
  map,
  optimization_number = 1,
  reactivity_stress_weighting = 1,
  fixed_ag_reactivities = rep(NA, numAntigens(map)),
  start_pars = rep(0, numAntigens(map)),
  reoptimize = FALSE,
  number_of_optimizations = 100,
  options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>The acmap object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimization_number</code></td>
<td>
<p>The optimization number for which to optimize
antigen reactivity adjustments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reactivity_stress_weighting</code></td>
<td>
<p>The weighting to apply when calculating
how much antigen reactivity changes should additionally contribute to
stress in the optimization regime (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed_ag_reactivities</code></td>
<td>
<p>A vector of fixed antigen reactivities,
use NA values to distinguish the positions you would still like to
be optimized.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_pars</code></td>
<td>
<p>A vector of starting parameters to use for the optimizer,
you can still supply starting parameters for antigens listed in
<code>fixed_ag_reactivities</code> but they will be ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reoptimize</code></td>
<td>
<p>Should the map be reoptimized from scratch (slower but
more likely to explore other optima) when testing each reactivity adjustment
or simply relaxed from it's current coordinates (default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number_of_optimizations</code></td>
<td>
<p>If reoptimizing from scratch, how many optimization
runs should be performed each time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>A named list of additional options to pass to
<code>RacOptimizer.options()</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The acmap object is returned with antigen reactivity adjustments
set to the value calculated in the optimizer. This can be queried with
<code>agReactivityAdjustments()</code>.
</p>


</div>