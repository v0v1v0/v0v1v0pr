<div class="container">

<table style="width: 100%;"><tr>
<td>validateMap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Map accuracy assessment</h2>

<h3>Description</h3>

<p>validate a map from a classification or regression model. This can be useful to update the accuracy assessment after filtering, e.g. for a minimum mapping unit.
</p>


<h3>Usage</h3>

<pre><code class="language-R">validateMap(
  map,
  valData,
  responseCol,
  nSamplesV = 500,
  mode = "classification",
  classMapping = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>SpatRaster. The classified map.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valData</code></td>
<td>
<p>sf object with validation data (POLYGONs or POINTs).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>responseCol</code></td>
<td>
<p>Character. Column containing the validation data in attribute table of <code>valData</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nSamplesV</code></td>
<td>
<p>Integer. Number of pixels to sample for validation (only applies to polygons).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>Character. Either 'classification' or 'regression'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>classMapping</code></td>
<td>
<p>optional data.frame with columns <code>'class'</code> and <code>'classID'</code> defining the mapping from raster integers to class names.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a structured list includng the preformance and confusion-matrix of your then validated input data
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(caret)
library(terra)

## Training data
poly     &lt;- readRDS(system.file("external/trainingPolygons_lsat.rds", package="RStoolbox"))

## Split training data in training and validation set (50%-50%)
splitIn   &lt;- createDataPartition(poly$class, p = .5)[[1]]
train &lt;- poly[splitIn,]
val   &lt;- poly[-splitIn,]

## Classify (deliberately poorly)
sc &lt;- superClass(lsat, trainData = train, responseCol = "class", nSamples = 50, model = "mlc")

## Polish map with majority filter

polishedMap &lt;- focal(sc$map, matrix(1,3,3), fun = modal) 

## Validation
## Before filtering
val0 &lt;- validateMap(sc$map, valData = val, responseCol = "class",
                            classMapping = sc$classMapping)
## After filtering
val1 &lt;- validateMap(polishedMap, valData = val, responseCol = "class",
                             classMapping = sc$classMapping)
</code></pre>


</div>