<div class="container">

<table style="width: 100%;"><tr>
<td>with_edition</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Temporarily change the active readr edition</h2>

<h3>Description</h3>

<p><code>with_edition()</code> allows you to change the active edition of readr for a given
block of code. <code>local_edition()</code> allows you to change the active edition of
readr until the end of the current function or file.
</p>


<h3>Usage</h3>

<pre><code class="language-R">with_edition(edition, code)

local_edition(edition, env = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>edition</code></td>
<td>
<p>Should be a single integer, such as <code>1</code> or <code>2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code</code></td>
<td>
<p>Code to run with the changed edition.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>Environment that controls scope of changes. For expert use only.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">with_edition(1, edition_get())
with_edition(2, edition_get())

# readr 1e and 2e behave differently when input rows have different number
# number of fields
with_edition(1, read_csv("1,2\n3,4,5", col_names = c("X", "Y", "Z")))
with_edition(2, read_csv("1,2\n3,4,5", col_names = c("X", "Y", "Z")))

# local_edition() applies in a specific scope, for example, inside a function
read_csv_1e &lt;- function(...) {
  local_edition(1)
  read_csv(...)
}
read_csv("1,2\n3,4,5", col_names = c("X", "Y", "Z"))      # 2e behaviour
read_csv_1e("1,2\n3,4,5", col_names = c("X", "Y", "Z"))   # 1e behaviour
read_csv("1,2\n3,4,5", col_names = c("X", "Y", "Z"))      # 2e behaviour
</code></pre>


</div>