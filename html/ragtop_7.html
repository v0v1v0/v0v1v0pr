<div class="container">

<table style="width: 100%;"><tr>
<td>american_implied_volatility</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Implied volatility of an american option with equity-independent term structures</h2>

<h3>Description</h3>

<p>Use the grid solver to generate american option values under
a default model with survival probabilities not linked to equity prices. and run them
through a bisective root search method until a constant volatility matching the provided
option price has been found.
</p>


<h3>Usage</h3>

<pre><code class="language-R">american_implied_volatility(
  option_price,
  callput,
  S0,
  K,
  time,
  const_default_intensity = 0,
  survival_probability_fcn = function(T, t, ...) {     exp(-const_default_intensity * (T
    - t)) },
  default_intensity_fcn = function(t, S, ...) {     const_default_intensity + 0 * S },
  ...,
  num_time_steps = 30,
  structure_constant = 2,
  std_devs_width = 5,
  relative_tolerance = 1e-04,
  max.iter = 100,
  max_vola = 4
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>option_price</code></td>
<td>
<p>Option price to match</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>callput</code></td>
<td>
<p>1 for calls, -1 for puts</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S0</code></td>
<td>
<p>An initial stock price, for setting grid scale</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>strike</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>Time from <code>0</code> until expiration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>const_default_intensity</code></td>
<td>
<p>A constant to use for the instantaneous default intensity in case <code>default_intensity_fcn</code>
is not given</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>survival_probability_fcn</code></td>
<td>
<p>(Implied argument) A function for probability of survival, with
arguments <code>T</code>, <code>t</code> and <code>T&gt;t</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default_intensity_fcn</code></td>
<td>
<p>A function for computing default intensity
occurring at a given time, dependent on time and stock price, with
arguments <code>t</code>, <code>S</code>.  Should be matched to <code>survival_probability_fcn</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to be passed on to <code>implied_volatility_with_term_struct</code>
and <code>american</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_time_steps</code></td>
<td>
<p>Minimum number of time steps in the grid</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>structure_constant</code></td>
<td>
<p>The maximum ratio between time intervals <code>dt</code>
and the square of space intervals <code>dz^2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>std_devs_width</code></td>
<td>
<p>The number of standard deviations, in <code>sigma * sqrt(T)</code>
units, to incorporate into the grid</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relative_tolerance</code></td>
<td>
<p>Relative tolerance in instrument price defining the root-finder halting condition</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.iter</code></td>
<td>
<p>Maximum number of root-finder iterations allowed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_vola</code></td>
<td>
<p>Maximum volatility to try</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Estimated volatility
</p>


<h3>See Also</h3>

<p><code>implied_volatility_with_term_struct</code> for implied volatility
of European options under the same conditions, <code>american</code> for the
underlying pricing algorithm
</p>
<p>Other Implied Volatilities: 
<code>equivalent_bs_vola_to_jump()</code>,
<code>equivalent_jump_vola_to_bs()</code>,
<code>fit_variance_cumulation()</code>,
<code>implied_jump_process_volatility()</code>,
<code>implied_volatilities_with_rates_struct()</code>,
<code>implied_volatilities()</code>,
<code>implied_volatility_with_term_struct()</code>,
<code>implied_volatility()</code>
</p>
<p>Other Equity Independent Default Intensity: 
<code>american()</code>,
<code>black_scholes_on_term_structures()</code>,
<code>blackscholes()</code>,
<code>equivalent_bs_vola_to_jump()</code>,
<code>equivalent_jump_vola_to_bs()</code>,
<code>implied_volatilities_with_rates_struct()</code>,
<code>implied_volatilities()</code>,
<code>implied_volatility_with_term_struct()</code>,
<code>implied_volatility()</code>
</p>
<p>Other American Exercise Equity Options: 
<code>american()</code>,
<code>control_variate_pairs()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">american_implied_volatility(25,CALL,S0=100,K=100,time=2.2,
  const_short_rate=0.03, num_time_steps=5)
df250 =  function(t) ( exp(-0.02*t)*exp(-0.03*max(0,t-1.0))) # Simple term structure
df25 = function(T,t){df250(T)/df250(t)} # Relative discount factors
american_implied_volatility(25,-1,100,100,2.2,
  discount_factor_fcn=df25, num_time_steps=5)
</code></pre>


</div>