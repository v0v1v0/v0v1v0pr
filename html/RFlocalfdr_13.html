<div class="container">

<table style="width: 100%;"><tr>
<td>my_ranger_PIMP</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>my_ranger_PIMP
based on the PIMP function from the vita package. ‘PIMP’ implements the test approach of Altmann et al. (2010) for
the permutation variable importance measure ‘VarImp’ returned by the randomForest package (Liaw and Wiener (2002)) for
classification and regression.</h2>

<h3>Description</h3>

<p>my_PIMP applies the same method as PIMP but to the MDI (mean decrease in impurity)  variable importance
(mean decrease in Gini index for classification and  mean decrease in MSE for regression).
my_ranger_PIMP applies the same method to the ranger RF package
</p>


<h3>Usage</h3>

<pre><code class="language-R">my_ranger_PIMP(
  X,
  y,
  rForest,
  S = 100,
  parallel = FALSE,
  ncores = 0,
  seed = 123,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X, </code></td>
<td>
<p>data matrix of size n by p</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y, </code></td>
<td>
<p>class labels for classification (factor) or real values for regression. Of length n</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rForest, </code></td>
<td>
<p>an object of class ranger, importance must be set to "impurity".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S, </code></td>
<td>
<p>The number of permutations for the response vector ‘y’. Default is ‘S=100</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>Should the PIMP-algorithm run parallel?  Default is
‘parallel=FALSE’ and the number of cores is set to one. The
parallelized version of the PIMP-algorithm are based on
mclapply and so is not available on Windows</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncores, </code></td>
<td>
<p>The number of cores to use, i.e. at most how many child
processes will be run simultaneously. Must be at least one,
and parallelization requires at least two cores.  If
‘ncores=0’, then the half of CPU cores on the current host
are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>a single integer value to specify seeds. The "combined
multiple-recursive generator" from L'Ecuyer (1999) is set as
random number generator for the parallelized version of the
PIMP-algorithm.  Default is ‘ seed = 123’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to ranger</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an object of class PIMP
</p>


<h3>Examples</h3>

<pre><code class="language-R"> 
library(RFlocalfdr.data)
library(ranger)
library(vita) #vita: Variable Importance Testing Approaches
data(smoking)
?smoking 
y&lt;-smoking$y
y&lt;-factor(y)
smoking_data&lt;-smoking$rma

cl.ranger &lt;- ranger::ranger(y=y, x=smoking_data,mtry = 3,num.trees = 1000, importance = 'impurity')
system.time(pimp.varImp.cl&lt;-my_ranger_PIMP(smoking_data,y,cl.ranger,S=10, parallel=TRUE, ncores=2))
#CRAN limits the number of cores available to packages to 2, for performance reasons.
pimp.t.cl &lt;- vita::PimpTest(pimp.varImp.cl,para = FALSE)
aa &lt;- summary(pimp.t.cl,pless = 0.05)
length(which(aa$cmat2[,"p-value"]&lt; 0.05))
hist(aa$cmat2[,"p-value"],breaks=20)

</code></pre>


</div>