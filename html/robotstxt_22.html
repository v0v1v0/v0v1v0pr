<div class="container">

<table style="width: 100%;"><tr>
<td>rt_request_handler</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>rt_request_handler</h2>

<h3>Description</h3>

<p>A helper function for get_robotstxt() that will extract the robots.txt file
from the HTTP request result object. furthermore it will inform
get_robotstxt() if the request should be cached and which problems occured.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rt_request_handler(
  request,
  on_server_error = on_server_error_default,
  on_client_error = on_client_error_default,
  on_not_found = on_not_found_default,
  on_redirect = on_redirect_default,
  on_domain_change = on_domain_change_default,
  on_sub_domain_change = on_sub_domain_change_default,
  on_file_type_mismatch = on_file_type_mismatch_default,
  on_suspect_content = on_suspect_content_default,
  warn = TRUE,
  encoding = "UTF-8"
)

on_server_error_default

on_client_error_default

on_not_found_default

on_redirect_default

on_domain_change_default

on_sub_domain_change_default

on_file_type_mismatch_default

on_suspect_content_default
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>request</code></td>
<td>
<p>result of an HTTP request (e.g. httr::GET())</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>on_server_error</code></td>
<td>
<p>request state handler for any 5xx status</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>on_client_error</code></td>
<td>
<p>request state handler for any 4xx HTTP status that is
not 404</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>on_not_found</code></td>
<td>
<p>request state handler for HTTP status 404</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>on_redirect</code></td>
<td>
<p>request state handler for any 3xx HTTP status</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>on_domain_change</code></td>
<td>
<p>request state handler for any 3xx HTTP status where
domain did change as well</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>on_sub_domain_change</code></td>
<td>
<p>request state handler for any 3xx HTTP status where
domain did change but only to www-sub_domain</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>on_file_type_mismatch</code></td>
<td>
<p>request state handler for content type other
than 'text/plain'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>on_suspect_content</code></td>
<td>
<p>request state handler for content that seems to be
something else than a robots.txt file (usually a JSON, XML or HTML)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn</code></td>
<td>
<p>suppress warnings</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encoding</code></td>
<td>
<p>The text encoding to assume if no encoding is provided in the
headers of the response</p>
</td>
</tr>
</table>
<h3>Format</h3>

<p>An object of class <code>list</code> of length 4.
</p>
<p>An object of class <code>list</code> of length 4.
</p>
<p>An object of class <code>list</code> of length 4.
</p>
<p>An object of class <code>list</code> of length 2.
</p>
<p>An object of class <code>list</code> of length 3.
</p>
<p>An object of class <code>list</code> of length 2.
</p>
<p>An object of class <code>list</code> of length 4.
</p>
<p>An object of class <code>list</code> of length 4.
</p>


<h3>Value</h3>

<p>a list with three items following the following schema: <br><code>
  list( rtxt = "", problems = list( "redirect" = list( status_code = 301 ),
  "domain" = list(from_url = "...", to_url = "...") ) ) </code>
</p>


</div>