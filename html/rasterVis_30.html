<div class="container">

<table style="width: 100%;"><tr>
<td>histogram-methods</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Histogram of Raster objects.
</h2>

<h3>Description</h3>

<p>Draw histograms (with <code>lattice</code>) of Raster objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'Raster,missing'
histogram(x, data=NULL, layers, FUN,
            maxpixels = 1e+05, nint=100,
            xlab='', ylab='', main='', col='gray',
            between=list(x=0.5, y=0.2),
            as.table=TRUE,
            scales=list(x=list(relation='free'),
              y=list(relation='free',
                draw=FALSE)),
            names.attr,
            par.settings=rasterTheme(),
            att = 1,
            ...)

## S4 method for signature 'SpatRaster,missing'
histogram(x, data=NULL, layers, FUN,
            maxpixels = 1e+05, nint=100,
            xlab='', ylab='', main='', col='gray',
            between=list(x=0.5, y=0.2),
            as.table=TRUE,
            scales=list(x=list(relation='free'),
              y=list(relation='free',
                draw=FALSE)),
            names.attr,
            par.settings=rasterTheme(),
            att = 1,
            ...)

## S4 method for signature 'formula,Raster'
histogram(x, data, dirXY,
            maxpixels = 1e+05,
            strip=TRUE,
            par.settings=rasterTheme(),
            att = 1,
            ...)

## S4 method for signature 'formula,SpatRaster'
histogram(x, data, dirXY,
            maxpixels = 1e+05,
            strip=TRUE,
            par.settings=rasterTheme(),
            att = 1,
            ...)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>Raster*</code> object, a <code>SpatRaster</code> object or a <code>formula</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>NULL</code>, a <code>Raster</code> object, or <code>SpatRaster</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layers</code></td>
<td>
<p>A numeric or character which should indicate the layers
to be displayed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dirXY</code></td>
<td>
<p>A direction as a function of the coordinates (see
<code>xyLayer</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>A function to applied to the <code>z</code> slot of a
<code>RasterStackBrick</code> object or to the time index of the
<code>SpatRaster</code> object. The result of this function
is used as the grouping variable of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nint</code></td>
<td>
<p>Number of breaks for the histogram. See the documentation of
<code>lattice::histogram</code> at lattice for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxpixels</code></td>
<td>
<p>A numeric, for <code>sampleRandom</code> or <code>spatSample</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>att</code></td>
<td>
<p>If <code>x</code> is a factor, integer or character to choose
which variable (column) in the RAT table should be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab, ylab, main, col</code></td>
<td>
<p>Arguments for <code>histogram</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names.attr</code></td>
<td>
<p>Character or expression, names to use in each
panel. If missing its default value is the result of <code>names(x)</code>
(after subsetting the layers to be displayed).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>between, as.table, scales,
strip, par.settings</code></td>
<td>
<p>Graphical parameters of <code>lattice</code>. See <code>lattice::xyplot</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments for <code>lattice::histogram</code></p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>If you need different breakpoints in each panel, set <code>breaks</code>
explicitely with <code>NULL</code>, a numeric or a character (for example,
'Sturges'; see <code>hist</code> for details)</p>


<h3>Author(s)</h3>

<p>Oscar Perpiñán Lamigueiro</p>


<h3>See Also</h3>

<p><code>histogram</code>,<code>xscale.raster</code>,
<code>yscale.raster</code>, <code>rasterTheme</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(raster)
library(terra)

f &lt;- system.file("external/test.grd", package="raster")
r &lt;- raster(f)
histogram(r)
s &lt;- stack(r, r+500, r-500)
## Same breakpoints across panels
histogram(s)
## Each panel with different breakpoints
histogram(s, breaks=NULL)
histogram(s, breaks='Sturges')
histogram(s, breaks=30)

## Categorical data
r &lt;- raster(nrow=10, ncol=10)
r[] = 1
r[51:100] = 3
r[3:6, 1:5] = 5
r &lt;- ratify(r)
     
rat &lt;- levels(r)[[1]]
rat$landcover &lt;- c('Pine', 'Oak', 'Meadow')
rat$class &lt;- c('A1', 'B2', 'C3')
levels(r) &lt;- rat

histogram(r)
histogram(r, att = "class")

## Not run: 
library(zoo)

dataURL &lt;- "https://raw.github.com/oscarperpinan/bookvis/master/data/"

##Solar irradiation data from CMSAF http://dx.doi.org/10.5676/EUM_SAF_CM/RAD_MVIRI/V001
old &lt;- setwd(tempdir())
download.file(paste0(dataURL, "SISmm2008_CMSAF.zip"),
   "SISmm2008_CMSAF.zip", method='wget')
unzip("SISmm2008_CMSAF.zip")

listFich &lt;- dir(pattern='\\.nc')
stackSIS &lt;- stack(listFich)
stackSIS &lt;- stackSIS*24 ##from irradiance (W/m2) to irradiation Wh/m2

idx &lt;- seq(as.Date('2008-01-15'), as.Date('2008-12-15'), 'month')

SISmm &lt;- setZ(stackSIS, idx)
names(SISmm) &lt;- month.abb

histogram(SISmm)
histogram(SISmm, FUN=as.yearqtr)

## With the formula interface you can create histograms for a set of variables
histogram(~ Jan + Dec, data=SISmm)
## Or use the coordinates for generating zonal histograms.
## For example, five histograms for each latitude zone  
histogram(~ Jan | cut(y, 5), data=SISmm)
## More sophisticated bands can be defined using the dirXY argument 
histogram(~ Jan | cut(dirXY, 5), dirXY = x^2 + y^2, data=SISmm)
 
setwd(old)

## End(Not run)

## Not run: 
##http://neo.sci.gsfc.nasa.gov/Search.html?group=64
pop &lt;- raster('875430rgb-167772161.0.FLOAT.TIFF')
pop[pop==99999] &lt;- NA
levelplot(pop, zscaleLog=10, par.settings=BTCTheme,
          panel=panel.levelplot.raster, interpolate=TRUE)

##http://neo.sci.gsfc.nasa.gov/Search.html?group=20
landClass &lt;- raster('241243rgb-167772161.0.TIFF')
landClass[landClass==254] &lt;- NA


s &lt;- stack(pop, landClass)
names(s) &lt;- c('pop', 'landClass')

histogram(~asinh(pop)|landClass, data=s,
            scales=list(relation='free'),
            strip=strip.custom(strip.levels=TRUE))

## End(Not run)

</code></pre>


</div>