<div class="container">

<table style="width: 100%;"><tr>
<td>dracor_api</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Send a GET request to DraCor API and parse the results</h2>

<h3>Description</h3>

<p>Function <code>dracor_api()</code> sends a GET request to DraCor API with a
specified expected type and parses results depending on selected expected
type.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dracor_api(
  request,
  expected_type = c("application/json", "application/xml", "text/csv", "text/plain"),
  parse = TRUE,
  default_type = FALSE,
  split_text = TRUE,
  as_tibble = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>request</code></td>
<td>
<p>Character, valid GET request.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expected_type</code></td>
<td>
<p>Character, 'MIME' type: one of
<code>"application/json"</code>,  <code>"application/xml"</code>, <code>"text/csv"</code>,
<code>"text/plain"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parse</code></td>
<td>
<p>Logical, if <code>TRUE</code> (default value), then a response is
parsed depending on <code>expected_type</code>. See details below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default_type</code></td>
<td>
<p>Logical, if <code>TRUE</code>, default response data type is
returned. Therefore, a response is not parsed and <code>parse</code> is ignored.
The default value is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split_text</code></td>
<td>
<p>Logical, if <code>TRUE</code>, plain text lines are read as
different values in a vector instead of returning one character value.
Default value is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_tibble</code></td>
<td>
<p>Logical, if <code>TRUE</code>, data frame will be returned as a
tidyverse tibble (<code>tbl_df</code>). The default value is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed to a parser function.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>There are four different 'MIME' types (aka internet media type) that can be
retrieved for DraCor API, the specific combination of possible 'MIME' types
depends on API command. When <code>parse = TRUE</code> is used, the content is
parsed depending on selected 'MIME' type in <code>expected_type</code>:
</p>

<dl>
<dt><code>application/json</code></dt>
<dd>
<p><code>
  jsonlite::fromJSON()</code></p>
</dd>
<dt><code>application/xml</code></dt>
<dd>
<p><code>xml2::read_xml()</code></p>
</dd>
<dt><code>text/csv</code></dt>
<dd>
<p><code>data.table::fread()</code></p>
</dd>
<dt><code>text/plain</code></dt>
<dd>
<p>No need for additional preprocessing</p>
</dd>
</dl>
<h3>Value</h3>

<p>A content of a response to GET method to the 'DraCor' API. If
<code>parse = FALSE</code> or <code>default_type = TRUE</code>, a single character value
is returned. Otherwise, the resulting value is parsed according to a value of
<code>default_type</code> parameter. The resulting structure of the output depends
on the selected <code>default_type</code> value, the respective function for
parsing (see <code>default_type</code>) and additional parameters that are passed
to the function for parsing.
</p>


<h3>See Also</h3>

<p><code>dracor_sparql</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">dracor_api("https://dracor.org/api/v1/info", expected_type = "application/json")
</code></pre>


</div>