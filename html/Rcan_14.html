<div class="container">

<table style="width: 100%;"><tr>
<td>csu_time_trend</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>csu_time_trend</h2>

<h3>Description</h3>

<p><code>csu_time_trend</code>  plot stats over year.
</p>


<h3>Usage</h3>

<pre><code class="language-R">csu_time_trend(df_data,
		var_trend = "asr",
		var_year = "year",
		group_by = NULL,
		logscale = FALSE,
		smoothing = NULL,
		legend = csu_trend_legend(),
		color_trend = NULL,
		ytitle = "Age standardized rate per 100,000",
		plot_title = "csu_title") 
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df_data</code></td>
<td>

<p>Data (need to be R <code>data.frame</code> format, see example to import csv file).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_trend</code></td>
<td>

<p>Statistics variable to be plot on Y axis.<br>
Usually for the ASR, but it could be the cumulative risk, or the number of cases.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_year</code></td>
<td>

<p>Time variable.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_by</code></td>
<td>

<p>Variable to compare different age specific rate (sex, country, cancer ...).<br>
Only one variable can be chosen.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logscale</code></td>
<td>

<p>Logical value: if <code>TRUE</code> Y-axis use logscale.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smoothing</code></td>
<td>

<p>Apply a smoothing using the R loess function. <br>.
The numerical parameter controls the degree of smoothing.<br>
See option <code>span</code> in <code>loess</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>

<p>legend option: see <code>csu_trend_legend</code>.<br>
Use only if <code>group_by</code> is not <code>NULL</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_trend</code></td>
<td>

<p>Vector of color for the trend.
The color codes are hexadecimal (e.g. "#FF0000") or predefined R color names (e.g. "red").
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ytitle</code></td>
<td>

<p>Y-axis title. Default is "Age standardized rate per 100,000".
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_title</code></td>
<td>

<p>Title of the plot.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is design the plot a statistics over time. It has been design for the ASR by year, but can be used for other statistics over time period.
The <code>group_by</code> option allow to compare different population or cancer.
</p>


<h3>Value</h3>

<p>Return a plot.
</p>


<h3>Author(s)</h3>

<p>Mathieu Laversanne
</p>


<h3>See Also</h3>

<p><code>csu_group_cases</code>
<code>csu_merge_cases_pop</code>
<code>csu_asr</code>
<code>csu_cumrisk</code>
<code>csu_eapc</code>
<code>csu_ageSpecific</code>
<code>csu_ageSpecific_top</code>
<code>csu_bar_top</code>
<code>csu_trendCohortPeriod</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
	data(csu_registry_data_2)

	# you can import your data from csv file using read.csv:
	# mydata &lt;-  read.csv("mydata.csv", sep=",")

	# to select only 1 population 

	test &lt;- subset(csu_registry_data_2 , registry_label == "Colombia, Cali")

	# to change sex variable to factor with label
	test$sex &lt;- factor(test$sex, levels=c(1,2), labels=c("Male", "Female"))

	# to calculate the asr
	df_asr &lt;- csu_asr(
		test,missing_age = 99,
		group_by  = c("registry", "registry_label", "year", "sex", "ethnic"),
		var_age_group =  c("registry", "registry_label")
		)


	# plot ASR ove year, by sex.
	csu_time_trend(df_asr, group_by="sex",
			  plot_title = "Colombia, Liver")

	# plot ASR over year, by sex, with small smoothing.
	csu_time_trend(df_asr, group_by="sex",
			  plot_title = "Colombia, Liver",
			  smoothing = 0.3)


	# plot ASR over year, by sex, with high smoothing.
	csu_time_trend(df_asr, group_by="sex",
			  plot_title = "Colombia, Liver",
			  smoothing = 0.5)

	# Plot embedded in a graphic device
	pdf(paste0(tempdir(),"/test.pdf"),width = 11.692 , height =  8.267) 
	csu_time_trend(df_asr, group_by="sex",
			  plot_title = "Colombia, Liver",
			  smoothing = 0.3)

	csu_time_trend(df_asr, group_by="sex",
			  plot_title = "Colombia, Liver",
			  smoothing = 0.5)

	dev.off()
			
</code></pre>


</div>