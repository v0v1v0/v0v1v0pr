<div class="container">

<table style="width: 100%;"><tr>
<td>extend_se</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extend data by adding more columns.</h2>

<h3>Description</h3>

<p>Create a node similar to a Codd extend relational operator (add derived columns).
</p>


<h3>Usage</h3>

<pre><code class="language-R">extend_se(
  source,
  assignments,
  ...,
  partitionby = NULL,
  orderby = NULL,
  reverse = NULL,
  display_form = NULL,
  env = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>source</code></td>
<td>
<p>source to select from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assignments</code></td>
<td>
<p>new column assignment expressions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>force later arguments to bind by name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>partitionby</code></td>
<td>
<p>partitioning (window function) terms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>orderby</code></td>
<td>
<p>ordering (in window function) terms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reverse</code></td>
<td>
<p>reverse ordering (in window function) terms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>display_form</code></td>
<td>
<p>chacter presentation form</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>environment to look for values in.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Partitionby and orderby can only be used with a database that supports window-functions
(such as PostgreSQL, Spark and so on).
</p>
<p>Note: if any window/aggregation functions are present then at least one of partitionby or orderby
must be non empty.  For this purpose partitionby=1 is allowed and means "single partition on the constant 1."
</p>


<h3>Value</h3>

<p>extend node.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
if (requireNamespace("DBI", quietly = TRUE) &amp;&amp; requireNamespace("RSQLite", quietly = TRUE)) {
  my_db &lt;- DBI::dbConnect(RSQLite::SQLite(), ":memory:")
  d &lt;- rq_copy_to(my_db, 'd',
                   data.frame(AUC = 0.6, R2 = 0.2))
  optree &lt;- extend_se(d, c("v" %:=% "AUC + R2", "x" %:=% "pmax(AUC,v)"))
  cat(format(optree))
  sql &lt;- to_sql(optree, my_db)
  cat(sql)
  print(DBI::dbGetQuery(my_db, sql))

  DBI::dbDisconnect(my_db)
}

</code></pre>


</div>