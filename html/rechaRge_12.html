<div class="container">

<table style="width: 100%;"><tr>
<td>evaluate_simulation_quality</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Evaluate the quality of the simulation result</h2>

<h3>Description</h3>

<p>From a simulation result, evaluate the quality by comparing with observations. The quality
measurement can be used for model calibration (e.g. caRamel package) or sensitivity evaluation
(e.g. sensitivity package).
</p>
<p>Evaluates the simulated water budget with the average KGE.
</p>


<h3>Usage</h3>

<pre><code class="language-R">evaluate_simulation_quality(obj, water_budget, ...)

## Default S3 method:
evaluate_simulation_quality(obj, water_budget, ...)

## S3 method for class 'hydrobudget'
evaluate_simulation_quality(
  obj,
  water_budget,
  rcn_gauging,
  observed_flow,
  alpha_lyne_hollick,
  period = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>The HydroBudget object with calibration parameters and column names mappings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>water_budget</code></td>
<td>
<p>The computed water budget. Input can be a data.frame/data.table or a path to a data file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed to methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rcn_gauging</code></td>
<td>
<p>The table with the list of RCN cells located in each gauging station watershed. Input can be a data.frame/data.table or a path to a data file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>observed_flow</code></td>
<td>
<p>The flow rates in mm/day. Input can be a data.frame/data.table or a path to a data file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_lyne_hollick</code></td>
<td>
<p>The Lyne and Hollick filter. Input can be a data.frame/data.table or a path to a data file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>period</code></td>
<td>
<p>The start and end years. If not provided, the start/end years will be extracted from the water budget data.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The columns of the water budget data set input are:
</p>

<ul>
<li> <p><strong>year</strong>
</p>
</li>
<li> <p><strong>month</strong>
</p>
</li>
<li> <p><strong>vi</strong>
</p>
</li>
<li> <p><strong>t_mean</strong>
</p>
</li>
<li> <p><strong>runoff</strong>
</p>
</li>
<li> <p><strong>pet</strong>
</p>
</li>
<li> <p><strong>aet</strong>
</p>
</li>
<li> <p><strong>gwr</strong>
</p>
</li>
<li> <p><strong>runoff_2</strong>
</p>
</li>
<li> <p><strong>delta_reservoir</strong>
</p>
</li>
<li> <p><strong>rcn_id</strong>
</p>
</li>
</ul>
<p>The columns of the observed flow data set input are:
</p>

<ul>
<li> <p><strong>year</strong>
</p>
</li>
<li> <p><strong>month</strong>
</p>
</li>
<li> <p><strong>day</strong>
</p>
</li>
<li> <p><strong>one column per station</strong> (named by the station ID), the flow rates in mm/day
</p>
</li>
</ul>
<p>The columns of the RCN gauging stations data set input are:
</p>

<ul>
<li> <p><strong>rcn_id</strong>, the cell ID
</p>
</li>
<li> <p><strong>station_id</strong>, the station ID
</p>
</li>
</ul>
<p>The columns of the Lyne and Hollick filter data set input are:
</p>

<ul>
<li> <p><strong>station_id</strong>, the station ID
</p>
</li>
<li> <p><strong>alpha</strong>
</p>
</li>
</ul>
<h3>Value</h3>

<p>The model-specific quality assessment.
</p>
<p>The HydroBudget quality assessment.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Use input example files provided by the package
base_url &lt;- "https://github.com/gwrecharge/rechaRge-book/raw/main/examples/input/"
input_rcn_gauging &lt;- paste0(base_url, "rcn_gauging.csv.gz")
input_observed_flow &lt;- paste0(base_url, "observed_flow.csv.gz")
input_alpha_lyne_hollick &lt;- paste0(base_url, "alpha_lyne_hollick.csv.gz")

# Calibration parameters
HB &lt;- rechaRge::new_hydrobudget(
  T_m = 2.1, # melting temperature (°C)
  C_m = 6.2, # melting coefficient (mm/°C/d)
  TT_F = -17.6, # Threshold temperature for soil frost (°C)
  F_T = 16.4, # Freezing time (d)
  t_API = 3.9, # Antecedent precipitation index time (d)
  f_runoff = 0.63, # Runoff factor (-)
  sw_m = 431, # Maximum soil water content (mm)
  f_inf = 0.07 # infiltration factor (-)
)

# ... compute the water budget ...

result &lt;- evaluate_simulation_quality(
  HB,
  water_budget = water_budget,
  rcn_gauging = input_rcn_gauging,
  observed_flow = input_observed_flow,
  alpha_lyne_hollick = input_alpha_lyne_hollick,
  period = simul_period
)

## End(Not run)
</code></pre>


</div>