<div class="container">

<table style="width: 100%;"><tr>
<td>plot_bar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot bar charts of population frequencies.</h2>

<h3>Description</h3>

<p><code>plot_bar</code> draws bar charts that
represent the proportions of frequencies in the current
population <code>popu</code> as relatives sizes of
rectangular areas.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_bar(
  prev = num$prev,
  sens = num$sens,
  mirt = NA,
  spec = num$spec,
  fart = NA,
  N = num$N,
  by = "all",
  dir = 1,
  scale = "f",
  round = TRUE,
  sample = FALSE,
  f_lbl = "num",
  f_lwd = 1,
  lty = 0,
  lbl_txt = txt,
  main = txt$scen_lbl,
  sub = "type",
  title_lbl = NULL,
  col_pal = pal,
  mar_notes = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prev</code></td>
<td>
<p>The condition's prevalence <code>prev</code>
(i.e., the probability of condition being <code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sens</code></td>
<td>
<p>The decision's sensitivity <code>sens</code>
(i.e., the conditional probability of a positive decision
provided that the condition is <code>TRUE</code>).
<code>sens</code> is optional when its complement <code>mirt</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mirt</code></td>
<td>
<p>The decision's miss rate <code>mirt</code>
(i.e., the conditional probability of a negative decision
provided that the condition is <code>TRUE</code>).
<code>mirt</code> is optional when its complement <code>sens</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spec</code></td>
<td>
<p>The decision's specificity value <code>spec</code>
(i.e., the conditional probability
of a negative decision provided that the condition is <code>FALSE</code>).
<code>spec</code> is optional when its complement <code>fart</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fart</code></td>
<td>
<p>The decision's false alarm rate <code>fart</code>
(i.e., the conditional probability
of a positive decision provided that the condition is <code>FALSE</code>).
<code>fart</code> is optional when its complement <code>spec</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>The number of individuals in the population.
(This value is not represented in the plot,
but used when new frequency information <code>freq</code>
and a new population table <code>popu</code>
are computed from scratch from current probabilities.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>A character code specifying the perspective
(or the dimension by which the population is split into 2 subsets)
with the following options:
</p>

<ol>
<li> <p><code>by = "cd"</code>: by condition;
</p>
</li>
<li> <p><code>by = "dc"</code>: by decision;
</p>
</li>
<li> <p><code>by = "ac"</code>: by accuracy;
</p>
</li>
<li> <p><code>by = "all"</code> combines perspectives (5 bars, default).
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>Number of directions in which bars are plotted.
Options:
</p>

<ol>
<li> <p><code>dir = 1</code>: uni-directional bars (all up, default);
</p>
</li>
<li> <p><code>dir = 2</code>: bi-directional bars (up vs. down).
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>Scale the heights of bars either
by current frequencies (<code>scale = "f"</code>) or
by exact probabilities (<code>scale = "p"</code>).
Default: <code>scale = "f"</code>.
For large population sizes <code>N</code> and
when <code>round = FALSE</code>, both settings yield the same bar heights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>round</code></td>
<td>
<p>Boolean option specifying whether computed frequencies
are to be rounded to integers.
Default: <code>round = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample</code></td>
<td>
<p>Boolean value that determines whether frequency values
are sampled from <code>N</code>, given the probability values of
<code>prev</code>, <code>sens</code>, and <code>spec</code>.
Default: <code>sample = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_lbl</code></td>
<td>
<p>Type of frequency labels, as character code with the following options:
</p>

<ol>
<li> <p><code>f_lbl = "nam"</code>: names;
</p>
</li>
<li> <p><code>f_lbl = "num"</code>: numeric values (default);
</p>
</li>
<li> <p><code>f_lbl = "abb"</code>: abbreviated names;
</p>
</li>
<li> <p><code>f_lbl = NA/NULL/"no"</code>: no labels;
</p>
</li>
<li> <p><code>f_lbl = "any"</code>: abbreviated names and numeric values (abb = num).
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_lwd</code></td>
<td>
<p>Line width of frequency box (border).
Values of <code>NA/NULL/0</code> set <code>lwd</code> to
invisible <code>tiny_lwd &lt;- .001</code> and <code>lty &lt;- 0</code> (<code>"blank"</code>).
Default: <code>f_lwd = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>Line type of frequency box (border).
Values of <code>NA/NULL/0</code> set <code>lty</code> to
<code>lty &lt;- 0</code>.
Default: <code>lty = 0</code> (i.e., no line).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lbl_txt</code></td>
<td>
<p>Current text information (for labels, titles, etc.).
Default: <code>lbl_txt = txt</code> (see <code>init_txt</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Text label for main plot title.
Default: <code>main = txt$scen_lbl</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub</code></td>
<td>
<p>Text label for plot subtitle (on 2nd line).
Default: <code>sub = "type"</code> shows information on current plot type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title_lbl</code></td>
<td>
<p><strong>Deprecated</strong> text label for current plot title.
Replaced by <code>main</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_pal</code></td>
<td>
<p>Current color palette.
Default: <code>col_pal = pal</code> (see <code>init_pal</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mar_notes</code></td>
<td>
<p>Boolean option for showing margin notes.
Default: <code>mar_notes = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other (graphical) parameters
(e.g., <code>cex</code>, <code>font</code>, <code>lty</code>, etc.).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If a sufficient and valid set of 3 essential probabilities
(<code>prev</code>, and
<code>sens</code> or its complement <code>mirt</code>, and
<code>spec</code> or its complement <code>fart</code>)
is provided, new frequency information <code>freq</code>
and a new population table <code>popu</code>
are computed from scratch.  Otherwise, the existing
population <code>popu</code> is shown.
</p>
<p>By default, <code>plot_bar</code> uses current frequencies
(i.e., rounded or not rounded, depending on the value of <code>round</code>)
as bar heights, rather than using exact probabilities to
scale bar heights (i.e., default scaling is <code>scale = "f"</code>).
Using the option <code>scale = "p"</code> scales bar heights
by probabilities (e.g., showing bars for non-natural frequencies
even when frequencies are rounded).
When <code>round = FALSE</code>, bar heights for <code>scale = "f"</code>
and for <code>scale = "p"</code> are identical.
</p>
<p>The distinction between <code>scale = "f"</code> and
<code>scale = "p"</code> matters mostly for
small populations sizes <code>N</code>
(e.g., when <code>N &lt; 100</code>).
For rounded and small frequency values (e.g., <code>freq &lt; 10</code>)
switching from <code>scale = "f"</code> to <code>scale = "p"</code>
yields different plots.
</p>
<p><code>plot_bar</code> contrasts compound frequencies along 1 dimension (height).
See <code>plot_mosaic</code> for 2-dimensional visualizations (as areas)
and various <code>box</code>) options in
<code>plot_tree</code> and <code>plot_fnet</code>
for related functions.
</p>


<h3>See Also</h3>

<p><code>comp_popu</code> computes the current population;
<code>popu</code> contains the current population;
<code>comp_freq</code> computes current frequency information;
<code>freq</code> contains current frequency information;
<code>num</code> for basic numeric parameters;
<code>txt</code> for current text settings;
<code>pal</code> for current color settings
</p>
<p>Other visualization functions: 
<code>plot.riskyr()</code>,
<code>plot_area()</code>,
<code>plot_crisk()</code>,
<code>plot_curve()</code>,
<code>plot_fnet()</code>,
<code>plot_icons()</code>,
<code>plot_mosaic()</code>,
<code>plot_plane()</code>,
<code>plot_prism()</code>,
<code>plot_tab()</code>,
<code>plot_tree()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Basics:
# (1) Using global prob and freq values:
plot_bar()

# (2) Providing values:
plot_bar(prev = .33, sens = .75, spec = .66, main = "Test 1")
plot_bar(N = 1000, prev = .33, sens = .75, spec = .60, main = "Test 2")  # by "all" (default)

# (3) Rounding and sampling:
plot_bar(N = 100, prev = 1/3, sens = 2/3, spec = 6/7, area = "hr", round = FALSE)
plot_bar(N = 100, prev = 1/3, sens = 2/3, spec = 6/7, area = "hr", sample = TRUE, scale = "freq")

# Perspectives (by):
# plot_bar(N = 1000, prev = .33, sens = .75, spec = .60, by = "cd",
#          main = "Test 3a")  # by condition
plot_bar(N = 1000, prev = .33, sens = .75, spec = .60, by = "cd", dir = 2,
         main = "Test 3b", f_lbl = "num")  # bi-directional

# plot_bar(N = 1000, prev = .33, sens = .75, spec = .60, by = "dc",
#          main = "Test 4a")  # by decision
plot_bar(N = 1000, prev = .33, sens = .75, spec = .60, by = "dc", dir = 2,
         main = "Test 4b", f_lbl = "num")  # bi-directional

# plot_bar(N = 1000, prev = .33, sens = .75, spec = .60, by = "ac",
#          main = "Test 5a")  # by accuracy
plot_bar(N = 1000, prev = .33, sens = .75, spec = .60, by = "ac", dir = 2,
         main = "Test 5b", f_lbl = "num")  # bi-directional

# Customize colors and text:
plot_bar(dir = 1, f_lbl = "num", col_pal = pal_org)
# plot_bar(dir = 2, f_lbl = "nam", col_pal = pal_bw)

# Frequency labels (f_lbl):
# plot_bar(f_lbl = "def")  # default labels: name = num
plot_bar(f_lbl = "nam")  # name only
plot_bar(f_lbl = "num")  # numeric value only
# plot_bar(f_lbl = "abb")  # abbreviated name
# plot_bar(f_lbl = NA)     # no labels (NA/NULL/"no")

# Scaling and rounding effects:
plot_bar(N = 3, prev = .1, sens = .7, spec = .6, dir = 2,
         scale = "f", round = TRUE,
         main = "Rounding (1)") # =&gt; Scale by freq and round freq.
plot_bar(N = 3, prev = .1, sens = .7, spec = .6, dir = 2,
         scale = "p", round = TRUE,
         main = "Rounding (2)") # =&gt; Scale by prob and round freq.
plot_bar(N = 3, prev = .1, sens = .7, spec = .6, dir = 2,
         scale = "f", round = FALSE,
         main = "Rounding (3)") # =&gt; Scale by freq and do NOT round freq.
plot_bar(N = 3, prev = .1, sens = .7, spec = .6, dir = 2,
         scale = "p", round = FALSE,
         main = "Rounding (4)") # =&gt; Scale by prob and do NOT round freq.

</code></pre>


</div>