<div class="container">

<table style="width: 100%;"><tr>
<td>fitted.bayesx</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Extract BayesX Fitted Values and Residuals
</h2>

<h3>Description</h3>

<p>Extractor functions to the fitted values/model residuals of the estimated model with 
<code>bayesx</code> and fitted model term partial effects/residuals.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'bayesx'
fitted(object, model = NULL, term = NULL, ...)

## S3 method for class 'bayesx'
residuals(object, model = NULL, term = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object of class <code>"bayesx"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>for which model the fitted values/residuals should be provided, either an integer or 
a character, e.g. <code>model = "mcmc.model"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>term</code></td>
<td>
<p>if not <code>NULL</code>, the function will search for the term fitted values/residuals 
specified here, either an integer or a character, eg <code>term = "sx(x)"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not used.</p>
</td>
</tr>
</table>
<h3>Value</h3>

 
<p>For <code>fitted.bayesx</code>, either the fitted linear predictor and mean or if e.g. 
<code>term = "sx(x)"</code>, an object with class <code>"xx.bayesx"</code>, where <code>"xx"</code> is depending of 
the type of the term. In principle the returned term object is simply a <code>data.frame</code> 
containing the covariate(s) and its effects, depending on the estimation method, e.g. for MCMC
estimated models, mean/median fitted values and other quantities are returned. Several additional
informations on the term are provided in the <code>attributes</code> of the object. For all types
of terms plotting functions are provided, see function <code>plot.bayesx</code>.
</p>
<p>Using <code>residuals.bayesx</code> will either return the mean model residuals or the mean partial 
residuals of a term specified in argument <code>term</code>.
</p>


<h3>Author(s)</h3>

<p>Nikolaus Umlauf, Thomas Kneib, Stefan Lang, Achim Zeileis.
</p>


<h3>See Also</h3>

<p><code>read.bayesx.output</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## generate some data
set.seed(121)
n &lt;- 500

## regressors
dat &lt;- data.frame(x = runif(n, -3, 3), z = runif(n, 0, 1),
  w = runif(n, 0, 3))

## generate response 
dat$y &lt;- with(dat, 1.5 + sin(x) + z -3 * w + rnorm(n, sd = 0.6))

## estimate model
b1 &lt;- bayesx(y ~ sx(x) + z + w, data = dat)

## extract fitted values
fit &lt;- fitted(b1)
hist(fit, freq = FALSE)

## now extract 1st model term
## and plot it
fx &lt;- fitted(b1, term = "sx(x)")
plot(fx)

## extract model residuals
hist(residuals(b1))

## extract partial residuals for sx(x)
pres &lt;- residuals(b1, term = "sx(x)")
plot(fx, ylim = range(pres[, 2]))
points(pres)

## End(Not run)

## now another example with
## use of read.bayesx.output
## load example data from
## package R2BayesX
dir &lt;- file.path(find.package("R2BayesX"), "examples", "ex01")
b2 &lt;- read.bayesx.output(dir)

## extract fitted values
hist(fitted(b2))

## extract model term of x
## and plot it
fx &lt;- fitted(b2, term = "sx(x)")
plot(fx)


## have a look at the attributes
names(attributes(fx))

## extract the sampling path of the variance
spv &lt;- attr(fx, "variance.sample")
plot(spv, type = "l")


## Not run: 
## combine model objects
b &lt;- c(b1, b2)

## extract fitted terms for second model
fit &lt;- fitted(b, model = 2, term = 1:2)
names(fit)
plot(fit["sx(id)"])

## End(Not run)
</code></pre>


</div>