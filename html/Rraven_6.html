<div class="container">

<table style="width: 100%;"><tr>
<td>imp_corr_mat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Import 'Raven' batch correlator output</h2>

<h3>Description</h3>

<p><code>imp_corr_mat</code> imports the output of 'Raven' batch correlator.
</p>


<h3>Usage</h3>

<pre><code class="language-R">imp_corr_mat(file, path = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>A character string with the name of the output '.txt' file
generated by Raven.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>A character string indicating the path of the directory in which to look for the text files. 
If not provided (default) the function searches into the current working directory.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function imports the output of a batch correlation routine in Raven. 
Both the correlation and lag matrices contained in the output '
.txt' file are read and both waveform and spectrogram (cross-correlation) correlations can be 
imported.
</p>


<h3>Value</h3>

<p>A list with 2 matrices. The first one contains the correlation coefficients and
the second one the time lags of the peak correlations.
</p>


<h3>Author(s)</h3>

<p>Marcelo Araya-Salas (<a href="mailto:marcelo.araya@ucr.ac.cr">marcelo.araya@ucr.ac.cr</a>)
</p>


<h3>See Also</h3>

<p><code>imp_raven</code>; <code>exp_raven</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run:  
# Load data
library(NatureSounds)
data(list = c("Phae.long1", "Phae.long2", "Phae.long3", "Phae.long4", "lbh_selec_table"))

tuneR::writeWave(Phae.long1, file.path(tempdir(), 
"Phae.long1.wav"), extensible = FALSE) #save sound files 
tuneR::writeWave(Phae.long2, file.path(tempdir(), 
"Phae.long2.wav"), extensible = FALSE)
tuneR::writeWave(Phae.long3, file.path(tempdir(), 
"Phae.long3.wav"), extensible = FALSE)
tuneR::writeWave(Phae.long4, file.path(tempdir(), 
"Phae.long4.wav"), extensible = FALSE)

#create new folder to put cuts
dir.create(file.path(tempdir(), "cuts"))

# cut files
cut_sels(X = lbh_selec_table, mar = 0.05, path = tempdir(),
 dest.path = file.path(tempdir(), "cuts"))

#Now run 'Raven' batch correlator un the cuts and save the output in the same folder

# Import output (change the name of the file if you used a different one)
xcorr.rav &lt;- imp_corr_mat(file = "BatchCorrOutput.txt", 
path = file.path(tempdir(), "cuts"))

# check results
  
## correlation matrix
xcorr.rav[[1]]

## time lag matrix
xcorr.rav[[2]]

## End(Not run)

</code></pre>


</div>