<div class="container">

<table style="width: 100%;"><tr>
<td>exportLogging</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Export Logging Records</h2>

<h3>Description</h3>

<p>These methods enable to user to export the logging
(audit trail) of all changes made to a project, including data exports,
data changes, project metadata changes, modification of user rights, etc.
</p>


<h3>Usage</h3>

<pre><code class="language-R">exportLogging(
  rcon,
  logtype = character(0),
  user = character(0),
  record = character(0),
  dag = character(0),
  beginTime = .POSIXct(character(0)),
  endTime = .POSIXct(character(0)),
  ...
)

## S3 method for class 'redcapApiConnection'
exportLogging(
  rcon,
  logtype = character(0),
  user = character(0),
  record = character(0),
  dag = character(0),
  beginTime = as.POSIXct(character(0)),
  endTime = as.POSIXct(character(0)),
  ...,
  error_handling = getOption("redcap_error_handling"),
  config = list(),
  api_param = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rcon</code></td>
<td>
<p>A <code>redcapConnection</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logtype</code></td>
<td>
<p><code>character(0/1)</code>. The log event types to export.
When the length is zero, all event types are exported. Otherwise, it
must be one of
<code>c("export", "manage", "user", "record", "record_add", "record_edit", "record_delete", "lock_record", "page_view")</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>user</code></td>
<td>
<p><code>character(0/1)</code>. Users for whom to return logs. By default
logs for all users are returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>record</code></td>
<td>
<p><code>character(0/1)</code>. Record ID for which logs are to be returned.
By default, logs are returned for all records.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dag</code></td>
<td>
<p><code>character(0/1)</code>. Data access group ID for which to return logs.
By default, logs are returned for all data access groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beginTime</code></td>
<td>
<p><code>POSIXct(0/1)</code>. When given, only
logs recorded after this time will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endTime</code></td>
<td>
<p><code>POSIXct(0/1)</code>. When given, only logs
recorded before this time will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to pass to other methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error_handling</code></td>
<td>
<p><code>character(1)</code>. One of <code>c("error", "null")</code>.
An option for how to handle errors returned by the API.
see <code>redcapError()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>config</code></td>
<td>
<p>A named <code>list</code>. Additional configuration parameters to pass to
<code>httr::POST()</code>. These are appended to any parameters in
<code>rcon$config</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_param</code></td>
<td>
<p>A named <code>list</code>. Additional API parameters to pass into the
body of the API call. This provides users to execute calls with options
that may not otherwise be supported by <code>redcapAPI</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a data frame with columns</p>

<table>
<tr>
<td style="text-align: left;">
    </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>timestamp</code> </td>
<td style="text-align: left;"> The date/time of the logging record. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>username</code> </td>
<td style="text-align: left;"> The user name of the user that performed the action being logged. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>action</code> </td>
<td style="text-align: left;"> The classification of action being logged. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>details</code> </td>
<td style="text-align: left;"> Details of the action being logged. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>record</code> </td>
<td style="text-align: left;"> The record ID associated with the action being logged. When not related to a record, this will be <code>NA</code> </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
unlockREDCap(connections = c(rcon = "project_alias"), 
             url = "your_redcap_url", 
             keyring = "API_KEYs", 
             envir = globalenv())
                    
# Export all of the logging events       
exportLogging(rcon)
  
# Export all of the events for record '2'
exportLogging(rcon, 
              record = "2")
                
# Export all of the events where a record was deleted
exportLoging(rcon, 
             logtype = "record_delete")

## End(Not run)
</code></pre>


</div>