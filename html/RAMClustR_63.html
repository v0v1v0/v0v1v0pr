<div class="container">

<table style="width: 100%;"><tr>
<td>rc.get.df.data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>rc.get.df.data</h2>

<h3>Description</h3>

<p>extractor for dataframe input in preparation for normalization and clustering
</p>


<h3>Usage</h3>

<pre><code class="language-R">rc.get.df.data(
  ms1_featureDefinitions = NULL,
  ms1_featureValues = NULL,
  ms2_featureDefinitions = NULL,
  ms2_featureValues = NULL,
  phenoData = NULL,
  ExpDes = NULL,
  featureNamesColumnIndex = 1,
  st = NULL,
  ensure.no.na = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ms1_featureDefinitions</code></td>
<td>
<p>dataframe with metadata with columns: mz, rt, feature names containing MS data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ms1_featureValues</code></td>
<td>
<p>dataframe with rownames = sample names, colnames = feature names containing MS data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ms2_featureDefinitions</code></td>
<td>
<p>dataframe with metadata with columns: mz, rt, feature names containing MSMS data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ms2_featureValues</code></td>
<td>
<p>dataframe with rownames = sample names, colnames = feature names containing MSMS data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phenoData</code></td>
<td>
<p>dataframe containing phenoData</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ExpDes</code></td>
<td>
<p>either an R object created by R ExpDes object: data used for record keeping and labelling msp spectral output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>featureNamesColumnIndex</code></td>
<td>
<p>integer: which column in 'ms1_featureDefinitions' contains feature names?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>st</code></td>
<td>
<p>numeric: sigma t - time similarity decay value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ensure.no.na</code></td>
<td>
<p>logical: if TRUE, any 'NA' values in msint and/or msmsint are replaced with numerical values based on 10 percent of feature min plus noise.  Used to ensure that spectra are not written with NA values.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function creates a ramclustObj which will be used as input for clustering.
</p>


<h3>Value</h3>

<p>an empty ramclustR object.  this object is formatted as an hclust object with additional slots for holding feature and compound data. details on these found below.
</p>
<p>$frt: feature retention time, in whatever units were fed in
</p>
<p>$fmz: feature retention time, reported in number of decimal points selected in ramclustR function
</p>
<p>$ExpDes: the experimental design object used when running ramclustR.  List of two dataframes.
</p>
<p>$MSdata:  the MSdataset provided by either xcms or csv input
</p>
<p>$MSMSdata: the (optional) DIA(MSe, MSall, AIF etc) dataset
</p>
<p>$xcmsOrd: original xcms order of features, for back-referencing when necessary
</p>
<p>$msint: weighted.mean intensity of feature in ms level data
</p>
<p>$msmsint:weighted.mean intensity of feature in msms level data
</p>


<h3>Author(s)</h3>

<p>Zargham Ahmad, Helge Hecht, Corey Broeckling
</p>


<h3>References</h3>

<p>Broeckling CD, Afsar FA, Neumann S, Ben-Hur A, Prenni JE. RAMClust: a novel feature clustering method enables spectral-matching-based annotation for metabolomics data. Anal Chem. 2014 Jul 15;86(14):6812-7. doi: 10.1021/ac501530d.  Epub 2014 Jun 26. PubMed PMID: 24927477.
</p>
<p>Broeckling CD, Ganna A, Layer M, Brown K, Sutton B, Ingelsson E, Peers G, Prenni JE. Enabling Efficient and Confident Annotation of LC-MS Metabolomics Data through MS1 Spectrum and Time Prediction. Anal Chem. 2016 Sep 20;88(18):9226-34. doi: 10.1021/acs.analchem.6b02479. Epub 2016 Sep 8. PubMed PMID: 7560453.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Choose dataframe with metadata with columns: mz, rt, feature names containing MS data
## Choose dataframe with rownames = sample names, colnames = feature names containing MS data
## Choose dataframe containing phenoData 
df1 &lt;- readRDS(system.file("extdata", "featDefinition.rds", package = "RAMClustR", mustWork = TRUE))
df2 &lt;- readRDS(system.file("extdata", "featValues.rds", package = "RAMClustR", mustWork = TRUE))
df3 &lt;- readRDS(system.file("extdata", "phenoData_df.rds", package = "RAMClustR", mustWork = TRUE))

ramclustr &lt;- rc.get.df.data(ms1_featureDefinitions=df1, ms1_featureValues=df2, phenoData=df3, st=5)

</code></pre>


</div>