<div class="container">

<table style="width: 100%;"><tr>
<td>setse</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Basic SETSe embedding</h2>

<h3>Description</h3>

<p>Embeds/smooths a feature network using the basic SETSe algorithm. generally setse_auto or setse_bicomp is preferred.
</p>


<h3>Usage</h3>

<pre><code class="language-R">setse(
  g,
  force = "force",
  distance = "distance",
  edge_name = "edge_name",
  k = "k",
  tstep = 0.02,
  mass = 1,
  max_iter = 20000,
  coef_drag = 1,
  tol = 1e-06,
  sparse = FALSE,
  two_node_solution = TRUE,
  sample = 1,
  static_limit = NULL,
  noisy_termination = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>g</code></td>
<td>
<p>An igraph object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force</code></td>
<td>
<p>A character string. This is the node attribute that contains the force the nodes exert on the network.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance</code></td>
<td>
<p>A character string. The edge attribute that contains the original/horizontal distance between nodes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edge_name</code></td>
<td>
<p>A character string. This is the edge attribute that contains the edge_name of the edges.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>A character string. This is k for the moment don't change it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tstep</code></td>
<td>
<p>A numeric. The time interval used to iterate through the network dynamics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mass</code></td>
<td>
<p>A numeric. This is the mass constant of the nodes in normalised networks this is set to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_iter</code></td>
<td>
<p>An integer. The maximum number of iterations before stopping. Larger networks usually need more iterations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef_drag</code></td>
<td>
<p>A numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>A numeric. The tolerance factor for early stopping.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sparse</code></td>
<td>
<p>Logical. Whether or not the function should be run using sparse matrices. must match the actual matrix, this could prob be automated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>two_node_solution</code></td>
<td>
<p>Logical. The Newton-Raphson algo is used to find the correct angle</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample</code></td>
<td>
<p>Integer. The dynamics will be stored only if the iteration number is a multiple of the sample. 
This can greatly reduce the size of the results file for large numbers of iterations. Must be a multiple of the max_iter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>static_limit</code></td>
<td>
<p>Numeric. The maximum value the static force can reach before the algorithm terminates early. This
prevents calculation in a diverging system. The value should be set to some multiple greater than one of the force in the system.
If left blank the static limit is twice the system absolute mean force.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noisy_termination</code></td>
<td>
<p>Stop the process if the static force does not monotonically decrease.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is the basic SETS embeddings algorithm, it outputs all elements of the embeddings as well as convergence dynamics. It is a
wrapper around the core SETS algorithm which requires data preparation and only produces node embeddings and network dynamics. 
There is little reason to use this function as <code>setse_auto</code> and <code>setse_bicomp</code> 
are faster and easier to use.
</p>


<h3>Value</h3>

<p>A list containing 4 dataframes.
</p>

<ol>
<li>
<p> The network dynamics describing several key figures of the network during the convergence process, this includes the static_force.
</p>
</li>
<li>
<p> The node embeddings. Includes all data on the nodes the forces exerted on them position and dynamics at simulation termination.
</p>
</li>
<li>
<p> time taken. the amount of time taken per component, includes the number of edges and nodes.
</p>
</li>
<li>
<p> The edge embeddings. Includes all data on the edges as well as the strain and tension values.
</p>
</li>
</ol>
<h3>See Also</h3>

<p>Other setse: 
<code>setse_auto_hd()</code>,
<code>setse_auto()</code>,
<code>setse_bicomp()</code>,
<code>setse_expanded()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(234) #set the random see for generating the network
g &lt;- generate_peels_network(type = "E")
embeddings &lt;- g %&gt;%
prepare_edges(k = 500, distance = 1) %&gt;%
#prepare the network for a binary embedding
prepare_categorical_force(., node_names = "name",
                     force_var = "class") %&gt;%
#embed the network using auto_setse
  setse(., force = "class_A")
</code></pre>


</div>