<div class="container">

<table style="width: 100%;"><tr>
<td>reviewInvalidRecords</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Review Invalid Records Following Field Validation</h2>

<h3>Description</h3>

<p>This function retrieves a summary of data elements that
failed validation during field validation and casting.
</p>


<h3>Usage</h3>

<pre><code class="language-R">reviewInvalidRecords(data, quiet = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>data.frame</code>. The result of a function that performed
field validation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p><code>logical(1)</code>. When <code>TRUE</code>, a message will be printed
if the <code>invalid</code> attribute is not found on <code>data</code>. Otherwise,
the message is suppressed.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When discussing field validation and invalid data, it is helpful to
establish the following terminology:
</p>
<p>A <em>Records data frame</em> is a data frame returned by a function
where the fields (columns) in the data frame have been cast for
subsequent analysis.
</p>
<p>Some casting function also perform field validation and return an
<em>Invalid data frame</em>, which is a listing of data elements that
have failed validation. The Invalid data frame is attached as an
attribute to the Records data frame. If no data elements fail the
validation, the Invalid data frame will have zero rows. If at least
one data element fails validation, a warning is printed to notify
the user so that the user may review the Invalid data frame and
mitigate the failed validations.
</p>
<p>The Invalid data frame has an additional class (<code>c("invalid", "data.frame")</code>)
and comes with a print method. The <code>print.invalid</code> method displays the
content of the Invalid data frame neatly in both the console
and within reports utilizing markdown.
</p>


<h3>Value</h3>

<p>If <code>data</code> has the <code>"invalid"</code> attribute, an object with class
<code>c("invalid", "data.frame")</code> is returned. (<code>NULL</code> will be returned if
<code>data</code> does not have the attribute).
</p>
<p>The colums in the Invalid data frame are</p>

<table>
<tr>
<td style="text-align: left;">
    </td>
<td style="text-align: left;">  </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>row</code> </td>
<td style="text-align: left;"> The row number from the Records data frame for which validation failed. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>record_id</code> </td>
<td style="text-align: left;"> The record ID for the failed validation. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>field_name</code> </td>
<td style="text-align: left;"> The field name (column) of the failed validation. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>field_type</code> </td>
<td style="text-align: left;"> The field type of the failed validation. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>value</code> </td>
<td style="text-align: left;"> The original value that failed validation. It will be replaced with <code>NA</code> in the Records data. </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>The Invalid data frame has additional attributes
</p>

<ul>
<li> <p><code>time</code> - The date/time at which the validation was performed.
</p>
</li>
<li> <p><code>version</code> - The REDCap version number (as retrieved by <code>exportVersion</code>).
</p>
</li>
<li> <p><code>project</code> - The title of the REDCap project (as retrieved by <code>exportProjectInformation</code>).
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>exportRecordsTyped()</code>, <br><code>exportReportsTyped()</code>, <br><code>castForImport()</code>, <br><code>guessCast()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
unlockREDCap(connections = c(rcon = "project_alias"), 
             url = "your_redcap_url", 
             keyring = "API_KEYs", 
             envir = globalenv())
             
# Review the Invalid data frame after export
Records &lt;- exportRecordsTyped(rcon)
reviewInvalidRecords(Records)



# Review Invalid data frame before import
Records &lt;- castForImport(rcon)
reviewInvalidRecords(Records)



# Access the Invalid data frame the attributes
Records &lt;- exportRecordsTyped(rcon)
attr(Records, "invalid")
attributes(Records)$invalid

## End(Not run)

</code></pre>


</div>