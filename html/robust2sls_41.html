<div class="container">

<table style="width: 100%;"><tr>
<td>selection_iis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create selection (non-outlying) vector from IIS model</h2>

<h3>Description</h3>

<p><code>selection_iis</code> uses the data and isat model object to create a list
with five elements that are used to determine whether the observations are
judged as outliers or not.
</p>


<h3>Usage</h3>

<pre><code class="language-R">selection_iis(x, data, yvar, complete, rownames_orig, refmodel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>ivisat</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A dataframe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yvar</code></td>
<td>
<p>A character vector of length 1 that refers to the name of the
dependent variable in the data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>complete</code></td>
<td>
<p>A logical vector with the same length as the number of
observations in the data set that specifies whether an observation has any
missing values in any of y, x, or z variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rownames_orig</code></td>
<td>
<p>A character vector storing the original rownames of the
dataframe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refmodel</code></td>
<td>
<p>A model object that will be stored in <code>$model</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with five elements. The first four are vectors whose length
equals the number of observations in the data set. Unlike the residuals
stored in a model object (usually accessible via <code>model$residuals</code>), it
does not ignore observations where any of y, x or z are missing. It instead
sets their values to <code>NA</code>.
</p>
<p>The first element is a double vector containing the residuals for each
observation based on the model estimates. The second element contains the
standardised residuals, the third one a logical vector with <code>TRUE</code> if
the observation is judged as not outlying, <code>FALSE</code> if it is an outlier,
and <code>NA</code> if any of y, x, or z are missing. The fourth element of the
list is an integer vector with three values: 0 if the observations is judged
to be an outlier, 1 if not, and -1 if missing. The fifth and last element
stores the <code>ivreg</code> model object based on which the four
vectors were calculated.
</p>


<h3>Note</h3>

<p>IIS runs multiple models, similar to <code>saturated_init</code> but with
multiple block search. These intermediate models are not recorded. For
simplicity, the element <code>$model</code> of the returned list stores the full
sample model result, identical to <code>robustified_init</code>.
</p>


<h3>Warning</h3>

<p>Unlike the residuals stored in a model object (usually accessible via
<code>model$residuals</code>), this function returns vectors of the same length as
the original data set even if any of the y, x, or z variables are missing.
The residuals for those observations are set to <code>NA</code>.
</p>


</div>