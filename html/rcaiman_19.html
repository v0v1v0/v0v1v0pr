<div class="container">

<table style="width: 100%;"><tr>
<td>extract_feature</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract feature</h2>

<h3>Description</h3>

<p>Extract features from raster images.
</p>


<h3>Usage</h3>

<pre><code class="language-R">extract_feature(
  r,
  segmentation,
  fun = mean,
  return_raster = TRUE,
  ignore_label_0 = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>SpatRaster. Single layer raster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>segmentation</code></td>
<td>
<p>SpatRaster. The segmentation of <code>r</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>A <code>function</code> that takes a vector as input and returns a
one-length numeric or logical vector as output (e.g. mean).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_raster</code></td>
<td>
<p>Logical vector of length one, see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore_label_0</code></td>
<td>
<p>Logical vector of length one. If this is <code>TRUE</code>,
the segment labeled with <code>0</code> will be ignored.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Given a single-layer raster, a segmentation, and a function,
<code>extract_features</code> will return a numeric vector or a SpatRaster
depending on whether the parameter <code>return_raster</code> is <code>TRUE</code> or <code>FALSE</code>. For
the first case, each pixel of each segment will adopt the respective
extracted feature value. For the second case, the return will be a vector of
length equal to the total number of segments. Each value will be obtained by
processing all pixels that belong to a segment with the provided function.
</p>


<h3>Value</h3>

<p>If <code>return_raster</code> is set to <code>TRUE</code>, then an object of
class SpatRaster with the same pixel dimensions than <code>r</code>
will be returned. Otherwise, the return is a numeric vector of length equal
to the number of segments found in <code>segmentation</code>.
</p>


<h3>See Also</h3>

<p>Other Tool Functions: 
<code>colorfulness()</code>,
<code>correct_vignetting()</code>,
<code>defuzzify()</code>,
<code>extract_dn()</code>,
<code>extract_rl()</code>,
<code>extract_sky_points_simple()</code>,
<code>extract_sky_points()</code>,
<code>extract_sun_coord()</code>,
<code>find_sky_pixels_nonnull()</code>,
<code>find_sky_pixels()</code>,
<code>masking()</code>,
<code>optim_normalize()</code>,
<code>percentage_of_clipped_highlights()</code>,
<code>read_bin()</code>,
<code>read_caim_raw()</code>,
<code>read_caim()</code>,
<code>write_bin()</code>,
<code>write_caim()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">r &lt;- read_caim()
z &lt;- zenith_image(ncol(r),lens())
a &lt;- azimuth_image(z)
g &lt;- sky_grid_segmentation(z, a, 10)
print(extract_feature(r$Blue, g, return_raster = FALSE))
# plot(extract_feature(r$Blue, g, return_raster = TRUE))
</code></pre>


</div>