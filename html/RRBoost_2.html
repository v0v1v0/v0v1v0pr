<div class="container">

<table style="width: 100%;"><tr>
<td>Boost</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Robust Boosting for regression</h2>

<h3>Description</h3>

<p>This function implements the RRBoost robust boosting algorithm for regression,
as well as other robust and non-robust boosting algorithms for regression.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Boost(
  x_train,
  y_train,
  x_val,
  y_val,
  x_test,
  y_test,
  type = "RRBoost",
  error = c("rmse", "aad"),
  niter = 200,
  y_init = "LADTree",
  max_depth = 1,
  tree_init_provided = NULL,
  control = Boost.control()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x_train</code></td>
<td>
<p>predictor matrix for training data (matrix/dataframe)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_train</code></td>
<td>
<p>response vector for training data (vector/dataframe)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_val</code></td>
<td>
<p>predictor matrix for validation data (matrix/dataframe)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_val</code></td>
<td>
<p>response vector for validation data (vector/dataframe)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_test</code></td>
<td>
<p>predictor matrix for test data (matrix/dataframe, optional, required when <code>make_prediction</code> in control is <code>TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_test</code></td>
<td>
<p>response vector for test data (vector/dataframe, optional, required when <code>make_prediction</code> in control is <code>TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of the boosting method: "L2Boost", "LADBoost", "MBoost", "Robloss", "SBoost", "RRBoost" (character string)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error</code></td>
<td>
<p>a character string (or vector of character strings) indicating the type of error metrics to be evaluated on the test set. Valid options are: "rmse" (root mean squared error), "aad" (average absolute deviation), and "trmse" (trimmed root mean squared error)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>niter</code></td>
<td>
<p>number of boosting iterations (for RRBoost: T_1,max + T_2,max) (numeric)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_init</code></td>
<td>
<p>a string indicating the initial estimator to be used. Valid options are: "median" or "LADTree" (character string)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_depth</code></td>
<td>
<p>the maximum depth of the tree learners (numeric)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tree_init_provided</code></td>
<td>
<p>an optional pre-fitted initial tree (an <code>rpart</code> object)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>a named list of control parameters, as returned by <code>Boost.control</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function implements a robust boosting algorithm for regression (RRBoost).
It  also includes the following robust and non-robust boosting algorithms
for regression: L2Boost, LADBoost, MBoost, Robloss, and SBoost. This function
uses the functions available in the <code>rpart</code> package to construct binary regression trees.
</p>


<h3>Value</h3>

<p>A list with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>which boosting algorithm was run. One of: "L2Boost", "LADBoost", "MBoost", "Robloss", "SBoost", "RRBoost" (character string)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>the list of control parameters used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>niter</code></td>
<td>
<p>number of iterations for the boosting algorithm (for RRBoost T_1,max + T_2,max) (numeric)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error</code></td>
<td>
<p>if <code>make_prediction = TRUE</code> in argument <code>control</code>, a vector of prediction errors evaluated on the test set at early stopping time. The length of the vector matches that of the <code>error</code> argument in the input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tree_init</code></td>
<td>
<p>if <code>y_init = "LADTree"</code>, the initial tree (an object of class <code>rpart</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tree_list</code></td>
<td>
<p>if <code>save_tree = TRUE</code> in <code>control</code>, a list of trees fitted at each boosting iteration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_train_init</code></td>
<td>
<p>a vector of the initialized estimator of the training data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>a vector of base learners' coefficients</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>early_stop_idx</code></td>
<td>
<p>early stopping iteration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>when_init</code></td>
<td>
<p>if <code>type = "RRBoost"</code>, the early stopping time of the first stage of RRBoost</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loss_train</code></td>
<td>
<p>a vector of training loss values (one per iteration)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loss_val</code></td>
<td>
<p>a vector of validation loss values (one per iteration)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>err_val</code></td>
<td>
<p>a vector of validation aad errors (one per iteration)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>err_train</code></td>
<td>
<p>a vector of training aad errors (one  per iteration)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>err_test</code></td>
<td>
<p>a matrix of test errors before and at the early stopping iteration (returned if make_prediction = TRUE in control); the matrix dimension is the early stopping iteration by the number of error types (matches the <code>error</code> argument in the input); each row corresponds to the test errors at each iteration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_train</code></td>
<td>
<p>a matrix of training function estimates at all iterations (returned if save_f = TRUE in control); each column corresponds to the fitted values of the predictor at each iteration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_val</code></td>
<td>
<p>a matrix of validation function estimates at all iterations (returned if save_f = TRUE in control); each column corresponds to the fitted values of the predictor at each iteration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_test</code></td>
<td>
<p>a matrix of test function estimatesbefore and at the early stopping iteration (returned if save_f = TRUE and make_prediction = TRUE in control); each column corresponds to the fitted values of the predictor at each iteration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_select</code></td>
<td>
<p>a vector of variable selection indicators (one  per explanatory variable; 1 if the variable was selected by at least one of the base learners, and 0 otherwise)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_importance</code></td>
<td>
<p> a vector of permutation variable importance scores (one per explanatory variable, and returned if cal_imp = TRUE in control)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Xiaomeng Ju, <a href="mailto:xmengju@stat.ubc.ca">xmengju@stat.ubc.ca</a>
</p>


<h3>See Also</h3>

<p><code>Boost.validation</code>, <code>Boost.control</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(airfoil)
n &lt;- nrow(airfoil)
n0 &lt;- floor( 0.2 * n )
set.seed(123)
idx_test &lt;- sample(n, n0)
idx_train &lt;- sample((1:n)[-idx_test], floor( 0.6 * n ) )
idx_val &lt;- (1:n)[ -c(idx_test, idx_train) ]
xx &lt;- airfoil[, -6]
yy &lt;- airfoil$y
xtrain &lt;- xx[ idx_train, ]
ytrain &lt;- yy[ idx_train ]
xval &lt;- xx[ idx_val, ]
yval &lt;- yy[ idx_val ]
xtest &lt;- xx[ idx_test, ]
ytest &lt;- yy[ idx_test ]
model_RRBoost_LADTree = Boost(x_train = xtrain, y_train = ytrain,
    x_val = xval, y_val = yval, x_test = xtest, y_test = ytest,
    type = "RRBoost", error = "rmse", y_init = "LADTree",
    max_depth = 1, niter = 10, ## to keep the running time low
    control = Boost.control(max_depth_init = 2,
    min_leaf_size_init = 20, make_prediction =  TRUE,
    cal_imp = FALSE))

</code></pre>


</div>