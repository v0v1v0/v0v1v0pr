<div class="container">

<table style="width: 100%;"><tr>
<td>sdp_hydro</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stochastic Dynamic Programming for hydropower reservoirs</h2>

<h3>Description</h3>

<p>Determines the optimal policy of turbined releases to maximise the total energy produced by the reservoir. The policy can be based on season and storage level, or season, storage level, and current-period inflow.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sdp_hydro(Q, capacity, capacity_live = capacity, surface_area, max_depth,
  evap, installed_cap, head, qmax, efficiency = 0.9, S_disc = 1000,
  R_disc = 10, Q_disc = c(0, 0.2375, 0.475, 0.7125, 0.95, 1),
  S_initial = 1, plot = TRUE, tol = 0.99, Markov = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Q</code></td>
<td>
<p>time series object. Net inflows to the reservoir. Must be in volumetric units of Mm^3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>capacity</code></td>
<td>
<p>numerical. The total reservoir storage capacity (including unusable "dead" storage). Must be in Mm^3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>capacity_live</code></td>
<td>
<p>numerical. The volume of usable water in the reservoir ("live capacity" or "active storage"). capacity_live &lt;= capacity. Default capacity_live = capacity. Must be in Mm^3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>surface_area</code></td>
<td>
<p>numerical. The reservoir surface area at full capacity. Must be in square kilometers (km^2), or Mm^2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_depth</code></td>
<td>
<p>numerical. The maximum water depth of the reservoir at maximum capacity. If omitted, the depth-storage-area relationship will be estimated from surface area and capacity only. Recommended units: meters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>evap</code></td>
<td>
<p>vector or time series object of length Q, or a numerical constant, representing evaporation loss potential from reservoir surface. Varies with level if depth and surface_area parameters are specified. Must be in meters, or kg/m2 * 10 ^ -3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>installed_cap</code></td>
<td>
<p>numerical. The hydropower plant electric capacity (MW).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>head</code></td>
<td>
<p>numerical. The maximum hydraulic head of the hydropower plant (m). Can be omitted if qmax is supplied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qmax</code></td>
<td>
<p>numerical. The maximum flow into the hydropower plant. Can be omitted and estimated if head is supplied. Must be in volumetric units of Mm^3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>efficiency</code></td>
<td>
<p>numerical. The hydropower plant efficiency. Default is 0.9, but, unless user specifies an efficiency, it will be automatically re-estimated if head and qmax are supplied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S_disc</code></td>
<td>
<p>integer. Storage discretizationâ€“the number of equally-sized storage states. Default = 1000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R_disc</code></td>
<td>
<p>integer. Release discretization. Default = 10 divisions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q_disc</code></td>
<td>
<p>vector. Inflow discretization bounding quantiles. Defaults to five inflow classes bounded by quantile vector c(0.0, 0.2375, 0.4750, 0.7125, 0.95, 1.0).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S_initial</code></td>
<td>
<p>numeric. The initial storage as a ratio of capacity (0 &lt;= S_initial &lt;= 1). The default value is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical. If TRUE (the default) the storage behavior diagram and release time series are plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>numerical. The tolerance for policy convergence. The default value is 0.990.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Markov</code></td>
<td>
<p>logical. If TRUE the current period inflow is used as a hydrological state variable and inflow persistence is incorporated using a first-order, periodic Markov chain. The default is FALSE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns the optimal release policy, associated Bellman function, simulated storage, release, evaporation, depth, uncontrolled spill, and power generated, and total energy generated.
</p>


<h3>See Also</h3>

<p><code>dp_hydro</code> for deterministic Dynamic Programming for hydropower reservoirs.
</p>


<h3>Examples</h3>

<pre><code class="language-R">layout(1:4)
sdp_hydro(resX$Q_Mm3, resX$cap_Mm3, surface_area = resX$A_km2,
installed_cap = resX$Inst_cap_MW, qmax = mean(resX$Q_Mm3))
sdp_hydro(resX$Q_Mm3, resX$cap_Mm3, surface_area = resX$A_km2,
installed_cap = resX$Inst_cap_MW, qmax = mean(resX$Q_Mm3), Markov = TRUE)
</code></pre>


</div>