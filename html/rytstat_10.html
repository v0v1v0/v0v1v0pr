<div class="container">

<table style="width: 100%;"><tr>
<td>ryt_get_analytics</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get statistics from 'YouTube Analytics API'</h2>

<h3>Description</h3>

<p>The YouTube Analytics API enables you to generate custom reports containing YouTube Analytics data. The API supports reports for channels and for content owners.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ryt_get_analytics(
  start_date = Sys.Date() - 14,
  end_date = Sys.Date(),
  metrics = c("views", "estimatedMinutesWatched", "averageViewDuration",
    "averageViewPercentage", "subscribersGained"),
  dimensions = "day",
  filters = NULL,
  sort = NULL,
  max_results = NULL,
  start_index = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>start_date</code></td>
<td>
<p>The start date for fetching YouTube Analytics data. The value should be in YYYY-MM-DD format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end_date</code></td>
<td>
<p>The end date for fetching YouTube Analytics data. The value should be in YYYY-MM-DD format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metrics</code></td>
<td>
<p>Character vector of YouTube Analytics metrics, such as views or likes,dislikes. See the <a href="https://developers.google.com/youtube/analytics/channel_reports">documentation</a> for channel reports or a list of the reports that you can retrieve and the metrics available in each report. The <a href="https://developers.google.com/youtube/analytics/metrics">Metrics document</a> contains definitions for all of the metrics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimensions</code></td>
<td>
<p>Character vector of YouTube Analytics dimensions, such as video or ageGroup,gender. The <a href="https://developers.google.com/youtube/analytics/dimensions">Dimensions document</a> contains definitions for all of the dimensions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filters</code></td>
<td>
<p>Character vector of filters that should be applied when retrieving YouTube Analytics data. The <a href="https://developers.google.com/youtube/analytics/channel_reports">documentation</a> for channel reports reports identifies the dimensions that can be used to filter each report, and the <a href="https://developers.google.com/youtube/analytics/dimensions">Dimensions document</a> defines those dimensions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>Character vector of dimensions or metrics that determine the sort order for YouTube Analytics data. By default the sort order is ascending. The - prefix causes descending sort order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_results</code></td>
<td>
<p>The maximum number of rows to include in the response.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_index</code></td>
<td>
<p>The 1-based index of the first entity to retrieve. (The default value is 1.) Use this parameter as a pagination mechanism along with the max_results parameter.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>tibble with analytics data
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# auth
ryt_auth()

# get list of your videos
videos &lt;- ryt_get_videos()

# function for loading video stat
get_videos_stat &lt;- function(video_id) {

  data &lt;- ryt_get_analytics(
    metrics = c('views', 'likes', 'dislikes', 'comments', 'shares'),
    filters = stringr::str_glue('video=={video_id}')
  )

  if ( nrow(data) &gt; 0 ) {
    data &lt;- mutate(data, video_id = video_id)
}
}

# load video stat
video_stat &lt;- purrr::map_df(videos$id_video_id, get_videos_stat)

# join stat with video metadata
video_stat &lt;- left_join(video_stat,
                        videos,
                        by = c("video_id" = "id_video_id")) %&gt;%
              select(video_id,
                     title,
                     day,
                     views,
                     likes,
                     dislikes,
                     comments,
                     shares)

## End(Not run)
</code></pre>


</div>