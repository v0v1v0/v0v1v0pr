<div class="container">

<table style="width: 100%;"><tr>
<td>Rdo_locate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find positions of elements in an Rd object</h2>

<h3>Description</h3>

<p>Find positions of elements for which a function returns
TRUE. Optionally, apply another function to the selected elements and
return the results along with the positions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Rdo_locate(object, f = function(x) TRUE, pos_only = TRUE,
           lists = FALSE, fpos = NULL, nested = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an Rd object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>a function returning TRUE if an element is desired and FALSE
otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos_only</code></td>
<td>
<p>if TRUE, return only the positions; if this argument
is a function, return also the result of applying the function to
the selected element, see Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lists</code></td>
<td>
<p>if FALSE, examine only leaves, if TRUE, examine also
lists, see Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fpos</code></td>
<td>
<p>a function with two arguments, <code>object</code>
and position,  it is called and the value is returned along with the
position, see Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nested</code></td>
<td>
<p>a logical value, it has effect only when <code>lists</code> is
TRUE, see ‘Details’.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>With the default setting of <code>lists = FALSE</code>, the function
<code>f</code> is applied to each leave (a character string) of the Rd
object. If <code>lists = TRUE</code> the function <code>f</code> is applied also
to each branch (a list). In this case, argument <code>nested</code> controls
what happens when <code>f</code> returns TRUE. If <code>nested</code> is TRUE,
each element of the list is also inspected recursively, otherwise this
is not done and, effectively, the list is considered a leaf. If
<code>f</code> does not return TRUE, the value of <code>nested</code> has no
effect and the elements of the list are inspected.
</p>
<p>The position of each object for which <code>f</code> returns TRUE is
recorded as a numeric vector.
</p>
<p><code>fpos</code> and <code>pos_only</code> provide two ways to do something with
the selected elements.  Argument <code>fpos</code> is more powerful than
<code>pos_only</code> but the latter should be sufficient and simpler to use
in most cases.
</p>
<p>If <code>fpos</code> is a function, it is applied to each selected element
with two arguments, <code>object</code> and the position, and the result
returned along with the position. In this case argument
<code>pos_only</code> is ignored. If <code>fpos</code> is NULL the action depends
on <code>pos_only</code>.
</p>
<p>If <code>pos_only = TRUE</code>, <code>Rdo_locate</code> returns a list of such
vectors (not a matrix since the positions of the leaves are, in
general, at different depths).
</p>
<p>If <code>pos_only</code> is a function, it is applied to each selected
element and the result returned along with the position.
</p>


<h3>Value</h3>

<p>a list with one entry for each selected element. Each entry is a
numeric vector or a list with two elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>pos</code></td>
<td>
<p>the position, a vector of positive integers,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>the result of applying the function to the element at
<code>pos</code>.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>The following needs additional thought.
</p>
<p>In some circumstances an empty list, tagged with <code>Rd_tag</code> may
turn up, e.g. <code>list()</code> with <code style="white-space: pre;">⁠Rd_tag="\dots"⁠</code> in an
<code style="white-space: pre;">⁠\arguments⁠</code> section.
</p>
<p>On the one hand this is a list. On the other hand it may be considered
a leaf. It is not clear if any attempt to recurse into such a list
should be made at all.
</p>


<h3>Author(s)</h3>

<p>Georgi N. Boshnakov</p>


<h3>See Also</h3>

<p><code>Rdo_sections</code> and
<code>Rdo_locate_core_section</code>
which locate top level sections
</p>


<h3>Examples</h3>

<pre><code class="language-R"># todo: put examples here!
</code></pre>


</div>