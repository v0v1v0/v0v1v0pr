<div class="container">

<table style="width: 100%;"><tr>
<td>mpm_mean</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate a mean over a list of matrices or CompadreMat objects</h2>

<h3>Description</h3>

<p>Calculates an element-wise mean over a list of matrices or CompadreMat
objects of constant dimension. 
</p>
<p>The difference between function <code>mat_mean</code>) and (<code>mpm_mean</code> is that
<code>mat_mean</code> takes input as a list of matrices (e.g., a list of **A**
matrices) while <code>mat_mean</code> takes input as a list of 'CompadreMat' objects and
thus calculates the mean matrices for both the **A** matrix and its
submatrices (**U**, **F**, **C**).
</p>


<h3>Usage</h3>

<pre><code class="language-R">mat_mean(x, na.rm = FALSE)

mpm_mean(x, na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A list of matrices or, for <code>mpm_mean</code> a list of 'CompadreMat' objects,
all of the same dimension</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>Logical indicating whether missing values should be excluded
(see <em>Details</em>). Defaults to <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>na.rm == TRUE</code>, missing values are ignored in the calculation of the
mean matrix. If <code>na.rm == TRUE</code> and a given element is <code>NA</code> in
<em>every</em> matrix within <code>x</code>, the value returned for that element will
be <code>0</code>.
</p>


<h3>Value</h3>

<p>A matrix (<code>mat_mean</code>) or a CompadreMat object (<code>mpm_mean</code>).
</p>


<h3>Author(s)</h3>

<p>Patrick Barks &lt;patrick.barks@gmail.com&gt;
</p>
<p>Owen R. Jones &lt;jones@biology.sdu.dk&gt;
</p>


<h3>See Also</h3>

<p>Other data management: 
<code>cdb_flatten()</code>,
<code>cdb_id_stages()</code>,
<code>cdb_id_studies()</code>,
<code>cdb_id()</code>,
<code>cdb_mean_matF()</code>,
<code>cdb_rbind()</code>,
<code>cdb_unflatten()</code>,
<code>cdb_unnest()</code>,
<code>mpm_median()</code>,
<code>mpm_sd()</code>,
<code>string_representation</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># there are four rows for species 'Haplopappus_radiatus' in Compadre
mpms &lt;- Compadre$mat[Compadre$SpeciesAuthor == "Haplopappus_radiatus"]

#The object mpms is a list, containing compadre objects
class(mpms)
class(mpms[[1]])

mpm_mean(mpms)

# extract list of matA and take mean
mats &lt;- matA(mpms)
mat_mean(mats)
</code></pre>


</div>