<div class="container">

<table style="width: 100%;"><tr>
<td>build_model_q</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Incremental block modelling.</h2>

<h3>Description</h3>

<p><code>build_model_q</code> allows you to incrementally add terms to a linear
regression model. Given a list of names of variables at each step, this
function will run a series of models, adding the terms for each block
incrementally to "build up" to a final model including all the terms.
</p>


<h3>Usage</h3>

<pre><code class="language-R">build_model_q(dv, blocks = NULL, data = NULL, opts = NULL, model = "lm")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dv</code></td>
<td>
<p>String of the variable name to be used as the dependent variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blocks</code></td>
<td>
<p>List of variable names (or interaction terms) to add for each
block. Each list element should be a single string with terms for that
block. Variables from previous blocks will be included with each subsequent
block, so they do not need to be repeated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An optional data frame containing the variables in the model. If
not found in <code>data</code>, the variables are taken from the environment from
which the function is called.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opts</code></td>
<td>
<p>List of arguments to be passed to the model function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>The type of model to use; supports 'lm', 'aov', and 'glm'.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that in most cases it is easier to use <code>build_model</code> and
pass variable names in directly instead of strings of variable names.
<code>build_model_q</code> uses standard evaluation in cases where such evaluation
is easier.
</p>
<p><strong>Note:</strong> Cases with missing data are dropped based on the <em>final</em>
model that includes all the relevant terms. This ensures that all the models
are tested on the same number of cases.
</p>


<h3>Value</h3>

<p>A named list with the following elements:
</p>

<table>
<tr>
<td style="text-align: left;">
  <code>formulas</code> </td>
<td style="text-align: left;"> A list of the regression formulas used for each block.
  </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>models</code> </td>
<td style="text-align: left;"> A list of all regression models.</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>build_model</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># 2 blocks: Petal.Length; Petal.Length + Petal.Width
model1 &lt;- build_model_q('Sepal.Length', list('Petal.Length + Petal.Width'),
    data=iris, model='lm')
summary(model1)
coef(model1)

# 2 blocks: Species; Species + Petal.Length + Petal.Width + Petal.Length:Petal.Width
model2 &lt;- build_model_q('Sepal.Length', list('Species', 'Species + Petal.Length * Petal.Width'),
    data=iris, model='lm')
summary(model2)
coef(model2)
</code></pre>


</div>