<div class="container">

<table style="width: 100%;"><tr>
<td>map_column_values</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Remap values in a set of columns.</h2>

<h3>Description</h3>

<p>Remap values in a set of columns.
</p>


<h3>Usage</h3>

<pre><code class="language-R">map_column_values(source, colmap, ..., null_default = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>source</code></td>
<td>
<p>optree relop node or data.frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colmap</code></td>
<td>
<p>data.frame with columns column_name, old_value, new_value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>force later arguments to bind by name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>null_default</code></td>
<td>
<p>logical, if TRUE map non-matching values to NULL (else they map to self).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>implementing optree or altered data.frame
</p>


<h3>Examples</h3>

<pre><code class="language-R">
if (requireNamespace("DBI", quietly = TRUE) &amp;&amp; requireNamespace("RSQLite", quietly = TRUE)) {
  my_db &lt;- DBI::dbConnect(RSQLite::SQLite(),
                          ":memory:")

  d &lt;- rq_copy_to(my_db, 'd',
                   data.frame(a = c("1", "2", "1", "3"),
                              b = c("1", "1", "3", "2"),
                              c = c("1", "2", "3", "4"),
                              stringsAsFactors = FALSE),
                   temporary = TRUE,
                   overwrite = TRUE)
  mp &lt;- build_frame(
      "column_name", "old_value", "new_value" |
      "a"          , "1"        , "10"        |
      "a"          , "2"        , "20"        |
      "b"          , "1"        , "100"       |
      "b"          , "3"        , "300"       )

  # example
  op_tree &lt;- d %.&gt;%
    map_column_values(., mp)
  cat(format(op_tree))
  sql &lt;- to_sql(op_tree, my_db)
  cat(sql)
  print(DBI::dbGetQuery(my_db, sql))

  # cleanup
  DBI::dbDisconnect(my_db)
}

</code></pre>


</div>