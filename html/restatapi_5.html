<div class="container">

<table style="width: 100%;"><tr>
<td>extract_dsd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract the Data Structure Definition content from SDMX XML</h2>

<h3>Description</h3>

<p>Extracts values from the XML Data Structure Definition (DSD) file
</p>


<h3>Usage</h3>

<pre><code class="language-R">extract_dsd(concept = NULL, dsd_xml = NULL, lang = "en")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>concept</code></td>
<td>
<p>a character vector with a concept id</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dsd_xml</code></td>
<td>
<p>an XML file with DSD content</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lang</code></td>
<td>
<p>a character string either <code>en</code>, <code>de</code> or <code>fr</code> to define the language version for the name column 
of the DSD. It is used only in the new API. The default is <code>en</code> - English.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It is a sub-function to use in the <code>get_eurostat_dsd</code> function.
</p>


<h3>Value</h3>

<p>a matrix with 3 columns if the provided <code>concept</code> has a code list in the DSD file. The first column is the provided <code>concept</code>. The second column 
is the possible codes under the given <code>concept</code>. The last column is the name/description for the code in the second column, which can be used as labels.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

id&lt;-"med_rd6"
cfg&lt;-get("cfg",envir=restatapi::.restatapi_env)
rav&lt;-get("rav",envir=restatapi::.restatapi_env)
dsd_url &lt;- paste0(eval(
     parse(text=paste0("cfg$QUERY_BASE_URL$'",rav,"'$ESTAT$metadata$'2.1'$datastructure"))
   ),"/",eval(
     parse(text=paste0("cfg$QUERY_PRIOR_ID$'",rav,"'$ESTAT$metadata"))
   ),id,"?",eval(
     parse(text=paste0("cfg$QUERY_PARAMETERS$'",rav,"'$metadata[2]"))
   ),"=",eval(
     parse(text=paste0("cfg$DATAFLOW_REFERENCES$'",rav,"'$datastructure[1]"))
   )
 )
if (!(grepl("amzn|-aws|-azure ",Sys.info()['release']))) options(timeout=2)
tryCatch({
  dsd_xml&lt;-xml2::read_xml(dsd_url)}, 
  error=function(e){
  message("Unable to download the xml file.\n",e)}, 
  warning=function(w){
  message("Unable to download the xml file.\n",w)}) 
if (exists("dsd_xml")) extract_dsd("FREQ",dsd_xml) 
options(timeout=60)

</code></pre>


</div>