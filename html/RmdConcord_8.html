<div class="container">

<table style="width: 100%;"><tr>
<td>processConcordance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Get the concordance from the "datapos" values and record it in
a file.
</h2>

<h3>Description</h3>

<p>Pandoc can record concordance information in
<code>datapos</code> attributes
when converting Commonmark documents to HTML.  This retrieves
that information, and rewrites it as standard R concordance
data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">processConcordance(filename, newfilename = filename,
                      rename = NULL,
                      followConcordance = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>

<p>The filename of the HTML file produced by Pandoc.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newfilename</code></td>
<td>

<p>A filename in which to write the changed data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rename</code></td>
<td>

<p>A named character vector.  Names are the names in the <code>datapos</code>
attributes; values are the names that should be included in the
concordance instead. This might be used since <span class="pkg">knitr</span> produces a
Markdown file and renames it later.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>followConcordance</code></td>
<td>

<p>If <code>filename</code> already contains concordance data, assume
that the Rmd file was produced automatically, and chain the
concordances.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Called for the side effect of rewriting the concordance, it returns
<code>newfilename</code> invisibly.
</p>


<h3>Author(s)</h3>

<p>Duncan Murdoch
</p>


<h3>Examples</h3>

<pre><code class="language-R"># This example works on the file inst/sample/Sample.Rmd,
# which should be a copy of the vignette Sample.Rmd.  This
# is convenient because RStudio doesn't install vignettes by default.

# First, see the results without concordances:

library(RmdConcord)
dir &lt;- tempdir()
intermediates &lt;- tempfile()

infile &lt;- system.file("sample/Sample.Rmd", package = "RmdConcord")
outfile1 &lt;- file.path(dir, "html_vignette.html")

rmarkdown::render(infile,
                  intermediates_dir = intermediates,
                  output_file = outfile1,
                  quiet = TRUE)
tidy_validate(outfile1)

# Next, see them with concordances by setting
# the output format to use RmdConcord::html_documentC
# which post-processes the document with processConcordance.

dir &lt;- tempdir()
outfile2 &lt;- file.path(dir, "commonmark.html")
rmarkdown::render(infile,
                  intermediates_dir = intermediates,
                  output_file = outfile2,
                  output_format = html_documentC(),
                  quiet = TRUE)
tidy_validate(outfile2)
unlink(c(intermediates, outfile1, outfile2), recursive = TRUE)
</code></pre>


</div>