<div class="container">

<table style="width: 100%;"><tr>
<td>design_filter_iir</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Design an 'IIR' filter</h2>

<h3>Description</h3>

<p>Design an 'IIR' filter
</p>


<h3>Usage</h3>

<pre><code class="language-R">design_filter_iir(
  method = c("butter", "cheby1", "cheby2", "ellip"),
  sample_rate,
  filter_order = NA,
  high_pass_freq = NA,
  high_pass_trans_freq = NA,
  low_pass_freq = NA,
  low_pass_trans_freq = NA,
  passband_ripple = 0.1,
  stopband_attenuation = 40
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>filter method name, choices are <code>"butter"</code>,
<code>"cheby1"</code>, <code>"cheby2"</code>, and <code>"ellip"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample_rate</code></td>
<td>
<p>sampling frequency</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter_order</code></td>
<td>
<p>suggested filter order. Notice filters with higher orders
may become numerically unstable, hence this number is only a suggested
number. If the filter is unstable, this function will choose a lower order;
leave this input <code>NA</code> (default) if undecided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>high_pass_freq</code></td>
<td>
<p>high-pass frequency; default is <code>NA</code> (no high-pass
filter will be applied)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>high_pass_trans_freq</code></td>
<td>
<p>high-pass frequency band-width; default
is automatically inferred from filter type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>low_pass_freq</code></td>
<td>
<p>low-pass frequency; default is <code>NA</code> (no
low-pass filter will be applied)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>low_pass_trans_freq</code></td>
<td>
<p>low-pass frequency band-width; default
is automatically inferred from filter type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>passband_ripple</code></td>
<td>
<p>allowable pass-band ripple in decibel; default is
<code>0.1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stopband_attenuation</code></td>
<td>
<p>minimum stop-band attenuation (in decibel) at
transition frequency; default is <code>40</code> dB.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A filter in 'Arma' form.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
sample_rate &lt;- 500

my_diagnose &lt;- function(
    filter, vlines = c(8, 12), cutoffs = c(-3, -6)) {
  diagnose_filter(
    b = filter$b,
    a = filter$a,
    fs = sample_rate,
    vlines = vlines,
    cutoffs = cutoffs
  )
}

# ---- Default using butterworth to generate 8-12 bandpass filter ----

# Butterworth filter with cut-off frequency
# 7 ~ 13 (default transition bandwidth is 1Hz) at -3 dB
filter &lt;- design_filter_iir(
  method = "butter",
  low_pass_freq = 12,
  high_pass_freq = 8,
  sample_rate = 500
)

filter

my_diagnose(filter)

## explicit bandwidths and attenuation (sharper transition)

# Butterworth filter with cut-off frequency
# passband ripple is 0.5 dB (8-12 Hz)
# stopband attenuation is 40 dB (5-18 Hz)
filter &lt;- design_filter_iir(
  method = "butter",
  low_pass_freq = 12, low_pass_trans_freq = 6,
  high_pass_freq = 8, high_pass_trans_freq = 3,
  sample_rate = 500,
  passband_ripple = 0.5,
  stopband_attenuation = 40
)

filter

my_diagnose(filter)

# ---- cheby1 --------------------------------

filter &lt;- design_filter_iir(
  method = "cheby1",
  low_pass_freq = 12,
  high_pass_freq = 8,
  sample_rate = 500
)

my_diagnose(filter)

# ---- cheby2 --------------------------------

filter &lt;- design_filter_iir(
  method = "cheby2",
  low_pass_freq = 12,
  high_pass_freq = 8,
  sample_rate = 500
)

my_diagnose(filter)

# ----- ellip ---------------------------------

filter &lt;- design_filter_iir(
  method = "ellip",
  low_pass_freq = 12,
  high_pass_freq = 8,
  sample_rate = 500
)

my_diagnose(filter)




</code></pre>


</div>