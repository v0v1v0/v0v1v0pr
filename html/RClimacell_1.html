<div class="container">

<table style="width: 100%;"><tr>
<td>climacell_celestial</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sunrise, Sunset, and Moon Phase Readings from Climacell</h2>

<h3>Description</h3>

<p>This function will make a call to the Climacell API and retrieve sunrise, sunset times and moon phase variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">climacell_celestial(
  api_key,
  lat,
  long,
  timestep = "1d",
  start_time = NULL,
  end_time = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>api_key</code></td>
<td>
<p>character string representing the private API key. Provided by user or loaded automatically from environment variable (environment variable must be called "CLIMACELL_API").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat</code></td>
<td>
<p>a numeric value (or a string that can be coerced to numeric) representing the latitude of the location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>long</code></td>
<td>
<p>a numeric value (or a string that can be coerced to numeric) representing the longitude of the location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timestep</code></td>
<td>
<p>a 'step' value for the time. For the <code>climacell_celestial</code> function, the only acceptable value (per the limitations of the Climacell API) is '1d'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_time</code></td>
<td>
<p>the start time of the query. This input must be a character string that can be parsed into a data/time or a date/time value. If the input does not contain a timezone, the value will be assumed to be in UTC. It is recommended that the <code>lubridate::now()</code> function or <code>Sys.time()</code> be used to define the start_time. For this function, the start_time cannot be less than 6 hours from the current time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end_time</code></td>
<td>
<p>the end time of the query. This input must be a character string that can be parsed into a data/time or a date/time value. If the input does not contain a timezone, the value will be assumed to be in UTC. For this function, the end_time cannot be greater than 15 days from the current date/time.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>climacell_celestial</code> returns a tibble that consists of sunrise/sunset times along with the moon phase (code &amp; description).
</p>


<h3>Value</h3>

<p>a tibble
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
climacell_celestial(
  api_key = Sys.getenv('CLIMACELL_API'),
  lat = 0,
  long = 0,
  timestep = '1d',
  start_time = lubridate::now(),
  end_time = lubridate::now() + lubridate::days(5))

## End(Not run)
</code></pre>


</div>