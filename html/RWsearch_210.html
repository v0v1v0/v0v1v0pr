<div class="container">

<table style="width: 100%;"><tr>
<td>p_vers</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Package Version and Number of Dependencies</h2>

<h3>Description</h3>

<p>The information displayed by <code>p_vers</code> depends on the availability of
<code>crandb</code> and <code>binarydb</code> in <code>.GlobalEnv</code>.
</p>
<p>If <code>crandb</code> is not loaded in <code>.GlobalEnv</code>, <code>p_vers</code> returns a
data.frame with two columns: first column <code>nsloaded</code> (TRUE/FALSE) detects
(with <code>base::isNamespaceLoaded</code>) if the package namespaces are loaded.
Second column <code>version</code> is the version number of the installed packages.
</p>
<p>If <code>crandb</code> is loaded in <code>.GlobalEnv</code>, three columns are added.
Column <code>crandb</code> displays the version number of the source packages recorded
in the <code>crandb</code> file. Column <code>gcc</code> displays the nedd for a compilation.
Column <code>compare</code> compares this version number with the version installed
on the computer. Possible values are:
-2 for a package not installed on the computer (NA) but available in crandb ;
-1 for an installed package older than the source package available in CRAN ;
0 for an installed package with the same version number than CRAN ;
+1 for a more recent package than the one available in CRAN ;
+2 for a package installed on the computer and not available in CRAN (NA) ;
+3 for a package not installed on the computer (NA) and not available in CRAN (NA).
</p>
<p>If <code>binarydb</code> is loaded in <code>.GlobalEnv</code>, two or three columns are added.
Column <code>binary</code> displays the version number of the binary packages recorded
in the <code>binarydb = available.packages, type = "binary")</code> matrix.
Column <code>difvb</code> compares the installed version on the computer with this
binary version and column <code>difbc</code> compares (if crandb is in <code>.GlobalEnv</code>)
the binary version with the source package available in CRAN (which can differ
for recently updated packages, a matter of 1 to 3 days).
The numbering is identical to the one used for <code>crandb</code>.
</p>
<p>If <code>ndeps = TRUE</code>, two more columns are added with the number
of recursive dependencies per package. Column <code>tdeps</code> includes the base
and recommended packages. Column <code>ndeps</code> does not count them. This option
can take some time. Set it to <code>FALSE</code> if you need speed.
</p>
<p><code>p_vers_deps</code> calculates the same information but includes the recursive
dependencies. Subsetting by <code>"compare &lt; 0"</code> returns a shorter data.frame
with the uninstalled (-2) and the outdated (-1) packages. Packages marked with
<code>nsloaded = TRUE</code> must be detached and unloaded before any reinstallation.
Using this instruction before running <code>install.packages</code> or <code>p_inst</code>
is very useful as it detects packages that are locked and cannot be reinstalled.
The order provided by <code>p_vers_deps</code> is the best one for the reinstallation
of outdated packages.
</p>


<h3>Usage</h3>

<pre><code class="language-R">p_vers(..., char = NULL, ndeps = TRUE)

p_vers_deps(..., char = NULL, ndeps = TRUE, subset = "compare &lt; 4",
  crandb = get("crandb", envir = .GlobalEnv))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>any format recognized by <code>cnsc</code>.
A (list of) vector of packages for <code>p_vers</code>.
A vector of packages for <code>p_vers_deps</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>char</code></td>
<td>
<p>(name to) a character vector. Use this argument if <code>...</code>
fails or if you call the function from another function.
If used, argument <code>...</code> is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndeps</code></td>
<td>
<p>logical. Calculate the number of recursive dependencies.
<code>crandb</code> in <code>.GlobalEnv</code> is required for this option.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>character. Subset the output data.frame on some columns.
The default <code>"compare &lt; 4"</code> does not subset. Usual values
are <code>"compare &lt; 0"</code> or <code>"compare &lt; 0 &amp;&amp; nsloaded == TRUE"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crandb</code></td>
<td>
<p>data.frame <code>crandb</code>. The data.frame of CRAN packages.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">pkgs &lt;- cnsc(RWsearch, MASS, Matrix, NotAPkg, R)
p_vers(pkgs)

## Now with crandb and binarydb loaded in .GlobalEnv. In real life, use:
## crandb_down() ; binarydb_down()
crandb_load(system.file("data", "zcrandb.rda", package = "RWsearch"))
binarydb_load(system.file("data", "zbinarydb.rda", package = "RWsearch"))

p_vers(pkgs)
p_vers(p_deps(pkgs))
p_vers_deps(pkgs)    # Dependencies can be visualized with p_graphF(pkgs)
p_vers(crandb$Package)

</code></pre>


</div>